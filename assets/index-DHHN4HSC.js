var vR=Object.defineProperty;var _R=(n,e,t)=>e in n?vR(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Gt=(n,e,t)=>_R(n,typeof e!="symbol"?e+"":e,t);function yR(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var DQ=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wR(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var i2={exports:{}},sp={},s2={exports:{}},Hn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a5;function bR(){if(a5)return Hn;a5=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),d=Symbol.iterator;function p(oe){return oe===null||typeof oe!="object"?null:(oe=d&&oe[d]||oe["@@iterator"],typeof oe=="function"?oe:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,x={};function g(oe,C,W){this.props=oe,this.context=C,this.refs=x,this.updater=W||m}g.prototype.isReactComponent={},g.prototype.setState=function(oe,C){if(typeof oe!="object"&&typeof oe!="function"&&oe!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,oe,C,"setState")},g.prototype.forceUpdate=function(oe){this.updater.enqueueForceUpdate(this,oe,"forceUpdate")};function y(){}y.prototype=g.prototype;function A(oe,C,W){this.props=oe,this.context=C,this.refs=x,this.updater=W||m}var E=A.prototype=new y;E.constructor=A,_(E,g.prototype),E.isPureReactComponent=!0;var M=Array.isArray,D=Object.prototype.hasOwnProperty,U={current:null},L={key:!0,ref:!0,__self:!0,__source:!0};function I(oe,C,W){var z,V={},ee=null,de=null;if(C!=null)for(z in C.ref!==void 0&&(de=C.ref),C.key!==void 0&&(ee=""+C.key),C)D.call(C,z)&&!L.hasOwnProperty(z)&&(V[z]=C[z]);var ve=arguments.length-2;if(ve===1)V.children=W;else if(1<ve){for(var we=Array(ve),Ce=0;Ce<ve;Ce++)we[Ce]=arguments[Ce+2];V.children=we}if(oe&&oe.defaultProps)for(z in ve=oe.defaultProps,ve)V[z]===void 0&&(V[z]=ve[z]);return{$$typeof:n,type:oe,key:ee,ref:de,props:V,_owner:U.current}}function R(oe,C){return{$$typeof:n,type:oe.type,key:C,ref:oe.ref,props:oe.props,_owner:oe._owner}}function O(oe){return typeof oe=="object"&&oe!==null&&oe.$$typeof===n}function N(oe){var C={"=":"=0",":":"=2"};return"$"+oe.replace(/[=:]/g,function(W){return C[W]})}var k=/\/+/g;function j(oe,C){return typeof oe=="object"&&oe!==null&&oe.key!=null?N(""+oe.key):C.toString(36)}function G(oe,C,W,z,V){var ee=typeof oe;(ee==="undefined"||ee==="boolean")&&(oe=null);var de=!1;if(oe===null)de=!0;else switch(ee){case"string":case"number":de=!0;break;case"object":switch(oe.$$typeof){case n:case e:de=!0}}if(de)return de=oe,V=V(de),oe=z===""?"."+j(de,0):z,M(V)?(W="",oe!=null&&(W=oe.replace(k,"$&/")+"/"),G(V,C,W,"",function(Ce){return Ce})):V!=null&&(O(V)&&(V=R(V,W+(!V.key||de&&de.key===V.key?"":(""+V.key).replace(k,"$&/")+"/")+oe)),C.push(V)),1;if(de=0,z=z===""?".":z+":",M(oe))for(var ve=0;ve<oe.length;ve++){ee=oe[ve];var we=z+j(ee,ve);de+=G(ee,C,W,we,V)}else if(we=p(oe),typeof we=="function")for(oe=we.call(oe),ve=0;!(ee=oe.next()).done;)ee=ee.value,we=z+j(ee,ve++),de+=G(ee,C,W,we,V);else if(ee==="object")throw C=String(oe),Error("Objects are not valid as a React child (found: "+(C==="[object Object]"?"object with keys {"+Object.keys(oe).join(", ")+"}":C)+"). If you meant to render a collection of children, use an array instead.");return de}function ae(oe,C,W){if(oe==null)return oe;var z=[],V=0;return G(oe,z,"","",function(ee){return C.call(W,ee,V++)}),z}function ie(oe){if(oe._status===-1){var C=oe._result;C=C(),C.then(function(W){(oe._status===0||oe._status===-1)&&(oe._status=1,oe._result=W)},function(W){(oe._status===0||oe._status===-1)&&(oe._status=2,oe._result=W)}),oe._status===-1&&(oe._status=0,oe._result=C)}if(oe._status===1)return oe._result.default;throw oe._result}var ue={current:null},J={transition:null},X={ReactCurrentDispatcher:ue,ReactCurrentBatchConfig:J,ReactCurrentOwner:U};function pe(){throw Error("act(...) is not supported in production builds of React.")}return Hn.Children={map:ae,forEach:function(oe,C,W){ae(oe,function(){C.apply(this,arguments)},W)},count:function(oe){var C=0;return ae(oe,function(){C++}),C},toArray:function(oe){return ae(oe,function(C){return C})||[]},only:function(oe){if(!O(oe))throw Error("React.Children.only expected to receive a single React element child.");return oe}},Hn.Component=g,Hn.Fragment=t,Hn.Profiler=i,Hn.PureComponent=A,Hn.StrictMode=r,Hn.Suspense=l,Hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X,Hn.act=pe,Hn.cloneElement=function(oe,C,W){if(oe==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+oe+".");var z=_({},oe.props),V=oe.key,ee=oe.ref,de=oe._owner;if(C!=null){if(C.ref!==void 0&&(ee=C.ref,de=U.current),C.key!==void 0&&(V=""+C.key),oe.type&&oe.type.defaultProps)var ve=oe.type.defaultProps;for(we in C)D.call(C,we)&&!L.hasOwnProperty(we)&&(z[we]=C[we]===void 0&&ve!==void 0?ve[we]:C[we])}var we=arguments.length-2;if(we===1)z.children=W;else if(1<we){ve=Array(we);for(var Ce=0;Ce<we;Ce++)ve[Ce]=arguments[Ce+2];z.children=ve}return{$$typeof:n,type:oe.type,key:V,ref:ee,props:z,_owner:de}},Hn.createContext=function(oe){return oe={$$typeof:a,_currentValue:oe,_currentValue2:oe,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},oe.Provider={$$typeof:s,_context:oe},oe.Consumer=oe},Hn.createElement=I,Hn.createFactory=function(oe){var C=I.bind(null,oe);return C.type=oe,C},Hn.createRef=function(){return{current:null}},Hn.forwardRef=function(oe){return{$$typeof:o,render:oe}},Hn.isValidElement=O,Hn.lazy=function(oe){return{$$typeof:f,_payload:{_status:-1,_result:oe},_init:ie}},Hn.memo=function(oe,C){return{$$typeof:c,type:oe,compare:C===void 0?null:C}},Hn.startTransition=function(oe){var C=J.transition;J.transition={};try{oe()}finally{J.transition=C}},Hn.unstable_act=pe,Hn.useCallback=function(oe,C){return ue.current.useCallback(oe,C)},Hn.useContext=function(oe){return ue.current.useContext(oe)},Hn.useDebugValue=function(){},Hn.useDeferredValue=function(oe){return ue.current.useDeferredValue(oe)},Hn.useEffect=function(oe,C){return ue.current.useEffect(oe,C)},Hn.useId=function(){return ue.current.useId()},Hn.useImperativeHandle=function(oe,C,W){return ue.current.useImperativeHandle(oe,C,W)},Hn.useInsertionEffect=function(oe,C){return ue.current.useInsertionEffect(oe,C)},Hn.useLayoutEffect=function(oe,C){return ue.current.useLayoutEffect(oe,C)},Hn.useMemo=function(oe,C){return ue.current.useMemo(oe,C)},Hn.useReducer=function(oe,C,W){return ue.current.useReducer(oe,C,W)},Hn.useRef=function(oe){return ue.current.useRef(oe)},Hn.useState=function(oe){return ue.current.useState(oe)},Hn.useSyncExternalStore=function(oe,C,W){return ue.current.useSyncExternalStore(oe,C,W)},Hn.useTransition=function(){return ue.current.useTransition()},Hn.version="18.3.1",Hn}var o5;function Am(){return o5||(o5=1,s2.exports=bR()),s2.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l5;function SR(){if(l5)return sp;l5=1;var n=Am(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(o,l,c){var f,d={},p=null,m=null;c!==void 0&&(p=""+c),l.key!==void 0&&(p=""+l.key),l.ref!==void 0&&(m=l.ref);for(f in l)r.call(l,f)&&!s.hasOwnProperty(f)&&(d[f]=l[f]);if(o&&o.defaultProps)for(f in l=o.defaultProps,l)d[f]===void 0&&(d[f]=l[f]);return{$$typeof:e,type:o,key:p,ref:m,props:d,_owner:i.current}}return sp.Fragment=t,sp.jsx=a,sp.jsxs=a,sp}var c5;function ER(){return c5||(c5=1,i2.exports=SR()),i2.exports}var me=ER(),xt=Am();const uh=wR(xt),AR=yR({__proto__:null,default:uh},[xt]);var yg={},a2={exports:{}},Sa={},o2={exports:{}},l2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u5;function TR(){return u5||(u5=1,function(n){function e(J,X){var pe=J.length;J.push(X);e:for(;0<pe;){var oe=pe-1>>>1,C=J[oe];if(0<i(C,X))J[oe]=X,J[pe]=C,pe=oe;else break e}}function t(J){return J.length===0?null:J[0]}function r(J){if(J.length===0)return null;var X=J[0],pe=J.pop();if(pe!==X){J[0]=pe;e:for(var oe=0,C=J.length,W=C>>>1;oe<W;){var z=2*(oe+1)-1,V=J[z],ee=z+1,de=J[ee];if(0>i(V,pe))ee<C&&0>i(de,V)?(J[oe]=de,J[ee]=pe,oe=ee):(J[oe]=V,J[z]=pe,oe=z);else if(ee<C&&0>i(de,pe))J[oe]=de,J[ee]=pe,oe=ee;else break e}}return X}function i(J,X){var pe=J.sortIndex-X.sortIndex;return pe!==0?pe:J.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();n.unstable_now=function(){return a.now()-o}}var l=[],c=[],f=1,d=null,p=3,m=!1,_=!1,x=!1,g=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(J){for(var X=t(c);X!==null;){if(X.callback===null)r(c);else if(X.startTime<=J)r(c),X.sortIndex=X.expirationTime,e(l,X);else break;X=t(c)}}function M(J){if(x=!1,E(J),!_)if(t(l)!==null)_=!0,ie(D);else{var X=t(c);X!==null&&ue(M,X.startTime-J)}}function D(J,X){_=!1,x&&(x=!1,y(I),I=-1),m=!0;var pe=p;try{for(E(X),d=t(l);d!==null&&(!(d.expirationTime>X)||J&&!N());){var oe=d.callback;if(typeof oe=="function"){d.callback=null,p=d.priorityLevel;var C=oe(d.expirationTime<=X);X=n.unstable_now(),typeof C=="function"?d.callback=C:d===t(l)&&r(l),E(X)}else r(l);d=t(l)}if(d!==null)var W=!0;else{var z=t(c);z!==null&&ue(M,z.startTime-X),W=!1}return W}finally{d=null,p=pe,m=!1}}var U=!1,L=null,I=-1,R=5,O=-1;function N(){return!(n.unstable_now()-O<R)}function k(){if(L!==null){var J=n.unstable_now();O=J;var X=!0;try{X=L(!0,J)}finally{X?j():(U=!1,L=null)}}else U=!1}var j;if(typeof A=="function")j=function(){A(k)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,ae=G.port2;G.port1.onmessage=k,j=function(){ae.postMessage(null)}}else j=function(){g(k,0)};function ie(J){L=J,U||(U=!0,j())}function ue(J,X){I=g(function(){J(n.unstable_now())},X)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(J){J.callback=null},n.unstable_continueExecution=function(){_||m||(_=!0,ie(D))},n.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<J?Math.floor(1e3/J):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(J){switch(p){case 1:case 2:case 3:var X=3;break;default:X=p}var pe=p;p=X;try{return J()}finally{p=pe}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(J,X){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var pe=p;p=J;try{return X()}finally{p=pe}},n.unstable_scheduleCallback=function(J,X,pe){var oe=n.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?oe+pe:oe):pe=oe,J){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=pe+C,J={id:f++,callback:X,priorityLevel:J,startTime:pe,expirationTime:C,sortIndex:-1},pe>oe?(J.sortIndex=pe,e(c,J),t(l)===null&&J===t(c)&&(x?(y(I),I=-1):x=!0,ue(M,pe-oe))):(J.sortIndex=C,e(l,J),_||m||(_=!0,ie(D))),J},n.unstable_shouldYield=N,n.unstable_wrapCallback=function(J){var X=p;return function(){var pe=p;p=X;try{return J.apply(this,arguments)}finally{p=pe}}}}(l2)),l2}var f5;function MR(){return f5||(f5=1,o2.exports=TR()),o2.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h5;function CR(){if(h5)return Sa;h5=1;var n=Am(),e=MR();function t(u){for(var h="https://reactjs.org/docs/error-decoder.html?invariant="+u,v=1;v<arguments.length;v++)h+="&args[]="+encodeURIComponent(arguments[v]);return"Minified React error #"+u+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(u,h){a(u,h),a(u+"Capture",h)}function a(u,h){for(i[u]=h,u=0;u<h.length;u++)r.add(h[u])}var o=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,c=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},d={};function p(u){return l.call(d,u)?!0:l.call(f,u)?!1:c.test(u)?d[u]=!0:(f[u]=!0,!1)}function m(u,h,v,b){if(v!==null&&v.type===0)return!1;switch(typeof h){case"function":case"symbol":return!0;case"boolean":return b?!1:v!==null?!v.acceptsBooleans:(u=u.toLowerCase().slice(0,5),u!=="data-"&&u!=="aria-");default:return!1}}function _(u,h,v,b){if(h===null||typeof h>"u"||m(u,h,v,b))return!0;if(b)return!1;if(v!==null)switch(v.type){case 3:return!h;case 4:return h===!1;case 5:return isNaN(h);case 6:return isNaN(h)||1>h}return!1}function x(u,h,v,b,P,B,ne){this.acceptsBooleans=h===2||h===3||h===4,this.attributeName=b,this.attributeNamespace=P,this.mustUseProperty=v,this.propertyName=u,this.type=h,this.sanitizeURL=B,this.removeEmptyString=ne}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(u){g[u]=new x(u,0,!1,u,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(u){var h=u[0];g[h]=new x(h,1,!1,u[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(u){g[u]=new x(u,2,!1,u.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(u){g[u]=new x(u,2,!1,u,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(u){g[u]=new x(u,3,!1,u.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(u){g[u]=new x(u,3,!0,u,null,!1,!1)}),["capture","download"].forEach(function(u){g[u]=new x(u,4,!1,u,null,!1,!1)}),["cols","rows","size","span"].forEach(function(u){g[u]=new x(u,6,!1,u,null,!1,!1)}),["rowSpan","start"].forEach(function(u){g[u]=new x(u,5,!1,u.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function A(u){return u[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(u){var h=u.replace(y,A);g[h]=new x(h,1,!1,u,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(u){var h=u.replace(y,A);g[h]=new x(h,1,!1,u,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(u){var h=u.replace(y,A);g[h]=new x(h,1,!1,u,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(u){g[u]=new x(u,1,!1,u.toLowerCase(),null,!1,!1)}),g.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(u){g[u]=new x(u,1,!1,u.toLowerCase(),null,!0,!0)});function E(u,h,v,b){var P=g.hasOwnProperty(h)?g[h]:null;(P!==null?P.type!==0:b||!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(_(h,v,P,b)&&(v=null),b||P===null?p(h)&&(v===null?u.removeAttribute(h):u.setAttribute(h,""+v)):P.mustUseProperty?u[P.propertyName]=v===null?P.type===3?!1:"":v:(h=P.attributeName,b=P.attributeNamespace,v===null?u.removeAttribute(h):(P=P.type,v=P===3||P===4&&v===!0?"":""+v,b?u.setAttributeNS(b,h,v):u.setAttribute(h,v))))}var M=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,D=Symbol.for("react.element"),U=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),N=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),ae=Symbol.for("react.memo"),ie=Symbol.for("react.lazy"),ue=Symbol.for("react.offscreen"),J=Symbol.iterator;function X(u){return u===null||typeof u!="object"?null:(u=J&&u[J]||u["@@iterator"],typeof u=="function"?u:null)}var pe=Object.assign,oe;function C(u){if(oe===void 0)try{throw Error()}catch(v){var h=v.stack.trim().match(/\n( *(at )?)/);oe=h&&h[1]||""}return`
`+oe+u}var W=!1;function z(u,h){if(!u||W)return"";W=!0;var v=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(h)if(h=function(){throw Error()},Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(ft){var b=ft}Reflect.construct(u,[],h)}else{try{h.call()}catch(ft){b=ft}u.call(h.prototype)}else{try{throw Error()}catch(ft){b=ft}u()}}catch(ft){if(ft&&b&&typeof ft.stack=="string"){for(var P=ft.stack.split(`
`),B=b.stack.split(`
`),ne=P.length-1,Me=B.length-1;1<=ne&&0<=Me&&P[ne]!==B[Me];)Me--;for(;1<=ne&&0<=Me;ne--,Me--)if(P[ne]!==B[Me]){if(ne!==1||Me!==1)do if(ne--,Me--,0>Me||P[ne]!==B[Me]){var Oe=`
`+P[ne].replace(" at new "," at ");return u.displayName&&Oe.includes("<anonymous>")&&(Oe=Oe.replace("<anonymous>",u.displayName)),Oe}while(1<=ne&&0<=Me);break}}}finally{W=!1,Error.prepareStackTrace=v}return(u=u?u.displayName||u.name:"")?C(u):""}function V(u){switch(u.tag){case 5:return C(u.type);case 16:return C("Lazy");case 13:return C("Suspense");case 19:return C("SuspenseList");case 0:case 2:case 15:return u=z(u.type,!1),u;case 11:return u=z(u.type.render,!1),u;case 1:return u=z(u.type,!0),u;default:return""}}function ee(u){if(u==null)return null;if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case L:return"Fragment";case U:return"Portal";case R:return"Profiler";case I:return"StrictMode";case j:return"Suspense";case G:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case N:return(u.displayName||"Context")+".Consumer";case O:return(u._context.displayName||"Context")+".Provider";case k:var h=u.render;return u=u.displayName,u||(u=h.displayName||h.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case ae:return h=u.displayName||null,h!==null?h:ee(u.type)||"Memo";case ie:h=u._payload,u=u._init;try{return ee(u(h))}catch{}}return null}function de(u){var h=u.type;switch(u.tag){case 24:return"Cache";case 9:return(h.displayName||"Context")+".Consumer";case 10:return(h._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return u=h.render,u=u.displayName||u.name||"",h.displayName||(u!==""?"ForwardRef("+u+")":"ForwardRef");case 7:return"Fragment";case 5:return h;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ee(h);case 8:return h===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h}return null}function ve(u){switch(typeof u){case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function we(u){var h=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function Ce(u){var h=we(u)?"checked":"value",v=Object.getOwnPropertyDescriptor(u.constructor.prototype,h),b=""+u[h];if(!u.hasOwnProperty(h)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var P=v.get,B=v.set;return Object.defineProperty(u,h,{configurable:!0,get:function(){return P.call(this)},set:function(ne){b=""+ne,B.call(this,ne)}}),Object.defineProperty(u,h,{enumerable:v.enumerable}),{getValue:function(){return b},setValue:function(ne){b=""+ne},stopTracking:function(){u._valueTracker=null,delete u[h]}}}}function lt(u){u._valueTracker||(u._valueTracker=Ce(u))}function he(u){if(!u)return!1;var h=u._valueTracker;if(!h)return!0;var v=h.getValue(),b="";return u&&(b=we(u)?u.checked?"true":"false":u.value),u=b,u!==v?(h.setValue(u),!0):!1}function mt(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}function ye(u,h){var v=h.checked;return pe({},h,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:v??u._wrapperState.initialChecked})}function Je(u,h){var v=h.defaultValue==null?"":h.defaultValue,b=h.checked!=null?h.checked:h.defaultChecked;v=ve(h.value!=null?h.value:v),u._wrapperState={initialChecked:b,initialValue:v,controlled:h.type==="checkbox"||h.type==="radio"?h.checked!=null:h.value!=null}}function q(u,h){h=h.checked,h!=null&&E(u,"checked",h,!1)}function Re(u,h){q(u,h);var v=ve(h.value),b=h.type;if(v!=null)b==="number"?(v===0&&u.value===""||u.value!=v)&&(u.value=""+v):u.value!==""+v&&(u.value=""+v);else if(b==="submit"||b==="reset"){u.removeAttribute("value");return}h.hasOwnProperty("value")?Ve(u,h.type,v):h.hasOwnProperty("defaultValue")&&Ve(u,h.type,ve(h.defaultValue)),h.checked==null&&h.defaultChecked!=null&&(u.defaultChecked=!!h.defaultChecked)}function je(u,h,v){if(h.hasOwnProperty("value")||h.hasOwnProperty("defaultValue")){var b=h.type;if(!(b!=="submit"&&b!=="reset"||h.value!==void 0&&h.value!==null))return;h=""+u._wrapperState.initialValue,v||h===u.value||(u.value=h),u.defaultValue=h}v=u.name,v!==""&&(u.name=""),u.defaultChecked=!!u._wrapperState.initialChecked,v!==""&&(u.name=v)}function Ve(u,h,v){(h!=="number"||mt(u.ownerDocument)!==u)&&(v==null?u.defaultValue=""+u._wrapperState.initialValue:u.defaultValue!==""+v&&(u.defaultValue=""+v))}var Ie=Array.isArray;function Ke(u,h,v,b){if(u=u.options,h){h={};for(var P=0;P<v.length;P++)h["$"+v[P]]=!0;for(v=0;v<u.length;v++)P=h.hasOwnProperty("$"+u[v].value),u[v].selected!==P&&(u[v].selected=P),P&&b&&(u[v].defaultSelected=!0)}else{for(v=""+ve(v),h=null,P=0;P<u.length;P++){if(u[P].value===v){u[P].selected=!0,b&&(u[P].defaultSelected=!0);return}h!==null||u[P].disabled||(h=u[P])}h!==null&&(h.selected=!0)}}function Et(u,h){if(h.dangerouslySetInnerHTML!=null)throw Error(t(91));return pe({},h,{value:void 0,defaultValue:void 0,children:""+u._wrapperState.initialValue})}function ce(u,h){var v=h.value;if(v==null){if(v=h.children,h=h.defaultValue,v!=null){if(h!=null)throw Error(t(92));if(Ie(v)){if(1<v.length)throw Error(t(93));v=v[0]}h=v}h==null&&(h=""),v=h}u._wrapperState={initialValue:ve(v)}}function Y(u,h){var v=ve(h.value),b=ve(h.defaultValue);v!=null&&(v=""+v,v!==u.value&&(u.value=v),h.defaultValue==null&&u.defaultValue!==v&&(u.defaultValue=v)),b!=null&&(u.defaultValue=""+b)}function Ne(u){var h=u.textContent;h===u._wrapperState.initialValue&&h!==""&&h!==null&&(u.value=h)}function $e(u){switch(u){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qe(u,h){return u==null||u==="http://www.w3.org/1999/xhtml"?$e(h):u==="http://www.w3.org/2000/svg"&&h==="foreignObject"?"http://www.w3.org/1999/xhtml":u}var He,ht=function(u){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(h,v,b,P){MSApp.execUnsafeLocalFunction(function(){return u(h,v,b,P)})}:u}(function(u,h){if(u.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in u)u.innerHTML=h;else{for(He=He||document.createElement("div"),He.innerHTML="<svg>"+h.valueOf().toString()+"</svg>",h=He.firstChild;u.firstChild;)u.removeChild(u.firstChild);for(;h.firstChild;)u.appendChild(h.firstChild)}});function Ye(u,h){if(h){var v=u.firstChild;if(v&&v===u.lastChild&&v.nodeType===3){v.nodeValue=h;return}}u.textContent=h}var Xe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wt=["Webkit","ms","Moz","O"];Object.keys(Xe).forEach(function(u){wt.forEach(function(h){h=h+u.charAt(0).toUpperCase()+u.substring(1),Xe[h]=Xe[u]})});function We(u,h,v){return h==null||typeof h=="boolean"||h===""?"":v||typeof h!="number"||h===0||Xe.hasOwnProperty(u)&&Xe[u]?(""+h).trim():h+"px"}function Ct(u,h){u=u.style;for(var v in h)if(h.hasOwnProperty(v)){var b=v.indexOf("--")===0,P=We(v,h[v],b);v==="float"&&(v="cssFloat"),b?u.setProperty(v,P):u[v]=P}}var Pt=pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ht(u,h){if(h){if(Pt[u]&&(h.children!=null||h.dangerouslySetInnerHTML!=null))throw Error(t(137,u));if(h.dangerouslySetInnerHTML!=null){if(h.children!=null)throw Error(t(60));if(typeof h.dangerouslySetInnerHTML!="object"||!("__html"in h.dangerouslySetInnerHTML))throw Error(t(61))}if(h.style!=null&&typeof h.style!="object")throw Error(t(62))}}function It(u,h){if(u.indexOf("-")===-1)return typeof h.is=="string";switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bt=null;function Ue(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var Ft=null,Tt=null,Vt=null;function At(u){if(u=bu(u)){if(typeof Ft!="function")throw Error(t(280));var h=u.stateNode;h&&(h=Wf(h),Ft(u.stateNode,u.type,h))}}function ot(u){Tt?Vt?Vt.push(u):Vt=[u]:Tt=u}function Ot(){if(Tt){var u=Tt,h=Vt;if(Vt=Tt=null,At(u),h)for(u=0;u<h.length;u++)At(h[u])}}function un(u,h){return u(h)}function _n(){}var An=!1;function Cr(u,h,v){if(An)return u(h,v);An=!0;try{return un(u,h,v)}finally{An=!1,(Tt!==null||Vt!==null)&&(_n(),Ot())}}function Qt(u,h){var v=u.stateNode;if(v===null)return null;var b=Wf(v);if(b===null)return null;v=b[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(b=!b.disabled)||(u=u.type,b=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!b;break e;default:u=!1}if(u)return null;if(v&&typeof v!="function")throw Error(t(231,h,typeof v));return v}var Si=!1;if(o)try{var Kr={};Object.defineProperty(Kr,"passive",{get:function(){Si=!0}}),window.addEventListener("test",Kr,Kr),window.removeEventListener("test",Kr,Kr)}catch{Si=!1}function Rr(u,h,v,b,P,B,ne,Me,Oe){var ft=Array.prototype.slice.call(arguments,3);try{h.apply(v,ft)}catch(Dt){this.onError(Dt)}}var cr=!1,dr=null,re=!1,be=null,ge={onError:function(u){cr=!0,dr=u}};function xe(u,h,v,b,P,B,ne,Me,Oe){cr=!1,dr=null,Rr.apply(ge,arguments)}function Se(u,h,v,b,P,B,ne,Me,Oe){if(xe.apply(this,arguments),cr){if(cr){var ft=dr;cr=!1,dr=null}else throw Error(t(198));re||(re=!0,be=ft)}}function Ee(u){var h=u,v=u;if(u.alternate)for(;h.return;)h=h.return;else{u=h;do h=u,(h.flags&4098)!==0&&(v=h.return),u=h.return;while(u)}return h.tag===3?v:null}function it(u){if(u.tag===13){var h=u.memoizedState;if(h===null&&(u=u.alternate,u!==null&&(h=u.memoizedState)),h!==null)return h.dehydrated}return null}function dt(u){if(Ee(u)!==u)throw Error(t(188))}function rt(u){var h=u.alternate;if(!h){if(h=Ee(u),h===null)throw Error(t(188));return h!==u?null:u}for(var v=u,b=h;;){var P=v.return;if(P===null)break;var B=P.alternate;if(B===null){if(b=P.return,b!==null){v=b;continue}break}if(P.child===B.child){for(B=P.child;B;){if(B===v)return dt(P),u;if(B===b)return dt(P),h;B=B.sibling}throw Error(t(188))}if(v.return!==b.return)v=P,b=B;else{for(var ne=!1,Me=P.child;Me;){if(Me===v){ne=!0,v=P,b=B;break}if(Me===b){ne=!0,b=P,v=B;break}Me=Me.sibling}if(!ne){for(Me=B.child;Me;){if(Me===v){ne=!0,v=B,b=P;break}if(Me===b){ne=!0,b=B,v=P;break}Me=Me.sibling}if(!ne)throw Error(t(189))}}if(v.alternate!==b)throw Error(t(190))}if(v.tag!==3)throw Error(t(188));return v.stateNode.current===v?u:h}function at(u){return u=rt(u),u!==null?ct(u):null}function ct(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){var h=ct(u);if(h!==null)return h;u=u.sibling}return null}var kt=e.unstable_scheduleCallback,Q=e.unstable_cancelCallback,Te=e.unstable_shouldYield,ke=e.unstable_requestPaint,Pe=e.unstable_now,Le=e.unstable_getCurrentPriorityLevel,St=e.unstable_ImmediatePriority,Rt=e.unstable_UserBlockingPriority,jt=e.unstable_NormalPriority,Xt=e.unstable_LowPriority,on=e.unstable_IdlePriority,rn=null,$t=null;function yn(u){if($t&&typeof $t.onCommitFiberRoot=="function")try{$t.onCommitFiberRoot(rn,u,void 0,(u.current.flags&128)===128)}catch{}}var hn=Math.clz32?Math.clz32:Bn,Sn=Math.log,_r=Math.LN2;function Bn(u){return u>>>=0,u===0?32:31-(Sn(u)/_r|0)|0}var an=64,Sr=4194304;function On(u){switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return u&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return u}}function Er(u,h){var v=u.pendingLanes;if(v===0)return 0;var b=0,P=u.suspendedLanes,B=u.pingedLanes,ne=v&268435455;if(ne!==0){var Me=ne&~P;Me!==0?b=On(Me):(B&=ne,B!==0&&(b=On(B)))}else ne=v&~P,ne!==0?b=On(ne):B!==0&&(b=On(B));if(b===0)return 0;if(h!==0&&h!==b&&(h&P)===0&&(P=b&-b,B=h&-h,P>=B||P===16&&(B&4194240)!==0))return h;if((b&4)!==0&&(b|=v&16),h=u.entangledLanes,h!==0)for(u=u.entanglements,h&=b;0<h;)v=31-hn(h),P=1<<v,b|=u[v],h&=~P;return b}function Ws(u,h){switch(u){case 1:case 2:case 4:return h+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pr(u,h){for(var v=u.suspendedLanes,b=u.pingedLanes,P=u.expirationTimes,B=u.pendingLanes;0<B;){var ne=31-hn(B),Me=1<<ne,Oe=P[ne];Oe===-1?((Me&v)===0||(Me&b)!==0)&&(P[ne]=Ws(Me,h)):Oe<=h&&(u.expiredLanes|=Me),B&=~Me}}function Gs(u){return u=u.pendingLanes&-1073741825,u!==0?u:u&1073741824?1073741824:0}function nr(){var u=an;return an<<=1,(an&4194240)===0&&(an=64),u}function Ei(u){for(var h=[],v=0;31>v;v++)h.push(u);return h}function Jr(u,h,v){u.pendingLanes|=h,h!==536870912&&(u.suspendedLanes=0,u.pingedLanes=0),u=u.eventTimes,h=31-hn(h),u[h]=v}function hi(u,h){var v=u.pendingLanes&~h;u.pendingLanes=h,u.suspendedLanes=0,u.pingedLanes=0,u.expiredLanes&=h,u.mutableReadLanes&=h,u.entangledLanes&=h,h=u.entanglements;var b=u.eventTimes;for(u=u.expirationTimes;0<v;){var P=31-hn(v),B=1<<P;h[P]=0,b[P]=-1,u[P]=-1,v&=~B}}function Zr(u,h){var v=u.entangledLanes|=h;for(u=u.entanglements;v;){var b=31-hn(v),P=1<<b;P&h|u[b]&h&&(u[b]|=h),v&=~P}}var jn=0;function ds(u){return u&=-u,1<u?4<u?(u&268435455)!==0?16:536870912:4:1}var ed,Mf,td,Qa,Ql,ml=!1,ec=[],Dr=null,eo=null,Da=null,xn=new Map,tc=new Map,to=[],no="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Cf(u,h){switch(u){case"focusin":case"focusout":Dr=null;break;case"dragenter":case"dragleave":eo=null;break;case"mouseover":case"mouseout":Da=null;break;case"pointerover":case"pointerout":xn.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":tc.delete(h.pointerId)}}function gl(u,h,v,b,P,B){return u===null||u.nativeEvent!==B?(u={blockedOn:h,domEventName:v,eventSystemFlags:b,nativeEvent:B,targetContainers:[P]},h!==null&&(h=bu(h),h!==null&&Mf(h)),u):(u.eventSystemFlags|=b,h=u.targetContainers,P!==null&&h.indexOf(P)===-1&&h.push(P),u)}function Zc(u,h,v,b,P){switch(h){case"focusin":return Dr=gl(Dr,u,h,v,b,P),!0;case"dragenter":return eo=gl(eo,u,h,v,b,P),!0;case"mouseover":return Da=gl(Da,u,h,v,b,P),!0;case"pointerover":var B=P.pointerId;return xn.set(B,gl(xn.get(B)||null,u,h,v,b,P)),!0;case"gotpointercapture":return B=P.pointerId,tc.set(B,gl(tc.get(B)||null,u,h,v,b,P)),!0}return!1}function Qc(u){var h=Ml(u.target);if(h!==null){var v=Ee(h);if(v!==null){if(h=v.tag,h===13){if(h=it(v),h!==null){u.blockedOn=h,Ql(u.priority,function(){td(v)});return}}else if(h===3&&v.stateNode.current.memoizedState.isDehydrated){u.blockedOn=v.tag===3?v.stateNode.containerInfo:null;return}}}u.blockedOn=null}function eu(u){if(u.blockedOn!==null)return!1;for(var h=u.targetContainers;0<h.length;){var v=nu(u.domEventName,u.eventSystemFlags,h[0],u.nativeEvent);if(v===null){v=u.nativeEvent;var b=new v.constructor(v.type,v);Bt=b,v.target.dispatchEvent(b),Bt=null}else return h=bu(v),h!==null&&Mf(h),u.blockedOn=v,!1;h.shift()}return!0}function nd(u,h,v){eu(u)&&v.delete(h)}function z0(){ml=!1,Dr!==null&&eu(Dr)&&(Dr=null),eo!==null&&eu(eo)&&(eo=null),Da!==null&&eu(Da)&&(Da=null),xn.forEach(nd),tc.forEach(nd)}function To(u,h){u.blockedOn===h&&(u.blockedOn=null,ml||(ml=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,z0)))}function Ia(u){function h(P){return To(P,u)}if(0<ec.length){To(ec[0],u);for(var v=1;v<ec.length;v++){var b=ec[v];b.blockedOn===u&&(b.blockedOn=null)}}for(Dr!==null&&To(Dr,u),eo!==null&&To(eo,u),Da!==null&&To(Da,u),xn.forEach(h),tc.forEach(h),v=0;v<to.length;v++)b=to[v],b.blockedOn===u&&(b.blockedOn=null);for(;0<to.length&&(v=to[0],v.blockedOn===null);)Qc(v),v.blockedOn===null&&to.shift()}var qs=M.ReactCurrentBatchConfig,tu=!0;function nc(u,h,v,b){var P=jn,B=qs.transition;qs.transition=null;try{jn=1,xl(u,h,v,b)}finally{jn=P,qs.transition=B}}function Pf(u,h,v,b){var P=jn,B=qs.transition;qs.transition=null;try{jn=4,xl(u,h,v,b)}finally{jn=P,qs.transition=B}}function xl(u,h,v,b){if(tu){var P=nu(u,h,v,b);if(P===null)Hf(u,h,b,rc,v),Cf(u,b);else if(Zc(P,u,h,v,b))b.stopPropagation();else if(Cf(u,b),h&4&&-1<no.indexOf(u)){for(;P!==null;){var B=bu(P);if(B!==null&&ed(B),B=nu(u,h,v,b),B===null&&Hf(u,h,b,rc,v),B===P)break;P=B}P!==null&&b.stopPropagation()}else Hf(u,h,b,null,v)}}var rc=null;function nu(u,h,v,b){if(rc=null,u=Ue(b),u=Ml(u),u!==null)if(h=Ee(u),h===null)u=null;else if(v=h.tag,v===13){if(u=it(h),u!==null)return u;u=null}else if(v===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;u=null}else h!==u&&(u=null);return rc=u,null}function kf(u){switch(u){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Le()){case St:return 1;case Rt:return 4;case jt:case Xt:return 16;case on:return 536870912;default:return 16}default:return 16}}var Oa=null,fa=null,ha=null;function rd(){if(ha)return ha;var u,h=fa,v=h.length,b,P="value"in Oa?Oa.value:Oa.textContent,B=P.length;for(u=0;u<v&&h[u]===P[u];u++);var ne=v-u;for(b=1;b<=ne&&h[v-b]===P[B-b];b++);return ha=P.slice(u,1<b?1-b:void 0)}function Ua(u){var h=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&h===13&&(u=13)):u=h,u===10&&(u=13),32<=u||u===13?u:0}function ps(){return!0}function ru(){return!1}function di(u){function h(v,b,P,B,ne){this._reactName=v,this._targetInst=P,this.type=b,this.nativeEvent=B,this.target=ne,this.currentTarget=null;for(var Me in u)u.hasOwnProperty(Me)&&(v=u[Me],this[Me]=v?v(B):B[Me]);return this.isDefaultPrevented=(B.defaultPrevented!=null?B.defaultPrevented:B.returnValue===!1)?ps:ru,this.isPropagationStopped=ru,this}return pe(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var v=this.nativeEvent;v&&(v.preventDefault?v.preventDefault():typeof v.returnValue!="unknown"&&(v.returnValue=!1),this.isDefaultPrevented=ps)},stopPropagation:function(){var v=this.nativeEvent;v&&(v.stopPropagation?v.stopPropagation():typeof v.cancelBubble!="unknown"&&(v.cancelBubble=!0),this.isPropagationStopped=ps)},persist:function(){},isPersistent:ps}),h}var vl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_l=di(vl),ic=pe({},vl,{view:0,detail:0}),Rf=di(ic),sc,iu,ro,yl=pe({},ic,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yt,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==ro&&(ro&&u.type==="mousemove"?(sc=u.screenX-ro.screenX,iu=u.screenY-ro.screenY):iu=sc=0,ro=u),sc)},movementY:function(u){return"movementY"in u?u.movementY:iu}}),su=di(yl),id=pe({},yl,{dataTransfer:0}),H0=di(id),au=pe({},ic,{relatedTarget:0}),Mo=di(au),Lf=pe({},vl,{animationName:0,elapsedTime:0,pseudoElement:0}),wl=di(Lf),Nf=pe({},vl,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),T=di(Nf),Z=pe({},vl,{data:0}),Ae=di(Z),Fe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},et={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lt(u){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(u):(u=vt[u])?!!h[u]:!1}function Yt(){return Lt}var cn=pe({},ic,{key:function(u){if(u.key){var h=Fe[u.key]||u.key;if(h!=="Unidentified")return h}return u.type==="keypress"?(u=Ua(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?et[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yt,charCode:function(u){return u.type==="keypress"?Ua(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?Ua(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),Mn=di(cn),Tn=pe({},yl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vn=di(Tn),Ir=pe({},ic,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yt}),Vr=di(Ir),ni=pe({},vl,{propertyName:0,elapsedTime:0,pseudoElement:0}),ji=di(ni),Ai=pe({},yl,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),Ba=di(Ai),Xs=[9,13,27,32],da=o&&"CompositionEvent"in window,bl=null;o&&"documentMode"in document&&(bl=document.documentMode);var Ff=o&&"TextEvent"in window&&!bl,ou=o&&(!da||bl&&8<bl&&11>=bl),ac=" ",lu=!1;function cu(u,h){switch(u){case"keyup":return Xs.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oc(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var Wr=!1;function uu(u,h){switch(u){case"compositionend":return oc(h);case"keypress":return h.which!==32?null:(lu=!0,ac);case"textInput":return u=h.data,u===ac&&lu?null:u;default:return null}}function fu(u,h){if(Wr)return u==="compositionend"||!da&&cu(u,h)?(u=rd(),ha=fa=Oa=null,Wr=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return ou&&h.locale!=="ko"?null:h.data;default:return null}}var hu={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function du(u){var h=u&&u.nodeName&&u.nodeName.toLowerCase();return h==="input"?!!hu[u.type]:h==="textarea"}function ns(u,h,v,b){ot(b),h=ld(h,"onChange"),0<h.length&&(v=new _l("onChange","change",null,v,b),u.push({event:v,listeners:h}))}var lc=null,Co=null;function sd(u){Bf(u,0)}function rs(u){var h=xc(u);if(he(h))return u}function pu(u,h){if(u==="change")return h}var Df=!1;if(o){var mu;if(o){var io="oninput"in document;if(!io){var Sl=document.createElement("div");Sl.setAttribute("oninput","return;"),io=typeof Sl.oninput=="function"}mu=io}else mu=!1;Df=mu&&(!document.documentMode||9<document.documentMode)}function is(){lc&&(lc.detachEvent("onpropertychange",Vi),Co=lc=null)}function Vi(u){if(u.propertyName==="value"&&rs(Co)){var h=[];ns(h,Co,u,Ue(u)),Cr(sd,h)}}function El(u,h,v){u==="focusin"?(is(),lc=h,Co=v,lc.attachEvent("onpropertychange",Vi)):u==="focusout"&&is()}function Po(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return rs(Co)}function ko(u,h){if(u==="click")return rs(h)}function gu(u,h){if(u==="input"||u==="change")return rs(h)}function Ro(u,h){return u===h&&(u!==0||1/u===1/h)||u!==u&&h!==h}var Qn=typeof Object.is=="function"?Object.is:Ro;function Lo(u,h){if(Qn(u,h))return!0;if(typeof u!="object"||u===null||typeof h!="object"||h===null)return!1;var v=Object.keys(u),b=Object.keys(h);if(v.length!==b.length)return!1;for(b=0;b<v.length;b++){var P=v[b];if(!l.call(h,P)||!Qn(u[P],h[P]))return!1}return!0}function Wi(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function $s(u,h){var v=Wi(u);u=0;for(var b;v;){if(v.nodeType===3){if(b=u+v.textContent.length,u<=h&&b>=h)return{node:v,offset:h-u};u=b}e:{for(;v;){if(v.nextSibling){v=v.nextSibling;break e}v=v.parentNode}v=void 0}v=Wi(v)}}function cc(u,h){return u&&h?u===h?!0:u&&u.nodeType===3?!1:h&&h.nodeType===3?cc(u,h.parentNode):"contains"in u?u.contains(h):u.compareDocumentPosition?!!(u.compareDocumentPosition(h)&16):!1:!1}function If(){for(var u=window,h=mt();h instanceof u.HTMLIFrameElement;){try{var v=typeof h.contentWindow.location.href=="string"}catch{v=!1}if(v)u=h.contentWindow;else break;h=mt(u.document)}return h}function uc(u){var h=u&&u.nodeName&&u.nodeName.toLowerCase();return h&&(h==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||h==="textarea"||u.contentEditable==="true")}function fc(u){var h=If(),v=u.focusedElem,b=u.selectionRange;if(h!==v&&v&&v.ownerDocument&&cc(v.ownerDocument.documentElement,v)){if(b!==null&&uc(v)){if(h=b.start,u=b.end,u===void 0&&(u=h),"selectionStart"in v)v.selectionStart=h,v.selectionEnd=Math.min(u,v.value.length);else if(u=(h=v.ownerDocument||document)&&h.defaultView||window,u.getSelection){u=u.getSelection();var P=v.textContent.length,B=Math.min(b.start,P);b=b.end===void 0?B:Math.min(b.end,P),!u.extend&&B>b&&(P=b,b=B,B=P),P=$s(v,B);var ne=$s(v,b);P&&ne&&(u.rangeCount!==1||u.anchorNode!==P.node||u.anchorOffset!==P.offset||u.focusNode!==ne.node||u.focusOffset!==ne.offset)&&(h=h.createRange(),h.setStart(P.node,P.offset),u.removeAllRanges(),B>b?(u.addRange(h),u.extend(ne.node,ne.offset)):(h.setEnd(ne.node,ne.offset),u.addRange(h)))}}for(h=[],u=v;u=u.parentNode;)u.nodeType===1&&h.push({element:u,left:u.scrollLeft,top:u.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<h.length;v++)u=h[v],u.element.scrollLeft=u.left,u.element.scrollTop=u.top}}var hc=o&&"documentMode"in document&&11>=document.documentMode,Ys=null,No=null,so=null,Fo=!1;function Do(u,h,v){var b=v.window===v?v.document:v.nodeType===9?v:v.ownerDocument;Fo||Ys==null||Ys!==mt(b)||(b=Ys,"selectionStart"in b&&uc(b)?b={start:b.selectionStart,end:b.selectionEnd}:(b=(b.ownerDocument&&b.ownerDocument.defaultView||window).getSelection(),b={anchorNode:b.anchorNode,anchorOffset:b.anchorOffset,focusNode:b.focusNode,focusOffset:b.focusOffset}),so&&Lo(so,b)||(so=b,b=ld(No,"onSelect"),0<b.length&&(h=new _l("onSelect","select",null,h,v),u.push({event:h,listeners:b}),h.target=Ys)))}function Al(u,h){var v={};return v[u.toLowerCase()]=h.toLowerCase(),v["Webkit"+u]="webkit"+h,v["Moz"+u]="moz"+h,v}var Ri={animationend:Al("Animation","AnimationEnd"),animationiteration:Al("Animation","AnimationIteration"),animationstart:Al("Animation","AnimationStart"),transitionend:Al("Transition","TransitionEnd")},ms={},yr={};o&&(yr=document.createElement("div").style,"AnimationEvent"in window||(delete Ri.animationend.animation,delete Ri.animationiteration.animation,delete Ri.animationstart.animation),"TransitionEvent"in window||delete Ri.transitionend.transition);function ur(u){if(ms[u])return ms[u];if(!Ri[u])return u;var h=Ri[u],v;for(v in h)if(h.hasOwnProperty(v)&&v in yr)return ms[u]=h[v];return u}var Gr=ur("animationend"),ri=ur("animationiteration"),ao=ur("animationstart"),xu=ur("transitionend"),dc=new Map,Of="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function oo(u,h){dc.set(u,h),s(h,[u])}for(var vu=0;vu<Of.length;vu++){var ss=Of[vu],pa=ss.toLowerCase(),ad=ss[0].toUpperCase()+ss.slice(1);oo(pa,"on"+ad)}oo(Gr,"onAnimationEnd"),oo(ri,"onAnimationIteration"),oo(ao,"onAnimationStart"),oo("dblclick","onDoubleClick"),oo("focusin","onFocus"),oo("focusout","onBlur"),oo(xu,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zm=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tl));function Uf(u,h,v){var b=u.type||"unknown-event";u.currentTarget=v,Se(b,h,void 0,u),u.currentTarget=null}function Bf(u,h){h=(h&4)!==0;for(var v=0;v<u.length;v++){var b=u[v],P=b.event;b=b.listeners;e:{var B=void 0;if(h)for(var ne=b.length-1;0<=ne;ne--){var Me=b[ne],Oe=Me.instance,ft=Me.currentTarget;if(Me=Me.listener,Oe!==B&&P.isPropagationStopped())break e;Uf(P,Me,ft),B=Oe}else for(ne=0;ne<b.length;ne++){if(Me=b[ne],Oe=Me.instance,ft=Me.currentTarget,Me=Me.listener,Oe!==B&&P.isPropagationStopped())break e;Uf(P,Me,ft),B=Oe}}}if(re)throw u=be,re=!1,be=null,u}function wr(u,h){var v=h[xs];v===void 0&&(v=h[xs]=new Set);var b=u+"__bubble";v.has(b)||(zf(h,u,2,!1),v.add(b))}function od(u,h,v){var b=0;h&&(b|=4),zf(v,u,b,h)}var _u="_reactListening"+Math.random().toString(36).slice(2);function pc(u){if(!u[_u]){u[_u]=!0,r.forEach(function(v){v!=="selectionchange"&&(zm.has(v)||od(v,!1,u),od(v,!0,u))});var h=u.nodeType===9?u:u.ownerDocument;h===null||h[_u]||(h[_u]=!0,od("selectionchange",!1,h))}}function zf(u,h,v,b){switch(kf(h)){case 1:var P=nc;break;case 4:P=Pf;break;default:P=xl}v=P.bind(null,h,v,u),P=void 0,!Si||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(P=!0),b?P!==void 0?u.addEventListener(h,v,{capture:!0,passive:P}):u.addEventListener(h,v,!0):P!==void 0?u.addEventListener(h,v,{passive:P}):u.addEventListener(h,v,!1)}function Hf(u,h,v,b,P){var B=b;if((h&1)===0&&(h&2)===0&&b!==null)e:for(;;){if(b===null)return;var ne=b.tag;if(ne===3||ne===4){var Me=b.stateNode.containerInfo;if(Me===P||Me.nodeType===8&&Me.parentNode===P)break;if(ne===4)for(ne=b.return;ne!==null;){var Oe=ne.tag;if((Oe===3||Oe===4)&&(Oe=ne.stateNode.containerInfo,Oe===P||Oe.nodeType===8&&Oe.parentNode===P))return;ne=ne.return}for(;Me!==null;){if(ne=Ml(Me),ne===null)return;if(Oe=ne.tag,Oe===5||Oe===6){b=B=ne;continue e}Me=Me.parentNode}}b=b.return}Cr(function(){var ft=B,Dt=Ue(v),Ut=[];e:{var Nt=dc.get(u);if(Nt!==void 0){var Zt=_l,tn=u;switch(u){case"keypress":if(Ua(v)===0)break e;case"keydown":case"keyup":Zt=Mn;break;case"focusin":tn="focus",Zt=Mo;break;case"focusout":tn="blur",Zt=Mo;break;case"beforeblur":case"afterblur":Zt=Mo;break;case"click":if(v.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Zt=su;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Zt=H0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Zt=Vr;break;case Gr:case ri:case ao:Zt=wl;break;case xu:Zt=ji;break;case"scroll":Zt=Rf;break;case"wheel":Zt=Ba;break;case"copy":case"cut":case"paste":Zt=T;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Zt=Vn}var sn=(h&4)!==0,xi=!sn&&u==="scroll",st=sn?Nt!==null?Nt+"Capture":null:Nt;sn=[];for(var Ge=ft,ut;Ge!==null;){ut=Ge;var zt=ut.stateNode;if(ut.tag===5&&zt!==null&&(ut=zt,st!==null&&(zt=Qt(Ge,st),zt!=null&&sn.push(jf(Ge,zt,ut)))),xi)break;Ge=Ge.return}0<sn.length&&(Nt=new Zt(Nt,tn,null,v,Dt),Ut.push({event:Nt,listeners:sn}))}}if((h&7)===0){e:{if(Nt=u==="mouseover"||u==="pointerover",Zt=u==="mouseout"||u==="pointerout",Nt&&v!==Bt&&(tn=v.relatedTarget||v.fromElement)&&(Ml(tn)||tn[Gi]))break e;if((Zt||Nt)&&(Nt=Dt.window===Dt?Dt:(Nt=Dt.ownerDocument)?Nt.defaultView||Nt.parentWindow:window,Zt?(tn=v.relatedTarget||v.toElement,Zt=ft,tn=tn?Ml(tn):null,tn!==null&&(xi=Ee(tn),tn!==xi||tn.tag!==5&&tn.tag!==6)&&(tn=null)):(Zt=null,tn=ft),Zt!==tn)){if(sn=su,zt="onMouseLeave",st="onMouseEnter",Ge="mouse",(u==="pointerout"||u==="pointerover")&&(sn=Vn,zt="onPointerLeave",st="onPointerEnter",Ge="pointer"),xi=Zt==null?Nt:xc(Zt),ut=tn==null?Nt:xc(tn),Nt=new sn(zt,Ge+"leave",Zt,v,Dt),Nt.target=xi,Nt.relatedTarget=ut,zt=null,Ml(Dt)===ft&&(sn=new sn(st,Ge+"enter",tn,v,Dt),sn.target=ut,sn.relatedTarget=xi,zt=sn),xi=zt,Zt&&tn)t:{for(sn=Zt,st=tn,Ge=0,ut=sn;ut;ut=mc(ut))Ge++;for(ut=0,zt=st;zt;zt=mc(zt))ut++;for(;0<Ge-ut;)sn=mc(sn),Ge--;for(;0<ut-Ge;)st=mc(st),ut--;for(;Ge--;){if(sn===st||st!==null&&sn===st.alternate)break t;sn=mc(sn),st=mc(st)}sn=null}else sn=null;Zt!==null&&Hm(Ut,Nt,Zt,sn,!1),tn!==null&&xi!==null&&Hm(Ut,xi,tn,sn,!0)}}e:{if(Nt=ft?xc(ft):window,Zt=Nt.nodeName&&Nt.nodeName.toLowerCase(),Zt==="select"||Zt==="input"&&Nt.type==="file")var ln=pu;else if(du(Nt))if(Df)ln=gu;else{ln=Po;var pn=El}else(Zt=Nt.nodeName)&&Zt.toLowerCase()==="input"&&(Nt.type==="checkbox"||Nt.type==="radio")&&(ln=ko);if(ln&&(ln=ln(u,ft))){ns(Ut,ln,v,Dt);break e}pn&&pn(u,Nt,ft),u==="focusout"&&(pn=Nt._wrapperState)&&pn.controlled&&Nt.type==="number"&&Ve(Nt,"number",Nt.value)}switch(pn=ft?xc(ft):window,u){case"focusin":(du(pn)||pn.contentEditable==="true")&&(Ys=pn,No=ft,so=null);break;case"focusout":so=No=Ys=null;break;case"mousedown":Fo=!0;break;case"contextmenu":case"mouseup":case"dragend":Fo=!1,Do(Ut,v,Dt);break;case"selectionchange":if(hc)break;case"keydown":case"keyup":Do(Ut,v,Dt)}var mn;if(da)e:{switch(u){case"compositionstart":var En="onCompositionStart";break e;case"compositionend":En="onCompositionEnd";break e;case"compositionupdate":En="onCompositionUpdate";break e}En=void 0}else Wr?cu(u,v)&&(En="onCompositionEnd"):u==="keydown"&&v.keyCode===229&&(En="onCompositionStart");En&&(ou&&v.locale!=="ko"&&(Wr||En!=="onCompositionStart"?En==="onCompositionEnd"&&Wr&&(mn=rd()):(Oa=Dt,fa="value"in Oa?Oa.value:Oa.textContent,Wr=!0)),pn=ld(ft,En),0<pn.length&&(En=new Ae(En,u,null,v,Dt),Ut.push({event:En,listeners:pn}),mn?En.data=mn:(mn=oc(v),mn!==null&&(En.data=mn)))),(mn=Ff?uu(u,v):fu(u,v))&&(ft=ld(ft,"onBeforeInput"),0<ft.length&&(Dt=new Ae("onBeforeInput","beforeinput",null,v,Dt),Ut.push({event:Dt,listeners:ft}),Dt.data=mn))}Bf(Ut,h)})}function jf(u,h,v){return{instance:u,listener:h,currentTarget:v}}function ld(u,h){for(var v=h+"Capture",b=[];u!==null;){var P=u,B=P.stateNode;P.tag===5&&B!==null&&(P=B,B=Qt(u,v),B!=null&&b.unshift(jf(u,B,P)),B=Qt(u,h),B!=null&&b.push(jf(u,B,P))),u=u.return}return b}function mc(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5);return u||null}function Hm(u,h,v,b,P){for(var B=h._reactName,ne=[];v!==null&&v!==b;){var Me=v,Oe=Me.alternate,ft=Me.stateNode;if(Oe!==null&&Oe===b)break;Me.tag===5&&ft!==null&&(Me=ft,P?(Oe=Qt(v,B),Oe!=null&&ne.unshift(jf(v,Oe,Me))):P||(Oe=Qt(v,B),Oe!=null&&ne.push(jf(v,Oe,Me)))),v=v.return}ne.length!==0&&u.push({event:h,listeners:ne})}var vv=/\r\n?/g,_v=/\u0000|\uFFFD/g;function jm(u){return(typeof u=="string"?u:""+u).replace(vv,`
`).replace(_v,"")}function cd(u,h,v){if(h=jm(h),jm(u)!==h&&v)throw Error(t(425))}function yu(){}var Vf=null,gc=null;function j0(u,h){return u==="textarea"||u==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var V0=typeof setTimeout=="function"?setTimeout:void 0,Vm=typeof clearTimeout=="function"?clearTimeout:void 0,Wm=typeof Promise=="function"?Promise:void 0,yv=typeof queueMicrotask=="function"?queueMicrotask:typeof Wm<"u"?function(u){return Wm.resolve(null).then(u).catch(wv)}:V0;function wv(u){setTimeout(function(){throw u})}function W0(u,h){var v=h,b=0;do{var P=v.nextSibling;if(u.removeChild(v),P&&P.nodeType===8)if(v=P.data,v==="/$"){if(b===0){u.removeChild(P),Ia(h);return}b--}else v!=="$"&&v!=="$?"&&v!=="$!"||b++;v=P}while(v);Ia(h)}function as(u){for(;u!=null;u=u.nextSibling){var h=u.nodeType;if(h===1||h===3)break;if(h===8){if(h=u.data,h==="$"||h==="$!"||h==="$?")break;if(h==="/$")return null}}return u}function ma(u){u=u.previousSibling;for(var h=0;u;){if(u.nodeType===8){var v=u.data;if(v==="$"||v==="$!"||v==="$?"){if(h===0)return u;h--}else v==="/$"&&h++}u=u.previousSibling}return null}var gs=Math.random().toString(36).slice(2),lo="__reactFiber$"+gs,wu="__reactProps$"+gs,Gi="__reactContainer$"+gs,xs="__reactEvents$"+gs,bv="__reactListeners$"+gs,Sv="__reactHandles$"+gs;function Ml(u){var h=u[lo];if(h)return h;for(var v=u.parentNode;v;){if(h=v[Gi]||v[lo]){if(v=h.alternate,h.child!==null||v!==null&&v.child!==null)for(u=ma(u);u!==null;){if(v=u[lo])return v;u=ma(u)}return h}u=v,v=u.parentNode}return null}function bu(u){return u=u[lo]||u[Gi],!u||u.tag!==5&&u.tag!==6&&u.tag!==13&&u.tag!==3?null:u}function xc(u){if(u.tag===5||u.tag===6)return u.stateNode;throw Error(t(33))}function Wf(u){return u[wu]||null}var G0=[],Io=-1;function za(u){return{current:u}}function fr(u){0>Io||(u.current=G0[Io],G0[Io]=null,Io--)}function mr(u,h){Io++,G0[Io]=u.current,u.current=h}var Cl={},Li=za(Cl),vs=za(!1),vc=Cl;function Su(u,h){var v=u.type.contextTypes;if(!v)return Cl;var b=u.stateNode;if(b&&b.__reactInternalMemoizedUnmaskedChildContext===h)return b.__reactInternalMemoizedMaskedChildContext;var P={},B;for(B in v)P[B]=h[B];return b&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=h,u.__reactInternalMemoizedMaskedChildContext=P),P}function _s(u){return u=u.childContextTypes,u!=null}function ud(){fr(vs),fr(Li)}function Gm(u,h,v){if(Li.current!==Cl)throw Error(t(168));mr(Li,h),mr(vs,v)}function q0(u,h,v){var b=u.stateNode;if(h=h.childContextTypes,typeof b.getChildContext!="function")return v;b=b.getChildContext();for(var P in b)if(!(P in h))throw Error(t(108,de(u)||"Unknown",P));return pe({},v,b)}function _c(u){return u=(u=u.stateNode)&&u.__reactInternalMemoizedMergedChildContext||Cl,vc=Li.current,mr(Li,u),mr(vs,vs.current),!0}function qm(u,h,v){var b=u.stateNode;if(!b)throw Error(t(169));v?(u=q0(u,h,vc),b.__reactInternalMemoizedMergedChildContext=u,fr(vs),fr(Li),mr(Li,u)):fr(vs),mr(vs,v)}var Oo=null,Gf=!1,w=!1;function S(u){Oo===null?Oo=[u]:Oo.push(u)}function F(u){Gf=!0,S(u)}function H(){if(!w&&Oo!==null){w=!0;var u=0,h=jn;try{var v=Oo;for(jn=1;u<v.length;u++){var b=v[u];do b=b(!0);while(b!==null)}Oo=null,Gf=!1}catch(P){throw Oo!==null&&(Oo=Oo.slice(u+1)),kt(St,H),P}finally{jn=h,w=!1}}return null}var K=[],te=0,se=null,le=0,fe=[],_e=0,De=null,tt=1,nt="";function qe(u,h){K[te++]=le,K[te++]=se,se=u,le=h}function Mt(u,h,v){fe[_e++]=tt,fe[_e++]=nt,fe[_e++]=De,De=u;var b=tt;u=nt;var P=32-hn(b)-1;b&=~(1<<P),v+=1;var B=32-hn(h)+P;if(30<B){var ne=P-P%5;B=(b&(1<<ne)-1).toString(32),b>>=ne,P-=ne,tt=1<<32-hn(h)+P|v<<P|b,nt=B+u}else tt=1<<B|v<<P|b,nt=u}function pt(u){u.return!==null&&(qe(u,1),Mt(u,1,0))}function Be(u){for(;u===se;)se=K[--te],K[te]=null,le=K[--te],K[te]=null;for(;u===De;)De=fe[--_e],fe[_e]=null,nt=fe[--_e],fe[_e]=null,tt=fe[--_e],fe[_e]=null}var ze=null,yt=null,_t=!1,bt=null;function Jt(u,h){var v=mo(5,null,null,0);v.elementType="DELETED",v.stateNode=h,v.return=u,h=u.deletions,h===null?(u.deletions=[v],u.flags|=16):h.push(v)}function Wt(u,h){switch(u.tag){case 5:var v=u.type;return h=h.nodeType!==1||v.toLowerCase()!==h.nodeName.toLowerCase()?null:h,h!==null?(u.stateNode=h,ze=u,yt=as(h.firstChild),!0):!1;case 6:return h=u.pendingProps===""||h.nodeType!==3?null:h,h!==null?(u.stateNode=h,ze=u,yt=null,!0):!1;case 13:return h=h.nodeType!==8?null:h,h!==null?(v=De!==null?{id:tt,overflow:nt}:null,u.memoizedState={dehydrated:h,treeContext:v,retryLane:1073741824},v=mo(18,null,null,0),v.stateNode=h,v.return=u,u.child=v,ze=u,yt=null,!0):!1;default:return!1}}function fn(u){return(u.mode&1)!==0&&(u.flags&128)===0}function qt(u){if(_t){var h=yt;if(h){var v=h;if(!Wt(u,h)){if(fn(u))throw Error(t(418));h=as(v.nextSibling);var b=ze;h&&Wt(u,h)?Jt(b,v):(u.flags=u.flags&-4097|2,_t=!1,ze=u)}}else{if(fn(u))throw Error(t(418));u.flags=u.flags&-4097|2,_t=!1,ze=u}}}function Yn(u){for(u=u.return;u!==null&&u.tag!==5&&u.tag!==3&&u.tag!==13;)u=u.return;ze=u}function Kn(u){if(u!==ze)return!1;if(!_t)return Yn(u),_t=!0,!1;var h;if((h=u.tag!==3)&&!(h=u.tag!==5)&&(h=u.type,h=h!=="head"&&h!=="body"&&!j0(u.type,u.memoizedProps)),h&&(h=yt)){if(fn(u))throw qn(),Error(t(418));for(;h;)Jt(u,h),h=as(h.nextSibling)}if(Yn(u),u.tag===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(t(317));e:{for(u=u.nextSibling,h=0;u;){if(u.nodeType===8){var v=u.data;if(v==="/$"){if(h===0){yt=as(u.nextSibling);break e}h--}else v!=="$"&&v!=="$!"&&v!=="$?"||h++}u=u.nextSibling}yt=null}}else yt=ze?as(u.stateNode.nextSibling):null;return!0}function qn(){for(var u=yt;u;)u=as(u.nextSibling)}function Ln(){yt=ze=null,_t=!1}function hr(u){bt===null?bt=[u]:bt.push(u)}var gr=M.ReactCurrentBatchConfig;function wn(u,h,v){if(u=v.ref,u!==null&&typeof u!="function"&&typeof u!="object"){if(v._owner){if(v=v._owner,v){if(v.tag!==1)throw Error(t(309));var b=v.stateNode}if(!b)throw Error(t(147,u));var P=b,B=""+u;return h!==null&&h.ref!==null&&typeof h.ref=="function"&&h.ref._stringRef===B?h.ref:(h=function(ne){var Me=P.refs;ne===null?delete Me[B]:Me[B]=ne},h._stringRef=B,h)}if(typeof u!="string")throw Error(t(284));if(!v._owner)throw Error(t(290,u))}return u}function Or(u,h){throw u=Object.prototype.toString.call(h),Error(t(31,u==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":u))}function os(u){var h=u._init;return h(u._payload)}function Qr(u){function h(st,Ge){if(u){var ut=st.deletions;ut===null?(st.deletions=[Ge],st.flags|=16):ut.push(Ge)}}function v(st,Ge){if(!u)return null;for(;Ge!==null;)h(st,Ge),Ge=Ge.sibling;return null}function b(st,Ge){for(st=new Map;Ge!==null;)Ge.key!==null?st.set(Ge.key,Ge):st.set(Ge.index,Ge),Ge=Ge.sibling;return st}function P(st,Ge){return st=Du(st,Ge),st.index=0,st.sibling=null,st}function B(st,Ge,ut){return st.index=ut,u?(ut=st.alternate,ut!==null?(ut=ut.index,ut<Ge?(st.flags|=2,Ge):ut):(st.flags|=2,Ge)):(st.flags|=1048576,Ge)}function ne(st){return u&&st.alternate===null&&(st.flags|=2),st}function Me(st,Ge,ut,zt){return Ge===null||Ge.tag!==6?(Ge=Zv(ut,st.mode,zt),Ge.return=st,Ge):(Ge=P(Ge,ut),Ge.return=st,Ge)}function Oe(st,Ge,ut,zt){var ln=ut.type;return ln===L?Dt(st,Ge,ut.props.children,zt,ut.key):Ge!==null&&(Ge.elementType===ln||typeof ln=="object"&&ln!==null&&ln.$$typeof===ie&&os(ln)===Ge.type)?(zt=P(Ge,ut.props),zt.ref=wn(st,Ge,ut),zt.return=st,zt):(zt=hg(ut.type,ut.key,ut.props,null,st.mode,zt),zt.ref=wn(st,Ge,ut),zt.return=st,zt)}function ft(st,Ge,ut,zt){return Ge===null||Ge.tag!==4||Ge.stateNode.containerInfo!==ut.containerInfo||Ge.stateNode.implementation!==ut.implementation?(Ge=Qv(ut,st.mode,zt),Ge.return=st,Ge):(Ge=P(Ge,ut.children||[]),Ge.return=st,Ge)}function Dt(st,Ge,ut,zt,ln){return Ge===null||Ge.tag!==7?(Ge=Qf(ut,st.mode,zt,ln),Ge.return=st,Ge):(Ge=P(Ge,ut),Ge.return=st,Ge)}function Ut(st,Ge,ut){if(typeof Ge=="string"&&Ge!==""||typeof Ge=="number")return Ge=Zv(""+Ge,st.mode,ut),Ge.return=st,Ge;if(typeof Ge=="object"&&Ge!==null){switch(Ge.$$typeof){case D:return ut=hg(Ge.type,Ge.key,Ge.props,null,st.mode,ut),ut.ref=wn(st,null,Ge),ut.return=st,ut;case U:return Ge=Qv(Ge,st.mode,ut),Ge.return=st,Ge;case ie:var zt=Ge._init;return Ut(st,zt(Ge._payload),ut)}if(Ie(Ge)||X(Ge))return Ge=Qf(Ge,st.mode,ut,null),Ge.return=st,Ge;Or(st,Ge)}return null}function Nt(st,Ge,ut,zt){var ln=Ge!==null?Ge.key:null;if(typeof ut=="string"&&ut!==""||typeof ut=="number")return ln!==null?null:Me(st,Ge,""+ut,zt);if(typeof ut=="object"&&ut!==null){switch(ut.$$typeof){case D:return ut.key===ln?Oe(st,Ge,ut,zt):null;case U:return ut.key===ln?ft(st,Ge,ut,zt):null;case ie:return ln=ut._init,Nt(st,Ge,ln(ut._payload),zt)}if(Ie(ut)||X(ut))return ln!==null?null:Dt(st,Ge,ut,zt,null);Or(st,ut)}return null}function Zt(st,Ge,ut,zt,ln){if(typeof zt=="string"&&zt!==""||typeof zt=="number")return st=st.get(ut)||null,Me(Ge,st,""+zt,ln);if(typeof zt=="object"&&zt!==null){switch(zt.$$typeof){case D:return st=st.get(zt.key===null?ut:zt.key)||null,Oe(Ge,st,zt,ln);case U:return st=st.get(zt.key===null?ut:zt.key)||null,ft(Ge,st,zt,ln);case ie:var pn=zt._init;return Zt(st,Ge,ut,pn(zt._payload),ln)}if(Ie(zt)||X(zt))return st=st.get(ut)||null,Dt(Ge,st,zt,ln,null);Or(Ge,zt)}return null}function tn(st,Ge,ut,zt){for(var ln=null,pn=null,mn=Ge,En=Ge=0,Yi=null;mn!==null&&En<ut.length;En++){mn.index>En?(Yi=mn,mn=null):Yi=mn.sibling;var sr=Nt(st,mn,ut[En],zt);if(sr===null){mn===null&&(mn=Yi);break}u&&mn&&sr.alternate===null&&h(st,mn),Ge=B(sr,Ge,En),pn===null?ln=sr:pn.sibling=sr,pn=sr,mn=Yi}if(En===ut.length)return v(st,mn),_t&&qe(st,En),ln;if(mn===null){for(;En<ut.length;En++)mn=Ut(st,ut[En],zt),mn!==null&&(Ge=B(mn,Ge,En),pn===null?ln=mn:pn.sibling=mn,pn=mn);return _t&&qe(st,En),ln}for(mn=b(st,mn);En<ut.length;En++)Yi=Zt(mn,st,En,ut[En],zt),Yi!==null&&(u&&Yi.alternate!==null&&mn.delete(Yi.key===null?En:Yi.key),Ge=B(Yi,Ge,En),pn===null?ln=Yi:pn.sibling=Yi,pn=Yi);return u&&mn.forEach(function(Iu){return h(st,Iu)}),_t&&qe(st,En),ln}function sn(st,Ge,ut,zt){var ln=X(ut);if(typeof ln!="function")throw Error(t(150));if(ut=ln.call(ut),ut==null)throw Error(t(151));for(var pn=ln=null,mn=Ge,En=Ge=0,Yi=null,sr=ut.next();mn!==null&&!sr.done;En++,sr=ut.next()){mn.index>En?(Yi=mn,mn=null):Yi=mn.sibling;var Iu=Nt(st,mn,sr.value,zt);if(Iu===null){mn===null&&(mn=Yi);break}u&&mn&&Iu.alternate===null&&h(st,mn),Ge=B(Iu,Ge,En),pn===null?ln=Iu:pn.sibling=Iu,pn=Iu,mn=Yi}if(sr.done)return v(st,mn),_t&&qe(st,En),ln;if(mn===null){for(;!sr.done;En++,sr=ut.next())sr=Ut(st,sr.value,zt),sr!==null&&(Ge=B(sr,Ge,En),pn===null?ln=sr:pn.sibling=sr,pn=sr);return _t&&qe(st,En),ln}for(mn=b(st,mn);!sr.done;En++,sr=ut.next())sr=Zt(mn,st,En,sr.value,zt),sr!==null&&(u&&sr.alternate!==null&&mn.delete(sr.key===null?En:sr.key),Ge=B(sr,Ge,En),pn===null?ln=sr:pn.sibling=sr,pn=sr);return u&&mn.forEach(function(xR){return h(st,xR)}),_t&&qe(st,En),ln}function xi(st,Ge,ut,zt){if(typeof ut=="object"&&ut!==null&&ut.type===L&&ut.key===null&&(ut=ut.props.children),typeof ut=="object"&&ut!==null){switch(ut.$$typeof){case D:e:{for(var ln=ut.key,pn=Ge;pn!==null;){if(pn.key===ln){if(ln=ut.type,ln===L){if(pn.tag===7){v(st,pn.sibling),Ge=P(pn,ut.props.children),Ge.return=st,st=Ge;break e}}else if(pn.elementType===ln||typeof ln=="object"&&ln!==null&&ln.$$typeof===ie&&os(ln)===pn.type){v(st,pn.sibling),Ge=P(pn,ut.props),Ge.ref=wn(st,pn,ut),Ge.return=st,st=Ge;break e}v(st,pn);break}else h(st,pn);pn=pn.sibling}ut.type===L?(Ge=Qf(ut.props.children,st.mode,zt,ut.key),Ge.return=st,st=Ge):(zt=hg(ut.type,ut.key,ut.props,null,st.mode,zt),zt.ref=wn(st,Ge,ut),zt.return=st,st=zt)}return ne(st);case U:e:{for(pn=ut.key;Ge!==null;){if(Ge.key===pn)if(Ge.tag===4&&Ge.stateNode.containerInfo===ut.containerInfo&&Ge.stateNode.implementation===ut.implementation){v(st,Ge.sibling),Ge=P(Ge,ut.children||[]),Ge.return=st,st=Ge;break e}else{v(st,Ge);break}else h(st,Ge);Ge=Ge.sibling}Ge=Qv(ut,st.mode,zt),Ge.return=st,st=Ge}return ne(st);case ie:return pn=ut._init,xi(st,Ge,pn(ut._payload),zt)}if(Ie(ut))return tn(st,Ge,ut,zt);if(X(ut))return sn(st,Ge,ut,zt);Or(st,ut)}return typeof ut=="string"&&ut!==""||typeof ut=="number"?(ut=""+ut,Ge!==null&&Ge.tag===6?(v(st,Ge.sibling),Ge=P(Ge,ut),Ge.return=st,st=Ge):(v(st,Ge),Ge=Zv(ut,st.mode,zt),Ge.return=st,st=Ge),ne(st)):v(st,Ge)}return xi}var pi=Qr(!0),rr=Qr(!1),qi=za(null),Xi=null,Ur=null,mi=null;function Ni(){mi=Ur=Xi=null}function ys(u){var h=qi.current;fr(qi),u._currentValue=h}function ga(u,h,v){for(;u!==null;){var b=u.alternate;if((u.childLanes&h)!==h?(u.childLanes|=h,b!==null&&(b.childLanes|=h)):b!==null&&(b.childLanes&h)!==h&&(b.childLanes|=h),u===v)break;u=u.return}}function Br(u,h){Xi=u,mi=Ur=null,u=u.dependencies,u!==null&&u.firstContext!==null&&((u.lanes&h)!==0&&(ya=!0),u.firstContext=null)}function ii(u){var h=u._currentValue;if(mi!==u)if(u={context:u,memoizedValue:h,next:null},Ur===null){if(Xi===null)throw Error(t(308));Ur=u,Xi.dependencies={lanes:0,firstContext:u}}else Ur=Ur.next=u;return h}var Ks=null;function Pl(u){Ks===null?Ks=[u]:Ks.push(u)}function Uo(u,h,v,b){var P=h.interleaved;return P===null?(v.next=v,Pl(h)):(v.next=P.next,P.next=v),h.interleaved=v,ir(u,b)}function ir(u,h){u.lanes|=h;var v=u.alternate;for(v!==null&&(v.lanes|=h),v=u,u=u.return;u!==null;)u.childLanes|=h,v=u.alternate,v!==null&&(v.childLanes|=h),v=u,u=u.return;return v.tag===3?v.stateNode:null}var co=!1;function fd(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function X0(u,h){u=u.updateQueue,h.updateQueue===u&&(h.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,effects:u.effects})}function xa(u,h){return{eventTime:u,lane:h,tag:0,payload:null,callback:null,next:null}}function va(u,h,v){var b=u.updateQueue;if(b===null)return null;if(b=b.shared,(er&2)!==0){var P=b.pending;return P===null?h.next=h:(h.next=P.next,P.next=h),b.pending=h,ir(u,v)}return P=b.interleaved,P===null?(h.next=h,Pl(b)):(h.next=P.next,P.next=h),b.interleaved=h,ir(u,v)}function yc(u,h,v){if(h=h.updateQueue,h!==null&&(h=h.shared,(v&4194240)!==0)){var b=h.lanes;b&=u.pendingLanes,v|=b,h.lanes=v,Zr(u,v)}}function _a(u,h){var v=u.updateQueue,b=u.alternate;if(b!==null&&(b=b.updateQueue,v===b)){var P=null,B=null;if(v=v.firstBaseUpdate,v!==null){do{var ne={eventTime:v.eventTime,lane:v.lane,tag:v.tag,payload:v.payload,callback:v.callback,next:null};B===null?P=B=ne:B=B.next=ne,v=v.next}while(v!==null);B===null?P=B=h:B=B.next=h}else P=B=h;v={baseState:b.baseState,firstBaseUpdate:P,lastBaseUpdate:B,shared:b.shared,effects:b.effects},u.updateQueue=v;return}u=v.lastBaseUpdate,u===null?v.firstBaseUpdate=h:u.next=h,v.lastBaseUpdate=h}function Bo(u,h,v,b){var P=u.updateQueue;co=!1;var B=P.firstBaseUpdate,ne=P.lastBaseUpdate,Me=P.shared.pending;if(Me!==null){P.shared.pending=null;var Oe=Me,ft=Oe.next;Oe.next=null,ne===null?B=ft:ne.next=ft,ne=Oe;var Dt=u.alternate;Dt!==null&&(Dt=Dt.updateQueue,Me=Dt.lastBaseUpdate,Me!==ne&&(Me===null?Dt.firstBaseUpdate=ft:Me.next=ft,Dt.lastBaseUpdate=Oe))}if(B!==null){var Ut=P.baseState;ne=0,Dt=ft=Oe=null,Me=B;do{var Nt=Me.lane,Zt=Me.eventTime;if((b&Nt)===Nt){Dt!==null&&(Dt=Dt.next={eventTime:Zt,lane:0,tag:Me.tag,payload:Me.payload,callback:Me.callback,next:null});e:{var tn=u,sn=Me;switch(Nt=h,Zt=v,sn.tag){case 1:if(tn=sn.payload,typeof tn=="function"){Ut=tn.call(Zt,Ut,Nt);break e}Ut=tn;break e;case 3:tn.flags=tn.flags&-65537|128;case 0:if(tn=sn.payload,Nt=typeof tn=="function"?tn.call(Zt,Ut,Nt):tn,Nt==null)break e;Ut=pe({},Ut,Nt);break e;case 2:co=!0}}Me.callback!==null&&Me.lane!==0&&(u.flags|=64,Nt=P.effects,Nt===null?P.effects=[Me]:Nt.push(Me))}else Zt={eventTime:Zt,lane:Nt,tag:Me.tag,payload:Me.payload,callback:Me.callback,next:null},Dt===null?(ft=Dt=Zt,Oe=Ut):Dt=Dt.next=Zt,ne|=Nt;if(Me=Me.next,Me===null){if(Me=P.shared.pending,Me===null)break;Nt=Me,Me=Nt.next,Nt.next=null,P.lastBaseUpdate=Nt,P.shared.pending=null}}while(!0);if(Dt===null&&(Oe=Ut),P.baseState=Oe,P.firstBaseUpdate=ft,P.lastBaseUpdate=Dt,h=P.shared.interleaved,h!==null){P=h;do ne|=P.lane,P=P.next;while(P!==h)}else B===null&&(P.shared.lanes=0);Yf|=ne,u.lanes=ne,u.memoizedState=Ut}}function wc(u,h,v){if(u=h.effects,h.effects=null,u!==null)for(h=0;h<u.length;h++){var b=u[h],P=b.callback;if(P!==null){if(b.callback=null,b=v,typeof P!="function")throw Error(t(191,P));P.call(b)}}}var Eu={},Js=za(Eu),Au=za(Eu),kl=za(Eu);function zo(u){if(u===Eu)throw Error(t(174));return u}function Tu(u,h){switch(mr(kl,h),mr(Au,u),mr(Js,Eu),u=h.nodeType,u){case 9:case 11:h=(h=h.documentElement)?h.namespaceURI:Qe(null,"");break;default:u=u===8?h.parentNode:h,h=u.namespaceURI||null,u=u.tagName,h=Qe(h,u)}fr(Js),mr(Js,h)}function uo(){fr(Js),fr(Au),fr(kl)}function Xm(u){zo(kl.current);var h=zo(Js.current),v=Qe(h,u.type);h!==v&&(mr(Au,u),mr(Js,v))}function $0(u){Au.current===u&&(fr(Js),fr(Au))}var Pr=za(0);function Ha(u){for(var h=u;h!==null;){if(h.tag===13){var v=h.memoizedState;if(v!==null&&(v=v.dehydrated,v===null||v.data==="$?"||v.data==="$!"))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var Y0=[];function K0(){for(var u=0;u<Y0.length;u++)Y0[u]._workInProgressVersionPrimary=null;Y0.length=0}var hd=M.ReactCurrentDispatcher,dd=M.ReactCurrentBatchConfig,fo=0,Lr=null,si=null,ei=null,Mu=!1,Ho=!1,Cu=0,Ev=0;function gi(){throw Error(t(321))}function pd(u,h){if(h===null)return!1;for(var v=0;v<h.length&&v<u.length;v++)if(!Qn(u[v],h[v]))return!1;return!0}function qf(u,h,v,b,P,B){if(fo=B,Lr=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,hd.current=u===null||u.memoizedState===null?Vk:Wk,u=v(b,P),Ho){B=0;do{if(Ho=!1,Cu=0,25<=B)throw Error(t(301));B+=1,ei=si=null,h.updateQueue=null,hd.current=Gk,u=v(b,P)}while(Ho)}if(hd.current=Zm,h=si!==null&&si.next!==null,fo=0,ei=si=Lr=null,Mu=!1,h)throw Error(t(300));return u}function ho(){var u=Cu!==0;return Cu=0,u}function ja(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ei===null?Lr.memoizedState=ei=u:ei=ei.next=u,ei}function Zs(){if(si===null){var u=Lr.alternate;u=u!==null?u.memoizedState:null}else u=si.next;var h=ei===null?Lr.memoizedState:ei.next;if(h!==null)ei=h,si=u;else{if(u===null)throw Error(t(310));si=u,u={memoizedState:si.memoizedState,baseState:si.baseState,baseQueue:si.baseQueue,queue:si.queue,next:null},ei===null?Lr.memoizedState=ei=u:ei=ei.next=u}return ei}function Xf(u,h){return typeof h=="function"?h(u):h}function md(u){var h=Zs(),v=h.queue;if(v===null)throw Error(t(311));v.lastRenderedReducer=u;var b=si,P=b.baseQueue,B=v.pending;if(B!==null){if(P!==null){var ne=P.next;P.next=B.next,B.next=ne}b.baseQueue=P=B,v.pending=null}if(P!==null){B=P.next,b=b.baseState;var Me=ne=null,Oe=null,ft=B;do{var Dt=ft.lane;if((fo&Dt)===Dt)Oe!==null&&(Oe=Oe.next={lane:0,action:ft.action,hasEagerState:ft.hasEagerState,eagerState:ft.eagerState,next:null}),b=ft.hasEagerState?ft.eagerState:u(b,ft.action);else{var Ut={lane:Dt,action:ft.action,hasEagerState:ft.hasEagerState,eagerState:ft.eagerState,next:null};Oe===null?(Me=Oe=Ut,ne=b):Oe=Oe.next=Ut,Lr.lanes|=Dt,Yf|=Dt}ft=ft.next}while(ft!==null&&ft!==B);Oe===null?ne=b:Oe.next=Me,Qn(b,h.memoizedState)||(ya=!0),h.memoizedState=b,h.baseState=ne,h.baseQueue=Oe,v.lastRenderedState=b}if(u=v.interleaved,u!==null){P=u;do B=P.lane,Lr.lanes|=B,Yf|=B,P=P.next;while(P!==u)}else P===null&&(v.lanes=0);return[h.memoizedState,v.dispatch]}function Rl(u){var h=Zs(),v=h.queue;if(v===null)throw Error(t(311));v.lastRenderedReducer=u;var b=v.dispatch,P=v.pending,B=h.memoizedState;if(P!==null){v.pending=null;var ne=P=P.next;do B=u(B,ne.action),ne=ne.next;while(ne!==P);Qn(B,h.memoizedState)||(ya=!0),h.memoizedState=B,h.baseQueue===null&&(h.baseState=B),v.lastRenderedState=B}return[B,b]}function $m(){}function J0(u,h){var v=Lr,b=Zs(),P=h(),B=!Qn(b.memoizedState,P);if(B&&(b.memoizedState=P,ya=!0),b=b.queue,vd(Km.bind(null,v,b,u),[u]),b.getSnapshot!==h||B||ei!==null&&ei.memoizedState.tag&1){if(v.flags|=2048,Qs(9,Z0.bind(null,v,b,P,h),void 0,null),$i===null)throw Error(t(349));(fo&30)!==0||Ym(v,h,P)}return P}function Ym(u,h,v){u.flags|=16384,u={getSnapshot:h,value:v},h=Lr.updateQueue,h===null?(h={lastEffect:null,stores:null},Lr.updateQueue=h,h.stores=[u]):(v=h.stores,v===null?h.stores=[u]:v.push(u))}function Z0(u,h,v,b){h.value=v,h.getSnapshot=b,Pu(h)&&gd(u)}function Km(u,h,v){return v(function(){Pu(h)&&gd(u)})}function Pu(u){var h=u.getSnapshot;u=u.value;try{var v=h();return!Qn(u,v)}catch{return!0}}function gd(u){var h=ir(u,1);h!==null&&qo(h,u,1,-1)}function $f(u){var h=ja();return typeof u=="function"&&(u=u()),h.memoizedState=h.baseState=u,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xf,lastRenderedState:u},h.queue=u,u=u.dispatch=jk.bind(null,Lr,u),[h.memoizedState,u]}function Qs(u,h,v,b){return u={tag:u,create:h,destroy:v,deps:b,next:null},h=Lr.updateQueue,h===null?(h={lastEffect:null,stores:null},Lr.updateQueue=h,h.lastEffect=u.next=u):(v=h.lastEffect,v===null?h.lastEffect=u.next=u:(b=v.next,v.next=u,u.next=b,h.lastEffect=u)),u}function jo(){return Zs().memoizedState}function Va(u,h,v,b){var P=ja();Lr.flags|=u,P.memoizedState=Qs(1|h,v,void 0,b===void 0?null:b)}function bc(u,h,v,b){var P=Zs();b=b===void 0?null:b;var B=void 0;if(si!==null){var ne=si.memoizedState;if(B=ne.destroy,b!==null&&pd(b,ne.deps)){P.memoizedState=Qs(h,v,B,b);return}}Lr.flags|=u,P.memoizedState=Qs(1|h,v,B,b)}function xd(u,h){return Va(8390656,8,u,h)}function vd(u,h){return bc(2048,8,u,h)}function Jm(u,h){return bc(4,2,u,h)}function _d(u,h){return bc(4,4,u,h)}function yd(u,h){if(typeof h=="function")return u=u(),h(u),function(){h(null)};if(h!=null)return u=u(),h.current=u,function(){h.current=null}}function iS(u,h,v){return v=v!=null?v.concat([u]):null,bc(4,4,yd.bind(null,h,u),v)}function Av(){}function sS(u,h){var v=Zs();h=h===void 0?null:h;var b=v.memoizedState;return b!==null&&h!==null&&pd(h,b[1])?b[0]:(v.memoizedState=[u,h],u)}function aS(u,h){var v=Zs();h=h===void 0?null:h;var b=v.memoizedState;return b!==null&&h!==null&&pd(h,b[1])?b[0]:(u=u(),v.memoizedState=[u,h],u)}function oS(u,h,v){return(fo&21)===0?(u.baseState&&(u.baseState=!1,ya=!0),u.memoizedState=v):(Qn(v,h)||(v=nr(),Lr.lanes|=v,Yf|=v,u.baseState=!0),h)}function zk(u,h){var v=jn;jn=v!==0&&4>v?v:4,u(!0);var b=dd.transition;dd.transition={};try{u(!1),h()}finally{jn=v,dd.transition=b}}function lS(){return Zs().memoizedState}function Hk(u,h,v){var b=Nu(u);if(v={lane:b,action:v,hasEagerState:!1,eagerState:null,next:null},cS(u))uS(h,v);else if(v=Uo(u,h,v,b),v!==null){var P=ta();qo(v,u,b,P),fS(v,h,b)}}function jk(u,h,v){var b=Nu(u),P={lane:b,action:v,hasEagerState:!1,eagerState:null,next:null};if(cS(u))uS(h,P);else{var B=u.alternate;if(u.lanes===0&&(B===null||B.lanes===0)&&(B=h.lastRenderedReducer,B!==null))try{var ne=h.lastRenderedState,Me=B(ne,v);if(P.hasEagerState=!0,P.eagerState=Me,Qn(Me,ne)){var Oe=h.interleaved;Oe===null?(P.next=P,Pl(h)):(P.next=Oe.next,Oe.next=P),h.interleaved=P;return}}catch{}finally{}v=Uo(u,h,P,b),v!==null&&(P=ta(),qo(v,u,b,P),fS(v,h,b))}}function cS(u){var h=u.alternate;return u===Lr||h!==null&&h===Lr}function uS(u,h){Ho=Mu=!0;var v=u.pending;v===null?h.next=h:(h.next=v.next,v.next=h),u.pending=h}function fS(u,h,v){if((v&4194240)!==0){var b=h.lanes;b&=u.pendingLanes,v|=b,h.lanes=v,Zr(u,v)}}var Zm={readContext:ii,useCallback:gi,useContext:gi,useEffect:gi,useImperativeHandle:gi,useInsertionEffect:gi,useLayoutEffect:gi,useMemo:gi,useReducer:gi,useRef:gi,useState:gi,useDebugValue:gi,useDeferredValue:gi,useTransition:gi,useMutableSource:gi,useSyncExternalStore:gi,useId:gi,unstable_isNewReconciler:!1},Vk={readContext:ii,useCallback:function(u,h){return ja().memoizedState=[u,h===void 0?null:h],u},useContext:ii,useEffect:xd,useImperativeHandle:function(u,h,v){return v=v!=null?v.concat([u]):null,Va(4194308,4,yd.bind(null,h,u),v)},useLayoutEffect:function(u,h){return Va(4194308,4,u,h)},useInsertionEffect:function(u,h){return Va(4,2,u,h)},useMemo:function(u,h){var v=ja();return h=h===void 0?null:h,u=u(),v.memoizedState=[u,h],u},useReducer:function(u,h,v){var b=ja();return h=v!==void 0?v(h):h,b.memoizedState=b.baseState=h,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:h},b.queue=u,u=u.dispatch=Hk.bind(null,Lr,u),[b.memoizedState,u]},useRef:function(u){var h=ja();return u={current:u},h.memoizedState=u},useState:$f,useDebugValue:Av,useDeferredValue:function(u){return ja().memoizedState=u},useTransition:function(){var u=$f(!1),h=u[0];return u=zk.bind(null,u[1]),ja().memoizedState=u,[h,u]},useMutableSource:function(){},useSyncExternalStore:function(u,h,v){var b=Lr,P=ja();if(_t){if(v===void 0)throw Error(t(407));v=v()}else{if(v=h(),$i===null)throw Error(t(349));(fo&30)!==0||Ym(b,h,v)}P.memoizedState=v;var B={value:v,getSnapshot:h};return P.queue=B,xd(Km.bind(null,b,B,u),[u]),b.flags|=2048,Qs(9,Z0.bind(null,b,B,v,h),void 0,null),v},useId:function(){var u=ja(),h=$i.identifierPrefix;if(_t){var v=nt,b=tt;v=(b&~(1<<32-hn(b)-1)).toString(32)+v,h=":"+h+"R"+v,v=Cu++,0<v&&(h+="H"+v.toString(32)),h+=":"}else v=Ev++,h=":"+h+"r"+v.toString(32)+":";return u.memoizedState=h},unstable_isNewReconciler:!1},Wk={readContext:ii,useCallback:sS,useContext:ii,useEffect:vd,useImperativeHandle:iS,useInsertionEffect:Jm,useLayoutEffect:_d,useMemo:aS,useReducer:md,useRef:jo,useState:function(){return md(Xf)},useDebugValue:Av,useDeferredValue:function(u){var h=Zs();return oS(h,si.memoizedState,u)},useTransition:function(){var u=md(Xf)[0],h=Zs().memoizedState;return[u,h]},useMutableSource:$m,useSyncExternalStore:J0,useId:lS,unstable_isNewReconciler:!1},Gk={readContext:ii,useCallback:sS,useContext:ii,useEffect:vd,useImperativeHandle:iS,useInsertionEffect:Jm,useLayoutEffect:_d,useMemo:aS,useReducer:Rl,useRef:jo,useState:function(){return Rl(Xf)},useDebugValue:Av,useDeferredValue:function(u){var h=Zs();return si===null?h.memoizedState=u:oS(h,si.memoizedState,u)},useTransition:function(){var u=Rl(Xf)[0],h=Zs().memoizedState;return[u,h]},useMutableSource:$m,useSyncExternalStore:J0,useId:lS,unstable_isNewReconciler:!1};function Vo(u,h){if(u&&u.defaultProps){h=pe({},h),u=u.defaultProps;for(var v in u)h[v]===void 0&&(h[v]=u[v]);return h}return h}function Tv(u,h,v,b){h=u.memoizedState,v=v(b,h),v=v==null?h:pe({},h,v),u.memoizedState=v,u.lanes===0&&(u.updateQueue.baseState=v)}var Qm={isMounted:function(u){return(u=u._reactInternals)?Ee(u)===u:!1},enqueueSetState:function(u,h,v){u=u._reactInternals;var b=ta(),P=Nu(u),B=xa(b,P);B.payload=h,v!=null&&(B.callback=v),h=va(u,B,P),h!==null&&(qo(h,u,P,b),yc(h,u,P))},enqueueReplaceState:function(u,h,v){u=u._reactInternals;var b=ta(),P=Nu(u),B=xa(b,P);B.tag=1,B.payload=h,v!=null&&(B.callback=v),h=va(u,B,P),h!==null&&(qo(h,u,P,b),yc(h,u,P))},enqueueForceUpdate:function(u,h){u=u._reactInternals;var v=ta(),b=Nu(u),P=xa(v,b);P.tag=2,h!=null&&(P.callback=h),h=va(u,P,b),h!==null&&(qo(h,u,b,v),yc(h,u,b))}};function hS(u,h,v,b,P,B,ne){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(b,B,ne):h.prototype&&h.prototype.isPureReactComponent?!Lo(v,b)||!Lo(P,B):!0}function dS(u,h,v){var b=!1,P=Cl,B=h.contextType;return typeof B=="object"&&B!==null?B=ii(B):(P=_s(h)?vc:Li.current,b=h.contextTypes,B=(b=b!=null)?Su(u,P):Cl),h=new h(v,B),u.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Qm,u.stateNode=h,h._reactInternals=u,b&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=P,u.__reactInternalMemoizedMaskedChildContext=B),h}function pS(u,h,v,b){u=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(v,b),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(v,b),h.state!==u&&Qm.enqueueReplaceState(h,h.state,null)}function Mv(u,h,v,b){var P=u.stateNode;P.props=v,P.state=u.memoizedState,P.refs={},fd(u);var B=h.contextType;typeof B=="object"&&B!==null?P.context=ii(B):(B=_s(h)?vc:Li.current,P.context=Su(u,B)),P.state=u.memoizedState,B=h.getDerivedStateFromProps,typeof B=="function"&&(Tv(u,h,B,v),P.state=u.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof P.getSnapshotBeforeUpdate=="function"||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(h=P.state,typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount(),h!==P.state&&Qm.enqueueReplaceState(P,P.state,null),Bo(u,v,P,b),P.state=u.memoizedState),typeof P.componentDidMount=="function"&&(u.flags|=4194308)}function wd(u,h){try{var v="",b=h;do v+=V(b),b=b.return;while(b);var P=v}catch(B){P=`
Error generating stack: `+B.message+`
`+B.stack}return{value:u,source:h,stack:P,digest:null}}function Cv(u,h,v){return{value:u,source:null,stack:v??null,digest:h??null}}function Pv(u,h){try{console.error(h.value)}catch(v){setTimeout(function(){throw v})}}var qk=typeof WeakMap=="function"?WeakMap:Map;function mS(u,h,v){v=xa(-1,v),v.tag=3,v.payload={element:null};var b=h.value;return v.callback=function(){ag||(ag=!0,Wv=b),Pv(u,h)},v}function gS(u,h,v){v=xa(-1,v),v.tag=3;var b=u.type.getDerivedStateFromError;if(typeof b=="function"){var P=h.value;v.payload=function(){return b(P)},v.callback=function(){Pv(u,h)}}var B=u.stateNode;return B!==null&&typeof B.componentDidCatch=="function"&&(v.callback=function(){Pv(u,h),typeof b!="function"&&(Ru===null?Ru=new Set([this]):Ru.add(this));var ne=h.stack;this.componentDidCatch(h.value,{componentStack:ne!==null?ne:""})}),v}function xS(u,h,v){var b=u.pingCache;if(b===null){b=u.pingCache=new qk;var P=new Set;b.set(h,P)}else P=b.get(h),P===void 0&&(P=new Set,b.set(h,P));P.has(v)||(P.add(v),u=aR.bind(null,u,h,v),h.then(u,u))}function vS(u){do{var h;if((h=u.tag===13)&&(h=u.memoizedState,h=h!==null?h.dehydrated!==null:!0),h)return u;u=u.return}while(u!==null);return null}function _S(u,h,v,b,P){return(u.mode&1)===0?(u===h?u.flags|=65536:(u.flags|=128,v.flags|=131072,v.flags&=-52805,v.tag===1&&(v.alternate===null?v.tag=17:(h=xa(-1,1),h.tag=2,va(v,h,1))),v.lanes|=1),u):(u.flags|=65536,u.lanes=P,u)}var Xk=M.ReactCurrentOwner,ya=!1;function ea(u,h,v,b){h.child=u===null?rr(h,null,v,b):pi(h,u.child,v,b)}function yS(u,h,v,b,P){v=v.render;var B=h.ref;return Br(h,P),b=qf(u,h,v,b,B,P),v=ho(),u!==null&&!ya?(h.updateQueue=u.updateQueue,h.flags&=-2053,u.lanes&=~P,Sc(u,h,P)):(_t&&v&&pt(h),h.flags|=1,ea(u,h,b,P),h.child)}function wS(u,h,v,b,P){if(u===null){var B=v.type;return typeof B=="function"&&!Jv(B)&&B.defaultProps===void 0&&v.compare===null&&v.defaultProps===void 0?(h.tag=15,h.type=B,bS(u,h,B,b,P)):(u=hg(v.type,null,b,h,h.mode,P),u.ref=h.ref,u.return=h,h.child=u)}if(B=u.child,(u.lanes&P)===0){var ne=B.memoizedProps;if(v=v.compare,v=v!==null?v:Lo,v(ne,b)&&u.ref===h.ref)return Sc(u,h,P)}return h.flags|=1,u=Du(B,b),u.ref=h.ref,u.return=h,h.child=u}function bS(u,h,v,b,P){if(u!==null){var B=u.memoizedProps;if(Lo(B,b)&&u.ref===h.ref)if(ya=!1,h.pendingProps=b=B,(u.lanes&P)!==0)(u.flags&131072)!==0&&(ya=!0);else return h.lanes=u.lanes,Sc(u,h,P)}return kv(u,h,v,b,P)}function SS(u,h,v){var b=h.pendingProps,P=b.children,B=u!==null?u.memoizedState:null;if(b.mode==="hidden")if((h.mode&1)===0)h.memoizedState={baseLanes:0,cachePool:null,transitions:null},mr(Sd,Wa),Wa|=v;else{if((v&1073741824)===0)return u=B!==null?B.baseLanes|v:v,h.lanes=h.childLanes=1073741824,h.memoizedState={baseLanes:u,cachePool:null,transitions:null},h.updateQueue=null,mr(Sd,Wa),Wa|=u,null;h.memoizedState={baseLanes:0,cachePool:null,transitions:null},b=B!==null?B.baseLanes:v,mr(Sd,Wa),Wa|=b}else B!==null?(b=B.baseLanes|v,h.memoizedState=null):b=v,mr(Sd,Wa),Wa|=b;return ea(u,h,P,v),h.child}function ES(u,h){var v=h.ref;(u===null&&v!==null||u!==null&&u.ref!==v)&&(h.flags|=512,h.flags|=2097152)}function kv(u,h,v,b,P){var B=_s(v)?vc:Li.current;return B=Su(h,B),Br(h,P),v=qf(u,h,v,b,B,P),b=ho(),u!==null&&!ya?(h.updateQueue=u.updateQueue,h.flags&=-2053,u.lanes&=~P,Sc(u,h,P)):(_t&&b&&pt(h),h.flags|=1,ea(u,h,v,P),h.child)}function AS(u,h,v,b,P){if(_s(v)){var B=!0;_c(h)}else B=!1;if(Br(h,P),h.stateNode===null)tg(u,h),dS(h,v,b),Mv(h,v,b,P),b=!0;else if(u===null){var ne=h.stateNode,Me=h.memoizedProps;ne.props=Me;var Oe=ne.context,ft=v.contextType;typeof ft=="object"&&ft!==null?ft=ii(ft):(ft=_s(v)?vc:Li.current,ft=Su(h,ft));var Dt=v.getDerivedStateFromProps,Ut=typeof Dt=="function"||typeof ne.getSnapshotBeforeUpdate=="function";Ut||typeof ne.UNSAFE_componentWillReceiveProps!="function"&&typeof ne.componentWillReceiveProps!="function"||(Me!==b||Oe!==ft)&&pS(h,ne,b,ft),co=!1;var Nt=h.memoizedState;ne.state=Nt,Bo(h,b,ne,P),Oe=h.memoizedState,Me!==b||Nt!==Oe||vs.current||co?(typeof Dt=="function"&&(Tv(h,v,Dt,b),Oe=h.memoizedState),(Me=co||hS(h,v,Me,b,Nt,Oe,ft))?(Ut||typeof ne.UNSAFE_componentWillMount!="function"&&typeof ne.componentWillMount!="function"||(typeof ne.componentWillMount=="function"&&ne.componentWillMount(),typeof ne.UNSAFE_componentWillMount=="function"&&ne.UNSAFE_componentWillMount()),typeof ne.componentDidMount=="function"&&(h.flags|=4194308)):(typeof ne.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=b,h.memoizedState=Oe),ne.props=b,ne.state=Oe,ne.context=ft,b=Me):(typeof ne.componentDidMount=="function"&&(h.flags|=4194308),b=!1)}else{ne=h.stateNode,X0(u,h),Me=h.memoizedProps,ft=h.type===h.elementType?Me:Vo(h.type,Me),ne.props=ft,Ut=h.pendingProps,Nt=ne.context,Oe=v.contextType,typeof Oe=="object"&&Oe!==null?Oe=ii(Oe):(Oe=_s(v)?vc:Li.current,Oe=Su(h,Oe));var Zt=v.getDerivedStateFromProps;(Dt=typeof Zt=="function"||typeof ne.getSnapshotBeforeUpdate=="function")||typeof ne.UNSAFE_componentWillReceiveProps!="function"&&typeof ne.componentWillReceiveProps!="function"||(Me!==Ut||Nt!==Oe)&&pS(h,ne,b,Oe),co=!1,Nt=h.memoizedState,ne.state=Nt,Bo(h,b,ne,P);var tn=h.memoizedState;Me!==Ut||Nt!==tn||vs.current||co?(typeof Zt=="function"&&(Tv(h,v,Zt,b),tn=h.memoizedState),(ft=co||hS(h,v,ft,b,Nt,tn,Oe)||!1)?(Dt||typeof ne.UNSAFE_componentWillUpdate!="function"&&typeof ne.componentWillUpdate!="function"||(typeof ne.componentWillUpdate=="function"&&ne.componentWillUpdate(b,tn,Oe),typeof ne.UNSAFE_componentWillUpdate=="function"&&ne.UNSAFE_componentWillUpdate(b,tn,Oe)),typeof ne.componentDidUpdate=="function"&&(h.flags|=4),typeof ne.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof ne.componentDidUpdate!="function"||Me===u.memoizedProps&&Nt===u.memoizedState||(h.flags|=4),typeof ne.getSnapshotBeforeUpdate!="function"||Me===u.memoizedProps&&Nt===u.memoizedState||(h.flags|=1024),h.memoizedProps=b,h.memoizedState=tn),ne.props=b,ne.state=tn,ne.context=Oe,b=ft):(typeof ne.componentDidUpdate!="function"||Me===u.memoizedProps&&Nt===u.memoizedState||(h.flags|=4),typeof ne.getSnapshotBeforeUpdate!="function"||Me===u.memoizedProps&&Nt===u.memoizedState||(h.flags|=1024),b=!1)}return Rv(u,h,v,b,B,P)}function Rv(u,h,v,b,P,B){ES(u,h);var ne=(h.flags&128)!==0;if(!b&&!ne)return P&&qm(h,v,!1),Sc(u,h,B);b=h.stateNode,Xk.current=h;var Me=ne&&typeof v.getDerivedStateFromError!="function"?null:b.render();return h.flags|=1,u!==null&&ne?(h.child=pi(h,u.child,null,B),h.child=pi(h,null,Me,B)):ea(u,h,Me,B),h.memoizedState=b.state,P&&qm(h,v,!0),h.child}function TS(u){var h=u.stateNode;h.pendingContext?Gm(u,h.pendingContext,h.pendingContext!==h.context):h.context&&Gm(u,h.context,!1),Tu(u,h.containerInfo)}function MS(u,h,v,b,P){return Ln(),hr(P),h.flags|=256,ea(u,h,v,b),h.child}var Lv={dehydrated:null,treeContext:null,retryLane:0};function Nv(u){return{baseLanes:u,cachePool:null,transitions:null}}function CS(u,h,v){var b=h.pendingProps,P=Pr.current,B=!1,ne=(h.flags&128)!==0,Me;if((Me=ne)||(Me=u!==null&&u.memoizedState===null?!1:(P&2)!==0),Me?(B=!0,h.flags&=-129):(u===null||u.memoizedState!==null)&&(P|=1),mr(Pr,P&1),u===null)return qt(h),u=h.memoizedState,u!==null&&(u=u.dehydrated,u!==null)?((h.mode&1)===0?h.lanes=1:u.data==="$!"?h.lanes=8:h.lanes=1073741824,null):(ne=b.children,u=b.fallback,B?(b=h.mode,B=h.child,ne={mode:"hidden",children:ne},(b&1)===0&&B!==null?(B.childLanes=0,B.pendingProps=ne):B=dg(ne,b,0,null),u=Qf(u,b,v,null),B.return=h,u.return=h,B.sibling=u,h.child=B,h.child.memoizedState=Nv(v),h.memoizedState=Lv,u):Fv(h,ne));if(P=u.memoizedState,P!==null&&(Me=P.dehydrated,Me!==null))return $k(u,h,ne,b,Me,P,v);if(B){B=b.fallback,ne=h.mode,P=u.child,Me=P.sibling;var Oe={mode:"hidden",children:b.children};return(ne&1)===0&&h.child!==P?(b=h.child,b.childLanes=0,b.pendingProps=Oe,h.deletions=null):(b=Du(P,Oe),b.subtreeFlags=P.subtreeFlags&14680064),Me!==null?B=Du(Me,B):(B=Qf(B,ne,v,null),B.flags|=2),B.return=h,b.return=h,b.sibling=B,h.child=b,b=B,B=h.child,ne=u.child.memoizedState,ne=ne===null?Nv(v):{baseLanes:ne.baseLanes|v,cachePool:null,transitions:ne.transitions},B.memoizedState=ne,B.childLanes=u.childLanes&~v,h.memoizedState=Lv,b}return B=u.child,u=B.sibling,b=Du(B,{mode:"visible",children:b.children}),(h.mode&1)===0&&(b.lanes=v),b.return=h,b.sibling=null,u!==null&&(v=h.deletions,v===null?(h.deletions=[u],h.flags|=16):v.push(u)),h.child=b,h.memoizedState=null,b}function Fv(u,h){return h=dg({mode:"visible",children:h},u.mode,0,null),h.return=u,u.child=h}function eg(u,h,v,b){return b!==null&&hr(b),pi(h,u.child,null,v),u=Fv(h,h.pendingProps.children),u.flags|=2,h.memoizedState=null,u}function $k(u,h,v,b,P,B,ne){if(v)return h.flags&256?(h.flags&=-257,b=Cv(Error(t(422))),eg(u,h,ne,b)):h.memoizedState!==null?(h.child=u.child,h.flags|=128,null):(B=b.fallback,P=h.mode,b=dg({mode:"visible",children:b.children},P,0,null),B=Qf(B,P,ne,null),B.flags|=2,b.return=h,B.return=h,b.sibling=B,h.child=b,(h.mode&1)!==0&&pi(h,u.child,null,ne),h.child.memoizedState=Nv(ne),h.memoizedState=Lv,B);if((h.mode&1)===0)return eg(u,h,ne,null);if(P.data==="$!"){if(b=P.nextSibling&&P.nextSibling.dataset,b)var Me=b.dgst;return b=Me,B=Error(t(419)),b=Cv(B,b,void 0),eg(u,h,ne,b)}if(Me=(ne&u.childLanes)!==0,ya||Me){if(b=$i,b!==null){switch(ne&-ne){case 4:P=2;break;case 16:P=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:P=32;break;case 536870912:P=268435456;break;default:P=0}P=(P&(b.suspendedLanes|ne))!==0?0:P,P!==0&&P!==B.retryLane&&(B.retryLane=P,ir(u,P),qo(b,u,P,-1))}return Kv(),b=Cv(Error(t(421))),eg(u,h,ne,b)}return P.data==="$?"?(h.flags|=128,h.child=u.child,h=oR.bind(null,u),P._reactRetry=h,null):(u=B.treeContext,yt=as(P.nextSibling),ze=h,_t=!0,bt=null,u!==null&&(fe[_e++]=tt,fe[_e++]=nt,fe[_e++]=De,tt=u.id,nt=u.overflow,De=h),h=Fv(h,b.children),h.flags|=4096,h)}function PS(u,h,v){u.lanes|=h;var b=u.alternate;b!==null&&(b.lanes|=h),ga(u.return,h,v)}function Dv(u,h,v,b,P){var B=u.memoizedState;B===null?u.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:b,tail:v,tailMode:P}:(B.isBackwards=h,B.rendering=null,B.renderingStartTime=0,B.last=b,B.tail=v,B.tailMode=P)}function kS(u,h,v){var b=h.pendingProps,P=b.revealOrder,B=b.tail;if(ea(u,h,b.children,v),b=Pr.current,(b&2)!==0)b=b&1|2,h.flags|=128;else{if(u!==null&&(u.flags&128)!==0)e:for(u=h.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&PS(u,v,h);else if(u.tag===19)PS(u,v,h);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===h)break e;for(;u.sibling===null;){if(u.return===null||u.return===h)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}b&=1}if(mr(Pr,b),(h.mode&1)===0)h.memoizedState=null;else switch(P){case"forwards":for(v=h.child,P=null;v!==null;)u=v.alternate,u!==null&&Ha(u)===null&&(P=v),v=v.sibling;v=P,v===null?(P=h.child,h.child=null):(P=v.sibling,v.sibling=null),Dv(h,!1,P,v,B);break;case"backwards":for(v=null,P=h.child,h.child=null;P!==null;){if(u=P.alternate,u!==null&&Ha(u)===null){h.child=P;break}u=P.sibling,P.sibling=v,v=P,P=u}Dv(h,!0,v,null,B);break;case"together":Dv(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function tg(u,h){(h.mode&1)===0&&u!==null&&(u.alternate=null,h.alternate=null,h.flags|=2)}function Sc(u,h,v){if(u!==null&&(h.dependencies=u.dependencies),Yf|=h.lanes,(v&h.childLanes)===0)return null;if(u!==null&&h.child!==u.child)throw Error(t(153));if(h.child!==null){for(u=h.child,v=Du(u,u.pendingProps),h.child=v,v.return=h;u.sibling!==null;)u=u.sibling,v=v.sibling=Du(u,u.pendingProps),v.return=h;v.sibling=null}return h.child}function Yk(u,h,v){switch(h.tag){case 3:TS(h),Ln();break;case 5:Xm(h);break;case 1:_s(h.type)&&_c(h);break;case 4:Tu(h,h.stateNode.containerInfo);break;case 10:var b=h.type._context,P=h.memoizedProps.value;mr(qi,b._currentValue),b._currentValue=P;break;case 13:if(b=h.memoizedState,b!==null)return b.dehydrated!==null?(mr(Pr,Pr.current&1),h.flags|=128,null):(v&h.child.childLanes)!==0?CS(u,h,v):(mr(Pr,Pr.current&1),u=Sc(u,h,v),u!==null?u.sibling:null);mr(Pr,Pr.current&1);break;case 19:if(b=(v&h.childLanes)!==0,(u.flags&128)!==0){if(b)return kS(u,h,v);h.flags|=128}if(P=h.memoizedState,P!==null&&(P.rendering=null,P.tail=null,P.lastEffect=null),mr(Pr,Pr.current),b)break;return null;case 22:case 23:return h.lanes=0,SS(u,h,v)}return Sc(u,h,v)}var RS,Iv,LS,NS;RS=function(u,h){for(var v=h.child;v!==null;){if(v.tag===5||v.tag===6)u.appendChild(v.stateNode);else if(v.tag!==4&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===h)break;for(;v.sibling===null;){if(v.return===null||v.return===h)return;v=v.return}v.sibling.return=v.return,v=v.sibling}},Iv=function(){},LS=function(u,h,v,b){var P=u.memoizedProps;if(P!==b){u=h.stateNode,zo(Js.current);var B=null;switch(v){case"input":P=ye(u,P),b=ye(u,b),B=[];break;case"select":P=pe({},P,{value:void 0}),b=pe({},b,{value:void 0}),B=[];break;case"textarea":P=Et(u,P),b=Et(u,b),B=[];break;default:typeof P.onClick!="function"&&typeof b.onClick=="function"&&(u.onclick=yu)}Ht(v,b);var ne;v=null;for(ft in P)if(!b.hasOwnProperty(ft)&&P.hasOwnProperty(ft)&&P[ft]!=null)if(ft==="style"){var Me=P[ft];for(ne in Me)Me.hasOwnProperty(ne)&&(v||(v={}),v[ne]="")}else ft!=="dangerouslySetInnerHTML"&&ft!=="children"&&ft!=="suppressContentEditableWarning"&&ft!=="suppressHydrationWarning"&&ft!=="autoFocus"&&(i.hasOwnProperty(ft)?B||(B=[]):(B=B||[]).push(ft,null));for(ft in b){var Oe=b[ft];if(Me=P!=null?P[ft]:void 0,b.hasOwnProperty(ft)&&Oe!==Me&&(Oe!=null||Me!=null))if(ft==="style")if(Me){for(ne in Me)!Me.hasOwnProperty(ne)||Oe&&Oe.hasOwnProperty(ne)||(v||(v={}),v[ne]="");for(ne in Oe)Oe.hasOwnProperty(ne)&&Me[ne]!==Oe[ne]&&(v||(v={}),v[ne]=Oe[ne])}else v||(B||(B=[]),B.push(ft,v)),v=Oe;else ft==="dangerouslySetInnerHTML"?(Oe=Oe?Oe.__html:void 0,Me=Me?Me.__html:void 0,Oe!=null&&Me!==Oe&&(B=B||[]).push(ft,Oe)):ft==="children"?typeof Oe!="string"&&typeof Oe!="number"||(B=B||[]).push(ft,""+Oe):ft!=="suppressContentEditableWarning"&&ft!=="suppressHydrationWarning"&&(i.hasOwnProperty(ft)?(Oe!=null&&ft==="onScroll"&&wr("scroll",u),B||Me===Oe||(B=[])):(B=B||[]).push(ft,Oe))}v&&(B=B||[]).push("style",v);var ft=B;(h.updateQueue=ft)&&(h.flags|=4)}},NS=function(u,h,v,b){v!==b&&(h.flags|=4)};function Q0(u,h){if(!_t)switch(u.tailMode){case"hidden":h=u.tail;for(var v=null;h!==null;)h.alternate!==null&&(v=h),h=h.sibling;v===null?u.tail=null:v.sibling=null;break;case"collapsed":v=u.tail;for(var b=null;v!==null;)v.alternate!==null&&(b=v),v=v.sibling;b===null?h||u.tail===null?u.tail=null:u.tail.sibling=null:b.sibling=null}}function ws(u){var h=u.alternate!==null&&u.alternate.child===u.child,v=0,b=0;if(h)for(var P=u.child;P!==null;)v|=P.lanes|P.childLanes,b|=P.subtreeFlags&14680064,b|=P.flags&14680064,P.return=u,P=P.sibling;else for(P=u.child;P!==null;)v|=P.lanes|P.childLanes,b|=P.subtreeFlags,b|=P.flags,P.return=u,P=P.sibling;return u.subtreeFlags|=b,u.childLanes=v,h}function Kk(u,h,v){var b=h.pendingProps;switch(Be(h),h.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ws(h),null;case 1:return _s(h.type)&&ud(),ws(h),null;case 3:return b=h.stateNode,uo(),fr(vs),fr(Li),K0(),b.pendingContext&&(b.context=b.pendingContext,b.pendingContext=null),(u===null||u.child===null)&&(Kn(h)?h.flags|=4:u===null||u.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,bt!==null&&(Xv(bt),bt=null))),Iv(u,h),ws(h),null;case 5:$0(h);var P=zo(kl.current);if(v=h.type,u!==null&&h.stateNode!=null)LS(u,h,v,b,P),u.ref!==h.ref&&(h.flags|=512,h.flags|=2097152);else{if(!b){if(h.stateNode===null)throw Error(t(166));return ws(h),null}if(u=zo(Js.current),Kn(h)){b=h.stateNode,v=h.type;var B=h.memoizedProps;switch(b[lo]=h,b[wu]=B,u=(h.mode&1)!==0,v){case"dialog":wr("cancel",b),wr("close",b);break;case"iframe":case"object":case"embed":wr("load",b);break;case"video":case"audio":for(P=0;P<Tl.length;P++)wr(Tl[P],b);break;case"source":wr("error",b);break;case"img":case"image":case"link":wr("error",b),wr("load",b);break;case"details":wr("toggle",b);break;case"input":Je(b,B),wr("invalid",b);break;case"select":b._wrapperState={wasMultiple:!!B.multiple},wr("invalid",b);break;case"textarea":ce(b,B),wr("invalid",b)}Ht(v,B),P=null;for(var ne in B)if(B.hasOwnProperty(ne)){var Me=B[ne];ne==="children"?typeof Me=="string"?b.textContent!==Me&&(B.suppressHydrationWarning!==!0&&cd(b.textContent,Me,u),P=["children",Me]):typeof Me=="number"&&b.textContent!==""+Me&&(B.suppressHydrationWarning!==!0&&cd(b.textContent,Me,u),P=["children",""+Me]):i.hasOwnProperty(ne)&&Me!=null&&ne==="onScroll"&&wr("scroll",b)}switch(v){case"input":lt(b),je(b,B,!0);break;case"textarea":lt(b),Ne(b);break;case"select":case"option":break;default:typeof B.onClick=="function"&&(b.onclick=yu)}b=P,h.updateQueue=b,b!==null&&(h.flags|=4)}else{ne=P.nodeType===9?P:P.ownerDocument,u==="http://www.w3.org/1999/xhtml"&&(u=$e(v)),u==="http://www.w3.org/1999/xhtml"?v==="script"?(u=ne.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild)):typeof b.is=="string"?u=ne.createElement(v,{is:b.is}):(u=ne.createElement(v),v==="select"&&(ne=u,b.multiple?ne.multiple=!0:b.size&&(ne.size=b.size))):u=ne.createElementNS(u,v),u[lo]=h,u[wu]=b,RS(u,h,!1,!1),h.stateNode=u;e:{switch(ne=It(v,b),v){case"dialog":wr("cancel",u),wr("close",u),P=b;break;case"iframe":case"object":case"embed":wr("load",u),P=b;break;case"video":case"audio":for(P=0;P<Tl.length;P++)wr(Tl[P],u);P=b;break;case"source":wr("error",u),P=b;break;case"img":case"image":case"link":wr("error",u),wr("load",u),P=b;break;case"details":wr("toggle",u),P=b;break;case"input":Je(u,b),P=ye(u,b),wr("invalid",u);break;case"option":P=b;break;case"select":u._wrapperState={wasMultiple:!!b.multiple},P=pe({},b,{value:void 0}),wr("invalid",u);break;case"textarea":ce(u,b),P=Et(u,b),wr("invalid",u);break;default:P=b}Ht(v,P),Me=P;for(B in Me)if(Me.hasOwnProperty(B)){var Oe=Me[B];B==="style"?Ct(u,Oe):B==="dangerouslySetInnerHTML"?(Oe=Oe?Oe.__html:void 0,Oe!=null&&ht(u,Oe)):B==="children"?typeof Oe=="string"?(v!=="textarea"||Oe!=="")&&Ye(u,Oe):typeof Oe=="number"&&Ye(u,""+Oe):B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&B!=="autoFocus"&&(i.hasOwnProperty(B)?Oe!=null&&B==="onScroll"&&wr("scroll",u):Oe!=null&&E(u,B,Oe,ne))}switch(v){case"input":lt(u),je(u,b,!1);break;case"textarea":lt(u),Ne(u);break;case"option":b.value!=null&&u.setAttribute("value",""+ve(b.value));break;case"select":u.multiple=!!b.multiple,B=b.value,B!=null?Ke(u,!!b.multiple,B,!1):b.defaultValue!=null&&Ke(u,!!b.multiple,b.defaultValue,!0);break;default:typeof P.onClick=="function"&&(u.onclick=yu)}switch(v){case"button":case"input":case"select":case"textarea":b=!!b.autoFocus;break e;case"img":b=!0;break e;default:b=!1}}b&&(h.flags|=4)}h.ref!==null&&(h.flags|=512,h.flags|=2097152)}return ws(h),null;case 6:if(u&&h.stateNode!=null)NS(u,h,u.memoizedProps,b);else{if(typeof b!="string"&&h.stateNode===null)throw Error(t(166));if(v=zo(kl.current),zo(Js.current),Kn(h)){if(b=h.stateNode,v=h.memoizedProps,b[lo]=h,(B=b.nodeValue!==v)&&(u=ze,u!==null))switch(u.tag){case 3:cd(b.nodeValue,v,(u.mode&1)!==0);break;case 5:u.memoizedProps.suppressHydrationWarning!==!0&&cd(b.nodeValue,v,(u.mode&1)!==0)}B&&(h.flags|=4)}else b=(v.nodeType===9?v:v.ownerDocument).createTextNode(b),b[lo]=h,h.stateNode=b}return ws(h),null;case 13:if(fr(Pr),b=h.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(_t&&yt!==null&&(h.mode&1)!==0&&(h.flags&128)===0)qn(),Ln(),h.flags|=98560,B=!1;else if(B=Kn(h),b!==null&&b.dehydrated!==null){if(u===null){if(!B)throw Error(t(318));if(B=h.memoizedState,B=B!==null?B.dehydrated:null,!B)throw Error(t(317));B[lo]=h}else Ln(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;ws(h),B=!1}else bt!==null&&(Xv(bt),bt=null),B=!0;if(!B)return h.flags&65536?h:null}return(h.flags&128)!==0?(h.lanes=v,h):(b=b!==null,b!==(u!==null&&u.memoizedState!==null)&&b&&(h.child.flags|=8192,(h.mode&1)!==0&&(u===null||(Pr.current&1)!==0?Fi===0&&(Fi=3):Kv())),h.updateQueue!==null&&(h.flags|=4),ws(h),null);case 4:return uo(),Iv(u,h),u===null&&pc(h.stateNode.containerInfo),ws(h),null;case 10:return ys(h.type._context),ws(h),null;case 17:return _s(h.type)&&ud(),ws(h),null;case 19:if(fr(Pr),B=h.memoizedState,B===null)return ws(h),null;if(b=(h.flags&128)!==0,ne=B.rendering,ne===null)if(b)Q0(B,!1);else{if(Fi!==0||u!==null&&(u.flags&128)!==0)for(u=h.child;u!==null;){if(ne=Ha(u),ne!==null){for(h.flags|=128,Q0(B,!1),b=ne.updateQueue,b!==null&&(h.updateQueue=b,h.flags|=4),h.subtreeFlags=0,b=v,v=h.child;v!==null;)B=v,u=b,B.flags&=14680066,ne=B.alternate,ne===null?(B.childLanes=0,B.lanes=u,B.child=null,B.subtreeFlags=0,B.memoizedProps=null,B.memoizedState=null,B.updateQueue=null,B.dependencies=null,B.stateNode=null):(B.childLanes=ne.childLanes,B.lanes=ne.lanes,B.child=ne.child,B.subtreeFlags=0,B.deletions=null,B.memoizedProps=ne.memoizedProps,B.memoizedState=ne.memoizedState,B.updateQueue=ne.updateQueue,B.type=ne.type,u=ne.dependencies,B.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),v=v.sibling;return mr(Pr,Pr.current&1|2),h.child}u=u.sibling}B.tail!==null&&Pe()>Ed&&(h.flags|=128,b=!0,Q0(B,!1),h.lanes=4194304)}else{if(!b)if(u=Ha(ne),u!==null){if(h.flags|=128,b=!0,v=u.updateQueue,v!==null&&(h.updateQueue=v,h.flags|=4),Q0(B,!0),B.tail===null&&B.tailMode==="hidden"&&!ne.alternate&&!_t)return ws(h),null}else 2*Pe()-B.renderingStartTime>Ed&&v!==1073741824&&(h.flags|=128,b=!0,Q0(B,!1),h.lanes=4194304);B.isBackwards?(ne.sibling=h.child,h.child=ne):(v=B.last,v!==null?v.sibling=ne:h.child=ne,B.last=ne)}return B.tail!==null?(h=B.tail,B.rendering=h,B.tail=h.sibling,B.renderingStartTime=Pe(),h.sibling=null,v=Pr.current,mr(Pr,b?v&1|2:v&1),h):(ws(h),null);case 22:case 23:return Yv(),b=h.memoizedState!==null,u!==null&&u.memoizedState!==null!==b&&(h.flags|=8192),b&&(h.mode&1)!==0?(Wa&1073741824)!==0&&(ws(h),h.subtreeFlags&6&&(h.flags|=8192)):ws(h),null;case 24:return null;case 25:return null}throw Error(t(156,h.tag))}function Jk(u,h){switch(Be(h),h.tag){case 1:return _s(h.type)&&ud(),u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 3:return uo(),fr(vs),fr(Li),K0(),u=h.flags,(u&65536)!==0&&(u&128)===0?(h.flags=u&-65537|128,h):null;case 5:return $0(h),null;case 13:if(fr(Pr),u=h.memoizedState,u!==null&&u.dehydrated!==null){if(h.alternate===null)throw Error(t(340));Ln()}return u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 19:return fr(Pr),null;case 4:return uo(),null;case 10:return ys(h.type._context),null;case 22:case 23:return Yv(),null;case 24:return null;default:return null}}var ng=!1,bs=!1,Zk=typeof WeakSet=="function"?WeakSet:Set,en=null;function bd(u,h){var v=u.ref;if(v!==null)if(typeof v=="function")try{v(null)}catch(b){ai(u,h,b)}else v.current=null}function Ov(u,h,v){try{v()}catch(b){ai(u,h,b)}}var FS=!1;function Qk(u,h){if(Vf=tu,u=If(),uc(u)){if("selectionStart"in u)var v={start:u.selectionStart,end:u.selectionEnd};else e:{v=(v=u.ownerDocument)&&v.defaultView||window;var b=v.getSelection&&v.getSelection();if(b&&b.rangeCount!==0){v=b.anchorNode;var P=b.anchorOffset,B=b.focusNode;b=b.focusOffset;try{v.nodeType,B.nodeType}catch{v=null;break e}var ne=0,Me=-1,Oe=-1,ft=0,Dt=0,Ut=u,Nt=null;t:for(;;){for(var Zt;Ut!==v||P!==0&&Ut.nodeType!==3||(Me=ne+P),Ut!==B||b!==0&&Ut.nodeType!==3||(Oe=ne+b),Ut.nodeType===3&&(ne+=Ut.nodeValue.length),(Zt=Ut.firstChild)!==null;)Nt=Ut,Ut=Zt;for(;;){if(Ut===u)break t;if(Nt===v&&++ft===P&&(Me=ne),Nt===B&&++Dt===b&&(Oe=ne),(Zt=Ut.nextSibling)!==null)break;Ut=Nt,Nt=Ut.parentNode}Ut=Zt}v=Me===-1||Oe===-1?null:{start:Me,end:Oe}}else v=null}v=v||{start:0,end:0}}else v=null;for(gc={focusedElem:u,selectionRange:v},tu=!1,en=h;en!==null;)if(h=en,u=h.child,(h.subtreeFlags&1028)!==0&&u!==null)u.return=h,en=u;else for(;en!==null;){h=en;try{var tn=h.alternate;if((h.flags&1024)!==0)switch(h.tag){case 0:case 11:case 15:break;case 1:if(tn!==null){var sn=tn.memoizedProps,xi=tn.memoizedState,st=h.stateNode,Ge=st.getSnapshotBeforeUpdate(h.elementType===h.type?sn:Vo(h.type,sn),xi);st.__reactInternalSnapshotBeforeUpdate=Ge}break;case 3:var ut=h.stateNode.containerInfo;ut.nodeType===1?ut.textContent="":ut.nodeType===9&&ut.documentElement&&ut.removeChild(ut.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(zt){ai(h,h.return,zt)}if(u=h.sibling,u!==null){u.return=h.return,en=u;break}en=h.return}return tn=FS,FS=!1,tn}function ep(u,h,v){var b=h.updateQueue;if(b=b!==null?b.lastEffect:null,b!==null){var P=b=b.next;do{if((P.tag&u)===u){var B=P.destroy;P.destroy=void 0,B!==void 0&&Ov(h,v,B)}P=P.next}while(P!==b)}}function rg(u,h){if(h=h.updateQueue,h=h!==null?h.lastEffect:null,h!==null){var v=h=h.next;do{if((v.tag&u)===u){var b=v.create;v.destroy=b()}v=v.next}while(v!==h)}}function Uv(u){var h=u.ref;if(h!==null){var v=u.stateNode;switch(u.tag){case 5:u=v;break;default:u=v}typeof h=="function"?h(u):h.current=u}}function DS(u){var h=u.alternate;h!==null&&(u.alternate=null,DS(h)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(h=u.stateNode,h!==null&&(delete h[lo],delete h[wu],delete h[xs],delete h[bv],delete h[Sv])),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}function IS(u){return u.tag===5||u.tag===3||u.tag===4}function OS(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||IS(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function Bv(u,h,v){var b=u.tag;if(b===5||b===6)u=u.stateNode,h?v.nodeType===8?v.parentNode.insertBefore(u,h):v.insertBefore(u,h):(v.nodeType===8?(h=v.parentNode,h.insertBefore(u,v)):(h=v,h.appendChild(u)),v=v._reactRootContainer,v!=null||h.onclick!==null||(h.onclick=yu));else if(b!==4&&(u=u.child,u!==null))for(Bv(u,h,v),u=u.sibling;u!==null;)Bv(u,h,v),u=u.sibling}function zv(u,h,v){var b=u.tag;if(b===5||b===6)u=u.stateNode,h?v.insertBefore(u,h):v.appendChild(u);else if(b!==4&&(u=u.child,u!==null))for(zv(u,h,v),u=u.sibling;u!==null;)zv(u,h,v),u=u.sibling}var ls=null,Wo=!1;function ku(u,h,v){for(v=v.child;v!==null;)US(u,h,v),v=v.sibling}function US(u,h,v){if($t&&typeof $t.onCommitFiberUnmount=="function")try{$t.onCommitFiberUnmount(rn,v)}catch{}switch(v.tag){case 5:bs||bd(v,h);case 6:var b=ls,P=Wo;ls=null,ku(u,h,v),ls=b,Wo=P,ls!==null&&(Wo?(u=ls,v=v.stateNode,u.nodeType===8?u.parentNode.removeChild(v):u.removeChild(v)):ls.removeChild(v.stateNode));break;case 18:ls!==null&&(Wo?(u=ls,v=v.stateNode,u.nodeType===8?W0(u.parentNode,v):u.nodeType===1&&W0(u,v),Ia(u)):W0(ls,v.stateNode));break;case 4:b=ls,P=Wo,ls=v.stateNode.containerInfo,Wo=!0,ku(u,h,v),ls=b,Wo=P;break;case 0:case 11:case 14:case 15:if(!bs&&(b=v.updateQueue,b!==null&&(b=b.lastEffect,b!==null))){P=b=b.next;do{var B=P,ne=B.destroy;B=B.tag,ne!==void 0&&((B&2)!==0||(B&4)!==0)&&Ov(v,h,ne),P=P.next}while(P!==b)}ku(u,h,v);break;case 1:if(!bs&&(bd(v,h),b=v.stateNode,typeof b.componentWillUnmount=="function"))try{b.props=v.memoizedProps,b.state=v.memoizedState,b.componentWillUnmount()}catch(Me){ai(v,h,Me)}ku(u,h,v);break;case 21:ku(u,h,v);break;case 22:v.mode&1?(bs=(b=bs)||v.memoizedState!==null,ku(u,h,v),bs=b):ku(u,h,v);break;default:ku(u,h,v)}}function BS(u){var h=u.updateQueue;if(h!==null){u.updateQueue=null;var v=u.stateNode;v===null&&(v=u.stateNode=new Zk),h.forEach(function(b){var P=lR.bind(null,u,b);v.has(b)||(v.add(b),b.then(P,P))})}}function Go(u,h){var v=h.deletions;if(v!==null)for(var b=0;b<v.length;b++){var P=v[b];try{var B=u,ne=h,Me=ne;e:for(;Me!==null;){switch(Me.tag){case 5:ls=Me.stateNode,Wo=!1;break e;case 3:ls=Me.stateNode.containerInfo,Wo=!0;break e;case 4:ls=Me.stateNode.containerInfo,Wo=!0;break e}Me=Me.return}if(ls===null)throw Error(t(160));US(B,ne,P),ls=null,Wo=!1;var Oe=P.alternate;Oe!==null&&(Oe.return=null),P.return=null}catch(ft){ai(P,h,ft)}}if(h.subtreeFlags&12854)for(h=h.child;h!==null;)zS(h,u),h=h.sibling}function zS(u,h){var v=u.alternate,b=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:if(Go(h,u),Ll(u),b&4){try{ep(3,u,u.return),rg(3,u)}catch(sn){ai(u,u.return,sn)}try{ep(5,u,u.return)}catch(sn){ai(u,u.return,sn)}}break;case 1:Go(h,u),Ll(u),b&512&&v!==null&&bd(v,v.return);break;case 5:if(Go(h,u),Ll(u),b&512&&v!==null&&bd(v,v.return),u.flags&32){var P=u.stateNode;try{Ye(P,"")}catch(sn){ai(u,u.return,sn)}}if(b&4&&(P=u.stateNode,P!=null)){var B=u.memoizedProps,ne=v!==null?v.memoizedProps:B,Me=u.type,Oe=u.updateQueue;if(u.updateQueue=null,Oe!==null)try{Me==="input"&&B.type==="radio"&&B.name!=null&&q(P,B),It(Me,ne);var ft=It(Me,B);for(ne=0;ne<Oe.length;ne+=2){var Dt=Oe[ne],Ut=Oe[ne+1];Dt==="style"?Ct(P,Ut):Dt==="dangerouslySetInnerHTML"?ht(P,Ut):Dt==="children"?Ye(P,Ut):E(P,Dt,Ut,ft)}switch(Me){case"input":Re(P,B);break;case"textarea":Y(P,B);break;case"select":var Nt=P._wrapperState.wasMultiple;P._wrapperState.wasMultiple=!!B.multiple;var Zt=B.value;Zt!=null?Ke(P,!!B.multiple,Zt,!1):Nt!==!!B.multiple&&(B.defaultValue!=null?Ke(P,!!B.multiple,B.defaultValue,!0):Ke(P,!!B.multiple,B.multiple?[]:"",!1))}P[wu]=B}catch(sn){ai(u,u.return,sn)}}break;case 6:if(Go(h,u),Ll(u),b&4){if(u.stateNode===null)throw Error(t(162));P=u.stateNode,B=u.memoizedProps;try{P.nodeValue=B}catch(sn){ai(u,u.return,sn)}}break;case 3:if(Go(h,u),Ll(u),b&4&&v!==null&&v.memoizedState.isDehydrated)try{Ia(h.containerInfo)}catch(sn){ai(u,u.return,sn)}break;case 4:Go(h,u),Ll(u);break;case 13:Go(h,u),Ll(u),P=u.child,P.flags&8192&&(B=P.memoizedState!==null,P.stateNode.isHidden=B,!B||P.alternate!==null&&P.alternate.memoizedState!==null||(Vv=Pe())),b&4&&BS(u);break;case 22:if(Dt=v!==null&&v.memoizedState!==null,u.mode&1?(bs=(ft=bs)||Dt,Go(h,u),bs=ft):Go(h,u),Ll(u),b&8192){if(ft=u.memoizedState!==null,(u.stateNode.isHidden=ft)&&!Dt&&(u.mode&1)!==0)for(en=u,Dt=u.child;Dt!==null;){for(Ut=en=Dt;en!==null;){switch(Nt=en,Zt=Nt.child,Nt.tag){case 0:case 11:case 14:case 15:ep(4,Nt,Nt.return);break;case 1:bd(Nt,Nt.return);var tn=Nt.stateNode;if(typeof tn.componentWillUnmount=="function"){b=Nt,v=Nt.return;try{h=b,tn.props=h.memoizedProps,tn.state=h.memoizedState,tn.componentWillUnmount()}catch(sn){ai(b,v,sn)}}break;case 5:bd(Nt,Nt.return);break;case 22:if(Nt.memoizedState!==null){VS(Ut);continue}}Zt!==null?(Zt.return=Nt,en=Zt):VS(Ut)}Dt=Dt.sibling}e:for(Dt=null,Ut=u;;){if(Ut.tag===5){if(Dt===null){Dt=Ut;try{P=Ut.stateNode,ft?(B=P.style,typeof B.setProperty=="function"?B.setProperty("display","none","important"):B.display="none"):(Me=Ut.stateNode,Oe=Ut.memoizedProps.style,ne=Oe!=null&&Oe.hasOwnProperty("display")?Oe.display:null,Me.style.display=We("display",ne))}catch(sn){ai(u,u.return,sn)}}}else if(Ut.tag===6){if(Dt===null)try{Ut.stateNode.nodeValue=ft?"":Ut.memoizedProps}catch(sn){ai(u,u.return,sn)}}else if((Ut.tag!==22&&Ut.tag!==23||Ut.memoizedState===null||Ut===u)&&Ut.child!==null){Ut.child.return=Ut,Ut=Ut.child;continue}if(Ut===u)break e;for(;Ut.sibling===null;){if(Ut.return===null||Ut.return===u)break e;Dt===Ut&&(Dt=null),Ut=Ut.return}Dt===Ut&&(Dt=null),Ut.sibling.return=Ut.return,Ut=Ut.sibling}}break;case 19:Go(h,u),Ll(u),b&4&&BS(u);break;case 21:break;default:Go(h,u),Ll(u)}}function Ll(u){var h=u.flags;if(h&2){try{e:{for(var v=u.return;v!==null;){if(IS(v)){var b=v;break e}v=v.return}throw Error(t(160))}switch(b.tag){case 5:var P=b.stateNode;b.flags&32&&(Ye(P,""),b.flags&=-33);var B=OS(u);zv(u,B,P);break;case 3:case 4:var ne=b.stateNode.containerInfo,Me=OS(u);Bv(u,Me,ne);break;default:throw Error(t(161))}}catch(Oe){ai(u,u.return,Oe)}u.flags&=-3}h&4096&&(u.flags&=-4097)}function eR(u,h,v){en=u,HS(u)}function HS(u,h,v){for(var b=(u.mode&1)!==0;en!==null;){var P=en,B=P.child;if(P.tag===22&&b){var ne=P.memoizedState!==null||ng;if(!ne){var Me=P.alternate,Oe=Me!==null&&Me.memoizedState!==null||bs;Me=ng;var ft=bs;if(ng=ne,(bs=Oe)&&!ft)for(en=P;en!==null;)ne=en,Oe=ne.child,ne.tag===22&&ne.memoizedState!==null?WS(P):Oe!==null?(Oe.return=ne,en=Oe):WS(P);for(;B!==null;)en=B,HS(B),B=B.sibling;en=P,ng=Me,bs=ft}jS(u)}else(P.subtreeFlags&8772)!==0&&B!==null?(B.return=P,en=B):jS(u)}}function jS(u){for(;en!==null;){var h=en;if((h.flags&8772)!==0){var v=h.alternate;try{if((h.flags&8772)!==0)switch(h.tag){case 0:case 11:case 15:bs||rg(5,h);break;case 1:var b=h.stateNode;if(h.flags&4&&!bs)if(v===null)b.componentDidMount();else{var P=h.elementType===h.type?v.memoizedProps:Vo(h.type,v.memoizedProps);b.componentDidUpdate(P,v.memoizedState,b.__reactInternalSnapshotBeforeUpdate)}var B=h.updateQueue;B!==null&&wc(h,B,b);break;case 3:var ne=h.updateQueue;if(ne!==null){if(v=null,h.child!==null)switch(h.child.tag){case 5:v=h.child.stateNode;break;case 1:v=h.child.stateNode}wc(h,ne,v)}break;case 5:var Me=h.stateNode;if(v===null&&h.flags&4){v=Me;var Oe=h.memoizedProps;switch(h.type){case"button":case"input":case"select":case"textarea":Oe.autoFocus&&v.focus();break;case"img":Oe.src&&(v.src=Oe.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(h.memoizedState===null){var ft=h.alternate;if(ft!==null){var Dt=ft.memoizedState;if(Dt!==null){var Ut=Dt.dehydrated;Ut!==null&&Ia(Ut)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}bs||h.flags&512&&Uv(h)}catch(Nt){ai(h,h.return,Nt)}}if(h===u){en=null;break}if(v=h.sibling,v!==null){v.return=h.return,en=v;break}en=h.return}}function VS(u){for(;en!==null;){var h=en;if(h===u){en=null;break}var v=h.sibling;if(v!==null){v.return=h.return,en=v;break}en=h.return}}function WS(u){for(;en!==null;){var h=en;try{switch(h.tag){case 0:case 11:case 15:var v=h.return;try{rg(4,h)}catch(Oe){ai(h,v,Oe)}break;case 1:var b=h.stateNode;if(typeof b.componentDidMount=="function"){var P=h.return;try{b.componentDidMount()}catch(Oe){ai(h,P,Oe)}}var B=h.return;try{Uv(h)}catch(Oe){ai(h,B,Oe)}break;case 5:var ne=h.return;try{Uv(h)}catch(Oe){ai(h,ne,Oe)}}}catch(Oe){ai(h,h.return,Oe)}if(h===u){en=null;break}var Me=h.sibling;if(Me!==null){Me.return=h.return,en=Me;break}en=h.return}}var tR=Math.ceil,ig=M.ReactCurrentDispatcher,Hv=M.ReactCurrentOwner,po=M.ReactCurrentBatchConfig,er=0,$i=null,Ti=null,cs=0,Wa=0,Sd=za(0),Fi=0,tp=null,Yf=0,sg=0,jv=0,np=null,wa=null,Vv=0,Ed=1/0,Ec=null,ag=!1,Wv=null,Ru=null,og=!1,Lu=null,lg=0,rp=0,Gv=null,cg=-1,ug=0;function ta(){return(er&6)!==0?Pe():cg!==-1?cg:cg=Pe()}function Nu(u){return(u.mode&1)===0?1:(er&2)!==0&&cs!==0?cs&-cs:gr.transition!==null?(ug===0&&(ug=nr()),ug):(u=jn,u!==0||(u=window.event,u=u===void 0?16:kf(u.type)),u)}function qo(u,h,v,b){if(50<rp)throw rp=0,Gv=null,Error(t(185));Jr(u,v,b),((er&2)===0||u!==$i)&&(u===$i&&((er&2)===0&&(sg|=v),Fi===4&&Fu(u,cs)),ba(u,b),v===1&&er===0&&(h.mode&1)===0&&(Ed=Pe()+500,Gf&&H()))}function ba(u,h){var v=u.callbackNode;pr(u,h);var b=Er(u,u===$i?cs:0);if(b===0)v!==null&&Q(v),u.callbackNode=null,u.callbackPriority=0;else if(h=b&-b,u.callbackPriority!==h){if(v!=null&&Q(v),h===1)u.tag===0?F(qS.bind(null,u)):S(qS.bind(null,u)),yv(function(){(er&6)===0&&H()}),v=null;else{switch(ds(b)){case 1:v=St;break;case 4:v=Rt;break;case 16:v=jt;break;case 536870912:v=on;break;default:v=jt}v=e5(v,GS.bind(null,u))}u.callbackPriority=h,u.callbackNode=v}}function GS(u,h){if(cg=-1,ug=0,(er&6)!==0)throw Error(t(327));var v=u.callbackNode;if(Ad()&&u.callbackNode!==v)return null;var b=Er(u,u===$i?cs:0);if(b===0)return null;if((b&30)!==0||(b&u.expiredLanes)!==0||h)h=fg(u,b);else{h=b;var P=er;er|=2;var B=$S();($i!==u||cs!==h)&&(Ec=null,Ed=Pe()+500,Jf(u,h));do try{iR();break}catch(Me){XS(u,Me)}while(!0);Ni(),ig.current=B,er=P,Ti!==null?h=0:($i=null,cs=0,h=Fi)}if(h!==0){if(h===2&&(P=Gs(u),P!==0&&(b=P,h=qv(u,P))),h===1)throw v=tp,Jf(u,0),Fu(u,b),ba(u,Pe()),v;if(h===6)Fu(u,b);else{if(P=u.current.alternate,(b&30)===0&&!nR(P)&&(h=fg(u,b),h===2&&(B=Gs(u),B!==0&&(b=B,h=qv(u,B))),h===1))throw v=tp,Jf(u,0),Fu(u,b),ba(u,Pe()),v;switch(u.finishedWork=P,u.finishedLanes=b,h){case 0:case 1:throw Error(t(345));case 2:Zf(u,wa,Ec);break;case 3:if(Fu(u,b),(b&130023424)===b&&(h=Vv+500-Pe(),10<h)){if(Er(u,0)!==0)break;if(P=u.suspendedLanes,(P&b)!==b){ta(),u.pingedLanes|=u.suspendedLanes&P;break}u.timeoutHandle=V0(Zf.bind(null,u,wa,Ec),h);break}Zf(u,wa,Ec);break;case 4:if(Fu(u,b),(b&4194240)===b)break;for(h=u.eventTimes,P=-1;0<b;){var ne=31-hn(b);B=1<<ne,ne=h[ne],ne>P&&(P=ne),b&=~B}if(b=P,b=Pe()-b,b=(120>b?120:480>b?480:1080>b?1080:1920>b?1920:3e3>b?3e3:4320>b?4320:1960*tR(b/1960))-b,10<b){u.timeoutHandle=V0(Zf.bind(null,u,wa,Ec),b);break}Zf(u,wa,Ec);break;case 5:Zf(u,wa,Ec);break;default:throw Error(t(329))}}}return ba(u,Pe()),u.callbackNode===v?GS.bind(null,u):null}function qv(u,h){var v=np;return u.current.memoizedState.isDehydrated&&(Jf(u,h).flags|=256),u=fg(u,h),u!==2&&(h=wa,wa=v,h!==null&&Xv(h)),u}function Xv(u){wa===null?wa=u:wa.push.apply(wa,u)}function nR(u){for(var h=u;;){if(h.flags&16384){var v=h.updateQueue;if(v!==null&&(v=v.stores,v!==null))for(var b=0;b<v.length;b++){var P=v[b],B=P.getSnapshot;P=P.value;try{if(!Qn(B(),P))return!1}catch{return!1}}}if(v=h.child,h.subtreeFlags&16384&&v!==null)v.return=h,h=v;else{if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function Fu(u,h){for(h&=~jv,h&=~sg,u.suspendedLanes|=h,u.pingedLanes&=~h,u=u.expirationTimes;0<h;){var v=31-hn(h),b=1<<v;u[v]=-1,h&=~b}}function qS(u){if((er&6)!==0)throw Error(t(327));Ad();var h=Er(u,0);if((h&1)===0)return ba(u,Pe()),null;var v=fg(u,h);if(u.tag!==0&&v===2){var b=Gs(u);b!==0&&(h=b,v=qv(u,b))}if(v===1)throw v=tp,Jf(u,0),Fu(u,h),ba(u,Pe()),v;if(v===6)throw Error(t(345));return u.finishedWork=u.current.alternate,u.finishedLanes=h,Zf(u,wa,Ec),ba(u,Pe()),null}function $v(u,h){var v=er;er|=1;try{return u(h)}finally{er=v,er===0&&(Ed=Pe()+500,Gf&&H())}}function Kf(u){Lu!==null&&Lu.tag===0&&(er&6)===0&&Ad();var h=er;er|=1;var v=po.transition,b=jn;try{if(po.transition=null,jn=1,u)return u()}finally{jn=b,po.transition=v,er=h,(er&6)===0&&H()}}function Yv(){Wa=Sd.current,fr(Sd)}function Jf(u,h){u.finishedWork=null,u.finishedLanes=0;var v=u.timeoutHandle;if(v!==-1&&(u.timeoutHandle=-1,Vm(v)),Ti!==null)for(v=Ti.return;v!==null;){var b=v;switch(Be(b),b.tag){case 1:b=b.type.childContextTypes,b!=null&&ud();break;case 3:uo(),fr(vs),fr(Li),K0();break;case 5:$0(b);break;case 4:uo();break;case 13:fr(Pr);break;case 19:fr(Pr);break;case 10:ys(b.type._context);break;case 22:case 23:Yv()}v=v.return}if($i=u,Ti=u=Du(u.current,null),cs=Wa=h,Fi=0,tp=null,jv=sg=Yf=0,wa=np=null,Ks!==null){for(h=0;h<Ks.length;h++)if(v=Ks[h],b=v.interleaved,b!==null){v.interleaved=null;var P=b.next,B=v.pending;if(B!==null){var ne=B.next;B.next=P,b.next=ne}v.pending=b}Ks=null}return u}function XS(u,h){do{var v=Ti;try{if(Ni(),hd.current=Zm,Mu){for(var b=Lr.memoizedState;b!==null;){var P=b.queue;P!==null&&(P.pending=null),b=b.next}Mu=!1}if(fo=0,ei=si=Lr=null,Ho=!1,Cu=0,Hv.current=null,v===null||v.return===null){Fi=1,tp=h,Ti=null;break}e:{var B=u,ne=v.return,Me=v,Oe=h;if(h=cs,Me.flags|=32768,Oe!==null&&typeof Oe=="object"&&typeof Oe.then=="function"){var ft=Oe,Dt=Me,Ut=Dt.tag;if((Dt.mode&1)===0&&(Ut===0||Ut===11||Ut===15)){var Nt=Dt.alternate;Nt?(Dt.updateQueue=Nt.updateQueue,Dt.memoizedState=Nt.memoizedState,Dt.lanes=Nt.lanes):(Dt.updateQueue=null,Dt.memoizedState=null)}var Zt=vS(ne);if(Zt!==null){Zt.flags&=-257,_S(Zt,ne,Me,B,h),Zt.mode&1&&xS(B,ft,h),h=Zt,Oe=ft;var tn=h.updateQueue;if(tn===null){var sn=new Set;sn.add(Oe),h.updateQueue=sn}else tn.add(Oe);break e}else{if((h&1)===0){xS(B,ft,h),Kv();break e}Oe=Error(t(426))}}else if(_t&&Me.mode&1){var xi=vS(ne);if(xi!==null){(xi.flags&65536)===0&&(xi.flags|=256),_S(xi,ne,Me,B,h),hr(wd(Oe,Me));break e}}B=Oe=wd(Oe,Me),Fi!==4&&(Fi=2),np===null?np=[B]:np.push(B),B=ne;do{switch(B.tag){case 3:B.flags|=65536,h&=-h,B.lanes|=h;var st=mS(B,Oe,h);_a(B,st);break e;case 1:Me=Oe;var Ge=B.type,ut=B.stateNode;if((B.flags&128)===0&&(typeof Ge.getDerivedStateFromError=="function"||ut!==null&&typeof ut.componentDidCatch=="function"&&(Ru===null||!Ru.has(ut)))){B.flags|=65536,h&=-h,B.lanes|=h;var zt=gS(B,Me,h);_a(B,zt);break e}}B=B.return}while(B!==null)}KS(v)}catch(ln){h=ln,Ti===v&&v!==null&&(Ti=v=v.return);continue}break}while(!0)}function $S(){var u=ig.current;return ig.current=Zm,u===null?Zm:u}function Kv(){(Fi===0||Fi===3||Fi===2)&&(Fi=4),$i===null||(Yf&268435455)===0&&(sg&268435455)===0||Fu($i,cs)}function fg(u,h){var v=er;er|=2;var b=$S();($i!==u||cs!==h)&&(Ec=null,Jf(u,h));do try{rR();break}catch(P){XS(u,P)}while(!0);if(Ni(),er=v,ig.current=b,Ti!==null)throw Error(t(261));return $i=null,cs=0,Fi}function rR(){for(;Ti!==null;)YS(Ti)}function iR(){for(;Ti!==null&&!Te();)YS(Ti)}function YS(u){var h=QS(u.alternate,u,Wa);u.memoizedProps=u.pendingProps,h===null?KS(u):Ti=h,Hv.current=null}function KS(u){var h=u;do{var v=h.alternate;if(u=h.return,(h.flags&32768)===0){if(v=Kk(v,h,Wa),v!==null){Ti=v;return}}else{if(v=Jk(v,h),v!==null){v.flags&=32767,Ti=v;return}if(u!==null)u.flags|=32768,u.subtreeFlags=0,u.deletions=null;else{Fi=6,Ti=null;return}}if(h=h.sibling,h!==null){Ti=h;return}Ti=h=u}while(h!==null);Fi===0&&(Fi=5)}function Zf(u,h,v){var b=jn,P=po.transition;try{po.transition=null,jn=1,sR(u,h,v,b)}finally{po.transition=P,jn=b}return null}function sR(u,h,v,b){do Ad();while(Lu!==null);if((er&6)!==0)throw Error(t(327));v=u.finishedWork;var P=u.finishedLanes;if(v===null)return null;if(u.finishedWork=null,u.finishedLanes=0,v===u.current)throw Error(t(177));u.callbackNode=null,u.callbackPriority=0;var B=v.lanes|v.childLanes;if(hi(u,B),u===$i&&(Ti=$i=null,cs=0),(v.subtreeFlags&2064)===0&&(v.flags&2064)===0||og||(og=!0,e5(jt,function(){return Ad(),null})),B=(v.flags&15990)!==0,(v.subtreeFlags&15990)!==0||B){B=po.transition,po.transition=null;var ne=jn;jn=1;var Me=er;er|=4,Hv.current=null,Qk(u,v),zS(v,u),fc(gc),tu=!!Vf,gc=Vf=null,u.current=v,eR(v),ke(),er=Me,jn=ne,po.transition=B}else u.current=v;if(og&&(og=!1,Lu=u,lg=P),B=u.pendingLanes,B===0&&(Ru=null),yn(v.stateNode),ba(u,Pe()),h!==null)for(b=u.onRecoverableError,v=0;v<h.length;v++)P=h[v],b(P.value,{componentStack:P.stack,digest:P.digest});if(ag)throw ag=!1,u=Wv,Wv=null,u;return(lg&1)!==0&&u.tag!==0&&Ad(),B=u.pendingLanes,(B&1)!==0?u===Gv?rp++:(rp=0,Gv=u):rp=0,H(),null}function Ad(){if(Lu!==null){var u=ds(lg),h=po.transition,v=jn;try{if(po.transition=null,jn=16>u?16:u,Lu===null)var b=!1;else{if(u=Lu,Lu=null,lg=0,(er&6)!==0)throw Error(t(331));var P=er;for(er|=4,en=u.current;en!==null;){var B=en,ne=B.child;if((en.flags&16)!==0){var Me=B.deletions;if(Me!==null){for(var Oe=0;Oe<Me.length;Oe++){var ft=Me[Oe];for(en=ft;en!==null;){var Dt=en;switch(Dt.tag){case 0:case 11:case 15:ep(8,Dt,B)}var Ut=Dt.child;if(Ut!==null)Ut.return=Dt,en=Ut;else for(;en!==null;){Dt=en;var Nt=Dt.sibling,Zt=Dt.return;if(DS(Dt),Dt===ft){en=null;break}if(Nt!==null){Nt.return=Zt,en=Nt;break}en=Zt}}}var tn=B.alternate;if(tn!==null){var sn=tn.child;if(sn!==null){tn.child=null;do{var xi=sn.sibling;sn.sibling=null,sn=xi}while(sn!==null)}}en=B}}if((B.subtreeFlags&2064)!==0&&ne!==null)ne.return=B,en=ne;else e:for(;en!==null;){if(B=en,(B.flags&2048)!==0)switch(B.tag){case 0:case 11:case 15:ep(9,B,B.return)}var st=B.sibling;if(st!==null){st.return=B.return,en=st;break e}en=B.return}}var Ge=u.current;for(en=Ge;en!==null;){ne=en;var ut=ne.child;if((ne.subtreeFlags&2064)!==0&&ut!==null)ut.return=ne,en=ut;else e:for(ne=Ge;en!==null;){if(Me=en,(Me.flags&2048)!==0)try{switch(Me.tag){case 0:case 11:case 15:rg(9,Me)}}catch(ln){ai(Me,Me.return,ln)}if(Me===ne){en=null;break e}var zt=Me.sibling;if(zt!==null){zt.return=Me.return,en=zt;break e}en=Me.return}}if(er=P,H(),$t&&typeof $t.onPostCommitFiberRoot=="function")try{$t.onPostCommitFiberRoot(rn,u)}catch{}b=!0}return b}finally{jn=v,po.transition=h}}return!1}function JS(u,h,v){h=wd(v,h),h=mS(u,h,1),u=va(u,h,1),h=ta(),u!==null&&(Jr(u,1,h),ba(u,h))}function ai(u,h,v){if(u.tag===3)JS(u,u,v);else for(;h!==null;){if(h.tag===3){JS(h,u,v);break}else if(h.tag===1){var b=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(Ru===null||!Ru.has(b))){u=wd(v,u),u=gS(h,u,1),h=va(h,u,1),u=ta(),h!==null&&(Jr(h,1,u),ba(h,u));break}}h=h.return}}function aR(u,h,v){var b=u.pingCache;b!==null&&b.delete(h),h=ta(),u.pingedLanes|=u.suspendedLanes&v,$i===u&&(cs&v)===v&&(Fi===4||Fi===3&&(cs&130023424)===cs&&500>Pe()-Vv?Jf(u,0):jv|=v),ba(u,h)}function ZS(u,h){h===0&&((u.mode&1)===0?h=1:(h=Sr,Sr<<=1,(Sr&130023424)===0&&(Sr=4194304)));var v=ta();u=ir(u,h),u!==null&&(Jr(u,h,v),ba(u,v))}function oR(u){var h=u.memoizedState,v=0;h!==null&&(v=h.retryLane),ZS(u,v)}function lR(u,h){var v=0;switch(u.tag){case 13:var b=u.stateNode,P=u.memoizedState;P!==null&&(v=P.retryLane);break;case 19:b=u.stateNode;break;default:throw Error(t(314))}b!==null&&b.delete(h),ZS(u,v)}var QS;QS=function(u,h,v){if(u!==null)if(u.memoizedProps!==h.pendingProps||vs.current)ya=!0;else{if((u.lanes&v)===0&&(h.flags&128)===0)return ya=!1,Yk(u,h,v);ya=(u.flags&131072)!==0}else ya=!1,_t&&(h.flags&1048576)!==0&&Mt(h,le,h.index);switch(h.lanes=0,h.tag){case 2:var b=h.type;tg(u,h),u=h.pendingProps;var P=Su(h,Li.current);Br(h,v),P=qf(null,h,b,u,P,v);var B=ho();return h.flags|=1,typeof P=="object"&&P!==null&&typeof P.render=="function"&&P.$$typeof===void 0?(h.tag=1,h.memoizedState=null,h.updateQueue=null,_s(b)?(B=!0,_c(h)):B=!1,h.memoizedState=P.state!==null&&P.state!==void 0?P.state:null,fd(h),P.updater=Qm,h.stateNode=P,P._reactInternals=h,Mv(h,b,u,v),h=Rv(null,h,b,!0,B,v)):(h.tag=0,_t&&B&&pt(h),ea(null,h,P,v),h=h.child),h;case 16:b=h.elementType;e:{switch(tg(u,h),u=h.pendingProps,P=b._init,b=P(b._payload),h.type=b,P=h.tag=uR(b),u=Vo(b,u),P){case 0:h=kv(null,h,b,u,v);break e;case 1:h=AS(null,h,b,u,v);break e;case 11:h=yS(null,h,b,u,v);break e;case 14:h=wS(null,h,b,Vo(b.type,u),v);break e}throw Error(t(306,b,""))}return h;case 0:return b=h.type,P=h.pendingProps,P=h.elementType===b?P:Vo(b,P),kv(u,h,b,P,v);case 1:return b=h.type,P=h.pendingProps,P=h.elementType===b?P:Vo(b,P),AS(u,h,b,P,v);case 3:e:{if(TS(h),u===null)throw Error(t(387));b=h.pendingProps,B=h.memoizedState,P=B.element,X0(u,h),Bo(h,b,null,v);var ne=h.memoizedState;if(b=ne.element,B.isDehydrated)if(B={element:b,isDehydrated:!1,cache:ne.cache,pendingSuspenseBoundaries:ne.pendingSuspenseBoundaries,transitions:ne.transitions},h.updateQueue.baseState=B,h.memoizedState=B,h.flags&256){P=wd(Error(t(423)),h),h=MS(u,h,b,v,P);break e}else if(b!==P){P=wd(Error(t(424)),h),h=MS(u,h,b,v,P);break e}else for(yt=as(h.stateNode.containerInfo.firstChild),ze=h,_t=!0,bt=null,v=rr(h,null,b,v),h.child=v;v;)v.flags=v.flags&-3|4096,v=v.sibling;else{if(Ln(),b===P){h=Sc(u,h,v);break e}ea(u,h,b,v)}h=h.child}return h;case 5:return Xm(h),u===null&&qt(h),b=h.type,P=h.pendingProps,B=u!==null?u.memoizedProps:null,ne=P.children,j0(b,P)?ne=null:B!==null&&j0(b,B)&&(h.flags|=32),ES(u,h),ea(u,h,ne,v),h.child;case 6:return u===null&&qt(h),null;case 13:return CS(u,h,v);case 4:return Tu(h,h.stateNode.containerInfo),b=h.pendingProps,u===null?h.child=pi(h,null,b,v):ea(u,h,b,v),h.child;case 11:return b=h.type,P=h.pendingProps,P=h.elementType===b?P:Vo(b,P),yS(u,h,b,P,v);case 7:return ea(u,h,h.pendingProps,v),h.child;case 8:return ea(u,h,h.pendingProps.children,v),h.child;case 12:return ea(u,h,h.pendingProps.children,v),h.child;case 10:e:{if(b=h.type._context,P=h.pendingProps,B=h.memoizedProps,ne=P.value,mr(qi,b._currentValue),b._currentValue=ne,B!==null)if(Qn(B.value,ne)){if(B.children===P.children&&!vs.current){h=Sc(u,h,v);break e}}else for(B=h.child,B!==null&&(B.return=h);B!==null;){var Me=B.dependencies;if(Me!==null){ne=B.child;for(var Oe=Me.firstContext;Oe!==null;){if(Oe.context===b){if(B.tag===1){Oe=xa(-1,v&-v),Oe.tag=2;var ft=B.updateQueue;if(ft!==null){ft=ft.shared;var Dt=ft.pending;Dt===null?Oe.next=Oe:(Oe.next=Dt.next,Dt.next=Oe),ft.pending=Oe}}B.lanes|=v,Oe=B.alternate,Oe!==null&&(Oe.lanes|=v),ga(B.return,v,h),Me.lanes|=v;break}Oe=Oe.next}}else if(B.tag===10)ne=B.type===h.type?null:B.child;else if(B.tag===18){if(ne=B.return,ne===null)throw Error(t(341));ne.lanes|=v,Me=ne.alternate,Me!==null&&(Me.lanes|=v),ga(ne,v,h),ne=B.sibling}else ne=B.child;if(ne!==null)ne.return=B;else for(ne=B;ne!==null;){if(ne===h){ne=null;break}if(B=ne.sibling,B!==null){B.return=ne.return,ne=B;break}ne=ne.return}B=ne}ea(u,h,P.children,v),h=h.child}return h;case 9:return P=h.type,b=h.pendingProps.children,Br(h,v),P=ii(P),b=b(P),h.flags|=1,ea(u,h,b,v),h.child;case 14:return b=h.type,P=Vo(b,h.pendingProps),P=Vo(b.type,P),wS(u,h,b,P,v);case 15:return bS(u,h,h.type,h.pendingProps,v);case 17:return b=h.type,P=h.pendingProps,P=h.elementType===b?P:Vo(b,P),tg(u,h),h.tag=1,_s(b)?(u=!0,_c(h)):u=!1,Br(h,v),dS(h,b,P),Mv(h,b,P,v),Rv(null,h,b,!0,u,v);case 19:return kS(u,h,v);case 22:return SS(u,h,v)}throw Error(t(156,h.tag))};function e5(u,h){return kt(u,h)}function cR(u,h,v,b){this.tag=u,this.key=v,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mo(u,h,v,b){return new cR(u,h,v,b)}function Jv(u){return u=u.prototype,!(!u||!u.isReactComponent)}function uR(u){if(typeof u=="function")return Jv(u)?1:0;if(u!=null){if(u=u.$$typeof,u===k)return 11;if(u===ae)return 14}return 2}function Du(u,h){var v=u.alternate;return v===null?(v=mo(u.tag,h,u.key,u.mode),v.elementType=u.elementType,v.type=u.type,v.stateNode=u.stateNode,v.alternate=u,u.alternate=v):(v.pendingProps=h,v.type=u.type,v.flags=0,v.subtreeFlags=0,v.deletions=null),v.flags=u.flags&14680064,v.childLanes=u.childLanes,v.lanes=u.lanes,v.child=u.child,v.memoizedProps=u.memoizedProps,v.memoizedState=u.memoizedState,v.updateQueue=u.updateQueue,h=u.dependencies,v.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},v.sibling=u.sibling,v.index=u.index,v.ref=u.ref,v}function hg(u,h,v,b,P,B){var ne=2;if(b=u,typeof u=="function")Jv(u)&&(ne=1);else if(typeof u=="string")ne=5;else e:switch(u){case L:return Qf(v.children,P,B,h);case I:ne=8,P|=8;break;case R:return u=mo(12,v,h,P|2),u.elementType=R,u.lanes=B,u;case j:return u=mo(13,v,h,P),u.elementType=j,u.lanes=B,u;case G:return u=mo(19,v,h,P),u.elementType=G,u.lanes=B,u;case ue:return dg(v,P,B,h);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case O:ne=10;break e;case N:ne=9;break e;case k:ne=11;break e;case ae:ne=14;break e;case ie:ne=16,b=null;break e}throw Error(t(130,u==null?u:typeof u,""))}return h=mo(ne,v,h,P),h.elementType=u,h.type=b,h.lanes=B,h}function Qf(u,h,v,b){return u=mo(7,u,b,h),u.lanes=v,u}function dg(u,h,v,b){return u=mo(22,u,b,h),u.elementType=ue,u.lanes=v,u.stateNode={isHidden:!1},u}function Zv(u,h,v){return u=mo(6,u,null,h),u.lanes=v,u}function Qv(u,h,v){return h=mo(4,u.children!==null?u.children:[],u.key,h),h.lanes=v,h.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},h}function fR(u,h,v,b,P){this.tag=h,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ei(0),this.expirationTimes=Ei(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ei(0),this.identifierPrefix=b,this.onRecoverableError=P,this.mutableSourceEagerHydrationData=null}function e2(u,h,v,b,P,B,ne,Me,Oe){return u=new fR(u,h,v,Me,Oe),h===1?(h=1,B===!0&&(h|=8)):h=0,B=mo(3,null,null,h),u.current=B,B.stateNode=u,B.memoizedState={element:b,isDehydrated:v,cache:null,transitions:null,pendingSuspenseBoundaries:null},fd(B),u}function hR(u,h,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:U,key:b==null?null:""+b,children:u,containerInfo:h,implementation:v}}function t5(u){if(!u)return Cl;u=u._reactInternals;e:{if(Ee(u)!==u||u.tag!==1)throw Error(t(170));var h=u;do{switch(h.tag){case 3:h=h.stateNode.context;break e;case 1:if(_s(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break e}}h=h.return}while(h!==null);throw Error(t(171))}if(u.tag===1){var v=u.type;if(_s(v))return q0(u,v,h)}return h}function n5(u,h,v,b,P,B,ne,Me,Oe){return u=e2(v,b,!0,u,P,B,ne,Me,Oe),u.context=t5(null),v=u.current,b=ta(),P=Nu(v),B=xa(b,P),B.callback=h??null,va(v,B,P),u.current.lanes=P,Jr(u,P,b),ba(u,b),u}function pg(u,h,v,b){var P=h.current,B=ta(),ne=Nu(P);return v=t5(v),h.context===null?h.context=v:h.pendingContext=v,h=xa(B,ne),h.payload={element:u},b=b===void 0?null:b,b!==null&&(h.callback=b),u=va(P,h,ne),u!==null&&(qo(u,P,ne,B),yc(u,P,ne)),ne}function mg(u){if(u=u.current,!u.child)return null;switch(u.child.tag){case 5:return u.child.stateNode;default:return u.child.stateNode}}function r5(u,h){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var v=u.retryLane;u.retryLane=v!==0&&v<h?v:h}}function t2(u,h){r5(u,h),(u=u.alternate)&&r5(u,h)}function dR(){return null}var i5=typeof reportError=="function"?reportError:function(u){console.error(u)};function n2(u){this._internalRoot=u}gg.prototype.render=n2.prototype.render=function(u){var h=this._internalRoot;if(h===null)throw Error(t(409));pg(u,h,null,null)},gg.prototype.unmount=n2.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var h=u.containerInfo;Kf(function(){pg(null,u,null,null)}),h[Gi]=null}};function gg(u){this._internalRoot=u}gg.prototype.unstable_scheduleHydration=function(u){if(u){var h=Qa();u={blockedOn:null,target:u,priority:h};for(var v=0;v<to.length&&h!==0&&h<to[v].priority;v++);to.splice(v,0,u),v===0&&Qc(u)}};function r2(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}function xg(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11&&(u.nodeType!==8||u.nodeValue!==" react-mount-point-unstable "))}function s5(){}function pR(u,h,v,b,P){if(P){if(typeof b=="function"){var B=b;b=function(){var ft=mg(ne);B.call(ft)}}var ne=n5(h,b,u,0,null,!1,!1,"",s5);return u._reactRootContainer=ne,u[Gi]=ne.current,pc(u.nodeType===8?u.parentNode:u),Kf(),ne}for(;P=u.lastChild;)u.removeChild(P);if(typeof b=="function"){var Me=b;b=function(){var ft=mg(Oe);Me.call(ft)}}var Oe=e2(u,0,!1,null,null,!1,!1,"",s5);return u._reactRootContainer=Oe,u[Gi]=Oe.current,pc(u.nodeType===8?u.parentNode:u),Kf(function(){pg(h,Oe,v,b)}),Oe}function vg(u,h,v,b,P){var B=v._reactRootContainer;if(B){var ne=B;if(typeof P=="function"){var Me=P;P=function(){var Oe=mg(ne);Me.call(Oe)}}pg(h,ne,u,P)}else ne=pR(v,h,u,P,b);return mg(ne)}ed=function(u){switch(u.tag){case 3:var h=u.stateNode;if(h.current.memoizedState.isDehydrated){var v=On(h.pendingLanes);v!==0&&(Zr(h,v|1),ba(h,Pe()),(er&6)===0&&(Ed=Pe()+500,H()))}break;case 13:Kf(function(){var b=ir(u,1);if(b!==null){var P=ta();qo(b,u,1,P)}}),t2(u,1)}},Mf=function(u){if(u.tag===13){var h=ir(u,134217728);if(h!==null){var v=ta();qo(h,u,134217728,v)}t2(u,134217728)}},td=function(u){if(u.tag===13){var h=Nu(u),v=ir(u,h);if(v!==null){var b=ta();qo(v,u,h,b)}t2(u,h)}},Qa=function(){return jn},Ql=function(u,h){var v=jn;try{return jn=u,h()}finally{jn=v}},Ft=function(u,h,v){switch(h){case"input":if(Re(u,v),h=v.name,v.type==="radio"&&h!=null){for(v=u;v.parentNode;)v=v.parentNode;for(v=v.querySelectorAll("input[name="+JSON.stringify(""+h)+'][type="radio"]'),h=0;h<v.length;h++){var b=v[h];if(b!==u&&b.form===u.form){var P=Wf(b);if(!P)throw Error(t(90));he(b),Re(b,P)}}}break;case"textarea":Y(u,v);break;case"select":h=v.value,h!=null&&Ke(u,!!v.multiple,h,!1)}},un=$v,_n=Kf;var mR={usingClientEntryPoint:!1,Events:[bu,xc,Wf,ot,Ot,$v]},ip={findFiberByHostInstance:Ml,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},gR={bundleType:ip.bundleType,version:ip.version,rendererPackageName:ip.rendererPackageName,rendererConfig:ip.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:M.ReactCurrentDispatcher,findHostInstanceByFiber:function(u){return u=at(u),u===null?null:u.stateNode},findFiberByHostInstance:ip.findFiberByHostInstance||dR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _g=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_g.isDisabled&&_g.supportsFiber)try{rn=_g.inject(gR),$t=_g}catch{}}return Sa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mR,Sa.createPortal=function(u,h){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!r2(h))throw Error(t(200));return hR(u,h,null,v)},Sa.createRoot=function(u,h){if(!r2(u))throw Error(t(299));var v=!1,b="",P=i5;return h!=null&&(h.unstable_strictMode===!0&&(v=!0),h.identifierPrefix!==void 0&&(b=h.identifierPrefix),h.onRecoverableError!==void 0&&(P=h.onRecoverableError)),h=e2(u,1,!1,null,null,v,!1,b,P),u[Gi]=h.current,pc(u.nodeType===8?u.parentNode:u),new n2(h)},Sa.findDOMNode=function(u){if(u==null)return null;if(u.nodeType===1)return u;var h=u._reactInternals;if(h===void 0)throw typeof u.render=="function"?Error(t(188)):(u=Object.keys(u).join(","),Error(t(268,u)));return u=at(h),u=u===null?null:u.stateNode,u},Sa.flushSync=function(u){return Kf(u)},Sa.hydrate=function(u,h,v){if(!xg(h))throw Error(t(200));return vg(null,u,h,!0,v)},Sa.hydrateRoot=function(u,h,v){if(!r2(u))throw Error(t(405));var b=v!=null&&v.hydratedSources||null,P=!1,B="",ne=i5;if(v!=null&&(v.unstable_strictMode===!0&&(P=!0),v.identifierPrefix!==void 0&&(B=v.identifierPrefix),v.onRecoverableError!==void 0&&(ne=v.onRecoverableError)),h=n5(h,null,u,1,v??null,P,!1,B,ne),u[Gi]=h.current,pc(u),b)for(u=0;u<b.length;u++)v=b[u],P=v._getVersion,P=P(v._source),h.mutableSourceEagerHydrationData==null?h.mutableSourceEagerHydrationData=[v,P]:h.mutableSourceEagerHydrationData.push(v,P);return new gg(h)},Sa.render=function(u,h,v){if(!xg(h))throw Error(t(200));return vg(null,u,h,!1,v)},Sa.unmountComponentAtNode=function(u){if(!xg(u))throw Error(t(40));return u._reactRootContainer?(Kf(function(){vg(null,null,u,!1,function(){u._reactRootContainer=null,u[Gi]=null})}),!0):!1},Sa.unstable_batchedUpdates=$v,Sa.unstable_renderSubtreeIntoContainer=function(u,h,v,b){if(!xg(v))throw Error(t(200));if(u==null||u._reactInternals===void 0)throw Error(t(38));return vg(u,h,v,!1,b)},Sa.version="18.3.1-next-f1338f8080-20240426",Sa}var d5;function sM(){if(d5)return a2.exports;d5=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),a2.exports=CR(),a2.exports}var p5;function PR(){if(p5)return yg;p5=1;var n=sM();return yg.createRoot=n.createRoot,yg.hydrateRoot=n.hydrateRoot,yg}var kR=PR(),c2={exports:{}},u2={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m5;function RR(){if(m5)return u2;m5=1;var n=Am();function e(d,p){return d===p&&(d!==0||1/d===1/p)||d!==d&&p!==p}var t=typeof Object.is=="function"?Object.is:e,r=n.useState,i=n.useEffect,s=n.useLayoutEffect,a=n.useDebugValue;function o(d,p){var m=p(),_=r({inst:{value:m,getSnapshot:p}}),x=_[0].inst,g=_[1];return s(function(){x.value=m,x.getSnapshot=p,l(x)&&g({inst:x})},[d,m,p]),i(function(){return l(x)&&g({inst:x}),d(function(){l(x)&&g({inst:x})})},[d]),a(m),m}function l(d){var p=d.getSnapshot;d=d.value;try{var m=p();return!t(d,m)}catch{return!0}}function c(d,p){return p()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:o;return u2.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:f,u2}var g5;function aM(){return g5||(g5=1,c2.exports=RR()),c2.exports}aM();var f2={exports:{}},h2={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x5;function LR(){if(x5)return h2;x5=1;var n=Am(),e=aM();function t(c,f){return c===f&&(c!==0||1/c===1/f)||c!==c&&f!==f}var r=typeof Object.is=="function"?Object.is:t,i=e.useSyncExternalStore,s=n.useRef,a=n.useEffect,o=n.useMemo,l=n.useDebugValue;return h2.useSyncExternalStoreWithSelector=function(c,f,d,p,m){var _=s(null);if(_.current===null){var x={hasValue:!1,value:null};_.current=x}else x=_.current;_=o(function(){function y(U){if(!A){if(A=!0,E=U,U=p(U),m!==void 0&&x.hasValue){var L=x.value;if(m(L,U))return M=L}return M=U}if(L=M,r(E,U))return L;var I=p(U);return m!==void 0&&m(L,I)?(E=U,L):(E=U,M=I)}var A=!1,E,M,D=d===void 0?null:d;return[function(){return y(f())},D===null?void 0:function(){return y(D())}]},[f,d,p,m]);var g=i(c,_[0],_[1]);return a(function(){x.hasValue=!0,x.value=g},[g]),l(g),g},h2}var v5;function NR(){return v5||(v5=1,f2.exports=LR()),f2.exports}var FR=NR(),DR=sM();function IR(n){n()}let oM=IR;const OR=n=>oM=n,UR=()=>oM,_5=Symbol.for("react-redux-context"),y5=typeof globalThis<"u"?globalThis:{};function BR(){var n;if(!xt.createContext)return{};const e=(n=y5[_5])!=null?n:y5[_5]=new Map;let t=e.get(xt.createContext);return t||(t=xt.createContext(null),e.set(xt.createContext,t)),t}const df=BR();function Dw(n=df){return function(){return xt.useContext(n)}}const lM=Dw(),zR=()=>{throw new Error("uSES not initialized!")};let cM=zR;const HR=n=>{cM=n},jR=(n,e)=>n===e;function VR(n=df){const e=n===df?lM:Dw(n);return function(r,i={}){const{equalityFn:s=jR,stabilityCheck:a=void 0,noopCheck:o=void 0}=typeof i=="function"?{equalityFn:i}:i,{store:l,subscription:c,getServerState:f,stabilityCheck:d,noopCheck:p}=e();xt.useRef(!0);const m=xt.useCallback({[r.name](x){return r(x)}}[r.name],[r,d,a]),_=cM(c.addNestedSub,l.getState,f||l.getState,m,s);return xt.useDebugValue(_),_}}const Fn=VR();var d2={exports:{}},xr={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w5;function WR(){if(w5)return xr;w5=1;var n=typeof Symbol=="function"&&Symbol.for,e=n?Symbol.for("react.element"):60103,t=n?Symbol.for("react.portal"):60106,r=n?Symbol.for("react.fragment"):60107,i=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,a=n?Symbol.for("react.provider"):60109,o=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,c=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,_=n?Symbol.for("react.lazy"):60116,x=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,y=n?Symbol.for("react.responder"):60118,A=n?Symbol.for("react.scope"):60119;function E(D){if(typeof D=="object"&&D!==null){var U=D.$$typeof;switch(U){case e:switch(D=D.type,D){case l:case c:case r:case s:case i:case d:return D;default:switch(D=D&&D.$$typeof,D){case o:case f:case _:case m:case a:return D;default:return U}}case t:return U}}}function M(D){return E(D)===c}return xr.AsyncMode=l,xr.ConcurrentMode=c,xr.ContextConsumer=o,xr.ContextProvider=a,xr.Element=e,xr.ForwardRef=f,xr.Fragment=r,xr.Lazy=_,xr.Memo=m,xr.Portal=t,xr.Profiler=s,xr.StrictMode=i,xr.Suspense=d,xr.isAsyncMode=function(D){return M(D)||E(D)===l},xr.isConcurrentMode=M,xr.isContextConsumer=function(D){return E(D)===o},xr.isContextProvider=function(D){return E(D)===a},xr.isElement=function(D){return typeof D=="object"&&D!==null&&D.$$typeof===e},xr.isForwardRef=function(D){return E(D)===f},xr.isFragment=function(D){return E(D)===r},xr.isLazy=function(D){return E(D)===_},xr.isMemo=function(D){return E(D)===m},xr.isPortal=function(D){return E(D)===t},xr.isProfiler=function(D){return E(D)===s},xr.isStrictMode=function(D){return E(D)===i},xr.isSuspense=function(D){return E(D)===d},xr.isValidElementType=function(D){return typeof D=="string"||typeof D=="function"||D===r||D===c||D===s||D===i||D===d||D===p||typeof D=="object"&&D!==null&&(D.$$typeof===_||D.$$typeof===m||D.$$typeof===a||D.$$typeof===o||D.$$typeof===f||D.$$typeof===g||D.$$typeof===y||D.$$typeof===A||D.$$typeof===x)},xr.typeOf=E,xr}var b5;function GR(){return b5||(b5=1,d2.exports=WR()),d2.exports}var p2,S5;function qR(){if(S5)return p2;S5=1;var n=GR(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};s[n.ForwardRef]=r,s[n.Memo]=i;function a(_){return n.isMemo(_)?i:s[_.$$typeof]||e}var o=Object.defineProperty,l=Object.getOwnPropertyNames,c=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;function m(_,x,g){if(typeof x!="string"){if(p){var y=d(x);y&&y!==p&&m(_,y,g)}var A=l(x);c&&(A=A.concat(c(x)));for(var E=a(_),M=a(x),D=0;D<A.length;++D){var U=A[D];if(!t[U]&&!(g&&g[U])&&!(M&&M[U])&&!(E&&E[U])){var L=f(x,U);try{o(_,U,L)}catch{}}}}return _}return p2=m,p2}qR();var m2={exports:{}},vr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E5;function XR(){if(E5)return vr;E5=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),o=Symbol.for("react.server_context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen"),_;_=Symbol.for("react.module.reference");function x(g){if(typeof g=="object"&&g!==null){var y=g.$$typeof;switch(y){case n:switch(g=g.type,g){case t:case i:case r:case c:case f:return g;default:switch(g=g&&g.$$typeof,g){case o:case a:case l:case p:case d:case s:return g;default:return y}}case e:return y}}}return vr.ContextConsumer=a,vr.ContextProvider=s,vr.Element=n,vr.ForwardRef=l,vr.Fragment=t,vr.Lazy=p,vr.Memo=d,vr.Portal=e,vr.Profiler=i,vr.StrictMode=r,vr.Suspense=c,vr.SuspenseList=f,vr.isAsyncMode=function(){return!1},vr.isConcurrentMode=function(){return!1},vr.isContextConsumer=function(g){return x(g)===a},vr.isContextProvider=function(g){return x(g)===s},vr.isElement=function(g){return typeof g=="object"&&g!==null&&g.$$typeof===n},vr.isForwardRef=function(g){return x(g)===l},vr.isFragment=function(g){return x(g)===t},vr.isLazy=function(g){return x(g)===p},vr.isMemo=function(g){return x(g)===d},vr.isPortal=function(g){return x(g)===e},vr.isProfiler=function(g){return x(g)===i},vr.isStrictMode=function(g){return x(g)===r},vr.isSuspense=function(g){return x(g)===c},vr.isSuspenseList=function(g){return x(g)===f},vr.isValidElementType=function(g){return typeof g=="string"||typeof g=="function"||g===t||g===i||g===r||g===c||g===f||g===m||typeof g=="object"&&g!==null&&(g.$$typeof===p||g.$$typeof===d||g.$$typeof===s||g.$$typeof===a||g.$$typeof===l||g.$$typeof===_||g.getModuleId!==void 0)},vr.typeOf=x,vr}var A5;function $R(){return A5||(A5=1,m2.exports=XR()),m2.exports}$R();function YR(){const n=UR();let e=null,t=null;return{clear(){e=null,t=null},notify(){n(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=e;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,s=t={callback:r,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!i||e===null||(i=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}const T5={notify(){},get:()=>[]};function KR(n,e){let t,r=T5,i=0,s=!1;function a(x){f();const g=r.subscribe(x);let y=!1;return()=>{y||(y=!0,g(),d())}}function o(){r.notify()}function l(){_.onStateChange&&_.onStateChange()}function c(){return s}function f(){i++,t||(t=n.subscribe(l),r=YR())}function d(){i--,t&&i===0&&(t(),t=void 0,r.clear(),r=T5)}function p(){s||(s=!0,f())}function m(){s&&(s=!1,d())}const _={addNestedSub:a,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:c,trySubscribe:p,tryUnsubscribe:m,getListeners:()=>r};return _}const JR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ZR=JR?xt.useLayoutEffect:xt.useEffect;function QR({store:n,context:e,children:t,serverState:r,stabilityCheck:i="once",noopCheck:s="once"}){const a=xt.useMemo(()=>{const c=KR(n);return{store:n,subscription:c,getServerState:r?()=>r:void 0,stabilityCheck:i,noopCheck:s}},[n,r,i,s]),o=xt.useMemo(()=>n.getState(),[n]);ZR(()=>{const{subscription:c}=a;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),o!==n.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[a,o]);const l=e||df;return xt.createElement(l.Provider,{value:a},t)}function uM(n=df){const e=n===df?lM:Dw(n);return function(){const{store:r}=e();return r}}const eL=uM();function tL(n=df){const e=n===df?eL:uM(n);return function(){return e().dispatch}}const Yc=tL();HR(FR.useSyncExternalStoreWithSelector);OR(DR.unstable_batchedUpdates);function tl(n){for(var e=arguments.length,t=Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+n+(t.length?" "+t.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function pf(n){return!!n&&!!n[qr]}function Xc(n){var e;return!!n&&(function(t){if(!t||typeof t!="object")return!1;var r=Object.getPrototypeOf(t);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===uL}(n)||Array.isArray(n)||!!n[N5]||!!(!((e=n.constructor)===null||e===void 0)&&e[N5])||Iw(n)||Ow(n))}function Lh(n,e,t){t===void 0&&(t=!1),R0(n)===0?(t?Object.keys:i0)(n).forEach(function(r){t&&typeof r=="symbol"||e(r,n[r],n)}):n.forEach(function(r,i){return e(i,r,n)})}function R0(n){var e=n[qr];return e?e.i>3?e.i-4:e.i:Array.isArray(n)?1:Iw(n)?2:Ow(n)?3:0}function r0(n,e){return R0(n)===2?n.has(e):Object.prototype.hasOwnProperty.call(n,e)}function nL(n,e){return R0(n)===2?n.get(e):n[e]}function fM(n,e,t){var r=R0(n);r===2?n.set(e,t):r===3?n.add(t):n[e]=t}function hM(n,e){return n===e?n!==0||1/n==1/e:n!=n&&e!=e}function Iw(n){return lL&&n instanceof Map}function Ow(n){return cL&&n instanceof Set}function fh(n){return n.o||n.t}function Uw(n){if(Array.isArray(n))return Array.prototype.slice.call(n);var e=pM(n);delete e[qr];for(var t=i0(e),r=0;r<t.length;r++){var i=t[r],s=e[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(e[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:n[i]})}return Object.create(Object.getPrototypeOf(n),e)}function Bw(n,e){return e===void 0&&(e=!1),zw(n)||pf(n)||!Xc(n)||(R0(n)>1&&(n.set=n.add=n.clear=n.delete=rL),Object.freeze(n),e&&Lh(n,function(t,r){return Bw(r,!0)},!0)),n}function rL(){tl(2)}function zw(n){return n==null||typeof n!="object"||Object.isFrozen(n)}function Wl(n){var e=X_[n];return e||tl(18,n),e}function iL(n,e){X_[n]||(X_[n]=e)}function W_(){return Qp}function g2(n,e){e&&(Wl("Patches"),n.u=[],n.s=[],n.v=e)}function ax(n){G_(n),n.p.forEach(sL),n.p=null}function G_(n){n===Qp&&(Qp=n.l)}function M5(n){return Qp={p:[],l:Qp,h:n,m:!0,_:0}}function sL(n){var e=n[qr];e.i===0||e.i===1?e.j():e.g=!0}function x2(n,e){e._=e.p.length;var t=e.p[0],r=n!==void 0&&n!==t;return e.h.O||Wl("ES5").S(e,n,r),r?(t[qr].P&&(ax(e),tl(4)),Xc(n)&&(n=ox(e,n),e.l||lx(e,n)),e.u&&Wl("Patches").M(t[qr].t,n,e.u,e.s)):n=ox(e,t,[]),ax(e),e.u&&e.v(e.u,e.s),n!==dM?n:void 0}function ox(n,e,t){if(zw(e))return e;var r=e[qr];if(!r)return Lh(e,function(o,l){return C5(n,r,e,o,l,t)},!0),e;if(r.A!==n)return e;if(!r.P)return lx(n,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=Uw(r.k):r.o,s=i,a=!1;r.i===3&&(s=new Set(i),i.clear(),a=!0),Lh(s,function(o,l){return C5(n,r,i,o,l,t,a)}),lx(n,i,!1),t&&n.u&&Wl("Patches").N(r,t,n.u,n.s)}return r.o}function C5(n,e,t,r,i,s,a){if(pf(i)){var o=ox(n,i,s&&e&&e.i!==3&&!r0(e.R,r)?s.concat(r):void 0);if(fM(t,r,o),!pf(o))return;n.m=!1}else a&&t.add(i);if(Xc(i)&&!zw(i)){if(!n.h.D&&n._<1)return;ox(n,i),e&&e.A.l||lx(n,i)}}function lx(n,e,t){t===void 0&&(t=!1),!n.l&&n.h.D&&n.m&&Bw(e,t)}function v2(n,e){var t=n[qr];return(t?fh(t):n)[e]}function P5(n,e){if(e in n)for(var t=Object.getPrototypeOf(n);t;){var r=Object.getOwnPropertyDescriptor(t,e);if(r)return r;t=Object.getPrototypeOf(t)}}function Xu(n){n.P||(n.P=!0,n.l&&Xu(n.l))}function _2(n){n.o||(n.o=Uw(n.t))}function q_(n,e,t){var r=Iw(e)?Wl("MapSet").F(e,t):Ow(e)?Wl("MapSet").T(e,t):n.O?function(i,s){var a=Array.isArray(i),o={i:a?1:0,A:s?s.A:W_(),P:!1,I:!1,R:{},l:s,t:i,k:null,o:null,j:null,C:!1},l=o,c=em;a&&(l=[o],c=Sp);var f=Proxy.revocable(l,c),d=f.revoke,p=f.proxy;return o.k=p,o.j=d,p}(e,t):Wl("ES5").J(e,t);return(t?t.A:W_()).p.push(r),r}function aL(n){return pf(n)||tl(22,n),function e(t){if(!Xc(t))return t;var r,i=t[qr],s=R0(t);if(i){if(!i.P&&(i.i<4||!Wl("ES5").K(i)))return i.t;i.I=!0,r=k5(t,s),i.I=!1}else r=k5(t,s);return Lh(r,function(a,o){i&&nL(i.t,a)===o||fM(r,a,e(o))}),s===3?new Set(r):r}(n)}function k5(n,e){switch(e){case 2:return new Map(n);case 3:return Array.from(n)}return Uw(n)}function oL(){function n(s,a){var o=i[s];return o?o.enumerable=a:i[s]=o={configurable:!0,enumerable:a,get:function(){var l=this[qr];return em.get(l,s)},set:function(l){var c=this[qr];em.set(c,s,l)}},o}function e(s){for(var a=s.length-1;a>=0;a--){var o=s[a][qr];if(!o.P)switch(o.i){case 5:r(o)&&Xu(o);break;case 4:t(o)&&Xu(o)}}}function t(s){for(var a=s.t,o=s.k,l=i0(o),c=l.length-1;c>=0;c--){var f=l[c];if(f!==qr){var d=a[f];if(d===void 0&&!r0(a,f))return!0;var p=o[f],m=p&&p[qr];if(m?m.t!==d:!hM(p,d))return!0}}var _=!!a[qr];return l.length!==i0(a).length+(_?0:1)}function r(s){var a=s.k;if(a.length!==s.t.length)return!0;var o=Object.getOwnPropertyDescriptor(a,a.length-1);if(o&&!o.get)return!0;for(var l=0;l<a.length;l++)if(!a.hasOwnProperty(l))return!0;return!1}var i={};iL("ES5",{J:function(s,a){var o=Array.isArray(s),l=function(f,d){if(f){for(var p=Array(d.length),m=0;m<d.length;m++)Object.defineProperty(p,""+m,n(m,!0));return p}var _=pM(d);delete _[qr];for(var x=i0(_),g=0;g<x.length;g++){var y=x[g];_[y]=n(y,f||!!_[y].enumerable)}return Object.create(Object.getPrototypeOf(d),_)}(o,s),c={i:o?5:4,A:a?a.A:W_(),P:!1,I:!1,R:{},l:a,t:s,k:l,o:null,g:!1,C:!1};return Object.defineProperty(l,qr,{value:c,writable:!0}),l},S:function(s,a,o){o?pf(a)&&a[qr].A===s&&e(s.p):(s.u&&function l(c){if(c&&typeof c=="object"){var f=c[qr];if(f){var d=f.t,p=f.k,m=f.R,_=f.i;if(_===4)Lh(p,function(E){E!==qr&&(d[E]!==void 0||r0(d,E)?m[E]||l(p[E]):(m[E]=!0,Xu(f)))}),Lh(d,function(E){p[E]!==void 0||r0(p,E)||(m[E]=!1,Xu(f))});else if(_===5){if(r(f)&&(Xu(f),m.length=!0),p.length<d.length)for(var x=p.length;x<d.length;x++)m[x]=!1;else for(var g=d.length;g<p.length;g++)m[g]=!0;for(var y=Math.min(p.length,d.length),A=0;A<y;A++)p.hasOwnProperty(A)||(m[A]=!0),m[A]===void 0&&l(p[A])}}}}(s.p[0]),e(s.p))},K:function(s){return s.i===4?t(s):r(s)}})}var R5,Qp,Hw=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",lL=typeof Map<"u",cL=typeof Set<"u",L5=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",dM=Hw?Symbol.for("immer-nothing"):((R5={})["immer-nothing"]=!0,R5),N5=Hw?Symbol.for("immer-draftable"):"__$immer_draftable",qr=Hw?Symbol.for("immer-state"):"__$immer_state",uL=""+Object.prototype.constructor,i0=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(n){return Object.getOwnPropertyNames(n).concat(Object.getOwnPropertySymbols(n))}:Object.getOwnPropertyNames,pM=Object.getOwnPropertyDescriptors||function(n){var e={};return i0(n).forEach(function(t){e[t]=Object.getOwnPropertyDescriptor(n,t)}),e},X_={},em={get:function(n,e){if(e===qr)return n;var t=fh(n);if(!r0(t,e))return function(i,s,a){var o,l=P5(s,a);return l?"value"in l?l.value:(o=l.get)===null||o===void 0?void 0:o.call(i.k):void 0}(n,t,e);var r=t[e];return n.I||!Xc(r)?r:r===v2(n.t,e)?(_2(n),n.o[e]=q_(n.A.h,r,n)):r},has:function(n,e){return e in fh(n)},ownKeys:function(n){return Reflect.ownKeys(fh(n))},set:function(n,e,t){var r=P5(fh(n),e);if(r!=null&&r.set)return r.set.call(n.k,t),!0;if(!n.P){var i=v2(fh(n),e),s=i==null?void 0:i[qr];if(s&&s.t===t)return n.o[e]=t,n.R[e]=!1,!0;if(hM(t,i)&&(t!==void 0||r0(n.t,e)))return!0;_2(n),Xu(n)}return n.o[e]===t&&(t!==void 0||e in n.o)||Number.isNaN(t)&&Number.isNaN(n.o[e])||(n.o[e]=t,n.R[e]=!0),!0},deleteProperty:function(n,e){return v2(n.t,e)!==void 0||e in n.t?(n.R[e]=!1,_2(n),Xu(n)):delete n.R[e],n.o&&delete n.o[e],!0},getOwnPropertyDescriptor:function(n,e){var t=fh(n),r=Reflect.getOwnPropertyDescriptor(t,e);return r&&{writable:!0,configurable:n.i!==1||e!=="length",enumerable:r.enumerable,value:t[e]}},defineProperty:function(){tl(11)},getPrototypeOf:function(n){return Object.getPrototypeOf(n.t)},setPrototypeOf:function(){tl(12)}},Sp={};Lh(em,function(n,e){Sp[n]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),Sp.deleteProperty=function(n,e){return Sp.set.call(this,n,e,void 0)},Sp.set=function(n,e,t){return em.set.call(this,n[0],e,t,n[0])};var fL=function(){function n(t){var r=this;this.O=L5,this.D=!0,this.produce=function(i,s,a){if(typeof i=="function"&&typeof s!="function"){var o=s;s=i;var l=r;return function(x){var g=this;x===void 0&&(x=o);for(var y=arguments.length,A=Array(y>1?y-1:0),E=1;E<y;E++)A[E-1]=arguments[E];return l.produce(x,function(M){var D;return(D=s).call.apply(D,[g,M].concat(A))})}}var c;if(typeof s!="function"&&tl(6),a!==void 0&&typeof a!="function"&&tl(7),Xc(i)){var f=M5(r),d=q_(r,i,void 0),p=!0;try{c=s(d),p=!1}finally{p?ax(f):G_(f)}return typeof Promise<"u"&&c instanceof Promise?c.then(function(x){return g2(f,a),x2(x,f)},function(x){throw ax(f),x}):(g2(f,a),x2(c,f))}if(!i||typeof i!="object"){if((c=s(i))===void 0&&(c=i),c===dM&&(c=void 0),r.D&&Bw(c,!0),a){var m=[],_=[];Wl("Patches").M(i,c,m,_),a(m,_)}return c}tl(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(c){for(var f=arguments.length,d=Array(f>1?f-1:0),p=1;p<f;p++)d[p-1]=arguments[p];return r.produceWithPatches(c,function(m){return i.apply(void 0,[m].concat(d))})};var a,o,l=r.produce(i,s,function(c,f){a=c,o=f});return typeof Promise<"u"&&l instanceof Promise?l.then(function(c){return[c,a,o]}):[l,a,o]},typeof(t==null?void 0:t.useProxies)=="boolean"&&this.setUseProxies(t.useProxies),typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze)}var e=n.prototype;return e.createDraft=function(t){Xc(t)||tl(8),pf(t)&&(t=aL(t));var r=M5(this),i=q_(this,t,void 0);return i[qr].C=!0,G_(r),i},e.finishDraft=function(t,r){var i=t&&t[qr],s=i.A;return g2(s,r),x2(void 0,s)},e.setAutoFreeze=function(t){this.D=t},e.setUseProxies=function(t){t&&!L5&&tl(20),this.O=t},e.applyPatches=function(t,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}i>-1&&(r=r.slice(i+1));var a=Wl("Patches").$;return pf(t)?a(t,r):this.produce(t,function(o){return a(o,r)})},n}(),Ja=new fL,mM=Ja.produce;Ja.produceWithPatches.bind(Ja);Ja.setAutoFreeze.bind(Ja);Ja.setUseProxies.bind(Ja);Ja.applyPatches.bind(Ja);Ja.createDraft.bind(Ja);Ja.finishDraft.bind(Ja);function lr(n){"@babel/helpers - typeof";return lr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lr(n)}function hL(n,e){if(lr(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(lr(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function dL(n){var e=hL(n,"string");return lr(e)=="symbol"?e:e+""}function pL(n,e,t){return(e=dL(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function F5(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function D5(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?F5(Object(t),!0).forEach(function(r){pL(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):F5(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function ks(n){return"Minified Redux error #"+n+"; visit https://redux.js.org/Errors?code="+n+" for the full message or use the non-minified dev environment for full errors. "}var I5=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),y2=function(){return Math.random().toString(36).substring(7).split("").join(".")},cx={INIT:"@@redux/INIT"+y2(),REPLACE:"@@redux/REPLACE"+y2(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+y2()}};function mL(n){if(typeof n!="object"||n===null)return!1;for(var e=n;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e}function gM(n,e,t){var r;if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(ks(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(ks(1));return t(gM)(n,e)}if(typeof n!="function")throw new Error(ks(2));var i=n,s=e,a=[],o=a,l=!1;function c(){o===a&&(o=a.slice())}function f(){if(l)throw new Error(ks(3));return s}function d(x){if(typeof x!="function")throw new Error(ks(4));if(l)throw new Error(ks(5));var g=!0;return c(),o.push(x),function(){if(g){if(l)throw new Error(ks(6));g=!1,c();var A=o.indexOf(x);o.splice(A,1),a=null}}}function p(x){if(!mL(x))throw new Error(ks(7));if(typeof x.type>"u")throw new Error(ks(8));if(l)throw new Error(ks(9));try{l=!0,s=i(s,x)}finally{l=!1}for(var g=a=o,y=0;y<g.length;y++){var A=g[y];A()}return x}function m(x){if(typeof x!="function")throw new Error(ks(10));i=x,p({type:cx.REPLACE})}function _(){var x,g=d;return x={subscribe:function(A){if(typeof A!="object"||A===null)throw new Error(ks(11));function E(){A.next&&A.next(f())}E();var M=g(E);return{unsubscribe:M}}},x[I5]=function(){return this},x}return p({type:cx.INIT}),r={dispatch:p,subscribe:d,getState:f,replaceReducer:m},r[I5]=_,r}function gL(n){Object.keys(n).forEach(function(e){var t=n[e],r=t(void 0,{type:cx.INIT});if(typeof r>"u")throw new Error(ks(12));if(typeof t(void 0,{type:cx.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ks(13))})}function xL(n){for(var e=Object.keys(n),t={},r=0;r<e.length;r++){var i=e[r];typeof n[i]=="function"&&(t[i]=n[i])}var s=Object.keys(t),a;try{gL(t)}catch(o){a=o}return function(l,c){if(l===void 0&&(l={}),a)throw a;for(var f=!1,d={},p=0;p<s.length;p++){var m=s[p],_=t[m],x=l[m],g=_(x,c);if(typeof g>"u")throw c&&c.type,new Error(ks(14));d[m]=g,f=f||g!==x}return f=f||s.length!==Object.keys(l).length,f?d:l}}function ux(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function vL(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(r){return function(){var i=r.apply(void 0,arguments),s=function(){throw new Error(ks(15))},a={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},o=e.map(function(l){return l(a)});return s=ux.apply(void 0,o)(i.dispatch),D5(D5({},i),{},{dispatch:s})}}}function xM(n){var e=function(r){var i=r.dispatch,s=r.getState;return function(a){return function(o){return typeof o=="function"?o(i,s,n):a(o)}}};return e}var $_=xM();$_.withExtraArgument=xM;var vM=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),_L=function(n,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(c){return function(f){return l([c,f])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){t.label=c[1];break}if(c[0]===6&&t.label<s[1]){t.label=s[1],s=c;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(c);break}s[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(n,t)}catch(f){c=[6,f],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},v0=function(n,e){for(var t=0,r=e.length,i=n.length;t<r;t++,i++)n[i]=e[t];return n},yL=Object.defineProperty,wL=Object.defineProperties,bL=Object.getOwnPropertyDescriptors,O5=Object.getOwnPropertySymbols,SL=Object.prototype.hasOwnProperty,EL=Object.prototype.propertyIsEnumerable,U5=function(n,e,t){return e in n?yL(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t},sf=function(n,e){for(var t in e||(e={}))SL.call(e,t)&&U5(n,t,e[t]);if(O5)for(var r=0,i=O5(e);r<i.length;r++){var t=i[r];EL.call(e,t)&&U5(n,t,e[t])}return n},w2=function(n,e){return wL(n,bL(e))},AL=function(n,e,t){return new Promise(function(r,i){var s=function(l){try{o(t.next(l))}catch(c){i(c)}},a=function(l){try{o(t.throw(l))}catch(c){i(c)}},o=function(l){return l.done?r(l.value):Promise.resolve(l.value).then(s,a)};o((t=t.apply(n,e)).next())})},TL=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?ux:ux.apply(null,arguments)};function ML(n){if(typeof n!="object"||n===null)return!1;var e=Object.getPrototypeOf(n);if(e===null)return!0;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return e===t}function af(n,e){function t(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(e){var s=e.apply(void 0,r);if(!s)throw new Error("prepareAction did not return an object");return sf(sf({type:n,payload:s.payload},"meta"in s&&{meta:s.meta}),"error"in s&&{error:s.error})}return{type:n,payload:r[0]}}return t.toString=function(){return""+n},t.type=n,t.match=function(r){return r.type===n},t}var CL=function(n){vM(e,n);function e(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var i=n.apply(this,t)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return n.prototype.concat.apply(this,t)},e.prototype.prepend=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return t.length===1&&Array.isArray(t[0])?new(e.bind.apply(e,v0([void 0],t[0].concat(this)))):new(e.bind.apply(e,v0([void 0],t.concat(this))))},e}(Array),PL=function(n){vM(e,n);function e(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var i=n.apply(this,t)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return n.prototype.concat.apply(this,t)},e.prototype.prepend=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return t.length===1&&Array.isArray(t[0])?new(e.bind.apply(e,v0([void 0],t[0].concat(this)))):new(e.bind.apply(e,v0([void 0],t.concat(this))))},e}(Array);function Y_(n){return Xc(n)?mM(n,function(){}):n}function kL(n){return typeof n=="boolean"}function RL(){return function(e){return LL(e)}}function LL(n){n===void 0&&(n={});var e=n.thunk,t=e===void 0?!0:e;n.immutableCheck,n.serializableCheck,n.actionCreatorCheck;var r=new CL;return t&&(kL(t)?r.push($_):r.push($_.withExtraArgument(t.extraArgument))),r}function NL(n){var e=RL(),t=n||{},r=t.reducer,i=r===void 0?void 0:r,s=t.middleware,a=s===void 0?e():s,o=t.devTools,l=o===void 0?!0:o,c=t.preloadedState,f=c===void 0?void 0:c,d=t.enhancers,p=d===void 0?void 0:d,m;if(typeof i=="function")m=i;else if(ML(i))m=xL(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var _=a;typeof _=="function"&&(_=_(e));var x=vL.apply(void 0,_),g=ux;l&&(g=TL(sf({trace:!1},typeof l=="object"&&l)));var y=new PL(x),A=y;Array.isArray(p)?A=v0([x],p):typeof p=="function"&&(A=p(y));var E=g.apply(void 0,A);return gM(m,f,E)}function _M(n){var e={},t=[],r,i={addCase:function(s,a){var o=typeof s=="string"?s:s.type;if(!o)throw new Error("`builder.addCase` cannot be called with an empty action type");if(o in e)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return e[o]=a,i},addMatcher:function(s,a){return t.push({matcher:s,reducer:a}),i},addDefaultCase:function(s){return r=s,i}};return n(i),[e,t,r]}function FL(n){return typeof n=="function"}function DL(n,e,t,r){t===void 0&&(t=[]);var i=typeof e=="function"?_M(e):[e,t,r],s=i[0],a=i[1],o=i[2],l;if(FL(n))l=function(){return Y_(n())};else{var c=Y_(n);l=function(){return c}}function f(d,p){d===void 0&&(d=l());var m=v0([s[p.type]],a.filter(function(_){var x=_.matcher;return x(p)}).map(function(_){var x=_.reducer;return x}));return m.filter(function(_){return!!_}).length===0&&(m=[o]),m.reduce(function(_,x){if(x)if(pf(_)){var g=_,y=x(g,p);return y===void 0?_:y}else{if(Xc(_))return mM(_,function(A){return x(A,p)});var y=x(_,p);if(y===void 0){if(_===null)return _;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}return _},d)}return f.getInitialState=l,f}function IL(n,e){return n+"/"+e}function L0(n){var e=n.name;if(!e)throw new Error("`name` is a required option for createSlice");var t=typeof n.initialState=="function"?n.initialState:Y_(n.initialState),r=n.reducers||{},i=Object.keys(r),s={},a={},o={};i.forEach(function(f){var d=r[f],p=IL(e,f),m,_;"reducer"in d?(m=d.reducer,_=d.prepare):m=d,s[f]=m,a[p]=m,o[f]=_?af(p,_):af(p)});function l(){var f=typeof n.extraReducers=="function"?_M(n.extraReducers):[n.extraReducers],d=f[0],p=d===void 0?{}:d,m=f[1],_=m===void 0?[]:m,x=f[2],g=x===void 0?void 0:x,y=sf(sf({},p),a);return DL(t,function(A){for(var E in y)A.addCase(E,y[E]);for(var M=0,D=_;M<D.length;M++){var U=D[M];A.addMatcher(U.matcher,U.reducer)}g&&A.addDefaultCase(g)})}var c;return{name:e,reducer:function(f,d){return c||(c=l()),c(f,d)},actions:o,caseReducers:s,getInitialState:function(){return c||(c=l()),c.getInitialState()}}}var OL="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",UL=function(n){n===void 0&&(n=21);for(var e="",t=n;t--;)e+=OL[Math.random()*64|0];return e},BL=["name","message","stack","code"],b2=function(){function n(e,t){this.payload=e,this.meta=t}return n}(),B5=function(){function n(e,t){this.payload=e,this.meta=t}return n}(),zL=function(n){if(typeof n=="object"&&n!==null){for(var e={},t=0,r=BL;t<r.length;t++){var i=r[t];typeof n[i]=="string"&&(e[i]=n[i])}return e}return{message:String(n)}},js=function(){function n(e,t,r){var i=af(e+"/fulfilled",function(c,f,d,p){return{payload:c,meta:w2(sf({},p||{}),{arg:d,requestId:f,requestStatus:"fulfilled"})}}),s=af(e+"/pending",function(c,f,d){return{payload:void 0,meta:w2(sf({},d||{}),{arg:f,requestId:c,requestStatus:"pending"})}}),a=af(e+"/rejected",function(c,f,d,p,m){return{payload:p,error:(r&&r.serializeError||zL)(c||"Rejected"),meta:w2(sf({},m||{}),{arg:d,requestId:f,rejectedWithValue:!!p,requestStatus:"rejected",aborted:(c==null?void 0:c.name)==="AbortError",condition:(c==null?void 0:c.name)==="ConditionError"})}}),o=typeof AbortController<"u"?AbortController:function(){function c(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return c.prototype.abort=function(){},c}();function l(c){return function(f,d,p){var m=r!=null&&r.idGenerator?r.idGenerator(c):UL(),_=new o,x;function g(A){x=A,_.abort()}var y=function(){return AL(this,null,function(){var A,E,M,D,U,L,I;return _L(this,function(R){switch(R.label){case 0:return R.trys.push([0,4,,5]),D=(A=r==null?void 0:r.condition)==null?void 0:A.call(r,c,{getState:d,extra:p}),jL(D)?[4,D]:[3,2];case 1:D=R.sent(),R.label=2;case 2:if(D===!1||_.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return U=new Promise(function(O,N){return _.signal.addEventListener("abort",function(){return N({name:"AbortError",message:x||"Aborted"})})}),f(s(m,c,(E=r==null?void 0:r.getPendingMeta)==null?void 0:E.call(r,{requestId:m,arg:c},{getState:d,extra:p}))),[4,Promise.race([U,Promise.resolve(t(c,{dispatch:f,getState:d,extra:p,requestId:m,signal:_.signal,abort:g,rejectWithValue:function(O,N){return new b2(O,N)},fulfillWithValue:function(O,N){return new B5(O,N)}})).then(function(O){if(O instanceof b2)throw O;return O instanceof B5?i(O.payload,m,c,O.meta):i(O,m,c)})])];case 3:return M=R.sent(),[3,5];case 4:return L=R.sent(),M=L instanceof b2?a(null,m,c,L.payload,L.meta):a(L,m,c),[3,5];case 5:return I=r&&!r.dispatchConditionRejection&&a.match(M)&&M.meta.condition,I||f(M),[2,M]}})})}();return Object.assign(y,{abort:g,requestId:m,arg:c,unwrap:function(){return y.then(HL)}})}}return Object.assign(l,{pending:s,rejected:a,fulfilled:i,typePrefix:e})}return n.withTypes=function(){return n},n}();function HL(n){if(n.meta&&n.meta.rejectedWithValue)throw n.payload;if(n.error)throw n.error;return n.payload}function jL(n){return n!==null&&typeof n=="object"&&typeof n.then=="function"}var jw="listenerMiddleware";af(jw+"/add");af(jw+"/removeAll");af(jw+"/remove");var z5;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);oL();function yM(n,e){return function(){return n.apply(e,arguments)}}const{toString:VL}=Object.prototype,{getPrototypeOf:Vw}=Object,{iterator:jx,toStringTag:wM}=Symbol,Vx=(n=>e=>{const t=VL.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),hl=n=>(n=n.toLowerCase(),e=>Vx(e)===n),Wx=n=>e=>typeof e===n,{isArray:N0}=Array,tm=Wx("undefined");function WL(n){return n!==null&&!tm(n)&&n.constructor!==null&&!tm(n.constructor)&&Pa(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const bM=hl("ArrayBuffer");function GL(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&bM(n.buffer),e}const qL=Wx("string"),Pa=Wx("function"),SM=Wx("number"),Gx=n=>n!==null&&typeof n=="object",XL=n=>n===!0||n===!1,C1=n=>{if(Vx(n)!=="object")return!1;const e=Vw(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(wM in n)&&!(jx in n)},$L=hl("Date"),YL=hl("File"),KL=hl("Blob"),JL=hl("FileList"),ZL=n=>Gx(n)&&Pa(n.pipe),QL=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||Pa(n.append)&&((e=Vx(n))==="formdata"||e==="object"&&Pa(n.toString)&&n.toString()==="[object FormData]"))},eN=hl("URLSearchParams"),[tN,nN,rN,iN]=["ReadableStream","Request","Response","Headers"].map(hl),sN=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Tm(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,i;if(typeof n!="object"&&(n=[n]),N0(n))for(r=0,i=n.length;r<i;r++)e.call(null,n[r],r,n);else{const s=t?Object.getOwnPropertyNames(n):Object.keys(n),a=s.length;let o;for(r=0;r<a;r++)o=s[r],e.call(null,n[o],o,n)}}function EM(n,e){e=e.toLowerCase();const t=Object.keys(n);let r=t.length,i;for(;r-- >0;)if(i=t[r],e===i.toLowerCase())return i;return null}const yh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,AM=n=>!tm(n)&&n!==yh;function K_(){const{caseless:n}=AM(this)&&this||{},e={},t=(r,i)=>{const s=n&&EM(e,i)||i;C1(e[s])&&C1(r)?e[s]=K_(e[s],r):C1(r)?e[s]=K_({},r):N0(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Tm(arguments[r],t);return e}const aN=(n,e,t,{allOwnKeys:r}={})=>(Tm(e,(i,s)=>{t&&Pa(i)?n[s]=yM(i,t):n[s]=i},{allOwnKeys:r}),n),oN=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),lN=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},cN=(n,e,t,r)=>{let i,s,a;const o={};if(e=e||{},n==null)return e;do{for(i=Object.getOwnPropertyNames(n),s=i.length;s-- >0;)a=i[s],(!r||r(a,n,e))&&!o[a]&&(e[a]=n[a],o[a]=!0);n=t!==!1&&Vw(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},uN=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},fN=n=>{if(!n)return null;if(N0(n))return n;let e=n.length;if(!SM(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},hN=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&Vw(Uint8Array)),dN=(n,e)=>{const r=(n&&n[jx]).call(n);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(n,s[0],s[1])}},pN=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},mN=hl("HTMLFormElement"),gN=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,i){return r.toUpperCase()+i}),H5=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),xN=hl("RegExp"),TM=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};Tm(t,(i,s)=>{let a;(a=e(i,s,n))!==!1&&(r[s]=a||i)}),Object.defineProperties(n,r)},vN=n=>{TM(n,(e,t)=>{if(Pa(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(Pa(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},_N=(n,e)=>{const t={},r=i=>{i.forEach(s=>{t[s]=!0})};return N0(n)?r(n):r(String(n).split(e)),t},yN=()=>{},wN=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function bN(n){return!!(n&&Pa(n.append)&&n[wM]==="FormData"&&n[jx])}const SN=n=>{const e=new Array(10),t=(r,i)=>{if(Gx(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=N0(r)?[]:{};return Tm(r,(a,o)=>{const l=t(a,i+1);!tm(l)&&(s[o]=l)}),e[i]=void 0,s}}return r};return t(n,0)},EN=hl("AsyncFunction"),AN=n=>n&&(Gx(n)||Pa(n))&&Pa(n.then)&&Pa(n.catch),MM=((n,e)=>n?setImmediate:e?((t,r)=>(yh.addEventListener("message",({source:i,data:s})=>{i===yh&&s===t&&r.length&&r.shift()()},!1),i=>{r.push(i),yh.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Pa(yh.postMessage)),TN=typeof queueMicrotask<"u"?queueMicrotask.bind(yh):typeof process<"u"&&process.nextTick||MM,MN=n=>n!=null&&Pa(n[jx]),gt={isArray:N0,isArrayBuffer:bM,isBuffer:WL,isFormData:QL,isArrayBufferView:GL,isString:qL,isNumber:SM,isBoolean:XL,isObject:Gx,isPlainObject:C1,isReadableStream:tN,isRequest:nN,isResponse:rN,isHeaders:iN,isUndefined:tm,isDate:$L,isFile:YL,isBlob:KL,isRegExp:xN,isFunction:Pa,isStream:ZL,isURLSearchParams:eN,isTypedArray:hN,isFileList:JL,forEach:Tm,merge:K_,extend:aN,trim:sN,stripBOM:oN,inherits:lN,toFlatObject:cN,kindOf:Vx,kindOfTest:hl,endsWith:uN,toArray:fN,forEachEntry:dN,matchAll:pN,isHTMLForm:mN,hasOwnProperty:H5,hasOwnProp:H5,reduceDescriptors:TM,freezeMethods:vN,toObjectSet:_N,toCamelCase:gN,noop:yN,toFiniteNumber:wN,findKey:EM,global:yh,isContextDefined:AM,isSpecCompliantForm:bN,toJSONObject:SN,isAsyncFn:EN,isThenable:AN,setImmediate:MM,asap:TN,isIterable:MN};function Dn(n,e,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}gt.inherits(Dn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:gt.toJSONObject(this.config),code:this.code,status:this.status}}});const CM=Dn.prototype,PM={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{PM[n]={value:n}});Object.defineProperties(Dn,PM);Object.defineProperty(CM,"isAxiosError",{value:!0});Dn.from=(n,e,t,r,i,s)=>{const a=Object.create(CM);return gt.toFlatObject(n,a,function(l){return l!==Error.prototype},o=>o!=="isAxiosError"),Dn.call(a,n.message,e,t,r,i),a.cause=n,a.name=n.name,s&&Object.assign(a,s),a};const CN=null;function J_(n){return gt.isPlainObject(n)||gt.isArray(n)}function kM(n){return gt.endsWith(n,"[]")?n.slice(0,-2):n}function j5(n,e,t){return n?n.concat(e).map(function(i,s){return i=kM(i),!t&&s?"["+i+"]":i}).join(t?".":""):e}function PN(n){return gt.isArray(n)&&!n.some(J_)}const kN=gt.toFlatObject(gt,{},null,function(e){return/^is[A-Z]/.test(e)});function qx(n,e,t){if(!gt.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=gt.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,g){return!gt.isUndefined(g[x])});const r=t.metaTokens,i=t.visitor||f,s=t.dots,a=t.indexes,l=(t.Blob||typeof Blob<"u"&&Blob)&&gt.isSpecCompliantForm(e);if(!gt.isFunction(i))throw new TypeError("visitor must be a function");function c(_){if(_===null)return"";if(gt.isDate(_))return _.toISOString();if(gt.isBoolean(_))return _.toString();if(!l&&gt.isBlob(_))throw new Dn("Blob is not supported. Use a Buffer instead.");return gt.isArrayBuffer(_)||gt.isTypedArray(_)?l&&typeof Blob=="function"?new Blob([_]):Buffer.from(_):_}function f(_,x,g){let y=_;if(_&&!g&&typeof _=="object"){if(gt.endsWith(x,"{}"))x=r?x:x.slice(0,-2),_=JSON.stringify(_);else if(gt.isArray(_)&&PN(_)||(gt.isFileList(_)||gt.endsWith(x,"[]"))&&(y=gt.toArray(_)))return x=kM(x),y.forEach(function(E,M){!(gt.isUndefined(E)||E===null)&&e.append(a===!0?j5([x],M,s):a===null?x:x+"[]",c(E))}),!1}return J_(_)?!0:(e.append(j5(g,x,s),c(_)),!1)}const d=[],p=Object.assign(kN,{defaultVisitor:f,convertValue:c,isVisitable:J_});function m(_,x){if(!gt.isUndefined(_)){if(d.indexOf(_)!==-1)throw Error("Circular reference detected in "+x.join("."));d.push(_),gt.forEach(_,function(y,A){(!(gt.isUndefined(y)||y===null)&&i.call(e,y,gt.isString(A)?A.trim():A,x,p))===!0&&m(y,x?x.concat(A):[A])}),d.pop()}}if(!gt.isObject(n))throw new TypeError("data must be an object");return m(n),e}function V5(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Ww(n,e){this._pairs=[],n&&qx(n,this,e)}const RM=Ww.prototype;RM.append=function(e,t){this._pairs.push([e,t])};RM.toString=function(e){const t=e?function(r){return e.call(this,r,V5)}:V5;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function RN(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function LM(n,e,t){if(!e)return n;const r=t&&t.encode||RN;gt.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let s;if(i?s=i(e,t):s=gt.isURLSearchParams(e)?e.toString():new Ww(e,t).toString(r),s){const a=n.indexOf("#");a!==-1&&(n=n.slice(0,a)),n+=(n.indexOf("?")===-1?"?":"&")+s}return n}class W5{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){gt.forEach(this.handlers,function(r){r!==null&&e(r)})}}const NM={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},LN=typeof URLSearchParams<"u"?URLSearchParams:Ww,NN=typeof FormData<"u"?FormData:null,FN=typeof Blob<"u"?Blob:null,DN={isBrowser:!0,classes:{URLSearchParams:LN,FormData:NN,Blob:FN},protocols:["http","https","file","blob","url","data"]},Gw=typeof window<"u"&&typeof document<"u",Z_=typeof navigator=="object"&&navigator||void 0,IN=Gw&&(!Z_||["ReactNative","NativeScript","NS"].indexOf(Z_.product)<0),ON=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",UN=Gw&&window.location.href||"http://localhost",BN=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Gw,hasStandardBrowserEnv:IN,hasStandardBrowserWebWorkerEnv:ON,navigator:Z_,origin:UN},Symbol.toStringTag,{value:"Module"})),Fs={...BN,...DN};function zN(n,e){return qx(n,new Fs.classes.URLSearchParams,Object.assign({visitor:function(t,r,i,s){return Fs.isNode&&gt.isBuffer(t)?(this.append(r,t.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function HN(n){return gt.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function jN(n){const e={},t=Object.keys(n);let r;const i=t.length;let s;for(r=0;r<i;r++)s=t[r],e[s]=n[s];return e}function FM(n){function e(t,r,i,s){let a=t[s++];if(a==="__proto__")return!0;const o=Number.isFinite(+a),l=s>=t.length;return a=!a&&gt.isArray(i)?i.length:a,l?(gt.hasOwnProp(i,a)?i[a]=[i[a],r]:i[a]=r,!o):((!i[a]||!gt.isObject(i[a]))&&(i[a]=[]),e(t,r,i[a],s)&&gt.isArray(i[a])&&(i[a]=jN(i[a])),!o)}if(gt.isFormData(n)&&gt.isFunction(n.entries)){const t={};return gt.forEachEntry(n,(r,i)=>{e(HN(r),i,t,0)}),t}return null}function VN(n,e,t){if(gt.isString(n))try{return(e||JSON.parse)(n),gt.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const Mm={transitional:NM,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",i=r.indexOf("application/json")>-1,s=gt.isObject(e);if(s&&gt.isHTMLForm(e)&&(e=new FormData(e)),gt.isFormData(e))return i?JSON.stringify(FM(e)):e;if(gt.isArrayBuffer(e)||gt.isBuffer(e)||gt.isStream(e)||gt.isFile(e)||gt.isBlob(e)||gt.isReadableStream(e))return e;if(gt.isArrayBufferView(e))return e.buffer;if(gt.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return zN(e,this.formSerializer).toString();if((o=gt.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return qx(o?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(t.setContentType("application/json",!1),VN(e)):e}],transformResponse:[function(e){const t=this.transitional||Mm.transitional,r=t&&t.forcedJSONParsing,i=this.responseType==="json";if(gt.isResponse(e)||gt.isReadableStream(e))return e;if(e&&gt.isString(e)&&(r&&!this.responseType||i)){const a=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(o){if(a)throw o.name==="SyntaxError"?Dn.from(o,Dn.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Fs.classes.FormData,Blob:Fs.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};gt.forEach(["delete","get","head","post","put","patch"],n=>{Mm.headers[n]={}});const WN=gt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),GN=n=>{const e={};let t,r,i;return n&&n.split(`
`).forEach(function(a){i=a.indexOf(":"),t=a.substring(0,i).trim().toLowerCase(),r=a.substring(i+1).trim(),!(!t||e[t]&&WN[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},G5=Symbol("internals");function ap(n){return n&&String(n).trim().toLowerCase()}function P1(n){return n===!1||n==null?n:gt.isArray(n)?n.map(P1):String(n)}function qN(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const XN=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function S2(n,e,t,r,i){if(gt.isFunction(r))return r.call(this,e,t);if(i&&(e=t),!!gt.isString(e)){if(gt.isString(r))return e.indexOf(r)!==-1;if(gt.isRegExp(r))return r.test(e)}}function $N(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function YN(n,e){const t=gt.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(i,s,a){return this[r].call(this,e,i,s,a)},configurable:!0})})}let ka=class{constructor(e){e&&this.set(e)}set(e,t,r){const i=this;function s(o,l,c){const f=ap(l);if(!f)throw new Error("header name must be a non-empty string");const d=gt.findKey(i,f);(!d||i[d]===void 0||c===!0||c===void 0&&i[d]!==!1)&&(i[d||l]=P1(o))}const a=(o,l)=>gt.forEach(o,(c,f)=>s(c,f,l));if(gt.isPlainObject(e)||e instanceof this.constructor)a(e,t);else if(gt.isString(e)&&(e=e.trim())&&!XN(e))a(GN(e),t);else if(gt.isObject(e)&&gt.isIterable(e)){let o={},l,c;for(const f of e){if(!gt.isArray(f))throw TypeError("Object iterator must return a key-value pair");o[c=f[0]]=(l=o[c])?gt.isArray(l)?[...l,f[1]]:[l,f[1]]:f[1]}a(o,t)}else e!=null&&s(t,e,r);return this}get(e,t){if(e=ap(e),e){const r=gt.findKey(this,e);if(r){const i=this[r];if(!t)return i;if(t===!0)return qN(i);if(gt.isFunction(t))return t.call(this,i,r);if(gt.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=ap(e),e){const r=gt.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||S2(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let i=!1;function s(a){if(a=ap(a),a){const o=gt.findKey(r,a);o&&(!t||S2(r,r[o],o,t))&&(delete r[o],i=!0)}}return gt.isArray(e)?e.forEach(s):s(e),i}clear(e){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const s=t[r];(!e||S2(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const t=this,r={};return gt.forEach(this,(i,s)=>{const a=gt.findKey(r,s);if(a){t[a]=P1(i),delete t[s];return}const o=e?$N(s):String(s).trim();o!==s&&delete t[s],t[o]=P1(i),r[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return gt.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=e&&gt.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[G5]=this[G5]={accessors:{}}).accessors,i=this.prototype;function s(a){const o=ap(a);r[o]||(YN(i,a),r[o]=!0)}return gt.isArray(e)?e.forEach(s):s(e),this}};ka.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);gt.reduceDescriptors(ka.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});gt.freezeMethods(ka);function E2(n,e){const t=this||Mm,r=e||t,i=ka.from(r.headers);let s=r.data;return gt.forEach(n,function(o){s=o.call(t,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function DM(n){return!!(n&&n.__CANCEL__)}function F0(n,e,t){Dn.call(this,n??"canceled",Dn.ERR_CANCELED,e,t),this.name="CanceledError"}gt.inherits(F0,Dn,{__CANCEL__:!0});function IM(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new Dn("Request failed with status code "+t.status,[Dn.ERR_BAD_REQUEST,Dn.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function KN(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function JN(n,e){n=n||10;const t=new Array(n),r=new Array(n);let i=0,s=0,a;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),f=r[s];a||(a=c),t[i]=l,r[i]=c;let d=s,p=0;for(;d!==i;)p+=t[d++],d=d%n;if(i=(i+1)%n,i===s&&(s=(s+1)%n),c-a<e)return;const m=f&&c-f;return m?Math.round(p*1e3/m):void 0}}function ZN(n,e){let t=0,r=1e3/e,i,s;const a=(c,f=Date.now())=>{t=f,i=null,s&&(clearTimeout(s),s=null),n.apply(null,c)};return[(...c)=>{const f=Date.now(),d=f-t;d>=r?a(c,f):(i=c,s||(s=setTimeout(()=>{s=null,a(i)},r-d)))},()=>i&&a(i)]}const fx=(n,e,t=3)=>{let r=0;const i=JN(50,250);return ZN(s=>{const a=s.loaded,o=s.lengthComputable?s.total:void 0,l=a-r,c=i(l),f=a<=o;r=a;const d={loaded:a,total:o,progress:o?a/o:void 0,bytes:l,rate:c||void 0,estimated:c&&o&&f?(o-a)/c:void 0,event:s,lengthComputable:o!=null,[e?"download":"upload"]:!0};n(d)},t)},q5=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},X5=n=>(...e)=>gt.asap(()=>n(...e)),QN=Fs.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,Fs.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(Fs.origin),Fs.navigator&&/(msie|trident)/i.test(Fs.navigator.userAgent)):()=>!0,eF=Fs.hasStandardBrowserEnv?{write(n,e,t,r,i,s){const a=[n+"="+encodeURIComponent(e)];gt.isNumber(t)&&a.push("expires="+new Date(t).toGMTString()),gt.isString(r)&&a.push("path="+r),gt.isString(i)&&a.push("domain="+i),s===!0&&a.push("secure"),document.cookie=a.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function tF(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function nF(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function OM(n,e,t){let r=!tF(e);return n&&(r||t==!1)?nF(n,e):e}const $5=n=>n instanceof ka?{...n}:n;function Nh(n,e){e=e||{};const t={};function r(c,f,d,p){return gt.isPlainObject(c)&&gt.isPlainObject(f)?gt.merge.call({caseless:p},c,f):gt.isPlainObject(f)?gt.merge({},f):gt.isArray(f)?f.slice():f}function i(c,f,d,p){if(gt.isUndefined(f)){if(!gt.isUndefined(c))return r(void 0,c,d,p)}else return r(c,f,d,p)}function s(c,f){if(!gt.isUndefined(f))return r(void 0,f)}function a(c,f){if(gt.isUndefined(f)){if(!gt.isUndefined(c))return r(void 0,c)}else return r(void 0,f)}function o(c,f,d){if(d in e)return r(c,f);if(d in n)return r(void 0,c)}const l={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(c,f,d)=>i($5(c),$5(f),d,!0)};return gt.forEach(Object.keys(Object.assign({},n,e)),function(f){const d=l[f]||i,p=d(n[f],e[f],f);gt.isUndefined(p)&&d!==o||(t[f]=p)}),t}const UM=n=>{const e=Nh({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:a,auth:o}=e;e.headers=a=ka.from(a),e.url=LM(OM(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),o&&a.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let l;if(gt.isFormData(t)){if(Fs.hasStandardBrowserEnv||Fs.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((l=a.getContentType())!==!1){const[c,...f]=l?l.split(";").map(d=>d.trim()).filter(Boolean):[];a.setContentType([c||"multipart/form-data",...f].join("; "))}}if(Fs.hasStandardBrowserEnv&&(r&&gt.isFunction(r)&&(r=r(e)),r||r!==!1&&QN(e.url))){const c=i&&s&&eF.read(s);c&&a.set(i,c)}return e},rF=typeof XMLHttpRequest<"u",iF=rF&&function(n){return new Promise(function(t,r){const i=UM(n);let s=i.data;const a=ka.from(i.headers).normalize();let{responseType:o,onUploadProgress:l,onDownloadProgress:c}=i,f,d,p,m,_;function x(){m&&m(),_&&_(),i.cancelToken&&i.cancelToken.unsubscribe(f),i.signal&&i.signal.removeEventListener("abort",f)}let g=new XMLHttpRequest;g.open(i.method.toUpperCase(),i.url,!0),g.timeout=i.timeout;function y(){if(!g)return;const E=ka.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),D={data:!o||o==="text"||o==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:E,config:n,request:g};IM(function(L){t(L),x()},function(L){r(L),x()},D),g=null}"onloadend"in g?g.onloadend=y:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(y)},g.onabort=function(){g&&(r(new Dn("Request aborted",Dn.ECONNABORTED,n,g)),g=null)},g.onerror=function(){r(new Dn("Network Error",Dn.ERR_NETWORK,n,g)),g=null},g.ontimeout=function(){let M=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const D=i.transitional||NM;i.timeoutErrorMessage&&(M=i.timeoutErrorMessage),r(new Dn(M,D.clarifyTimeoutError?Dn.ETIMEDOUT:Dn.ECONNABORTED,n,g)),g=null},s===void 0&&a.setContentType(null),"setRequestHeader"in g&&gt.forEach(a.toJSON(),function(M,D){g.setRequestHeader(D,M)}),gt.isUndefined(i.withCredentials)||(g.withCredentials=!!i.withCredentials),o&&o!=="json"&&(g.responseType=i.responseType),c&&([p,_]=fx(c,!0),g.addEventListener("progress",p)),l&&g.upload&&([d,m]=fx(l),g.upload.addEventListener("progress",d),g.upload.addEventListener("loadend",m)),(i.cancelToken||i.signal)&&(f=E=>{g&&(r(!E||E.type?new F0(null,n,g):E),g.abort(),g=null)},i.cancelToken&&i.cancelToken.subscribe(f),i.signal&&(i.signal.aborted?f():i.signal.addEventListener("abort",f)));const A=KN(i.url);if(A&&Fs.protocols.indexOf(A)===-1){r(new Dn("Unsupported protocol "+A+":",Dn.ERR_BAD_REQUEST,n));return}g.send(s||null)})},sF=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,i;const s=function(c){if(!i){i=!0,o();const f=c instanceof Error?c:this.reason;r.abort(f instanceof Dn?f:new F0(f instanceof Error?f.message:f))}};let a=e&&setTimeout(()=>{a=null,s(new Dn(`timeout ${e} of ms exceeded`,Dn.ETIMEDOUT))},e);const o=()=>{n&&(a&&clearTimeout(a),a=null,n.forEach(c=>{c.unsubscribe?c.unsubscribe(s):c.removeEventListener("abort",s)}),n=null)};n.forEach(c=>c.addEventListener("abort",s));const{signal:l}=r;return l.unsubscribe=()=>gt.asap(o),l}},aF=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let r=0,i;for(;r<t;)i=r+e,yield n.slice(r,i),r=i},oF=async function*(n,e){for await(const t of lF(n))yield*aF(t,e)},lF=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},Y5=(n,e,t,r)=>{const i=oF(n,e);let s=0,a,o=l=>{a||(a=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:c,value:f}=await i.next();if(c){o(),l.close();return}let d=f.byteLength;if(t){let p=s+=d;t(p)}l.enqueue(new Uint8Array(f))}catch(c){throw o(c),c}},cancel(l){return o(l),i.return()}},{highWaterMark:2})},Xx=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",BM=Xx&&typeof ReadableStream=="function",cF=Xx&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),zM=(n,...e)=>{try{return!!n(...e)}catch{return!1}},uF=BM&&zM(()=>{let n=!1;const e=new Request(Fs.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),K5=64*1024,Q_=BM&&zM(()=>gt.isReadableStream(new Response("").body)),hx={stream:Q_&&(n=>n.body)};Xx&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!hx[e]&&(hx[e]=gt.isFunction(n[e])?t=>t[e]():(t,r)=>{throw new Dn(`Response type '${e}' is not supported`,Dn.ERR_NOT_SUPPORT,r)})})})(new Response);const fF=async n=>{if(n==null)return 0;if(gt.isBlob(n))return n.size;if(gt.isSpecCompliantForm(n))return(await new Request(Fs.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(gt.isArrayBufferView(n)||gt.isArrayBuffer(n))return n.byteLength;if(gt.isURLSearchParams(n)&&(n=n+""),gt.isString(n))return(await cF(n)).byteLength},hF=async(n,e)=>{const t=gt.toFiniteNumber(n.getContentLength());return t??fF(e)},dF=Xx&&(async n=>{let{url:e,method:t,data:r,signal:i,cancelToken:s,timeout:a,onDownloadProgress:o,onUploadProgress:l,responseType:c,headers:f,withCredentials:d="same-origin",fetchOptions:p}=UM(n);c=c?(c+"").toLowerCase():"text";let m=sF([i,s&&s.toAbortSignal()],a),_;const x=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let g;try{if(l&&uF&&t!=="get"&&t!=="head"&&(g=await hF(f,r))!==0){let D=new Request(e,{method:"POST",body:r,duplex:"half"}),U;if(gt.isFormData(r)&&(U=D.headers.get("content-type"))&&f.setContentType(U),D.body){const[L,I]=q5(g,fx(X5(l)));r=Y5(D.body,K5,L,I)}}gt.isString(d)||(d=d?"include":"omit");const y="credentials"in Request.prototype;_=new Request(e,{...p,signal:m,method:t.toUpperCase(),headers:f.normalize().toJSON(),body:r,duplex:"half",credentials:y?d:void 0});let A=await fetch(_,p);const E=Q_&&(c==="stream"||c==="response");if(Q_&&(o||E&&x)){const D={};["status","statusText","headers"].forEach(R=>{D[R]=A[R]});const U=gt.toFiniteNumber(A.headers.get("content-length")),[L,I]=o&&q5(U,fx(X5(o),!0))||[];A=new Response(Y5(A.body,K5,L,()=>{I&&I(),x&&x()}),D)}c=c||"text";let M=await hx[gt.findKey(hx,c)||"text"](A,n);return!E&&x&&x(),await new Promise((D,U)=>{IM(D,U,{data:M,headers:ka.from(A.headers),status:A.status,statusText:A.statusText,config:n,request:_})})}catch(y){throw x&&x(),y&&y.name==="TypeError"&&/Load failed|fetch/i.test(y.message)?Object.assign(new Dn("Network Error",Dn.ERR_NETWORK,n,_),{cause:y.cause||y}):Dn.from(y,y&&y.code,n,_)}}),ey={http:CN,xhr:iF,fetch:dF};gt.forEach(ey,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const J5=n=>`- ${n}`,pF=n=>gt.isFunction(n)||n===null||n===!1,HM={getAdapter:n=>{n=gt.isArray(n)?n:[n];const{length:e}=n;let t,r;const i={};for(let s=0;s<e;s++){t=n[s];let a;if(r=t,!pF(t)&&(r=ey[(a=String(t)).toLowerCase()],r===void 0))throw new Dn(`Unknown adapter '${a}'`);if(r)break;i[a||"#"+s]=r}if(!r){const s=Object.entries(i).map(([o,l])=>`adapter ${o} `+(l===!1?"is not supported by the environment":"is not available in the build"));let a=e?s.length>1?`since :
`+s.map(J5).join(`
`):" "+J5(s[0]):"as no adapter specified";throw new Dn("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return r},adapters:ey};function A2(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new F0(null,n)}function Z5(n){return A2(n),n.headers=ka.from(n.headers),n.data=E2.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),HM.getAdapter(n.adapter||Mm.adapter)(n).then(function(r){return A2(n),r.data=E2.call(n,n.transformResponse,r),r.headers=ka.from(r.headers),r},function(r){return DM(r)||(A2(n),r&&r.response&&(r.response.data=E2.call(n,n.transformResponse,r.response),r.response.headers=ka.from(r.response.headers))),Promise.reject(r)})}const jM="1.10.0",$x={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{$x[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const Q5={};$x.transitional=function(e,t,r){function i(s,a){return"[Axios v"+jM+"] Transitional option '"+s+"'"+a+(r?". "+r:"")}return(s,a,o)=>{if(e===!1)throw new Dn(i(a," has been removed"+(t?" in "+t:"")),Dn.ERR_DEPRECATED);return t&&!Q5[a]&&(Q5[a]=!0,console.warn(i(a," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(s,a,o):!0}};$x.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function mF(n,e,t){if(typeof n!="object")throw new Dn("options must be an object",Dn.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let i=r.length;for(;i-- >0;){const s=r[i],a=e[s];if(a){const o=n[s],l=o===void 0||a(o,s,n);if(l!==!0)throw new Dn("option "+s+" must be "+l,Dn.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Dn("Unknown option "+s,Dn.ERR_BAD_OPTION)}}const k1={assertOptions:mF,validators:$x},Nl=k1.validators;let Ah=class{constructor(e){this.defaults=e||{},this.interceptors={request:new W5,response:new W5}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Nh(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:s}=t;r!==void 0&&k1.assertOptions(r,{silentJSONParsing:Nl.transitional(Nl.boolean),forcedJSONParsing:Nl.transitional(Nl.boolean),clarifyTimeoutError:Nl.transitional(Nl.boolean)},!1),i!=null&&(gt.isFunction(i)?t.paramsSerializer={serialize:i}:k1.assertOptions(i,{encode:Nl.function,serialize:Nl.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),k1.assertOptions(t,{baseUrl:Nl.spelling("baseURL"),withXsrfToken:Nl.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=s&&gt.merge(s.common,s[t.method]);s&&gt.forEach(["delete","get","head","post","put","patch","common"],_=>{delete s[_]}),t.headers=ka.concat(a,s);const o=[];let l=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(t)===!1||(l=l&&x.synchronous,o.unshift(x.fulfilled,x.rejected))});const c=[];this.interceptors.response.forEach(function(x){c.push(x.fulfilled,x.rejected)});let f,d=0,p;if(!l){const _=[Z5.bind(this),void 0];for(_.unshift.apply(_,o),_.push.apply(_,c),p=_.length,f=Promise.resolve(t);d<p;)f=f.then(_[d++],_[d++]);return f}p=o.length;let m=t;for(d=0;d<p;){const _=o[d++],x=o[d++];try{m=_(m)}catch(g){x.call(this,g);break}}try{f=Z5.call(this,m)}catch(_){return Promise.reject(_)}for(d=0,p=c.length;d<p;)f=f.then(c[d++],c[d++]);return f}getUri(e){e=Nh(this.defaults,e);const t=OM(e.baseURL,e.url,e.allowAbsoluteUrls);return LM(t,e.params,e.paramsSerializer)}};gt.forEach(["delete","get","head","options"],function(e){Ah.prototype[e]=function(t,r){return this.request(Nh(r||{},{method:e,url:t,data:(r||{}).data}))}});gt.forEach(["post","put","patch"],function(e){function t(r){return function(s,a,o){return this.request(Nh(o||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))}}Ah.prototype[e]=t(),Ah.prototype[e+"Form"]=t(!0)});let gF=class VM{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(s){t=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const a=new Promise(o=>{r.subscribe(o),s=o}).then(i);return a.cancel=function(){r.unsubscribe(s)},a},e(function(s,a,o){r.reason||(r.reason=new F0(s,a,o),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new VM(function(i){e=i}),cancel:e}}};function xF(n){return function(t){return n.apply(null,t)}}function vF(n){return gt.isObject(n)&&n.isAxiosError===!0}const ty={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ty).forEach(([n,e])=>{ty[e]=n});function WM(n){const e=new Ah(n),t=yM(Ah.prototype.request,e);return gt.extend(t,Ah.prototype,e,{allOwnKeys:!0}),gt.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return WM(Nh(n,i))},t}const zn=WM(Mm);zn.Axios=Ah;zn.CanceledError=F0;zn.CancelToken=gF;zn.isCancel=DM;zn.VERSION=jM;zn.toFormData=qx;zn.AxiosError=Dn;zn.Cancel=zn.CanceledError;zn.all=function(e){return Promise.all(e)};zn.spread=xF;zn.isAxiosError=vF;zn.mergeConfig=Nh;zn.AxiosHeaders=ka;zn.formToJSON=n=>FM(gt.isHTMLForm(n)?new FormData(n):n);zn.getAdapter=HM.getAdapter;zn.HttpStatusCode=ty;zn.default=zn;const{Axios:UQ,AxiosError:BQ,CanceledError:zQ,isCancel:HQ,CancelToken:jQ,VERSION:VQ,all:WQ,Cancel:GQ,isAxiosError:qQ,spread:XQ,toFormData:$Q,AxiosHeaders:YQ,HttpStatusCode:KQ,formToJSON:JQ,getAdapter:ZQ,mergeConfig:QQ}=zn,qw="/api/auth",_F={user:null,token:null,loading:!1,error:null},R1=js("auth/loginUser",async({email:n,password:e},{rejectWithValue:t})=>{var r,i;try{return(await zn.post(`${qw}/signin`,{email:n,password:e})).data}catch(s){return t(((i=(r=s.response)==null?void 0:r.data)==null?void 0:i.message)||"Login failed")}}),L1=js("auth/registerUser",async({username:n,email:e,password:t,role:r},{rejectWithValue:i})=>{var s,a;try{return(await zn.post(`${qw}/register`,{username:n,email:e,password:t,role:r})).data}catch(o){return i(((a=(s=o.response)==null?void 0:s.data)==null?void 0:a.message)||"Registration failed")}}),T2=js("auth/fetchUserInfo",async(n,{getState:e,rejectWithValue:t})=>{var r,i;try{const{auth:s}=e();return(await zn.get(`${qw}/userinfo`,{headers:{Authorization:`Bearer ${s.token}`}})).data}catch(s){return t(((i=(r=s.response)==null?void 0:r.data)==null?void 0:i.message)||"Fetch user info failed")}}),GM=L0({name:"auth",initialState:_F,reducers:{logout(n){n.user=null,n.token=null,n.error=null,n.loading=!1,localStorage.removeItem("token")}},extraReducers:n=>{n.addCase(R1.pending,e=>{e.loading=!0,e.error=null}).addCase(R1.fulfilled,(e,t)=>{e.loading=!1,e.user=t.payload.user,e.token=t.payload.token,localStorage.setItem("token",t.payload.token)}).addCase(R1.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}).addCase(L1.pending,e=>{e.loading=!0,e.error=null}).addCase(L1.fulfilled,(e,t)=>{e.loading=!1,e.user=t.payload.user,e.token=t.payload.token,localStorage.setItem("token",t.payload.token)}).addCase(L1.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}).addCase(T2.pending,e=>{e.loading=!0,e.error=null}).addCase(T2.fulfilled,(e,t)=>{e.loading=!1,e.user=t.payload}).addCase(T2.rejected,(e,t)=>{e.loading=!1,e.error=t.payload})}}),{logout:yF}=GM.actions,wF=GM.reducer,Yx="https://excel-xz7q.onrender.com/api".replace(/\/$/,"")+"/upload",bF={uploads:[],loading:!1,error:null},Dp=js("upload/uploadFile",async(n,{getState:e,rejectWithValue:t})=>{var r,i,s,a,o;try{const{auth:l}=e();return(await zn.post(Yx,n,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${l.token}`}})).data.upload}catch(l){return(s=(i=(r=l.response)==null?void 0:r.data)==null?void 0:i.message)!=null&&s.includes("OpenAI API quota exceeded")?t("Upload failed due to API quota limits."):t(((o=(a=l.response)==null?void 0:a.data)==null?void 0:o.message)||"Upload failed")}}),Ip=js("upload/fetchUploadHistory",async(n,{getState:e,rejectWithValue:t})=>{var r,i;try{const{auth:s}=e();return(await zn.get(`${Yx}/history`,{headers:{Authorization:`Bearer ${s.token}`}})).data}catch(s){return t(((i=(r=s.response)==null?void 0:r.data)==null?void 0:i.message)||"Fetch failed")}}),M2=js("upload/clearUploadHistory",async(n,{getState:e,rejectWithValue:t})=>{var r,i;try{const{auth:s}=e();return(await zn.delete(`${Yx}/history`,{headers:{Authorization:`Bearer ${s.token}`}})).data}catch(s){return t(((i=(r=s.response)==null?void 0:r.data)==null?void 0:i.message)||"Clear failed")}}),Op=js("upload/deleteUpload",async(n,{getState:e,rejectWithValue:t})=>{var r,i;try{const{auth:s}=e();return(await zn.delete(`${Yx}/${n}`,{headers:{Authorization:`Bearer ${s.token}`}})).data}catch(s){return t(((i=(r=s.response)==null?void 0:r.data)==null?void 0:i.message)||"Delete upload failed")}}),SF=L0({name:"upload",initialState:bF,reducers:{},extraReducers:n=>{n.addCase(Dp.pending,e=>{e.loading=!0,e.error=null}).addCase(Dp.fulfilled,(e,t)=>{e.loading=!1,e.uploads.unshift(t.payload)}).addCase(Dp.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}).addCase(Ip.pending,e=>{e.loading=!0,e.error=null}).addCase(Ip.fulfilled,(e,t)=>{e.loading=!1,e.uploads=t.payload}).addCase(Ip.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}).addCase(M2.pending,e=>{e.loading=!0,e.error=null}).addCase(M2.fulfilled,e=>{e.loading=!1,e.uploads=[]}).addCase(M2.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}).addCase(Op.pending,e=>{e.loading=!0,e.error=null}).addCase(Op.fulfilled,(e,t)=>{e.loading=!1,e.uploads=e.uploads.filter(r=>r._id!==t.payload)}).addCase(Op.rejected,(e,t)=>{e.loading=!1,e.error=t.payload})}}),EF=SF.reducer,Xw="https://excel-xz7q.onrender.com/api".replace(/\/$/,"")+"/chart",AF={charts:[],loading:!1,error:null},N1=js("chart/saveChart",async(n,{getState:e,rejectWithValue:t})=>{var r,i;try{const{auth:s}=e();return(await zn.post(Xw,n,{headers:{Authorization:`Bearer ${s.token}`}})).data.chart}catch(s){return t(((i=(r=s.response)==null?void 0:r.data)==null?void 0:i.message)||"Save chart failed")}}),Th=js("chart/fetchUserCharts",async(n,{getState:e,rejectWithValue:t})=>{var r,i;try{const{auth:s}=e();return(await zn.get(Xw,{headers:{Authorization:`Bearer ${s.token}`}})).data.charts}catch(s){return t(((i=(r=s.response)==null?void 0:r.data)==null?void 0:i.message)||"Fetch charts failed")}}),F1=js("chart/deleteChart",async(n,{getState:e,rejectWithValue:t})=>{var r,i;try{const{auth:s}=e();return await zn.delete(`${Xw}/${n}`,{headers:{Authorization:`Bearer ${s.token}`}}),n}catch(s){return t(((i=(r=s.response)==null?void 0:r.data)==null?void 0:i.message)||"Delete chart failed")}}),TF=L0({name:"chart",initialState:AF,reducers:{},extraReducers:n=>{n.addCase(N1.pending,e=>{e.loading=!0,e.error=null}).addCase(N1.fulfilled,(e,t)=>{e.loading=!1,e.charts.unshift(t.payload)}).addCase(N1.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}).addCase(Th.pending,e=>{e.loading=!0,e.error=null}).addCase(Th.fulfilled,(e,t)=>{e.loading=!1,e.charts=t.payload}).addCase(Th.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}).addCase(F1.pending,e=>{e.loading=!0,e.error=null}).addCase(F1.fulfilled,(e,t)=>{e.loading=!1,e.charts=e.charts.filter(r=>r._id!==t.payload)}).addCase(F1.rejected,(e,t)=>{e.loading=!1,e.error=t.payload})}}),MF=TF.reducer,Kx="https://excel-xz7q.onrender.com/api/admin",D1=js("adminSettings/fetchAdminSettings",async(n,{rejectWithValue:e})=>{try{const t=localStorage.getItem("token");return(await zn.get(`${Kx}/settings`,{headers:{Authorization:`Bearer ${t}`}})).data}catch(t){return e(t.response.data)}}),C2=js("adminSettings/fetchAdminStats",async(n,{rejectWithValue:e})=>{try{const t=localStorage.getItem("token");return(await zn.get(`${Kx}/stats`,{headers:{Authorization:`Bearer ${t}`}})).data}catch(t){return e(t.response.data)}}),s0=js("adminSettings/fetchAdminUsers",async(n,{rejectWithValue:e})=>{try{const t=localStorage.getItem("token");return(await zn.get(`${Kx}/users`,{headers:{Authorization:`Bearer ${t}`}})).data}catch(t){return e(t.response.data)}}),I1=js("adminSettings/updateAdminSettings",async(n,{rejectWithValue:e})=>{try{const t=localStorage.getItem("token");return(await zn.post(`${Kx}/settings`,n,{headers:{Authorization:`Bearer ${t}`}})).data}catch(t){return e(t.response.data)}}),qM=L0({name:"adminSettings",initialState:{settings:{},stats:{},users:[],loading:!1,error:null,updateSuccess:!1},reducers:{clearUpdateSuccess(n){n.updateSuccess=!1},setSettings(n,e){n.settings=e.payload}},extraReducers:n=>{n.addCase(D1.pending,e=>{e.loading=!0,e.error=null}).addCase(D1.fulfilled,(e,t)=>{e.loading=!1,e.settings=t.payload}).addCase(D1.rejected,(e,t)=>{e.loading=!1,e.error=t.payload||"Failed to fetch admin settings"}).addCase(C2.pending,e=>{e.loading=!0,e.error=null}).addCase(C2.fulfilled,(e,t)=>{e.loading=!1,e.stats=t.payload}).addCase(C2.rejected,(e,t)=>{e.loading=!1,e.error=t.payload||"Failed to fetch admin stats"}).addCase(s0.pending,e=>{e.loading=!0,e.error=null}).addCase(s0.fulfilled,(e,t)=>{e.loading=!1,e.users=t.payload}).addCase(s0.rejected,(e,t)=>{e.loading=!1,e.error=t.payload||"Failed to fetch admin users"}).addCase(I1.pending,e=>{e.loading=!0,e.error=null,e.updateSuccess=!1}).addCase(I1.fulfilled,e=>{e.loading=!1,e.updateSuccess=!0}).addCase(I1.rejected,(e,t)=>{e.loading=!1,e.error=t.payload||"Failed to update admin settings",e.updateSuccess=!1})}}),{clearUpdateSuccess:CF}=qM.actions,PF=qM.reducer,XM="https://excel-xz7q.onrender.com/api".replace(/\/$/,"")+"/user-settings",kF={settings:{},loading:!1,error:null,updateSuccess:!1},O1=js("userSettings/fetchUserSettings",async(n,{getState:e,rejectWithValue:t})=>{var r,i;try{const{auth:s}=e();return(await zn.get(XM,{headers:{Authorization:`Bearer ${s.token}`}})).data.settings}catch(s){return t(((i=(r=s.response)==null?void 0:r.data)==null?void 0:i.message)||"Fetch user settings failed")}}),U1=js("userSettings/updateUserSettings",async(n,{getState:e,rejectWithValue:t})=>{var r,i;try{const{auth:s}=e();return(await zn.post(XM,n,{headers:{Authorization:`Bearer ${s.token}`}})).data.settings}catch(s){return t(((i=(r=s.response)==null?void 0:r.data)==null?void 0:i.message)||"Update user settings failed")}}),$M=L0({name:"userSettings",initialState:kF,reducers:{clearUpdateSuccess(n){n.updateSuccess=!1}},extraReducers:n=>{n.addCase(O1.pending,e=>{e.loading=!0,e.error=null}).addCase(O1.fulfilled,(e,t)=>{e.loading=!1,e.settings=t.payload}).addCase(O1.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}).addCase(U1.pending,e=>{e.loading=!0,e.error=null,e.updateSuccess=!1}).addCase(U1.fulfilled,(e,t)=>{e.loading=!1,e.settings=t.payload,e.updateSuccess=!0}).addCase(U1.rejected,(e,t)=>{e.loading=!1,e.error=t.payload,e.updateSuccess=!1})}}),{clearUpdateSuccess:RF}=$M.actions,LF=$M.reducer,NF=NL({reducer:{auth:wF,upload:EF,chart:MF,adminSettings:PF,userSettings:LF}});/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nm(){return nm=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},nm.apply(this,arguments)}var Ku;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Ku||(Ku={}));const eE="popstate";function FF(n){n===void 0&&(n={});function e(i,s){let{pathname:a="/",search:o="",hash:l=""}=Vh(i.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),ny("",{pathname:a,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(i,s){let a=i.document.querySelector("base"),o="";if(a&&a.getAttribute("href")){let l=i.location.href,c=l.indexOf("#");o=c===-1?l:l.slice(0,c)}return o+"#"+(typeof s=="string"?s:dx(s))}function r(i,s){$w(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return IF(e,t,r,n)}function ti(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function $w(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function DF(){return Math.random().toString(36).substr(2,8)}function tE(n,e){return{usr:n.state,key:n.key,idx:e}}function ny(n,e,t,r){return t===void 0&&(t=null),nm({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Vh(e):e,{state:t,key:e&&e.key||r||DF()})}function dx(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Vh(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function IF(n,e,t,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o=Ku.Pop,l=null,c=f();c==null&&(c=0,a.replaceState(nm({},a.state,{idx:c}),""));function f(){return(a.state||{idx:null}).idx}function d(){o=Ku.Pop;let g=f(),y=g==null?null:g-c;c=g,l&&l({action:o,location:x.location,delta:y})}function p(g,y){o=Ku.Push;let A=ny(x.location,g,y);t&&t(A,g),c=f()+1;let E=tE(A,c),M=x.createHref(A);try{a.pushState(E,"",M)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(M)}s&&l&&l({action:o,location:x.location,delta:1})}function m(g,y){o=Ku.Replace;let A=ny(x.location,g,y);t&&t(A,g),c=f();let E=tE(A,c),M=x.createHref(A);a.replaceState(E,"",M),s&&l&&l({action:o,location:x.location,delta:0})}function _(g){let y=i.location.origin!=="null"?i.location.origin:i.location.href,A=typeof g=="string"?g:dx(g);return A=A.replace(/ $/,"%20"),ti(y,"No window.location.(origin|href) available to create URL for href: "+A),new URL(A,y)}let x={get action(){return o},get location(){return n(i,a)},listen(g){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(eE,d),l=g,()=>{i.removeEventListener(eE,d),l=null}},createHref(g){return e(i,g)},createURL:_,encodeLocation(g){let y=_(g);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:p,replace:m,go(g){return a.go(g)}};return x}var nE;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(nE||(nE={}));function OF(n,e,t){return t===void 0&&(t="/"),UF(n,e,t)}function UF(n,e,t,r){let i=typeof e=="string"?Vh(e):e,s=_0(i.pathname||"/",t);if(s==null)return null;let a=YM(n);BF(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let c=KF(s);o=$F(a[l],c)}return o}function YM(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(ti(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=of([r,l.relativePath]),f=t.concat(l);s.children&&s.children.length>0&&(ti(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),YM(s.children,e,f,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:qF(c,s.index),routesMeta:f})};return n.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let l of KM(s.path))i(s,a,l)}),e}function KM(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=KM(r.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>n.startsWith("/")&&l===""?"/":l)}function BF(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:XF(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const zF=/^:[\w-]+$/,HF=3,jF=2,VF=1,WF=10,GF=-2,rE=n=>n==="*";function qF(n,e){let t=n.split("/"),r=t.length;return t.some(rE)&&(r+=GF),e&&(r+=jF),t.filter(i=>!rE(i)).reduce((i,s)=>i+(zF.test(s)?HF:s===""?VF:WF),r)}function XF(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function $F(n,e,t){let{routesMeta:r}=n,i={},s="/",a=[];for(let o=0;o<r.length;++o){let l=r[o],c=o===r.length-1,f=s==="/"?e:e.slice(s.length)||"/",d=ry({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},f),p=l.route;if(!d)return null;Object.assign(i,d.params),a.push({params:i,pathname:of([s,d.pathname]),pathnameBase:eD(of([s,d.pathnameBase])),route:p}),d.pathnameBase!=="/"&&(s=of([s,d.pathnameBase]))}return a}function ry(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=YF(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((c,f,d)=>{let{paramName:p,isOptional:m}=f;if(p==="*"){let x=o[d]||"";a=s.slice(0,s.length-x.length).replace(/(.)\/+$/,"$1")}const _=o[d];return m&&!_?c[p]=void 0:c[p]=(_||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:a,pattern:n}}function YF(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),$w(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function KF(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return $w(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function _0(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function JF(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Vh(n):n;return{pathname:t?t.startsWith("/")?t:ZF(t,e):e,search:tD(r),hash:nD(i)}}function ZF(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function P2(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function QF(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Yw(n,e){let t=QF(n);return e?t.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function Kw(n,e,t,r){r===void 0&&(r=!1);let i;typeof n=="string"?i=Vh(n):(i=nm({},n),ti(!i.pathname||!i.pathname.includes("?"),P2("?","pathname","search",i)),ti(!i.pathname||!i.pathname.includes("#"),P2("#","pathname","hash",i)),ti(!i.search||!i.search.includes("#"),P2("#","search","hash",i)));let s=n===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=t;else{let d=e.length-1;if(!r&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),d-=1;i.pathname=p.join("/")}o=d>=0?e[d]:"/"}let l=JF(i,o),c=a&&a!=="/"&&a.endsWith("/"),f=(s||a===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(c||f)&&(l.pathname+="/"),l}const of=n=>n.join("/").replace(/\/\/+/g,"/"),eD=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),tD=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,nD=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function rD(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const JM=["post","put","patch","delete"];new Set(JM);const iD=["get",...JM];new Set(iD);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rm(){return rm=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},rm.apply(this,arguments)}const Jx=xt.createContext(null),ZM=xt.createContext(null),Kc=xt.createContext(null),Zx=xt.createContext(null),Sf=xt.createContext({outlet:null,matches:[],isDataRoute:!1}),QM=xt.createContext(null);function sD(n,e){let{relative:t}=e===void 0?{}:e;D0()||ti(!1);let{basename:r,navigator:i}=xt.useContext(Kc),{hash:s,pathname:a,search:o}=Qx(n,{relative:t}),l=a;return r!=="/"&&(l=a==="/"?r:of([r,a])),i.createHref({pathname:l,search:o,hash:s})}function D0(){return xt.useContext(Zx)!=null}function Ef(){return D0()||ti(!1),xt.useContext(Zx).location}function e4(n){xt.useContext(Kc).static||xt.useLayoutEffect(n)}function Cm(){let{isDataRoute:n}=xt.useContext(Sf);return n?vD():aD()}function aD(){D0()||ti(!1);let n=xt.useContext(Jx),{basename:e,future:t,navigator:r}=xt.useContext(Kc),{matches:i}=xt.useContext(Sf),{pathname:s}=Ef(),a=JSON.stringify(Yw(i,t.v7_relativeSplatPath)),o=xt.useRef(!1);return e4(()=>{o.current=!0}),xt.useCallback(function(c,f){if(f===void 0&&(f={}),!o.current)return;if(typeof c=="number"){r.go(c);return}let d=Kw(c,JSON.parse(a),s,f.relative==="path");n==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:of([e,d.pathname])),(f.replace?r.replace:r.push)(d,f.state,f)},[e,r,a,s,n])}function Qx(n,e){let{relative:t}=e===void 0?{}:e,{future:r}=xt.useContext(Kc),{matches:i}=xt.useContext(Sf),{pathname:s}=Ef(),a=JSON.stringify(Yw(i,r.v7_relativeSplatPath));return xt.useMemo(()=>Kw(n,JSON.parse(a),s,t==="path"),[n,a,s,t])}function oD(n,e){return lD(n,e)}function lD(n,e,t,r){D0()||ti(!1);let{navigator:i}=xt.useContext(Kc),{matches:s}=xt.useContext(Sf),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let c=Ef(),f;if(e){var d;let g=typeof e=="string"?Vh(e):e;l==="/"||(d=g.pathname)!=null&&d.startsWith(l)||ti(!1),f=g}else f=c;let p=f.pathname||"/",m=p;if(l!=="/"){let g=l.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(g.length).join("/")}let _=OF(n,{pathname:m}),x=dD(_&&_.map(g=>Object.assign({},g,{params:Object.assign({},o,g.params),pathname:of([l,i.encodeLocation?i.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?l:of([l,i.encodeLocation?i.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),s,t,r);return e&&x?xt.createElement(Zx.Provider,{value:{location:rm({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Ku.Pop}},x):x}function cD(){let n=xD(),e=rD(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return xt.createElement(xt.Fragment,null,xt.createElement("h2",null,"Unexpected Application Error!"),xt.createElement("h3",{style:{fontStyle:"italic"}},e),t?xt.createElement("pre",{style:i},t):null,null)}const uD=xt.createElement(cD,null);class fD extends xt.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?xt.createElement(Sf.Provider,{value:this.props.routeContext},xt.createElement(QM.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function hD(n){let{routeContext:e,match:t,children:r}=n,i=xt.useContext(Jx);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),xt.createElement(Sf.Provider,{value:e},r)}function dD(n,e,t,r){var i;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var s;if(!t)return null;if(t.errors)n=t.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,o=(i=t)==null?void 0:i.errors;if(o!=null){let f=a.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);f>=0||ti(!1),a=a.slice(0,Math.min(a.length,f+1))}let l=!1,c=-1;if(t&&r&&r.v7_partialHydration)for(let f=0;f<a.length;f++){let d=a[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=f),d.route.id){let{loaderData:p,errors:m}=t,_=d.route.loader&&p[d.route.id]===void 0&&(!m||m[d.route.id]===void 0);if(d.route.lazy||_){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((f,d,p)=>{let m,_=!1,x=null,g=null;t&&(m=o&&d.route.id?o[d.route.id]:void 0,x=d.route.errorElement||uD,l&&(c<0&&p===0?(_D("route-fallback"),_=!0,g=null):c===p&&(_=!0,g=d.route.hydrateFallbackElement||null)));let y=e.concat(a.slice(0,p+1)),A=()=>{let E;return m?E=x:_?E=g:d.route.Component?E=xt.createElement(d.route.Component,null):d.route.element?E=d.route.element:E=f,xt.createElement(hD,{match:d,routeContext:{outlet:f,matches:y,isDataRoute:t!=null},children:E})};return t&&(d.route.ErrorBoundary||d.route.errorElement||p===0)?xt.createElement(fD,{location:t.location,revalidation:t.revalidation,component:x,error:m,children:A(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):A()},null)}var t4=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(t4||{}),n4=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(n4||{});function pD(n){let e=xt.useContext(Jx);return e||ti(!1),e}function mD(n){let e=xt.useContext(ZM);return e||ti(!1),e}function gD(n){let e=xt.useContext(Sf);return e||ti(!1),e}function r4(n){let e=gD(),t=e.matches[e.matches.length-1];return t.route.id||ti(!1),t.route.id}function xD(){var n;let e=xt.useContext(QM),t=mD(),r=r4();return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function vD(){let{router:n}=pD(t4.UseNavigateStable),e=r4(n4.UseNavigateStable),t=xt.useRef(!1);return e4(()=>{t.current=!0}),xt.useCallback(function(i,s){s===void 0&&(s={}),t.current&&(typeof i=="number"?n.navigate(i):n.navigate(i,rm({fromRouteId:e},s)))},[n,e])}const iE={};function _D(n,e,t){iE[n]||(iE[n]=!0)}function yD(n,e){n==null||n.v7_startTransition,n==null||n.v7_relativeSplatPath}function Dc(n){let{to:e,replace:t,state:r,relative:i}=n;D0()||ti(!1);let{future:s,static:a}=xt.useContext(Kc),{matches:o}=xt.useContext(Sf),{pathname:l}=Ef(),c=Cm(),f=Kw(e,Yw(o,s.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(f);return xt.useEffect(()=>c(JSON.parse(d),{replace:t,state:r,relative:i}),[c,d,i,t,r]),null}function _o(n){ti(!1)}function wD(n){let{basename:e="/",children:t=null,location:r,navigationType:i=Ku.Pop,navigator:s,static:a=!1,future:o}=n;D0()&&ti(!1);let l=e.replace(/^\/*/,"/"),c=xt.useMemo(()=>({basename:l,navigator:s,static:a,future:rm({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof r=="string"&&(r=Vh(r));let{pathname:f="/",search:d="",hash:p="",state:m=null,key:_="default"}=r,x=xt.useMemo(()=>{let g=_0(f,l);return g==null?null:{location:{pathname:g,search:d,hash:p,state:m,key:_},navigationType:i}},[l,f,d,p,m,_,i]);return x==null?null:xt.createElement(Kc.Provider,{value:c},xt.createElement(Zx.Provider,{children:t,value:x}))}function bD(n){let{children:e,location:t}=n;return oD(iy(e),t)}new Promise(()=>{});function iy(n,e){e===void 0&&(e=[]);let t=[];return xt.Children.forEach(n,(r,i)=>{if(!xt.isValidElement(r))return;let s=[...e,i];if(r.type===xt.Fragment){t.push.apply(t,iy(r.props.children,s));return}r.type!==_o&&ti(!1),!r.props.index||!r.props.children||ti(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=iy(r.props.children,s)),t.push(a)}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function px(){return px=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},px.apply(this,arguments)}function i4(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function SD(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function ED(n,e){return n.button===0&&(!e||e==="_self")&&!SD(n)}const AD=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],TD=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],MD="6";try{window.__reactRouterVersion=MD}catch{}const CD=xt.createContext({isTransitioning:!1}),PD="startTransition",sE=AR[PD];function kD(n){let{basename:e,children:t,future:r,window:i}=n,s=xt.useRef();s.current==null&&(s.current=FF({window:i,v5Compat:!0}));let a=s.current,[o,l]=xt.useState({action:a.action,location:a.location}),{v7_startTransition:c}=r||{},f=xt.useCallback(d=>{c&&sE?sE(()=>l(d)):l(d)},[l,c]);return xt.useLayoutEffect(()=>a.listen(f),[a,f]),xt.useEffect(()=>yD(r),[r]),xt.createElement(wD,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:a,future:r})}const RD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",LD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,y0=xt.forwardRef(function(e,t){let{onClick:r,relative:i,reloadDocument:s,replace:a,state:o,target:l,to:c,preventScrollReset:f,viewTransition:d}=e,p=i4(e,AD),{basename:m}=xt.useContext(Kc),_,x=!1;if(typeof c=="string"&&LD.test(c)&&(_=c,RD))try{let E=new URL(window.location.href),M=c.startsWith("//")?new URL(E.protocol+c):new URL(c),D=_0(M.pathname,m);M.origin===E.origin&&D!=null?c=D+M.search+M.hash:x=!0}catch{}let g=sD(c,{relative:i}),y=FD(c,{replace:a,state:o,target:l,preventScrollReset:f,relative:i,viewTransition:d});function A(E){r&&r(E),E.defaultPrevented||y(E)}return xt.createElement("a",px({},p,{href:_||g,onClick:x||s?r:A,ref:t,target:l}))}),Td=xt.forwardRef(function(e,t){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:a=!1,style:o,to:l,viewTransition:c,children:f}=e,d=i4(e,TD),p=Qx(l,{relative:d.relative}),m=Ef(),_=xt.useContext(ZM),{navigator:x,basename:g}=xt.useContext(Kc),y=_!=null&&DD(p)&&c===!0,A=x.encodeLocation?x.encodeLocation(p).pathname:p.pathname,E=m.pathname,M=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;i||(E=E.toLowerCase(),M=M?M.toLowerCase():null,A=A.toLowerCase()),M&&g&&(M=_0(M,g)||M);const D=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let U=E===A||!a&&E.startsWith(A)&&E.charAt(D)==="/",L=M!=null&&(M===A||!a&&M.startsWith(A)&&M.charAt(A.length)==="/"),I={isActive:U,isPending:L,isTransitioning:y},R=U?r:void 0,O;typeof s=="function"?O=s(I):O=[s,U?"active":null,L?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let N=typeof o=="function"?o(I):o;return xt.createElement(y0,px({},d,{"aria-current":R,className:O,ref:t,style:N,to:l,viewTransition:c}),typeof f=="function"?f(I):f)});var sy;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(sy||(sy={}));var aE;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(aE||(aE={}));function ND(n){let e=xt.useContext(Jx);return e||ti(!1),e}function FD(n,e){let{target:t,replace:r,state:i,preventScrollReset:s,relative:a,viewTransition:o}=e===void 0?{}:e,l=Cm(),c=Ef(),f=Qx(n,{relative:a});return xt.useCallback(d=>{if(ED(d,t)){d.preventDefault();let p=r!==void 0?r:dx(c)===dx(f);l(n,{replace:p,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[c,l,f,r,i,t,n,s,a,o])}function DD(n,e){e===void 0&&(e={});let t=xt.useContext(CD);t==null&&ti(!1);let{basename:r}=ND(sy.useViewTransitionState),i=Qx(n,{relative:e.relative});if(!t.isTransitioning)return!1;let s=_0(t.currentLocation.pathname,r)||t.currentLocation.pathname,a=_0(t.nextLocation.pathname,r)||t.nextLocation.pathname;return ry(i.pathname,a)!=null||ry(i.pathname,s)!=null}function ID(){const n=Yc(),{user:e,loading:t,error:r}=Fn(c=>c.auth),[i,s]=xt.useState(""),[a,o]=xt.useState("");if(e)return e.role==="admin"?me.jsx(Dc,{to:"/admin",replace:!0}):me.jsx(Dc,{to:"/dashboard",replace:!0});const l=c=>{c.preventDefault(),n(R1({email:i,password:a}))};return me.jsxs("div",{className:"h-screen w-screen flex flex-col bg-gray-900 p-6",children:[me.jsx("header",{className:"w-full flex justify-end p-6",children:me.jsx(y0,{to:"/",className:"border border-gray-300 rounded-full px-6 py-2 hover:bg-gray-700 text-white transition",children:"Home"})}),me.jsx("main",{className:"flex flex-grow items-center justify-center text-white",children:me.jsxs("form",{onSubmit:l,className:"bg-gray-800 p-10 rounded-3xl shadow-xl max-w-md w-full",children:[me.jsx("h2",{className:"text-4xl font-extrabold mb-8 text-center",children:"Sign In"}),r&&me.jsx("p",{className:"text-red-600 mb-4 text-center",children:r==="You are blocked by admin"?"You are blocked by admin. Please contact support.":r}),me.jsxs("label",{className:"block mb-4 text-white",children:["Email",me.jsx("input",{type:"email",autoComplete:"email",className:"w-full border border-gray-600 rounded px-3 py-3 mt-1 bg-gray-700 text-white",value:i,onChange:c=>s(c.target.value),required:!0})]}),me.jsxs("label",{className:"block mb-6 text-white",children:["Password",me.jsx("input",{type:"password",autoComplete:"current-password",className:"w-full border border-gray-600 rounded px-3 py-3 mt-1 bg-gray-700 text-white",value:a,onChange:c=>o(c.target.value),required:!0})]}),me.jsx("button",{type:"submit",disabled:t,className:"w-full bg-blue-600 text-white py-3 rounded hover:bg-blue-700 disabled:opacity-50",children:t?"Signing in...":"Sign In"}),me.jsxs("p",{className:"mt-6 text-center",children:["Don't have an account?"," ",me.jsx(y0,{to:"/register",className:"text-blue-400 hover:underline font-semibold",children:"Sign Up"})]})]})})]})}function OD(){const n=Yc(),e=Cm(),{loading:t,error:r}=Fn(E=>E.auth),[i,s]=xt.useState(""),[a,o]=xt.useState(""),[l,c]=xt.useState(""),[f,d]=xt.useState("user"),[p,m]=xt.useState(""),[_,x]=xt.useState(""),g=E=>/^[a-zA-Z0-9._%+-]+@gmail\.com$/.test(E),y=E=>{const M=/[A-Z]/.test(E),D=/[a-z]/.test(E),U=/[@.]/.test(E);return M&&D&&U},A=E=>{E.preventDefault();let M=!0;g(a)?m(""):(m("Email must be a valid Gmail address ending with .com"),M=!1),y(l)?x(""):(x("Password must contain uppercase, lowercase, and @ or ."),M=!1),M&&n(L1({username:i,email:a,password:l,role:f})).then(D=>{D.error||e("/login")})};return me.jsxs("form",{onSubmit:A,className:"bg-white p-10 rounded-3xl shadow-xl max-w-md w-full text-gray-900",children:[me.jsx("h2",{className:"text-4xl font-extrabold mb-8 text-center",children:"Register"}),r&&me.jsx("p",{className:"text-red-600 mb-4 text-center",children:r}),me.jsxs("label",{className:"block mb-4",children:["Username",me.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded px-3 py-3 mt-1",value:i,onChange:E=>s(E.target.value),required:!0})]}),me.jsxs("label",{className:"block mb-4",children:["Email",me.jsx("input",{type:"email",className:"w-full border border-gray-300 rounded px-3 py-3 mt-1",value:a,onChange:E=>o(E.target.value),required:!0}),p&&me.jsx("p",{className:"text-red-600 mt-1",children:p})]}),me.jsxs("label",{className:"block mb-4",children:["Password",me.jsx("input",{type:"password",className:"w-full border border-gray-300 rounded px-3 py-3 mt-1",value:l,onChange:E=>c(E.target.value),required:!0}),_&&me.jsx("p",{className:"text-red-600 mt-1",children:_})]}),me.jsxs("label",{className:"block mb-6",children:["Role",me.jsx("select",{className:"w-full border border-gray-300 rounded px-3 py-3 mt-1",value:f,onChange:E=>d(E.target.value),required:!0,children:me.jsx("option",{value:"user",children:"User"})})]}),me.jsx("button",{type:"submit",disabled:t,className:"w-full bg-indigo-600 text-white py-3 rounded hover:bg-indigo-700 disabled:opacity-50",children:t?"Registering...":"Register"})]})}function UD(){const{user:n}=Fn(e=>e.auth);return n?me.jsx(Dc,{to:"/dashboard",replace:!0}):me.jsxs("div",{className:"h-screen w-screen flex flex-col bg-gray-900 p-6",children:[me.jsx("header",{className:"w-full flex justify-end p-6",children:me.jsx(y0,{to:"/",className:"border border-gray-300 rounded-full px-6 py-2 hover:bg-gray-700 text-white transition",children:"Home"})}),me.jsx("main",{className:"flex flex-grow items-center justify-center text-white",children:me.jsx("div",{children:me.jsx(OD,{})})})]})}const BD="/Excel/assets/react-CHdo91hT.svg";function zD(){const n={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.6}}};return me.jsxs("div",{className:"h-screen w-screen flex items-center justify-center bg-gray-900 p-6 relative",children:[me.jsx("header",{className:"w-full flex justify-end p-6 absolute top-0 right-0",children:me.jsx(y0,{to:"/login",className:"border border-gray-300 rounded-full px-6 py-2 hover:bg-gray-700 text-white transition",children:"Login →"})}),me.jsxs("main",{className:"flex flex-col items-center text-center max-w-xl mx-auto text-white",initial:"hidden",animate:"visible",variants:n,children:[me.jsx("img",{src:BD,alt:"pic",className:"w-24 h-24 mb-4",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.6,delay:.3}}),me.jsx("h1",{className:"text-4xl font-extrabold mb-2",children:"Welcome to Excel Analytics"}),me.jsx("p",{className:"text-gray-300 mb-8",children:"Analyze your Excel data with powerful charts and dashboards. Get insights and make data-driven decisions quickly and easily."}),me.jsx(y0,{to:"/login",className:"border border-gray-300 rounded-full px-8 py-3 hover:bg-gray-700 transition",children:"Get Started"})]})]})}const oE="https://excel-xz7q.onrender.com/api/admin",s4=()=>{const n=Yc(),{users:e,loading:t}=Fn(_=>_.adminSettings),r=Fn(_=>_.auth.user),i=Fn(_=>{var x,g;return(g=(x=_.adminSettings)==null?void 0:x.settings)==null?void 0:g.themeMode}),s=r&&r.role==="admin"?i:null;xt.useEffect(()=>{n(s0())},[n]);const a=async _=>{var x,g;try{const y=localStorage.getItem("token");if(!y){alert("You must be logged in as admin to block/unblock users.");return}await zn.post(`${oE}/users/${_}/toggle-block`,{},{headers:{Authorization:`Bearer ${y}`}}),n(s0())}catch(y){console.error("Toggle block user error:",y),alert("Failed to toggle block user: "+(((g=(x=y.response)==null?void 0:x.data)==null?void 0:g.message)||y.message))}},o=async _=>{try{const x=localStorage.getItem("token");await zn.delete(`${oE}/users/${_}`,{headers:{Authorization:`Bearer ${x}`}}),n(s0())}catch{alert("Failed to delete user")}};if(t)return me.jsx("p",{children:"Loading users..."});const l=(e||[]).filter(_=>_.role!=="admin"),c=s==="dark"?"p-6 max-w-4xl mx-auto bg-gray-800 text-white rounded shadow":s==="creative"?"p-6 max-w-4xl mx-auto bg-purple-700 bg-opacity-80 text-white rounded shadow":"p-6 max-w-4xl mx-auto bg-white text-black rounded shadow",f=s==="dark"?"w-full table-auto border-collapse border border-gray-600":s==="creative"?"w-full table-auto border-collapse border border-purple-500":"w-full table-auto border-collapse border border-gray-300",d=s==="dark"?"border border-gray-600 px-4 py-2 text-left":s==="creative"?"border border-purple-500 px-4 py-2 text-left":"border border-gray-300 px-4 py-2 text-left",p=s==="dark"?"bg-gray-800 text-white":s==="creative"?"bg-purple-600 bg-opacity-70 text-white":"bg-white text-black",m=s==="dark"?"border border-gray-600 px-4 py-2":s==="creative"?"border border-purple-500 px-4 py-2":"border border-gray-300 px-4 py-2";return me.jsxs("div",{className:c,children:[me.jsx("h1",{className:"text-3xl font-bold mb-6",children:"User List"}),me.jsxs("table",{className:f,children:[me.jsx("thead",{children:me.jsxs("tr",{className:s==="dark"?"bg-gray-700 text-white":s==="creative"?"bg-purple-600 bg-opacity-70 text-white":"bg-gray-200",children:[me.jsx("th",{className:d,children:"Username"}),me.jsx("th",{className:d,children:"Email"}),me.jsx("th",{className:d,children:"Blocked"}),me.jsx("th",{className:d,children:"Actions"})]})}),me.jsx("tbody",{children:l.map(_=>me.jsxs("tr",{className:p,children:[me.jsx("td",{className:m,children:_.username}),me.jsx("td",{className:m,children:_.email}),me.jsx("td",{className:m,children:_.blocked?"Yes":"No"}),me.jsxs("td",{className:m+" space-x-2",children:[me.jsx("button",{onClick:()=>a(_._id),className:`px-3 py-1 rounded text-white ${_.blocked?"bg-green-600 hover:bg-green-700":"bg-yellow-500 hover:bg-yellow-600"}`,children:_.blocked?"Unblock":"Block"}),me.jsx("button",{onClick:()=>o(_._id),className:"px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700",children:"Delete"})]})]},_._id))})]})]})},HD=()=>{const[n,e]=xt.useState(null),[t,r]=xt.useState(!0),[i,s]=xt.useState(null),a=Fn(l=>l.adminSettings.settings.themeMode),o=async()=>{try{r(!0);const l=localStorage.getItem("token"),c=await zn.get("/api/admin/stats",{headers:{Authorization:`Bearer ${l}`}});e(c.data),r(!1)}catch{s("Failed to load platform stats"),r(!1)}};return xt.useEffect(()=>{o()},[]),t?me.jsx("p",{children:"Loading platform stats..."}):i?me.jsx("p",{className:"text-red-500",children:i}):me.jsxs("div",{className:`p-6 max-w-6xl mx-auto ${a==="dark"?"bg-gray-900 text-white":a==="creative"?"bg-gradient-to-r from-purple-500 to-pink-500 text-white":"bg-white text-black"}`,children:[me.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Admin Dashboard"}),me.jsx("button",{onClick:o,className:"mb-4 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Refresh Stats"}),me.jsxs("div",{className:"mb-8 grid grid-cols-1 md:grid-cols-3 gap-6",children:[me.jsxs("div",{className:`p-4 rounded shadow ${a==="dark"?"bg-gray-800":a==="creative"?"bg-purple-700 bg-opacity-80":"bg-white"}`,children:[me.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Total Uploads by Users"}),me.jsx("p",{className:"text-2xl",children:n.totalUploads})]}),me.jsxs("div",{className:`p-4 rounded shadow ${a==="dark"?"bg-gray-800":a==="creative"?"bg-purple-700 bg-opacity-80":"bg-white"}`,children:[me.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Active Users (Last 30 days)"}),me.jsx("p",{className:"text-2xl",children:n.activeUsersCount})]}),me.jsxs("div",{className:`p-4 rounded shadow ${a==="dark"?"bg-gray-800":a==="creative"?"bg-purple-700 bg-opacity-80":"bg-white"}`,children:[me.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Most Used Chart Types"}),me.jsx("ul",{children:n.mostUsedChartTypes.map(({chartType:l,count:c})=>me.jsxs("li",{children:[l,": ",c]},l))})]})]}),me.jsx(s4,{})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Pm(n){return n+.5|0}const Ju=(n,e,t)=>Math.max(Math.min(n,t),e);function Ep(n){return Ju(Pm(n*2.55),0,255)}function lf(n){return Ju(Pm(n*255),0,255)}function Ic(n){return Ju(Pm(n/2.55)/100,0,1)}function lE(n){return Ju(Pm(n*100),0,100)}const go={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},ay=[..."0123456789ABCDEF"],jD=n=>ay[n&15],VD=n=>ay[(n&240)>>4]+ay[n&15],wg=n=>(n&240)>>4===(n&15),WD=n=>wg(n.r)&&wg(n.g)&&wg(n.b)&&wg(n.a);function GD(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&go[n[1]]*17,g:255&go[n[2]]*17,b:255&go[n[3]]*17,a:e===5?go[n[4]]*17:255}:(e===7||e===9)&&(t={r:go[n[1]]<<4|go[n[2]],g:go[n[3]]<<4|go[n[4]],b:go[n[5]]<<4|go[n[6]],a:e===9?go[n[7]]<<4|go[n[8]]:255})),t}const qD=(n,e)=>n<255?e(n):"";function XD(n){var e=WD(n)?jD:VD;return n?"#"+e(n.r)+e(n.g)+e(n.b)+qD(n.a,e):void 0}const $D=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function a4(n,e,t){const r=e*Math.min(t,1-t),i=(s,a=(s+n/30)%12)=>t-r*Math.max(Math.min(a-3,9-a,1),-1);return[i(0),i(8),i(4)]}function YD(n,e,t){const r=(i,s=(i+n/60)%6)=>t-t*e*Math.max(Math.min(s,4-s,1),0);return[r(5),r(3),r(1)]}function KD(n,e,t){const r=a4(n,1,.5);let i;for(e+t>1&&(i=1/(e+t),e*=i,t*=i),i=0;i<3;i++)r[i]*=1-e-t,r[i]+=e;return r}function JD(n,e,t,r,i){return n===i?(e-t)/r+(e<t?6:0):e===i?(t-n)/r+2:(n-e)/r+4}function Jw(n){const t=n.r/255,r=n.g/255,i=n.b/255,s=Math.max(t,r,i),a=Math.min(t,r,i),o=(s+a)/2;let l,c,f;return s!==a&&(f=s-a,c=o>.5?f/(2-s-a):f/(s+a),l=JD(t,r,i,f,s),l=l*60+.5),[l|0,c||0,o]}function Zw(n,e,t,r){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,r)).map(lf)}function Qw(n,e,t){return Zw(a4,n,e,t)}function ZD(n,e,t){return Zw(KD,n,e,t)}function QD(n,e,t){return Zw(YD,n,e,t)}function o4(n){return(n%360+360)%360}function e6(n){const e=$D.exec(n);let t=255,r;if(!e)return;e[5]!==r&&(t=e[6]?Ep(+e[5]):lf(+e[5]));const i=o4(+e[2]),s=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?r=ZD(i,s,a):e[1]==="hsv"?r=QD(i,s,a):r=Qw(i,s,a),{r:r[0],g:r[1],b:r[2],a:t}}function t6(n,e){var t=Jw(n);t[0]=o4(t[0]+e),t=Qw(t),n.r=t[0],n.g=t[1],n.b=t[2]}function n6(n){if(!n)return;const e=Jw(n),t=e[0],r=lE(e[1]),i=lE(e[2]);return n.a<255?`hsla(${t}, ${r}%, ${i}%, ${Ic(n.a)})`:`hsl(${t}, ${r}%, ${i}%)`}const cE={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},uE={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function r6(){const n={},e=Object.keys(uE),t=Object.keys(cE);let r,i,s,a,o;for(r=0;r<e.length;r++){for(a=o=e[r],i=0;i<t.length;i++)s=t[i],o=o.replace(s,cE[s]);s=parseInt(uE[a],16),n[o]=[s>>16&255,s>>8&255,s&255]}return n}let bg;function i6(n){bg||(bg=r6(),bg.transparent=[0,0,0,0]);const e=bg[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const s6=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function a6(n){const e=s6.exec(n);let t=255,r,i,s;if(e){if(e[7]!==r){const a=+e[7];t=e[8]?Ep(a):Ju(a*255,0,255)}return r=+e[1],i=+e[3],s=+e[5],r=255&(e[2]?Ep(r):Ju(r,0,255)),i=255&(e[4]?Ep(i):Ju(i,0,255)),s=255&(e[6]?Ep(s):Ju(s,0,255)),{r,g:i,b:s,a:t}}}function o6(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Ic(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const k2=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Md=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function l6(n,e,t){const r=Md(Ic(n.r)),i=Md(Ic(n.g)),s=Md(Ic(n.b));return{r:lf(k2(r+t*(Md(Ic(e.r))-r))),g:lf(k2(i+t*(Md(Ic(e.g))-i))),b:lf(k2(s+t*(Md(Ic(e.b))-s))),a:n.a+t*(e.a-n.a)}}function Sg(n,e,t){if(n){let r=Jw(n);r[e]=Math.max(0,Math.min(r[e]+r[e]*t,e===0?360:1)),r=Qw(r),n.r=r[0],n.g=r[1],n.b=r[2]}}function l4(n,e){return n&&Object.assign(e||{},n)}function fE(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=lf(n[3]))):(e=l4(n,{r:0,g:0,b:0,a:1}),e.a=lf(e.a)),e}function c6(n){return n.charAt(0)==="r"?a6(n):e6(n)}let c4=class oy{constructor(e){if(e instanceof oy)return e;const t=typeof e;let r;t==="object"?r=fE(e):t==="string"&&(r=GD(e)||i6(e)||c6(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=l4(this._rgb);return e&&(e.a=Ic(e.a)),e}set rgb(e){this._rgb=fE(e)}rgbString(){return this._valid?o6(this._rgb):void 0}hexString(){return this._valid?XD(this._rgb):void 0}hslString(){return this._valid?n6(this._rgb):void 0}mix(e,t){if(e){const r=this.rgb,i=e.rgb;let s;const a=t===s?.5:t,o=2*a-1,l=r.a-i.a,c=((o*l===-1?o:(o+l)/(1+o*l))+1)/2;s=1-c,r.r=255&c*r.r+s*i.r+.5,r.g=255&c*r.g+s*i.g+.5,r.b=255&c*r.b+s*i.b+.5,r.a=a*r.a+(1-a)*i.a,this.rgb=r}return this}interpolate(e,t){return e&&(this._rgb=l6(this._rgb,e._rgb,t)),this}clone(){return new oy(this.rgb)}alpha(e){return this._rgb.a=lf(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=Pm(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Sg(this._rgb,2,e),this}darken(e){return Sg(this._rgb,2,-e),this}saturate(e){return Sg(this._rgb,1,e),this}desaturate(e){return Sg(this._rgb,1,-e),this}rotate(e){return t6(this._rgb,e),this}};/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Ac(){}const u6=(()=>{let n=0;return()=>n++})();function Gn(n){return n==null}function $r(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Xn(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function ui(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Xa(n,e){return ui(n)?n:e}function Rn(n,e){return typeof n>"u"?e:n}const f6=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/e,u4=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function Nr(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function br(n,e,t,r){let i,s,a;if($r(n))for(s=n.length,i=0;i<s;i++)e.call(t,n[i],i);else if(Xn(n))for(a=Object.keys(n),s=a.length,i=0;i<s;i++)e.call(t,n[a[i]],a[i])}function mx(n,e){let t,r,i,s;if(!n||!e||n.length!==e.length)return!1;for(t=0,r=n.length;t<r;++t)if(i=n[t],s=e[t],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function gx(n){if($r(n))return n.map(gx);if(Xn(n)){const e=Object.create(null),t=Object.keys(n),r=t.length;let i=0;for(;i<r;++i)e[t[i]]=gx(n[t[i]]);return e}return n}function f4(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function h6(n,e,t,r){if(!f4(n))return;const i=e[n],s=t[n];Xn(i)&&Xn(s)?im(i,s,r):e[n]=gx(s)}function im(n,e,t){const r=$r(e)?e:[e],i=r.length;if(!Xn(n))return n;t=t||{};const s=t.merger||h6;let a;for(let o=0;o<i;++o){if(a=r[o],!Xn(a))continue;const l=Object.keys(a);for(let c=0,f=l.length;c<f;++c)s(l[c],n,a,t)}return n}function Up(n,e){return im(n,e,{merger:d6})}function d6(n,e,t){if(!f4(n))return;const r=e[n],i=t[n];Xn(r)&&Xn(i)?Up(r,i):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=gx(i))}const hE={"":n=>n,x:n=>n.x,y:n=>n.y};function p6(n){const e=n.split("."),t=[];let r="";for(const i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(t.push(r),r="");return t}function m6(n){const e=p6(n);return t=>{for(const r of e){if(r==="")break;t=t&&t[r]}return t}}function mf(n,e){return(hE[e]||(hE[e]=m6(e)))(n)}function eb(n){return n.charAt(0).toUpperCase()+n.slice(1)}const sm=n=>typeof n<"u",gf=n=>typeof n=="function",dE=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0};function g6(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const or=Math.PI,Hr=2*or,x6=Hr+or,xx=Number.POSITIVE_INFINITY,v6=or/180,bi=or/2,eh=or/4,pE=or*2/3,Zu=Math.log10,Gl=Math.sign;function Bp(n,e,t){return Math.abs(n-e)<t}function mE(n){const e=Math.round(n);n=Bp(n,e,n/1e3)?e:n;const t=Math.pow(10,Math.floor(Zu(n))),r=n/t;return(r<=1?1:r<=2?2:r<=5?5:10)*t}function _6(n){const e=[],t=Math.sqrt(n);let r;for(r=1;r<t;r++)n%r===0&&(e.push(r),e.push(n/r));return t===(t|0)&&e.push(t),e.sort((i,s)=>i-s).pop(),e}function y6(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function w0(n){return!y6(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function w6(n,e){const t=Math.round(n);return t-e<=n&&t+e>=n}function h4(n,e,t){let r,i,s;for(r=0,i=n.length;r<i;r++)s=n[r][t],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function rl(n){return n*(or/180)}function tb(n){return n*(180/or)}function gE(n){if(!ui(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function d4(n,e){const t=e.x-n.x,r=e.y-n.y,i=Math.sqrt(t*t+r*r);let s=Math.atan2(r,t);return s<-.5*or&&(s+=Hr),{angle:s,distance:i}}function ly(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function b6(n,e){return(n-e+x6)%Hr-or}function Ls(n){return(n%Hr+Hr)%Hr}function am(n,e,t,r){const i=Ls(n),s=Ls(e),a=Ls(t),o=Ls(s-i),l=Ls(a-i),c=Ls(i-s),f=Ls(i-a);return i===s||i===a||r&&s===a||o>l&&c<f}function Qi(n,e,t){return Math.max(e,Math.min(t,n))}function S6(n){return Qi(n,-32768,32767)}function Uc(n,e,t,r=1e-6){return n>=Math.min(e,t)-r&&n<=Math.max(e,t)+r}function nb(n,e,t){t=t||(a=>n[a]<e);let r=n.length-1,i=0,s;for(;r-i>1;)s=i+r>>1,t(s)?i=s:r=s;return{lo:i,hi:r}}const Bc=(n,e,t,r)=>nb(n,t,r?i=>{const s=n[i][e];return s<t||s===t&&n[i+1][e]===t}:i=>n[i][e]<t),E6=(n,e,t)=>nb(n,t,r=>n[r][e]>=t);function A6(n,e,t){let r=0,i=n.length;for(;r<i&&n[r]<e;)r++;for(;i>r&&n[i-1]>t;)i--;return r>0||i<n.length?n.slice(r,i):n}const p4=["push","pop","shift","splice","unshift"];function T6(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),p4.forEach(t=>{const r="_onData"+eb(t),i=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...s){const a=i.apply(this,s);return n._chartjs.listeners.forEach(o=>{typeof o[r]=="function"&&o[r](...s)}),a}})})}function xE(n,e){const t=n._chartjs;if(!t)return;const r=t.listeners,i=r.indexOf(e);i!==-1&&r.splice(i,1),!(r.length>0)&&(p4.forEach(s=>{delete n[s]}),delete n._chartjs)}function m4(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const g4=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function x4(n,e){let t=[],r=!1;return function(...i){t=i,r||(r=!0,g4.call(window,()=>{r=!1,n.apply(e,t)}))}}function M6(n,e){let t;return function(...r){return e?(clearTimeout(t),t=setTimeout(n,e,r)):n.apply(this,r),e}}const rb=n=>n==="start"?"left":n==="end"?"right":"center",Rs=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,C6=(n,e,t,r)=>n===(r?"left":"right")?t:n==="center"?(e+t)/2:e;function v4(n,e,t){const r=e.length;let i=0,s=r;if(n._sorted){const{iScale:a,vScale:o,_parsed:l}=n,c=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,f=a.axis,{min:d,max:p,minDefined:m,maxDefined:_}=a.getUserBounds();if(m){if(i=Math.min(Bc(l,f,d).lo,t?r:Bc(e,f,a.getPixelForValue(d)).lo),c){const x=l.slice(0,i+1).reverse().findIndex(g=>!Gn(g[o.axis]));i-=Math.max(0,x)}i=Qi(i,0,r-1)}if(_){let x=Math.max(Bc(l,a.axis,p,!0).hi+1,t?0:Bc(e,f,a.getPixelForValue(p),!0).hi+1);if(c){const g=l.slice(x-1).findIndex(y=>!Gn(y[o.axis]));x+=Math.max(0,g)}s=Qi(x,i,r)-i}else s=r-i}return{start:i,count:s}}function _4(n){const{xScale:e,yScale:t,_scaleRanges:r}=n,i={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!r)return n._scaleRanges=i,!0;const s=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==t.min||r.ymax!==t.max;return Object.assign(r,i),s}const Eg=n=>n===0||n===1,vE=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*Hr/t)),_E=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*Hr/t)+1,zp={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*bi)+1,easeOutSine:n=>Math.sin(n*bi),easeInOutSine:n=>-.5*(Math.cos(or*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Eg(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Eg(n)?n:vE(n,.075,.3),easeOutElastic:n=>Eg(n)?n:_E(n,.075,.3),easeInOutElastic(n){return Eg(n)?n:n<.5?.5*vE(n*2,.1125,.45):.5+.5*_E(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-zp.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?zp.easeInBounce(n*2)*.5:zp.easeOutBounce(n*2-1)*.5+.5};function ib(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function yE(n){return ib(n)?n:new c4(n)}function R2(n){return ib(n)?n:new c4(n).saturate(.5).darken(.1).hexString()}const P6=["x","y","borderWidth","radius","tension"],k6=["color","borderColor","backgroundColor"];function R6(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:k6},numbers:{type:"number",properties:P6}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function L6(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const wE=new Map;function N6(n,e){e=e||{};const t=n+JSON.stringify(e);let r=wE.get(t);return r||(r=new Intl.NumberFormat(n,e),wE.set(t,r)),r}function km(n,e,t){return N6(e,t).format(n)}const y4={values(n){return $r(n)?n:""+n},numeric(n,e,t){if(n===0)return"0";const r=this.chart.options.locale;let i,s=n;if(t.length>1){const c=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),s=F6(n,t)}const a=Zu(Math.abs(s)),o=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),l={notation:i,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(l,this.options.ticks.format),km(n,r,l)},logarithmic(n,e,t){if(n===0)return"0";const r=t[e].significand||n/Math.pow(10,Math.floor(Zu(n)));return[1,2,3,5,10,15].includes(r)||e>.8*t.length?y4.numeric.call(this,n,e,t):""}};function F6(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}var ev={formatters:y4};function D6(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:ev.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Fh=Object.create(null),cy=Object.create(null);function Hp(n,e){if(!e)return n;const t=e.split(".");for(let r=0,i=t.length;r<i;++r){const s=t[r];n=n[s]||(n[s]=Object.create(null))}return n}function L2(n,e,t){return typeof e=="string"?im(Hp(n,e),t):im(Hp(n,""),e)}class I6{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>R2(i.backgroundColor),this.hoverBorderColor=(r,i)=>R2(i.borderColor),this.hoverColor=(r,i)=>R2(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return L2(this,e,t)}get(e){return Hp(this,e)}describe(e,t){return L2(cy,e,t)}override(e,t){return L2(Fh,e,t)}route(e,t,r,i){const s=Hp(this,e),a=Hp(this,r),o="_"+t;Object.defineProperties(s,{[o]:{value:s[t],writable:!0},[t]:{enumerable:!0,get(){const l=this[o],c=a[i];return Xn(l)?Object.assign({},c,l):Rn(l,c)},set(l){this[o]=l}}})}apply(e){e.forEach(t=>t(this))}}var Yr=new I6({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[R6,L6,D6]);function O6(n){return!n||Gn(n.size)||Gn(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function vx(n,e,t,r,i){let s=e[i];return s||(s=e[i]=n.measureText(i).width,t.push(i)),s>r&&(r=s),r}function U6(n,e,t,r){r=r||{};let i=r.data=r.data||{},s=r.garbageCollect=r.garbageCollect||[];r.font!==e&&(i=r.data={},s=r.garbageCollect=[],r.font=e),n.save(),n.font=e;let a=0;const o=t.length;let l,c,f,d,p;for(l=0;l<o;l++)if(d=t[l],d!=null&&!$r(d))a=vx(n,i,s,a,d);else if($r(d))for(c=0,f=d.length;c<f;c++)p=d[c],p!=null&&!$r(p)&&(a=vx(n,i,s,a,p));n.restore();const m=s.length/2;if(m>t.length){for(l=0;l<m;l++)delete i[s[l]];s.splice(0,m)}return a}function th(n,e,t){const r=n.currentDevicePixelRatio,i=t!==0?Math.max(t/2,.5):0;return Math.round((e-i)*r)/r+i}function bE(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function uy(n,e,t,r){w4(n,e,t,r,null)}function w4(n,e,t,r,i){let s,a,o,l,c,f,d,p;const m=e.pointStyle,_=e.rotation,x=e.radius;let g=(_||0)*v6;if(m&&typeof m=="object"&&(s=m.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){n.save(),n.translate(t,r),n.rotate(g),n.drawImage(m,-m.width/2,-m.height/2,m.width,m.height),n.restore();return}if(!(isNaN(x)||x<=0)){switch(n.beginPath(),m){default:i?n.ellipse(t,r,i/2,x,0,0,Hr):n.arc(t,r,x,0,Hr),n.closePath();break;case"triangle":f=i?i/2:x,n.moveTo(t+Math.sin(g)*f,r-Math.cos(g)*x),g+=pE,n.lineTo(t+Math.sin(g)*f,r-Math.cos(g)*x),g+=pE,n.lineTo(t+Math.sin(g)*f,r-Math.cos(g)*x),n.closePath();break;case"rectRounded":c=x*.516,l=x-c,a=Math.cos(g+eh)*l,d=Math.cos(g+eh)*(i?i/2-c:l),o=Math.sin(g+eh)*l,p=Math.sin(g+eh)*(i?i/2-c:l),n.arc(t-d,r-o,c,g-or,g-bi),n.arc(t+p,r-a,c,g-bi,g),n.arc(t+d,r+o,c,g,g+bi),n.arc(t-p,r+a,c,g+bi,g+or),n.closePath();break;case"rect":if(!_){l=Math.SQRT1_2*x,f=i?i/2:l,n.rect(t-f,r-l,2*f,2*l);break}g+=eh;case"rectRot":d=Math.cos(g)*(i?i/2:x),a=Math.cos(g)*x,o=Math.sin(g)*x,p=Math.sin(g)*(i?i/2:x),n.moveTo(t-d,r-o),n.lineTo(t+p,r-a),n.lineTo(t+d,r+o),n.lineTo(t-p,r+a),n.closePath();break;case"crossRot":g+=eh;case"cross":d=Math.cos(g)*(i?i/2:x),a=Math.cos(g)*x,o=Math.sin(g)*x,p=Math.sin(g)*(i?i/2:x),n.moveTo(t-d,r-o),n.lineTo(t+d,r+o),n.moveTo(t+p,r-a),n.lineTo(t-p,r+a);break;case"star":d=Math.cos(g)*(i?i/2:x),a=Math.cos(g)*x,o=Math.sin(g)*x,p=Math.sin(g)*(i?i/2:x),n.moveTo(t-d,r-o),n.lineTo(t+d,r+o),n.moveTo(t+p,r-a),n.lineTo(t-p,r+a),g+=eh,d=Math.cos(g)*(i?i/2:x),a=Math.cos(g)*x,o=Math.sin(g)*x,p=Math.sin(g)*(i?i/2:x),n.moveTo(t-d,r-o),n.lineTo(t+d,r+o),n.moveTo(t+p,r-a),n.lineTo(t-p,r+a);break;case"line":a=i?i/2:Math.cos(g)*x,o=Math.sin(g)*x,n.moveTo(t-a,r-o),n.lineTo(t+a,r+o);break;case"dash":n.moveTo(t,r),n.lineTo(t+Math.cos(g)*(i?i/2:x),r+Math.sin(g)*x);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function zc(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function tv(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function nv(n){n.restore()}function B6(n,e,t,r,i){if(!e)return n.lineTo(t.x,t.y);if(i==="middle"){const s=(e.x+t.x)/2;n.lineTo(s,e.y),n.lineTo(s,t.y)}else i==="after"!=!!r?n.lineTo(e.x,t.y):n.lineTo(t.x,e.y);n.lineTo(t.x,t.y)}function z6(n,e,t,r){if(!e)return n.lineTo(t.x,t.y);n.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?t.cp2x:t.cp1x,r?t.cp2y:t.cp1y,t.x,t.y)}function H6(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),Gn(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function j6(n,e,t,r,i){if(i.strikethrough||i.underline){const s=n.measureText(r),a=e-s.actualBoundingBoxLeft,o=e+s.actualBoundingBoxRight,l=t-s.actualBoundingBoxAscent,c=t+s.actualBoundingBoxDescent,f=i.strikethrough?(l+c)/2:c;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=i.decorationWidth||2,n.moveTo(a,f),n.lineTo(o,f),n.stroke()}}function V6(n,e){const t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function Dh(n,e,t,r,i,s={}){const a=$r(e)?e:[e],o=s.strokeWidth>0&&s.strokeColor!=="";let l,c;for(n.save(),n.font=i.string,H6(n,s),l=0;l<a.length;++l)c=a[l],s.backdrop&&V6(n,s.backdrop),o&&(s.strokeColor&&(n.strokeStyle=s.strokeColor),Gn(s.strokeWidth)||(n.lineWidth=s.strokeWidth),n.strokeText(c,t,r,s.maxWidth)),n.fillText(c,t,r,s.maxWidth),j6(n,t,r,c,s),r+=Number(i.lineHeight);n.restore()}function om(n,e){const{x:t,y:r,w:i,h:s,radius:a}=e;n.arc(t+a.topLeft,r+a.topLeft,a.topLeft,1.5*or,or,!0),n.lineTo(t,r+s-a.bottomLeft),n.arc(t+a.bottomLeft,r+s-a.bottomLeft,a.bottomLeft,or,bi,!0),n.lineTo(t+i-a.bottomRight,r+s),n.arc(t+i-a.bottomRight,r+s-a.bottomRight,a.bottomRight,bi,0,!0),n.lineTo(t+i,r+a.topRight),n.arc(t+i-a.topRight,r+a.topRight,a.topRight,0,-bi,!0),n.lineTo(t+a.topLeft,r)}const W6=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,G6=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function q6(n,e){const t=(""+n).match(W6);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}const X6=n=>+n||0;function sb(n,e){const t={},r=Xn(e),i=r?Object.keys(e):e,s=Xn(n)?r?a=>Rn(n[a],n[e[a]]):a=>n[a]:()=>n;for(const a of i)t[a]=X6(s(a));return t}function b4(n){return sb(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Mh(n){return sb(n,["topLeft","topRight","bottomLeft","bottomRight"])}function zs(n){const e=b4(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Oi(n,e){n=n||{},e=e||Yr.font;let t=Rn(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let r=Rn(n.style,e.style);r&&!(""+r).match(G6)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:Rn(n.family,e.family),lineHeight:q6(Rn(n.lineHeight,e.lineHeight),t),size:t,style:r,weight:Rn(n.weight,e.weight),string:""};return i.string=O6(i),i}function Ap(n,e,t,r){let i,s,a;for(i=0,s=n.length;i<s;++i)if(a=n[i],a!==void 0&&a!==void 0)return a}function $6(n,e,t){const{min:r,max:i}=n,s=u4(e,(i-r)/2),a=(o,l)=>t&&o===0?0:o+l;return{min:a(r,-Math.abs(s)),max:a(i,s)}}function Af(n,e){return Object.assign(Object.create(n),e)}function ab(n,e=[""],t,r,i=()=>n[0]){const s=t||n;typeof r>"u"&&(r=T4("_fallback",n));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:s,_fallback:r,_getTarget:i,override:o=>ab([o,...n],e,s,r)};return new Proxy(a,{deleteProperty(o,l){return delete o[l],delete o._keys,delete n[0][l],!0},get(o,l){return E4(o,l,()=>nI(l,e,n,o))},getOwnPropertyDescriptor(o,l){return Reflect.getOwnPropertyDescriptor(o._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(o,l){return EE(o).includes(l)},ownKeys(o){return EE(o)},set(o,l,c){const f=o._storage||(o._storage=i());return o[l]=f[l]=c,delete o._keys,!0}})}function b0(n,e,t,r){const i={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:S4(n,r),setContext:s=>b0(n,s,t,r),override:s=>b0(n.override(s),e,t,r)};return new Proxy(i,{deleteProperty(s,a){return delete s[a],delete n[a],!0},get(s,a,o){return E4(s,a,()=>K6(s,a,o))},getOwnPropertyDescriptor(s,a){return s._descriptors.allKeys?Reflect.has(n,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,a)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(s,a){return Reflect.has(n,a)},ownKeys(){return Reflect.ownKeys(n)},set(s,a,o){return n[a]=o,delete s[a],!0}})}function S4(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=n;return{allKeys:i,scriptable:t,indexable:r,isScriptable:gf(t)?t:()=>t,isIndexable:gf(r)?r:()=>r}}const Y6=(n,e)=>n?n+eb(e):e,ob=(n,e)=>Xn(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function E4(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];const r=t();return n[e]=r,r}function K6(n,e,t){const{_proxy:r,_context:i,_subProxy:s,_descriptors:a}=n;let o=r[e];return gf(o)&&a.isScriptable(e)&&(o=J6(e,o,n,t)),$r(o)&&o.length&&(o=Z6(e,o,n,a.isIndexable)),ob(e,o)&&(o=b0(o,i,s&&s[e],a)),o}function J6(n,e,t,r){const{_proxy:i,_context:s,_subProxy:a,_stack:o}=t;if(o.has(n))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+n);o.add(n);let l=e(s,a||r);return o.delete(n),ob(n,l)&&(l=lb(i._scopes,i,n,l)),l}function Z6(n,e,t,r){const{_proxy:i,_context:s,_subProxy:a,_descriptors:o}=t;if(typeof s.index<"u"&&r(n))return e[s.index%e.length];if(Xn(e[0])){const l=e,c=i._scopes.filter(f=>f!==l);e=[];for(const f of l){const d=lb(c,i,n,f);e.push(b0(d,s,a&&a[n],o))}}return e}function A4(n,e,t){return gf(n)?n(e,t):n}const Q6=(n,e)=>n===!0?e:typeof n=="string"?mf(e,n):void 0;function eI(n,e,t,r,i){for(const s of e){const a=Q6(t,s);if(a){n.add(a);const o=A4(a._fallback,t,i);if(typeof o<"u"&&o!==t&&o!==r)return o}else if(a===!1&&typeof r<"u"&&t!==r)return null}return!1}function lb(n,e,t,r){const i=e._rootScopes,s=A4(e._fallback,t,r),a=[...n,...i],o=new Set;o.add(r);let l=SE(o,a,t,s||t,r);return l===null||typeof s<"u"&&s!==t&&(l=SE(o,a,s,l,r),l===null)?!1:ab(Array.from(o),[""],i,s,()=>tI(e,t,r))}function SE(n,e,t,r,i){for(;t;)t=eI(n,e,t,r,i);return t}function tI(n,e,t){const r=n._getTarget();e in r||(r[e]={});const i=r[e];return $r(i)&&Xn(t)?t:i||{}}function nI(n,e,t,r){let i;for(const s of e)if(i=T4(Y6(s,n),t),typeof i<"u")return ob(n,i)?lb(t,r,n,i):i}function T4(n,e){for(const t of e){if(!t)continue;const r=t[n];if(typeof r<"u")return r}}function EE(n){let e=n._keys;return e||(e=n._keys=rI(n._scopes)),e}function rI(n){const e=new Set;for(const t of n)for(const r of Object.keys(t).filter(i=>!i.startsWith("_")))e.add(r);return Array.from(e)}function M4(n,e,t,r){const{iScale:i}=n,{key:s="r"}=this._parsing,a=new Array(r);let o,l,c,f;for(o=0,l=r;o<l;++o)c=o+t,f=e[c],a[o]={r:i.parse(mf(f,s),c)};return a}const iI=Number.EPSILON||1e-14,S0=(n,e)=>e<n.length&&!n[e].skip&&n[e],C4=n=>n==="x"?"y":"x";function sI(n,e,t,r){const i=n.skip?e:n,s=e,a=t.skip?e:t,o=ly(s,i),l=ly(a,s);let c=o/(o+l),f=l/(o+l);c=isNaN(c)?0:c,f=isNaN(f)?0:f;const d=r*c,p=r*f;return{previous:{x:s.x-d*(a.x-i.x),y:s.y-d*(a.y-i.y)},next:{x:s.x+p*(a.x-i.x),y:s.y+p*(a.y-i.y)}}}function aI(n,e,t){const r=n.length;let i,s,a,o,l,c=S0(n,0);for(let f=0;f<r-1;++f)if(l=c,c=S0(n,f+1),!(!l||!c)){if(Bp(e[f],0,iI)){t[f]=t[f+1]=0;continue}i=t[f]/e[f],s=t[f+1]/e[f],o=Math.pow(i,2)+Math.pow(s,2),!(o<=9)&&(a=3/Math.sqrt(o),t[f]=i*a*e[f],t[f+1]=s*a*e[f])}}function oI(n,e,t="x"){const r=C4(t),i=n.length;let s,a,o,l=S0(n,0);for(let c=0;c<i;++c){if(a=o,o=l,l=S0(n,c+1),!o)continue;const f=o[t],d=o[r];a&&(s=(f-a[t])/3,o[`cp1${t}`]=f-s,o[`cp1${r}`]=d-s*e[c]),l&&(s=(l[t]-f)/3,o[`cp2${t}`]=f+s,o[`cp2${r}`]=d+s*e[c])}}function lI(n,e="x"){const t=C4(e),r=n.length,i=Array(r).fill(0),s=Array(r);let a,o,l,c=S0(n,0);for(a=0;a<r;++a)if(o=l,l=c,c=S0(n,a+1),!!l){if(c){const f=c[e]-l[e];i[a]=f!==0?(c[t]-l[t])/f:0}s[a]=o?c?Gl(i[a-1])!==Gl(i[a])?0:(i[a-1]+i[a])/2:i[a-1]:i[a]}aI(n,i,s),oI(n,s,e)}function Ag(n,e,t){return Math.max(Math.min(n,t),e)}function cI(n,e){let t,r,i,s,a,o=zc(n[0],e);for(t=0,r=n.length;t<r;++t)a=s,s=o,o=t<r-1&&zc(n[t+1],e),s&&(i=n[t],a&&(i.cp1x=Ag(i.cp1x,e.left,e.right),i.cp1y=Ag(i.cp1y,e.top,e.bottom)),o&&(i.cp2x=Ag(i.cp2x,e.left,e.right),i.cp2y=Ag(i.cp2y,e.top,e.bottom)))}function uI(n,e,t,r,i){let s,a,o,l;if(e.spanGaps&&(n=n.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")lI(n,i);else{let c=r?n[n.length-1]:n[0];for(s=0,a=n.length;s<a;++s)o=n[s],l=sI(c,o,n[Math.min(s+1,a-(r?0:1))%a],e.tension),o.cp1x=l.previous.x,o.cp1y=l.previous.y,o.cp2x=l.next.x,o.cp2y=l.next.y,c=o}e.capBezierPoints&&cI(n,t)}function cb(){return typeof window<"u"&&typeof document<"u"}function ub(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function _x(n,e,t){let r;return typeof n=="string"?(r=parseInt(n,10),n.indexOf("%")!==-1&&(r=r/100*e.parentNode[t])):r=n,r}const rv=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function fI(n,e){return rv(n).getPropertyValue(e)}const hI=["top","right","bottom","left"];function Ch(n,e,t){const r={};t=t?"-"+t:"";for(let i=0;i<4;i++){const s=hI[i];r[s]=parseFloat(n[e+"-"+s+t])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const dI=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function pI(n,e){const t=n.touches,r=t&&t.length?t[0]:n,{offsetX:i,offsetY:s}=r;let a=!1,o,l;if(dI(i,s,n.target))o=i,l=s;else{const c=e.getBoundingClientRect();o=r.clientX-c.left,l=r.clientY-c.top,a=!0}return{x:o,y:l,box:a}}function hh(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:r}=e,i=rv(t),s=i.boxSizing==="border-box",a=Ch(i,"padding"),o=Ch(i,"border","width"),{x:l,y:c,box:f}=pI(n,t),d=a.left+(f&&o.left),p=a.top+(f&&o.top);let{width:m,height:_}=e;return s&&(m-=a.width+o.width,_-=a.height+o.height),{x:Math.round((l-d)/m*t.width/r),y:Math.round((c-p)/_*t.height/r)}}function mI(n,e,t){let r,i;if(e===void 0||t===void 0){const s=n&&ub(n);if(!s)e=n.clientWidth,t=n.clientHeight;else{const a=s.getBoundingClientRect(),o=rv(s),l=Ch(o,"border","width"),c=Ch(o,"padding");e=a.width-c.width-l.width,t=a.height-c.height-l.height,r=_x(o.maxWidth,s,"clientWidth"),i=_x(o.maxHeight,s,"clientHeight")}}return{width:e,height:t,maxWidth:r||xx,maxHeight:i||xx}}const Tg=n=>Math.round(n*10)/10;function gI(n,e,t,r){const i=rv(n),s=Ch(i,"margin"),a=_x(i.maxWidth,n,"clientWidth")||xx,o=_x(i.maxHeight,n,"clientHeight")||xx,l=mI(n,e,t);let{width:c,height:f}=l;if(i.boxSizing==="content-box"){const p=Ch(i,"border","width"),m=Ch(i,"padding");c-=m.width+p.width,f-=m.height+p.height}return c=Math.max(0,c-s.width),f=Math.max(0,r?c/r:f-s.height),c=Tg(Math.min(c,a,l.maxWidth)),f=Tg(Math.min(f,o,l.maxHeight)),c&&!f&&(f=Tg(c/2)),(e!==void 0||t!==void 0)&&r&&l.height&&f>l.height&&(f=l.height,c=Tg(Math.floor(f*r))),{width:c,height:f}}function AE(n,e,t){const r=e||1,i=Math.floor(n.height*r),s=Math.floor(n.width*r);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const a=n.canvas;return a.style&&(t||!a.style.height&&!a.style.width)&&(a.style.height=`${n.height}px`,a.style.width=`${n.width}px`),n.currentDevicePixelRatio!==r||a.height!==i||a.width!==s?(n.currentDevicePixelRatio=r,a.height=i,a.width=s,n.ctx.setTransform(r,0,0,r,0,0),!0):!1}const xI=function(){let n=!1;try{const e={get passive(){return n=!0,!1}};cb()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n}();function TE(n,e){const t=fI(n,e),r=t&&t.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function dh(n,e,t,r){return{x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)}}function vI(n,e,t,r){return{x:n.x+t*(e.x-n.x),y:r==="middle"?t<.5?n.y:e.y:r==="after"?t<1?n.y:e.y:t>0?e.y:n.y}}function _I(n,e,t,r){const i={x:n.cp2x,y:n.cp2y},s={x:e.cp1x,y:e.cp1y},a=dh(n,i,t),o=dh(i,s,t),l=dh(s,e,t),c=dh(a,o,t),f=dh(o,l,t);return dh(c,f,t)}const yI=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,r){return t-r},leftForLtr(t,r){return t-r}}},wI=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function a0(n,e,t){return n?yI(e,t):wI()}function P4(n,e){let t,r;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,r=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=r)}function k4(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function R4(n){return n==="angle"?{between:am,compare:b6,normalize:Ls}:{between:Uc,compare:(e,t)=>e-t,normalize:e=>e}}function ME({start:n,end:e,count:t,loop:r,style:i}){return{start:n%t,end:e%t,loop:r&&(e-n+1)%t===0,style:i}}function bI(n,e,t){const{property:r,start:i,end:s}=t,{between:a,normalize:o}=R4(r),l=e.length;let{start:c,end:f,loop:d}=n,p,m;if(d){for(c+=l,f+=l,p=0,m=l;p<m&&a(o(e[c%l][r]),i,s);++p)c--,f--;c%=l,f%=l}return f<c&&(f+=l),{start:c,end:f,loop:d,style:n.style}}function L4(n,e,t){if(!t)return[n];const{property:r,start:i,end:s}=t,a=e.length,{compare:o,between:l,normalize:c}=R4(r),{start:f,end:d,loop:p,style:m}=bI(n,e,t),_=[];let x=!1,g=null,y,A,E;const M=()=>l(i,E,y)&&o(i,E)!==0,D=()=>o(s,y)===0||l(s,E,y),U=()=>x||M(),L=()=>!x||D();for(let I=f,R=f;I<=d;++I)A=e[I%a],!A.skip&&(y=c(A[r]),y!==E&&(x=l(y,i,s),g===null&&U()&&(g=o(y,i)===0?I:R),g!==null&&L()&&(_.push(ME({start:g,end:I,loop:p,count:a,style:m})),g=null),R=I,E=y));return g!==null&&_.push(ME({start:g,end:d,loop:p,count:a,style:m})),_}function N4(n,e){const t=[],r=n.segments;for(let i=0;i<r.length;i++){const s=L4(r[i],n.points,e);s.length&&t.push(...s)}return t}function SI(n,e,t,r){let i=0,s=e-1;if(t&&!r)for(;i<e&&!n[i].skip;)i++;for(;i<e&&n[i].skip;)i++;for(i%=e,t&&(s+=i);s>i&&n[s%e].skip;)s--;return s%=e,{start:i,end:s}}function EI(n,e,t,r){const i=n.length,s=[];let a=e,o=n[e],l;for(l=e+1;l<=t;++l){const c=n[l%i];c.skip||c.stop?o.skip||(r=!1,s.push({start:e%i,end:(l-1)%i,loop:r}),e=a=c.stop?l:null):(a=l,o.skip&&(e=l)),o=c}return a!==null&&s.push({start:e%i,end:a%i,loop:r}),s}function AI(n,e){const t=n.points,r=n.options.spanGaps,i=t.length;if(!i)return[];const s=!!n._loop,{start:a,end:o}=SI(t,i,s,r);if(r===!0)return CE(n,[{start:a,end:o,loop:s}],t,e);const l=o<a?o+i:o,c=!!n._fullLoop&&a===0&&o===i-1;return CE(n,EI(t,a,l,c),t,e)}function CE(n,e,t,r){return!r||!r.setContext||!t?e:TI(n,e,t,r)}function TI(n,e,t,r){const i=n._chart.getContext(),s=PE(n.options),{_datasetIndex:a,options:{spanGaps:o}}=n,l=t.length,c=[];let f=s,d=e[0].start,p=d;function m(_,x,g,y){const A=o?-1:1;if(_!==x){for(_+=l;t[_%l].skip;)_-=A;for(;t[x%l].skip;)x+=A;_%l!==x%l&&(c.push({start:_%l,end:x%l,loop:g,style:y}),f=y,d=x%l)}}for(const _ of e){d=o?d:_.start;let x=t[d%l],g;for(p=d+1;p<=_.end;p++){const y=t[p%l];g=PE(r.setContext(Af(i,{type:"segment",p0:x,p1:y,p0DataIndex:(p-1)%l,p1DataIndex:p%l,datasetIndex:a}))),MI(g,f)&&m(d,p-1,_.loop,f),x=y,f=g}d<p-1&&m(d,p-1,_.loop,f)}return c}function PE(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function MI(n,e){if(!e)return!1;const t=[],r=function(i,s){return ib(s)?(t.includes(s)||t.push(s),t.indexOf(s)):s};return JSON.stringify(n,r)!==JSON.stringify(e,r)}function Mg(n,e,t){return n.options.clip?n[t]:e[t]}function CI(n,e){const{xScale:t,yScale:r}=n;return t&&r?{left:Mg(t,e,"left"),right:Mg(t,e,"right"),top:Mg(r,e,"top"),bottom:Mg(r,e,"bottom")}:e}function F4(n,e){const t=e._clip;if(t.disabled)return!1;const r=CI(e,n.chartArea);return{left:t.left===!1?0:r.left-(t.left===!0?0:t.left),right:t.right===!1?n.width:r.right+(t.right===!0?0:t.right),top:t.top===!1?0:r.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?n.height:r.bottom+(t.bottom===!0?0:t.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class PI{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,r,i){const s=t.listeners[i],a=t.duration;s.forEach(o=>o({chart:e,initial:t.initial,numSteps:a,currentStep:Math.min(r-t.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=g4.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const s=r.items;let a=s.length-1,o=!1,l;for(;a>=0;--a)l=s[a],l._active?(l._total>r.duration&&(r.duration=l._total),l.tick(e),o=!0):(s[a]=s[s.length-1],s.pop());o&&(i.draw(),this._notify(i,r,e,"progress")),s.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),t+=s.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let r=t.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,r)),r}listen(e,t,r){this._getAnims(e).listeners[t].push(r)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const r=t.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Lc=new PI;const kE="transparent",kI={boolean(n,e,t){return t>.5?e:n},color(n,e,t){const r=yE(n||kE),i=r.valid&&yE(e||kE);return i&&i.valid?i.mix(r,t).hexString():e},number(n,e,t){return n+(e-n)*t}};class RI{constructor(e,t,r,i){const s=t[r];i=Ap([e.to,i,s,e.from]);const a=Ap([e.from,s,i]);this._active=!0,this._fn=e.fn||kI[e.type||typeof a],this._easing=zp[e.easing]||zp.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=r,this._from=a,this._to=i,this._promises=void 0}active(){return this._active}update(e,t,r){if(this._active){this._notify(!1);const i=this._target[this._prop],s=r-this._start,a=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=Ap([e.to,t,i,e.from]),this._from=Ap([e.from,i,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,r=this._duration,i=this._prop,s=this._from,a=this._loop,o=this._to;let l;if(this._active=s!==o&&(a||t<r),!this._active){this._target[i]=o,this._notify(!0);return}if(t<0){this._target[i]=s;return}l=t/r%2,l=a&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(s,o,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,r)=>{e.push({res:t,rej:r})})}_notify(e){const t=e?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][t]()}}class D4{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!Xn(e))return;const t=Object.keys(Yr.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const s=e[i];if(!Xn(s))return;const a={};for(const o of t)a[o]=s[o];($r(s.properties)&&s.properties||[i]).forEach(o=>{(o===i||!r.has(o))&&r.set(o,a)})})}_animateOptions(e,t){const r=t.options,i=NI(e,r);if(!i)return[];const s=this._createAnimations(i,r);return r.$shared&&LI(e.options.$animations,r).then(()=>{e.options=r},()=>{}),s}_createAnimations(e,t){const r=this._properties,i=[],s=e.$animations||(e.$animations={}),a=Object.keys(t),o=Date.now();let l;for(l=a.length-1;l>=0;--l){const c=a[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(e,t));continue}const f=t[c];let d=s[c];const p=r.get(c);if(d)if(p&&d.active()){d.update(p,f,o);continue}else d.cancel();if(!p||!p.duration){e[c]=f;continue}s[c]=d=new RI(p,e,c,f),i.push(d)}return i}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const r=this._createAnimations(e,t);if(r.length)return Lc.add(this._chart,r),!0}}function LI(n,e){const t=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const s=n[r[i]];s&&s.active()&&t.push(s.wait())}return Promise.all(t)}function NI(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function RE(n,e){const t=n&&n.options||{},r=t.reverse,i=t.min===void 0?e:0,s=t.max===void 0?e:0;return{start:r?s:i,end:r?i:s}}function FI(n,e,t){if(t===!1)return!1;const r=RE(n,t),i=RE(e,t);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function DI(n){let e,t,r,i;return Xn(n)?(e=n.top,t=n.right,r=n.bottom,i=n.left):e=t=r=i=n,{top:e,right:t,bottom:r,left:i,disabled:n===!1}}function I4(n,e){const t=[],r=n._getSortedDatasetMetas(e);let i,s;for(i=0,s=r.length;i<s;++i)t.push(r[i].index);return t}function LE(n,e,t,r={}){const i=n.keys,s=r.mode==="single";let a,o,l,c;if(e===null)return;let f=!1;for(a=0,o=i.length;a<o;++a){if(l=+i[a],l===t){if(f=!0,r.all)continue;break}c=n.values[l],ui(c)&&(s||e===0||Gl(e)===Gl(c))&&(e+=c)}return!f&&!r.all?0:e}function II(n,e){const{iScale:t,vScale:r}=e,i=t.axis==="x"?"x":"y",s=r.axis==="x"?"x":"y",a=Object.keys(n),o=new Array(a.length);let l,c,f;for(l=0,c=a.length;l<c;++l)f=a[l],o[l]={[i]:f,[s]:n[f]};return o}function N2(n,e){const t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function OI(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function UI(n){const{min:e,max:t,minDefined:r,maxDefined:i}=n.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?t:Number.POSITIVE_INFINITY}}function BI(n,e,t){const r=n[e]||(n[e]={});return r[t]||(r[t]={})}function NE(n,e,t,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const s=n[i.index];if(t&&s>0||!t&&s<0)return i.index}return null}function FE(n,e){const{chart:t,_cachedMeta:r}=n,i=t._stacks||(t._stacks={}),{iScale:s,vScale:a,index:o}=r,l=s.axis,c=a.axis,f=OI(s,a,r),d=e.length;let p;for(let m=0;m<d;++m){const _=e[m],{[l]:x,[c]:g}=_,y=_._stacks||(_._stacks={});p=y[c]=BI(i,f,x),p[o]=g,p._top=NE(p,a,!0,r.type),p._bottom=NE(p,a,!1,r.type);const A=p._visualValues||(p._visualValues={});A[o]=g}}function F2(n,e){const t=n.scales;return Object.keys(t).filter(r=>t[r].axis===e).shift()}function zI(n,e){return Af(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function HI(n,e,t){return Af(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function op(n,e){const t=n.controller.index,r=n.vScale&&n.vScale.axis;if(r){e=e||n._parsed;for(const i of e){const s=i._stacks;if(!s||s[r]===void 0||s[r][t]===void 0)return;delete s[r][t],s[r]._visualValues!==void 0&&s[r]._visualValues[t]!==void 0&&delete s[r]._visualValues[t]}}}const D2=n=>n==="reset"||n==="none",DE=(n,e)=>e?n:Object.assign({},n),jI=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:I4(t,!0),values:null};class ol{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=N2(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&op(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,r=this.getDataset(),i=(d,p,m,_)=>d==="x"?p:d==="r"?_:m,s=t.xAxisID=Rn(r.xAxisID,F2(e,"x")),a=t.yAxisID=Rn(r.yAxisID,F2(e,"y")),o=t.rAxisID=Rn(r.rAxisID,F2(e,"r")),l=t.indexAxis,c=t.iAxisID=i(l,s,a,o),f=t.vAxisID=i(l,a,s,o);t.xScale=this.getScaleForId(s),t.yScale=this.getScaleForId(a),t.rScale=this.getScaleForId(o),t.iScale=this.getScaleForId(c),t.vScale=this.getScaleForId(f)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&xE(this._data,this),e._stacked&&op(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),r=this._data;if(Xn(t)){const i=this._cachedMeta;this._data=II(t,i)}else if(r!==t){if(r){xE(r,this);const i=this._cachedMeta;op(i),i._parsed=[]}t&&Object.isExtensible(t)&&T6(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const s=t._stacked;t._stacked=N2(t.vScale,t),t.stack!==r.stack&&(i=!0,op(t),t.stack=r.stack),this._resyncElements(e),(i||s!==t._stacked)&&(FE(this,t._parsed),t._stacked=N2(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:r,_data:i}=this,{iScale:s,_stacked:a}=r,o=s.axis;let l=e===0&&t===i.length?!0:r._sorted,c=e>0&&r._parsed[e-1],f,d,p;if(this._parsing===!1)r._parsed=i,r._sorted=!0,p=i;else{$r(i[e])?p=this.parseArrayData(r,i,e,t):Xn(i[e])?p=this.parseObjectData(r,i,e,t):p=this.parsePrimitiveData(r,i,e,t);const m=()=>d[o]===null||c&&d[o]<c[o];for(f=0;f<t;++f)r._parsed[f+e]=d=p[f],l&&(m()&&(l=!1),c=d);r._sorted=l}a&&FE(this,p)}parsePrimitiveData(e,t,r,i){const{iScale:s,vScale:a}=e,o=s.axis,l=a.axis,c=s.getLabels(),f=s===a,d=new Array(i);let p,m,_;for(p=0,m=i;p<m;++p)_=p+r,d[p]={[o]:f||s.parse(c[_],_),[l]:a.parse(t[_],_)};return d}parseArrayData(e,t,r,i){const{xScale:s,yScale:a}=e,o=new Array(i);let l,c,f,d;for(l=0,c=i;l<c;++l)f=l+r,d=t[f],o[l]={x:s.parse(d[0],f),y:a.parse(d[1],f)};return o}parseObjectData(e,t,r,i){const{xScale:s,yScale:a}=e,{xAxisKey:o="x",yAxisKey:l="y"}=this._parsing,c=new Array(i);let f,d,p,m;for(f=0,d=i;f<d;++f)p=f+r,m=t[p],c[f]={x:s.parse(mf(m,o),p),y:a.parse(mf(m,l),p)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,r){const i=this.chart,s=this._cachedMeta,a=t[e.axis],o={keys:I4(i,!0),values:t._stacks[e.axis]._visualValues};return LE(o,a,s.index,{mode:r})}updateRangeFromParsed(e,t,r,i){const s=r[t.axis];let a=s===null?NaN:s;const o=i&&r._stacks[t.axis];i&&o&&(i.values=o,a=LE(i,s,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,t){const r=this._cachedMeta,i=r._parsed,s=r._sorted&&e===r.iScale,a=i.length,o=this._getOtherScale(e),l=jI(t,r,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:f,max:d}=UI(o);let p,m;function _(){m=i[p];const x=m[o.axis];return!ui(m[e.axis])||f>x||d<x}for(p=0;p<a&&!(!_()&&(this.updateRangeFromParsed(c,e,m,l),s));++p);if(s){for(p=a-1;p>=0;--p)if(!_()){this.updateRangeFromParsed(c,e,m,l);break}}return c}getAllParsedValues(e){const t=this._cachedMeta._parsed,r=[];let i,s,a;for(i=0,s=t.length;i<s;++i)a=t[i][e.axis],ui(a)&&r.push(a);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,r=t.iScale,i=t.vScale,s=this.getParsed(e);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=DI(Rn(this.options.clip,FI(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,r=this._cachedMeta,i=r.data||[],s=t.chartArea,a=[],o=this._drawStart||0,l=this._drawCount||i.length-o,c=this.options.drawActiveElementsOnTop;let f;for(r.dataset&&r.dataset.draw(e,s,o,l),f=o;f<o+l;++f){const d=i[f];d.hidden||(d.active&&c?a.push(d):d.draw(e,s))}for(f=0;f<a.length;++f)a[f].draw(e,s)}getStyle(e,t){const r=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,t,r){const i=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];s=a.$context||(a.$context=HI(this.getContext(),e,a)),s.parsed=this.getParsed(e),s.raw=i.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=zI(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!t,s.mode=r,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",r){const i=t==="active",s=this._cachedDataOpts,a=e+"-"+t,o=s[a],l=this.enableOptionSharing&&sm(r);if(o)return DE(o,l);const c=this.chart.config,f=c.datasetElementScopeKeys(this._type,e),d=i?[`${e}Hover`,"hover",e,""]:[e,""],p=c.getOptionScopes(this.getDataset(),f),m=Object.keys(Yr.elements[e]),_=()=>this.getContext(r,i,t),x=c.resolveNamedOptions(p,m,_,d);return x.$shared&&(x.$shared=l,s[a]=Object.freeze(DE(x,l))),x}_resolveAnimations(e,t,r){const i=this.chart,s=this._cachedDataOpts,a=`animation-${t}`,o=s[a];if(o)return o;let l;if(i.options.animation!==!1){const f=this.chart.config,d=f.datasetAnimationScopeKeys(this._type,t),p=f.getOptionScopes(this.getDataset(),d);l=f.createResolver(p,this.getContext(e,r,t))}const c=new D4(i,l&&l.animations);return l&&l._cacheable&&(s[a]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||D2(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const r=this.resolveDataElementOptions(e,t),i=this._sharedOptions,s=this.getSharedOptions(r),a=this.includeOptions(t,s)||s!==i;return this.updateSharedOptions(s,t,r),{sharedOptions:s,includeOptions:a}}updateElement(e,t,r,i){D2(i)?Object.assign(e,r):this._resolveAnimations(t,i).update(e,r)}updateSharedOptions(e,t,r){e&&!D2(t)&&this._resolveAnimations(void 0,t).update(e,r)}_setStyle(e,t,r,i){e.active=i;const s=this.getStyle(t,i);this._resolveAnimations(t,r,i).update(e,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(e,t,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,t,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,r=this._cachedMeta.data;for(const[o,l,c]of this._syncList)this[o](l,c);this._syncList=[];const i=r.length,s=t.length,a=Math.min(s,i);a&&this.parse(0,a),s>i?this._insertElements(i,s-i,e):s<i&&this._removeElements(s,i-s)}_insertElements(e,t,r=!0){const i=this._cachedMeta,s=i.data,a=e+t;let o;const l=c=>{for(c.length+=t,o=c.length-1;o>=a;o--)c[o]=c[o-t]};for(l(s),o=e;o<a;++o)s[o]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(e,t),r&&this.updateElements(s,e,t,"reset")}updateElements(e,t,r,i){}_removeElements(e,t){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(e,t);r._stacked&&op(r,i)}r.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,r,i]=e;this[t](r,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Gt(ol,"defaults",{}),Gt(ol,"datasetElementType",null),Gt(ol,"dataElementType",null);function VI(n,e){if(!n._cache.$bar){const t=n.getMatchingVisibleMetas(e);let r=[];for(let i=0,s=t.length;i<s;i++)r=r.concat(t[i].controller.getAllParsedValues(n));n._cache.$bar=m4(r.sort((i,s)=>i-s))}return n._cache.$bar}function WI(n){const e=n.iScale,t=VI(e,n.type);let r=e._length,i,s,a,o;const l=()=>{a===32767||a===-32768||(sm(o)&&(r=Math.min(r,Math.abs(a-o)||r)),o=a)};for(i=0,s=t.length;i<s;++i)a=e.getPixelForValue(t[i]),l();for(o=void 0,i=0,s=e.ticks.length;i<s;++i)a=e.getPixelForTick(i),l();return r}function GI(n,e,t,r){const i=t.barThickness;let s,a;return Gn(i)?(s=e.min*t.categoryPercentage,a=t.barPercentage):(s=i*r,a=1),{chunk:s/r,ratio:a,start:e.pixels[n]-s/2}}function qI(n,e,t,r){const i=e.pixels,s=i[n];let a=n>0?i[n-1]:null,o=n<i.length-1?i[n+1]:null;const l=t.categoryPercentage;a===null&&(a=s-(o===null?e.end-e.start:o-s)),o===null&&(o=s+s-a);const c=s-(s-Math.min(a,o))/2*l;return{chunk:Math.abs(o-a)/2*l/r,ratio:t.barPercentage,start:c}}function XI(n,e,t,r){const i=t.parse(n[0],r),s=t.parse(n[1],r),a=Math.min(i,s),o=Math.max(i,s);let l=a,c=o;Math.abs(a)>Math.abs(o)&&(l=o,c=a),e[t.axis]=c,e._custom={barStart:l,barEnd:c,start:i,end:s,min:a,max:o}}function O4(n,e,t,r){return $r(n)?XI(n,e,t,r):e[t.axis]=t.parse(n,r),e}function IE(n,e,t,r){const i=n.iScale,s=n.vScale,a=i.getLabels(),o=i===s,l=[];let c,f,d,p;for(c=t,f=t+r;c<f;++c)p=e[c],d={},d[i.axis]=o||i.parse(a[c],c),l.push(O4(p,d,s,c));return l}function I2(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function $I(n,e,t){return n!==0?Gl(n):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function YI(n){let e,t,r,i,s;return n.horizontal?(e=n.base>n.x,t="left",r="right"):(e=n.base<n.y,t="bottom",r="top"),e?(i="end",s="start"):(i="start",s="end"),{start:t,end:r,reverse:e,top:i,bottom:s}}function KI(n,e,t,r){let i=e.borderSkipped;const s={};if(!i){n.borderSkipped=s;return}if(i===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:a,end:o,reverse:l,top:c,bottom:f}=YI(n);i==="middle"&&t&&(n.enableBorderRadius=!0,(t._top||0)===r?i=c:(t._bottom||0)===r?i=f:(s[OE(f,a,o,l)]=!0,i=c)),s[OE(i,a,o,l)]=!0,n.borderSkipped=s}function OE(n,e,t,r){return r?(n=JI(n,e,t),n=UE(n,t,e)):n=UE(n,e,t),n}function JI(n,e,t){return n===e?t:n===t?e:n}function UE(n,e,t){return n==="start"?e:n==="end"?t:n}function ZI(n,{inflateAmount:e},t){n.inflateAmount=e==="auto"?t===1?.33:0:e}class B1 extends ol{parsePrimitiveData(e,t,r,i){return IE(e,t,r,i)}parseArrayData(e,t,r,i){return IE(e,t,r,i)}parseObjectData(e,t,r,i){const{iScale:s,vScale:a}=e,{xAxisKey:o="x",yAxisKey:l="y"}=this._parsing,c=s.axis==="x"?o:l,f=a.axis==="x"?o:l,d=[];let p,m,_,x;for(p=r,m=r+i;p<m;++p)x=t[p],_={},_[s.axis]=s.parse(mf(x,c),p),d.push(O4(mf(x,f),_,a,p));return d}updateRangeFromParsed(e,t,r,i){super.updateRangeFromParsed(e,t,r,i);const s=r._custom;s&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:r,vScale:i}=t,s=this.getParsed(e),a=s._custom,o=I2(a)?"["+a.start+", "+a.end+"]":""+i.getLabelForValue(s[i.axis]);return{label:""+r.getLabelForValue(s[r.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,r,i){const s=i==="reset",{index:a,_cachedMeta:{vScale:o}}=this,l=o.getBasePixel(),c=o.isHorizontal(),f=this._getRuler(),{sharedOptions:d,includeOptions:p}=this._getSharedOptions(t,i);for(let m=t;m<t+r;m++){const _=this.getParsed(m),x=s||Gn(_[o.axis])?{base:l,head:l}:this._calculateBarValuePixels(m),g=this._calculateBarIndexPixels(m,f),y=(_._stacks||{})[o.axis],A={horizontal:c,base:x.base,enableBorderRadius:!y||I2(_._custom)||a===y._top||a===y._bottom,x:c?x.head:g.center,y:c?g.center:x.head,height:c?g.size:Math.abs(x.size),width:c?Math.abs(x.size):g.size};p&&(A.options=d||this.resolveDataElementOptions(m,e[m].active?"active":i));const E=A.options||e[m].options;KI(A,E,y,a),ZI(A,E,f.ratio),this.updateElement(e[m],m,A,i)}}_getStacks(e,t){const{iScale:r}=this._cachedMeta,i=r.getMatchingVisibleMetas(this._type).filter(f=>f.controller.options.grouped),s=r.options.stacked,a=[],o=this._cachedMeta.controller.getParsed(t),l=o&&o[r.axis],c=f=>{const d=f._parsed.find(m=>m[r.axis]===l),p=d&&d[f.vScale.axis];if(Gn(p)||isNaN(p))return!0};for(const f of i)if(!(t!==void 0&&c(f))&&((s===!1||a.indexOf(f.stack)===-1||s===void 0&&f.stack===void 0)&&a.push(f.stack),f.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter(r=>e[r].axis===t).shift()}_getAxis(){const e={},t=this.getFirstScaleIdForIndexAxis();for(const r of this.chart.data.datasets)e[Rn(this.chart.options.indexAxis==="x"?r.xAxisID:r.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,r){const i=this._getStacks(e,r),s=t!==void 0?i.indexOf(t):-1;return s===-1?i.length-1:s}_getRuler(){const e=this.options,t=this._cachedMeta,r=t.iScale,i=[];let s,a;for(s=0,a=t.data.length;s<a;++s)i.push(r.getPixelForValue(this.getParsed(s)[r.axis],s));const o=e.barThickness;return{min:o||WI(t),pixels:i,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:o?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:r,index:i},options:{base:s,minBarLength:a}}=this,o=s||0,l=this.getParsed(e),c=l._custom,f=I2(c);let d=l[t.axis],p=0,m=r?this.applyStack(t,l,r):d,_,x;m!==d&&(p=m-d,m=d),f&&(d=c.barStart,m=c.barEnd-c.barStart,d!==0&&Gl(d)!==Gl(c.barEnd)&&(p=0),p+=d);const g=!Gn(s)&&!f?s:p;let y=t.getPixelForValue(g);if(this.chart.getDataVisibility(e)?_=t.getPixelForValue(p+m):_=y,x=_-y,Math.abs(x)<a){x=$I(x,t,o)*a,d===o&&(y-=x/2);const A=t.getPixelForDecimal(0),E=t.getPixelForDecimal(1),M=Math.min(A,E),D=Math.max(A,E);y=Math.max(Math.min(y,D),M),_=y+x,r&&!f&&(l._stacks[t.axis]._visualValues[i]=t.getValueForPixel(_)-t.getValueForPixel(y))}if(y===t.getPixelForValue(o)){const A=Gl(x)*t.getLineWidthForValue(o)/2;y+=A,x-=A}return{size:x,base:y,head:_,center:_+x/2}}_calculateBarIndexPixels(e,t){const r=t.scale,i=this.options,s=i.skipNull,a=Rn(i.maxBarThickness,1/0);let o,l;const c=this._getAxisCount();if(t.grouped){const f=s?this._getStackCount(e):t.stackCount,d=i.barThickness==="flex"?qI(e,t,i,f*c):GI(e,t,i,f*c),p=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,m=this._getAxis().indexOf(Rn(p,this.getFirstScaleIdForIndexAxis())),_=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0)+m;o=d.start+d.chunk*_+d.chunk/2,l=Math.min(a,d.chunk*d.ratio)}else o=r.getPixelForValue(this.getParsed(e)[r.axis],e),l=Math.min(a,t.min*t.ratio);return{base:o-l/2,head:o+l/2,center:o,size:l}}draw(){const e=this._cachedMeta,t=e.vScale,r=e.data,i=r.length;let s=0;for(;s<i;++s)this.getParsed(s)[t.axis]!==null&&!r[s].hidden&&r[s].draw(this._ctx)}}Gt(B1,"id","bar"),Gt(B1,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Gt(B1,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class z1 extends ol{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,r,i){const s=super.parsePrimitiveData(e,t,r,i);for(let a=0;a<s.length;a++)s[a]._custom=this.resolveDataElementOptions(a+r).radius;return s}parseArrayData(e,t,r,i){const s=super.parseArrayData(e,t,r,i);for(let a=0;a<s.length;a++){const o=t[r+a];s[a]._custom=Rn(o[2],this.resolveDataElementOptions(a+r).radius)}return s}parseObjectData(e,t,r,i){const s=super.parseObjectData(e,t,r,i);for(let a=0;a<s.length;a++){const o=t[r+a];s[a]._custom=Rn(o&&o.r&&+o.r,this.resolveDataElementOptions(a+r).radius)}return s}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let r=e.length-1;r>=0;--r)t=Math.max(t,e[r].size(this.resolveDataElementOptions(r))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,r=this.chart.data.labels||[],{xScale:i,yScale:s}=t,a=this.getParsed(e),o=i.getLabelForValue(a.x),l=s.getLabelForValue(a.y),c=a._custom;return{label:r[e]||"",value:"("+o+", "+l+(c?", "+c:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,r,i){const s=i==="reset",{iScale:a,vScale:o}=this._cachedMeta,{sharedOptions:l,includeOptions:c}=this._getSharedOptions(t,i),f=a.axis,d=o.axis;for(let p=t;p<t+r;p++){const m=e[p],_=!s&&this.getParsed(p),x={},g=x[f]=s?a.getPixelForDecimal(.5):a.getPixelForValue(_[f]),y=x[d]=s?o.getBasePixel():o.getPixelForValue(_[d]);x.skip=isNaN(g)||isNaN(y),c&&(x.options=l||this.resolveDataElementOptions(p,m.active?"active":i),s&&(x.options.radius=0)),this.updateElement(m,p,x,i)}}resolveDataElementOptions(e,t){const r=this.getParsed(e);let i=super.resolveDataElementOptions(e,t);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const s=i.radius;return t!=="active"&&(i.radius=0),i.radius+=Rn(r&&r._custom,s),i}}Gt(z1,"id","bubble"),Gt(z1,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),Gt(z1,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function QI(n,e,t){let r=1,i=1,s=0,a=0;if(e<Hr){const o=n,l=o+e,c=Math.cos(o),f=Math.sin(o),d=Math.cos(l),p=Math.sin(l),m=(E,M,D)=>am(E,o,l,!0)?1:Math.max(M,M*t,D,D*t),_=(E,M,D)=>am(E,o,l,!0)?-1:Math.min(M,M*t,D,D*t),x=m(0,c,d),g=m(bi,f,p),y=_(or,c,d),A=_(or+bi,f,p);r=(x-y)/2,i=(g-A)/2,s=-(x+y)/2,a=-(g+A)/2}return{ratioX:r,ratioY:i,offsetX:s,offsetY:a}}class wh extends ol{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const r=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=r;else{let s=l=>+r[l];if(Xn(r[e])){const{key:l="value"}=this._parsing;s=c=>+mf(r[c],l)}let a,o;for(a=e,o=e+t;a<o;++a)i._parsed[a]=s(a)}}_getRotation(){return rl(this.options.rotation-90)}_getCircumference(){return rl(this.options.circumference)}_getRotationExtents(){let e=Hr,t=-Hr;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const i=this.chart.getDatasetMeta(r).controller,s=i._getRotation(),a=i._getCircumference();e=Math.min(e,s),t=Math.max(t,s+a)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:r}=t,i=this._cachedMeta,s=i.data,a=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,o=Math.max((Math.min(r.width,r.height)-a)/2,0),l=Math.min(f6(this.options.cutout,o),1),c=this._getRingWeight(this.index),{circumference:f,rotation:d}=this._getRotationExtents(),{ratioX:p,ratioY:m,offsetX:_,offsetY:x}=QI(d,f,l),g=(r.width-a)/p,y=(r.height-a)/m,A=Math.max(Math.min(g,y)/2,0),E=u4(this.options.radius,A),M=Math.max(E*l,0),D=(E-M)/this._getVisibleDatasetWeightTotal();this.offsetX=_*E,this.offsetY=x*E,i.total=this.calculateTotal(),this.outerRadius=E-D*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-D*c,0),this.updateElements(s,0,s.length,e)}_circumference(e,t){const r=this.options,i=this._cachedMeta,s=this._getCircumference();return t&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*s/Hr)}updateElements(e,t,r,i){const s=i==="reset",a=this.chart,o=a.chartArea,c=a.options.animation,f=(o.left+o.right)/2,d=(o.top+o.bottom)/2,p=s&&c.animateScale,m=p?0:this.innerRadius,_=p?0:this.outerRadius,{sharedOptions:x,includeOptions:g}=this._getSharedOptions(t,i);let y=this._getRotation(),A;for(A=0;A<t;++A)y+=this._circumference(A,s);for(A=t;A<t+r;++A){const E=this._circumference(A,s),M=e[A],D={x:f+this.offsetX,y:d+this.offsetY,startAngle:y,endAngle:y+E,circumference:E,outerRadius:_,innerRadius:m};g&&(D.options=x||this.resolveDataElementOptions(A,M.active?"active":i)),y+=E,this.updateElement(M,A,D,i)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let r=0,i;for(i=0;i<t.length;i++){const s=e._parsed[i];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(i)&&!t[i].hidden&&(r+=Math.abs(s))}return r}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?Hr*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=km(t._parsed[e],r.options.locale);return{label:i[e]||"",value:s}}getMaxBorderWidth(e){let t=0;const r=this.chart;let i,s,a,o,l;if(!e){for(i=0,s=r.data.datasets.length;i<s;++i)if(r.isDatasetVisible(i)){a=r.getDatasetMeta(i),e=a.data,o=a.controller;break}}if(!e)return 0;for(i=0,s=e.length;i<s;++i)l=o.resolveDataElementOptions(i),l.borderAlign!=="inner"&&(t=Math.max(t,l.borderWidth||0,l.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let r=0,i=e.length;r<i;++r){const s=this.resolveDataElementOptions(r);t=Math.max(t,s.offset||0,s.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(t+=this._getRingWeight(r));return t}_getRingWeight(e){return Math.max(Rn(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Gt(wh,"id","doughnut"),Gt(wh,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Gt(wh,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),Gt(wh,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:r,color:i}}=e.legend.options;return t.labels.map((s,a)=>{const l=e.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,t,r){r.chart.toggleDataVisibility(t.index),r.chart.update()}}}});class H1 extends ol{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:r,data:i=[],_dataset:s}=t,a=this.chart._animationsDisabled;let{start:o,count:l}=v4(t,i,a);this._drawStart=o,this._drawCount=l,_4(t)&&(o=0,l=i.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=i;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(r,void 0,{animated:!a,options:c},e),this.updateElements(i,o,l,e)}updateElements(e,t,r,i){const s=i==="reset",{iScale:a,vScale:o,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:f,includeOptions:d}=this._getSharedOptions(t,i),p=a.axis,m=o.axis,{spanGaps:_,segment:x}=this.options,g=w0(_)?_:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||s||i==="none",A=t+r,E=e.length;let M=t>0&&this.getParsed(t-1);for(let D=0;D<E;++D){const U=e[D],L=y?U:{};if(D<t||D>=A){L.skip=!0;continue}const I=this.getParsed(D),R=Gn(I[m]),O=L[p]=a.getPixelForValue(I[p],D),N=L[m]=s||R?o.getBasePixel():o.getPixelForValue(l?this.applyStack(o,I,l):I[m],D);L.skip=isNaN(O)||isNaN(N)||R,L.stop=D>0&&Math.abs(I[p]-M[p])>g,x&&(L.parsed=I,L.raw=c.data[D]),d&&(L.options=f||this.resolveDataElementOptions(D,U.active?"active":i)),y||this.updateElement(U,D,L,i),M=I}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,r=t.options&&t.options.borderWidth||0,i=e.data||[];if(!i.length)return r;const s=i[0].size(this.resolveDataElementOptions(0)),a=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(r,s,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}Gt(H1,"id","line"),Gt(H1,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Gt(H1,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class jp extends ol{constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=km(t._parsed[e].r,r.options.locale);return{label:i[e]||"",value:s}}parseObjectData(e,t,r,i){return M4.bind(this)(e,t,r,i)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((r,i)=>{const s=this.getParsed(i).r;!isNaN(s)&&this.chart.getDataVisibility(i)&&(s<t.min&&(t.min=s),s>t.max&&(t.max=s))}),t}_updateRadius(){const e=this.chart,t=e.chartArea,r=e.options,i=Math.min(t.right-t.left,t.bottom-t.top),s=Math.max(i/2,0),a=Math.max(r.cutoutPercentage?s/100*r.cutoutPercentage:1,0),o=(s-a)/e.getVisibleDatasetCount();this.outerRadius=s-o*this.index,this.innerRadius=this.outerRadius-o}updateElements(e,t,r,i){const s=i==="reset",a=this.chart,l=a.options.animation,c=this._cachedMeta.rScale,f=c.xCenter,d=c.yCenter,p=c.getIndexAngle(0)-.5*or;let m=p,_;const x=360/this.countVisibleElements();for(_=0;_<t;++_)m+=this._computeAngle(_,i,x);for(_=t;_<t+r;_++){const g=e[_];let y=m,A=m+this._computeAngle(_,i,x),E=a.getDataVisibility(_)?c.getDistanceFromCenterForValue(this.getParsed(_).r):0;m=A,s&&(l.animateScale&&(E=0),l.animateRotate&&(y=A=p));const M={x:f,y:d,innerRadius:0,outerRadius:E,startAngle:y,endAngle:A,options:this.resolveDataElementOptions(_,g.active?"active":i)};this.updateElement(g,_,M,i)}}countVisibleElements(){const e=this._cachedMeta;let t=0;return e.data.forEach((r,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&t++}),t}_computeAngle(e,t,r){return this.chart.getDataVisibility(e)?rl(this.resolveDataElementOptions(e,t).angle||r):0}}Gt(jp,"id","polarArea"),Gt(jp,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),Gt(jp,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:r,color:i}}=e.legend.options;return t.labels.map((s,a)=>{const l=e.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,t,r){r.chart.toggleDataVisibility(t.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class fy extends wh{}Gt(fy,"id","pie"),Gt(fy,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class j1 extends ol{getLabelAndValue(e){const t=this._cachedMeta.vScale,r=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(r[t.axis])}}parseObjectData(e,t,r,i){return M4.bind(this)(e,t,r,i)}update(e){const t=this._cachedMeta,r=t.dataset,i=t.data||[],s=t.iScale.getLabels();if(r.points=i,e!=="resize"){const a=this.resolveDatasetElementOptions(e);this.options.showLine||(a.borderWidth=0);const o={_loop:!0,_fullLoop:s.length===i.length,options:a};this.updateElement(r,void 0,o,e)}this.updateElements(i,0,i.length,e)}updateElements(e,t,r,i){const s=this._cachedMeta.rScale,a=i==="reset";for(let o=t;o<t+r;o++){const l=e[o],c=this.resolveDataElementOptions(o,l.active?"active":i),f=s.getPointPositionForValue(o,this.getParsed(o).r),d=a?s.xCenter:f.x,p=a?s.yCenter:f.y,m={x:d,y:p,angle:f.angle,skip:isNaN(d)||isNaN(p),options:c};this.updateElement(l,o,m,i)}}}Gt(j1,"id","radar"),Gt(j1,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),Gt(j1,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class V1 extends ol{getLabelAndValue(e){const t=this._cachedMeta,r=this.chart.data.labels||[],{xScale:i,yScale:s}=t,a=this.getParsed(e),o=i.getLabelForValue(a.x),l=s.getLabelForValue(a.y);return{label:r[e]||"",value:"("+o+", "+l+")"}}update(e){const t=this._cachedMeta,{data:r=[]}=t,i=this.chart._animationsDisabled;let{start:s,count:a}=v4(t,r,i);if(this._drawStart=s,this._drawCount=a,_4(t)&&(s=0,a=r.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:o,_dataset:l}=t;o._chart=this.chart,o._datasetIndex=this.index,o._decimated=!!l._decimated,o.points=r;const c=this.resolveDatasetElementOptions(e);c.segment=this.options.segment,this.updateElement(o,void 0,{animated:!i,options:c},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(r,s,a,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,r,i){const s=i==="reset",{iScale:a,vScale:o,_stacked:l,_dataset:c}=this._cachedMeta,f=this.resolveDataElementOptions(t,i),d=this.getSharedOptions(f),p=this.includeOptions(i,d),m=a.axis,_=o.axis,{spanGaps:x,segment:g}=this.options,y=w0(x)?x:Number.POSITIVE_INFINITY,A=this.chart._animationsDisabled||s||i==="none";let E=t>0&&this.getParsed(t-1);for(let M=t;M<t+r;++M){const D=e[M],U=this.getParsed(M),L=A?D:{},I=Gn(U[_]),R=L[m]=a.getPixelForValue(U[m],M),O=L[_]=s||I?o.getBasePixel():o.getPixelForValue(l?this.applyStack(o,U,l):U[_],M);L.skip=isNaN(R)||isNaN(O)||I,L.stop=M>0&&Math.abs(U[m]-E[m])>y,g&&(L.parsed=U,L.raw=c.data[M]),p&&(L.options=d||this.resolveDataElementOptions(M,D.active?"active":i)),A||this.updateElement(D,M,L,i),E=U}this.updateSharedOptions(d,i,f)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let o=0;for(let l=t.length-1;l>=0;--l)o=Math.max(o,t[l].size(this.resolveDataElementOptions(l))/2);return o>0&&o}const r=e.dataset,i=r.options&&r.options.borderWidth||0;if(!t.length)return i;const s=t[0].size(this.resolveDataElementOptions(0)),a=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(i,s,a)/2}}Gt(V1,"id","scatter"),Gt(V1,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),Gt(V1,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var eO=Object.freeze({__proto__:null,BarController:B1,BubbleController:z1,DoughnutController:wh,LineController:H1,PieController:fy,PolarAreaController:jp,RadarController:j1,ScatterController:V1});function nh(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class fb{constructor(e){Gt(this,"options");this.options=e||{}}static override(e){Object.assign(fb.prototype,e)}init(){}formats(){return nh()}parse(){return nh()}format(){return nh()}add(){return nh()}diff(){return nh()}startOf(){return nh()}endOf(){return nh()}}var tO={_date:fb};function nO(n,e,t,r){const{controller:i,data:s,_sorted:a}=n,o=i._cachedMeta.iScale,l=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(o&&e===o.axis&&e!=="r"&&a&&s.length){const c=o._reversePixels?E6:Bc;if(r){if(i._sharedOptions){const f=s[0],d=typeof f.getRange=="function"&&f.getRange(e);if(d){const p=c(s,e,t-d),m=c(s,e,t+d);return{lo:p.lo,hi:m.hi}}}}else{const f=c(s,e,t);if(l){const{vScale:d}=i._cachedMeta,{_parsed:p}=n,m=p.slice(0,f.lo+1).reverse().findIndex(x=>!Gn(x[d.axis]));f.lo-=Math.max(0,m);const _=p.slice(f.hi).findIndex(x=>!Gn(x[d.axis]));f.hi+=Math.max(0,_)}return f}}return{lo:0,hi:s.length-1}}function iv(n,e,t,r,i){const s=n.getSortedVisibleDatasetMetas(),a=t[e];for(let o=0,l=s.length;o<l;++o){const{index:c,data:f}=s[o],{lo:d,hi:p}=nO(s[o],e,a,i);for(let m=d;m<=p;++m){const _=f[m];_.skip||r(_,c,m)}}}function rO(n){const e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(r,i){const s=e?Math.abs(r.x-i.x):0,a=t?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(a,2))}}function O2(n,e,t,r,i){const s=[];return!i&&!n.isPointInArea(e)||iv(n,t,e,function(o,l,c){!i&&!zc(o,n.chartArea,0)||o.inRange(e.x,e.y,r)&&s.push({element:o,datasetIndex:l,index:c})},!0),s}function iO(n,e,t,r){let i=[];function s(a,o,l){const{startAngle:c,endAngle:f}=a.getProps(["startAngle","endAngle"],r),{angle:d}=d4(a,{x:e.x,y:e.y});am(d,c,f)&&i.push({element:a,datasetIndex:o,index:l})}return iv(n,t,e,s),i}function sO(n,e,t,r,i,s){let a=[];const o=rO(t);let l=Number.POSITIVE_INFINITY;function c(f,d,p){const m=f.inRange(e.x,e.y,i);if(r&&!m)return;const _=f.getCenterPoint(i);if(!(!!s||n.isPointInArea(_))&&!m)return;const g=o(e,_);g<l?(a=[{element:f,datasetIndex:d,index:p}],l=g):g===l&&a.push({element:f,datasetIndex:d,index:p})}return iv(n,t,e,c),a}function U2(n,e,t,r,i,s){return!s&&!n.isPointInArea(e)?[]:t==="r"&&!r?iO(n,e,t,i):sO(n,e,t,r,i,s)}function BE(n,e,t,r,i){const s=[],a=t==="x"?"inXRange":"inYRange";let o=!1;return iv(n,t,e,(l,c,f)=>{l[a]&&l[a](e[t],i)&&(s.push({element:l,datasetIndex:c,index:f}),o=o||l.inRange(e.x,e.y,i))}),r&&!o?[]:s}var aO={modes:{index(n,e,t,r){const i=hh(e,n),s=t.axis||"x",a=t.includeInvisible||!1,o=t.intersect?O2(n,i,s,r,a):U2(n,i,s,!1,r,a),l=[];return o.length?(n.getSortedVisibleDatasetMetas().forEach(c=>{const f=o[0].index,d=c.data[f];d&&!d.skip&&l.push({element:d,datasetIndex:c.index,index:f})}),l):[]},dataset(n,e,t,r){const i=hh(e,n),s=t.axis||"xy",a=t.includeInvisible||!1;let o=t.intersect?O2(n,i,s,r,a):U2(n,i,s,!1,r,a);if(o.length>0){const l=o[0].datasetIndex,c=n.getDatasetMeta(l).data;o=[];for(let f=0;f<c.length;++f)o.push({element:c[f],datasetIndex:l,index:f})}return o},point(n,e,t,r){const i=hh(e,n),s=t.axis||"xy",a=t.includeInvisible||!1;return O2(n,i,s,r,a)},nearest(n,e,t,r){const i=hh(e,n),s=t.axis||"xy",a=t.includeInvisible||!1;return U2(n,i,s,t.intersect,r,a)},x(n,e,t,r){const i=hh(e,n);return BE(n,i,"x",t.intersect,r)},y(n,e,t,r){const i=hh(e,n);return BE(n,i,"y",t.intersect,r)}}};const U4=["left","top","right","bottom"];function lp(n,e){return n.filter(t=>t.pos===e)}function zE(n,e){return n.filter(t=>U4.indexOf(t.pos)===-1&&t.box.axis===e)}function cp(n,e){return n.sort((t,r)=>{const i=e?r:t,s=e?t:r;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function oO(n){const e=[];let t,r,i,s,a,o;for(t=0,r=(n||[]).length;t<r;++t)i=n[t],{position:s,options:{stack:a,stackWeight:o=1}}=i,e.push({index:t,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:a&&s+a,stackWeight:o});return e}function lO(n){const e={};for(const t of n){const{stack:r,pos:i,stackWeight:s}=t;if(!r||!U4.includes(i))continue;const a=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=s}return e}function cO(n,e){const t=lO(n),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let s,a,o;for(s=0,a=n.length;s<a;++s){o=n[s];const{fullSize:l}=o.box,c=t[o.stack],f=c&&o.stackWeight/c.weight;o.horizontal?(o.width=f?f*r:l&&e.availableWidth,o.height=i):(o.width=r,o.height=f?f*i:l&&e.availableHeight)}return t}function uO(n){const e=oO(n),t=cp(e.filter(c=>c.box.fullSize),!0),r=cp(lp(e,"left"),!0),i=cp(lp(e,"right")),s=cp(lp(e,"top"),!0),a=cp(lp(e,"bottom")),o=zE(e,"x"),l=zE(e,"y");return{fullSize:t,leftAndTop:r.concat(s),rightAndBottom:i.concat(l).concat(a).concat(o),chartArea:lp(e,"chartArea"),vertical:r.concat(i).concat(l),horizontal:s.concat(a).concat(o)}}function HE(n,e,t,r){return Math.max(n[t],e[t])+Math.max(n[r],e[r])}function B4(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function fO(n,e,t,r){const{pos:i,box:s}=t,a=n.maxPadding;if(!Xn(i)){t.size&&(n[i]-=t.size);const d=r[t.stack]||{size:0,count:1};d.size=Math.max(d.size,t.horizontal?s.height:s.width),t.size=d.size/d.count,n[i]+=t.size}s.getPadding&&B4(a,s.getPadding());const o=Math.max(0,e.outerWidth-HE(a,n,"left","right")),l=Math.max(0,e.outerHeight-HE(a,n,"top","bottom")),c=o!==n.w,f=l!==n.h;return n.w=o,n.h=l,t.horizontal?{same:c,other:f}:{same:f,other:c}}function hO(n){const e=n.maxPadding;function t(r){const i=Math.max(e[r]-n[r],0);return n[r]+=i,i}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function dO(n,e){const t=e.maxPadding;function r(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(a=>{s[a]=Math.max(e[a],t[a])}),s}return r(n?["left","right"]:["top","bottom"])}function Tp(n,e,t,r){const i=[];let s,a,o,l,c,f;for(s=0,a=n.length,c=0;s<a;++s){o=n[s],l=o.box,l.update(o.width||e.w,o.height||e.h,dO(o.horizontal,e));const{same:d,other:p}=fO(e,t,o,r);c|=d&&i.length,f=f||p,l.fullSize||i.push(o)}return c&&Tp(i,e,t,r)||f}function Cg(n,e,t,r,i){n.top=t,n.left=e,n.right=e+r,n.bottom=t+i,n.width=r,n.height=i}function jE(n,e,t,r){const i=t.padding;let{x:s,y:a}=e;for(const o of n){const l=o.box,c=r[o.stack]||{placed:0,weight:1},f=o.stackWeight/c.weight||1;if(o.horizontal){const d=e.w*f,p=c.size||l.height;sm(c.start)&&(a=c.start),l.fullSize?Cg(l,i.left,a,t.outerWidth-i.right-i.left,p):Cg(l,e.left+c.placed,a,d,p),c.start=a,c.placed+=d,a=l.bottom}else{const d=e.h*f,p=c.size||l.width;sm(c.start)&&(s=c.start),l.fullSize?Cg(l,s,i.top,p,t.outerHeight-i.bottom-i.top):Cg(l,s,e.top+c.placed,p,d),c.start=s,c.placed+=d,s=l.right}}e.x=s,e.y=a}var Os={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,r){if(!n)return;const i=zs(n.options.layout.padding),s=Math.max(e-i.width,0),a=Math.max(t-i.height,0),o=uO(n.boxes),l=o.vertical,c=o.horizontal;br(n.boxes,x=>{typeof x.beforeLayout=="function"&&x.beforeLayout()});const f=l.reduce((x,g)=>g.box.options&&g.box.options.display===!1?x:x+1,0)||1,d=Object.freeze({outerWidth:e,outerHeight:t,padding:i,availableWidth:s,availableHeight:a,vBoxMaxWidth:s/2/f,hBoxMaxHeight:a/2}),p=Object.assign({},i);B4(p,zs(r));const m=Object.assign({maxPadding:p,w:s,h:a,x:i.left,y:i.top},i),_=cO(l.concat(c),d);Tp(o.fullSize,m,d,_),Tp(l,m,d,_),Tp(c,m,d,_)&&Tp(l,m,d,_),hO(m),jE(o.leftAndTop,m,d,_),m.x+=m.w,m.y+=m.h,jE(o.rightAndBottom,m,d,_),n.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},br(o.chartArea,x=>{const g=x.box;Object.assign(g,n.chartArea),g.update(m.w,m.h,{left:0,top:0,right:0,bottom:0})})}};class z4{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,r){}removeEventListener(e,t,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,r,i){return t=Math.max(0,t||e.width),r=r||e.height,{width:t,height:Math.max(0,i?Math.floor(t/i):r)}}isAttached(e){return!0}updateConfig(e){}}class pO extends z4{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const W1="$chartjs",mO={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},VE=n=>n===null||n==="";function gO(n,e){const t=n.style,r=n.getAttribute("height"),i=n.getAttribute("width");if(n[W1]={initial:{height:r,width:i,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",VE(i)){const s=TE(n,"width");s!==void 0&&(n.width=s)}if(VE(r))if(n.style.height==="")n.height=n.width/(e||2);else{const s=TE(n,"height");s!==void 0&&(n.height=s)}return n}const H4=xI?{passive:!0}:!1;function xO(n,e,t){n&&n.addEventListener(e,t,H4)}function vO(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,H4)}function _O(n,e){const t=mO[n.type]||n.type,{x:r,y:i}=hh(n,e);return{type:t,chart:e,native:n,x:r!==void 0?r:null,y:i!==void 0?i:null}}function yx(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function yO(n,e,t){const r=n.canvas,i=new MutationObserver(s=>{let a=!1;for(const o of s)a=a||yx(o.addedNodes,r),a=a&&!yx(o.removedNodes,r);a&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}function wO(n,e,t){const r=n.canvas,i=new MutationObserver(s=>{let a=!1;for(const o of s)a=a||yx(o.removedNodes,r),a=a&&!yx(o.addedNodes,r);a&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}const lm=new Map;let WE=0;function j4(){const n=window.devicePixelRatio;n!==WE&&(WE=n,lm.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function bO(n,e){lm.size||window.addEventListener("resize",j4),lm.set(n,e)}function SO(n){lm.delete(n),lm.size||window.removeEventListener("resize",j4)}function EO(n,e,t){const r=n.canvas,i=r&&ub(r);if(!i)return;const s=x4((o,l)=>{const c=i.clientWidth;t(o,l),c<i.clientWidth&&t()},window),a=new ResizeObserver(o=>{const l=o[0],c=l.contentRect.width,f=l.contentRect.height;c===0&&f===0||s(c,f)});return a.observe(i),bO(n,s),a}function B2(n,e,t){t&&t.disconnect(),e==="resize"&&SO(n)}function AO(n,e,t){const r=n.canvas,i=x4(s=>{n.ctx!==null&&t(_O(s,n))},n);return xO(r,e,i),i}class TO extends z4{acquireContext(e,t){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(gO(e,t),r):null}releaseContext(e){const t=e.canvas;if(!t[W1])return!1;const r=t[W1].initial;["height","width"].forEach(s=>{const a=r[s];Gn(a)?t.removeAttribute(s):t.setAttribute(s,a)});const i=r.style||{};return Object.keys(i).forEach(s=>{t.style[s]=i[s]}),t.width=t.width,delete t[W1],!0}addEventListener(e,t,r){this.removeEventListener(e,t);const i=e.$proxies||(e.$proxies={}),a={attach:yO,detach:wO,resize:EO}[t]||AO;i[t]=a(e,t,r)}removeEventListener(e,t){const r=e.$proxies||(e.$proxies={}),i=r[t];if(!i)return;({attach:B2,detach:B2,resize:B2}[t]||vO)(e,t,i),r[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,r,i){return gI(e,t,r,i)}isAttached(e){const t=e&&ub(e);return!!(t&&t.isConnected)}}function MO(n){return!cb()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?pO:TO}class fl{constructor(){Gt(this,"x");Gt(this,"y");Gt(this,"active",!1);Gt(this,"options");Gt(this,"$animations")}tooltipPosition(e){const{x:t,y:r}=this.getProps(["x","y"],e);return{x:t,y:r}}hasValue(){return w0(this.x)&&w0(this.y)}getProps(e,t){const r=this.$animations;if(!t||!r)return this;const i={};return e.forEach(s=>{i[s]=r[s]&&r[s].active()?r[s]._to:this[s]}),i}}Gt(fl,"defaults",{}),Gt(fl,"defaultRoutes");function CO(n,e){const t=n.options.ticks,r=PO(n),i=Math.min(t.maxTicksLimit||r,r),s=t.major.enabled?RO(e):[],a=s.length,o=s[0],l=s[a-1],c=[];if(a>i)return LO(e,c,s,a/i),c;const f=kO(s,e,i);if(a>0){let d,p;const m=a>1?Math.round((l-o)/(a-1)):null;for(Pg(e,c,f,Gn(m)?0:o-m,o),d=0,p=a-1;d<p;d++)Pg(e,c,f,s[d],s[d+1]);return Pg(e,c,f,l,Gn(m)?e.length:l+m),c}return Pg(e,c,f),c}function PO(n){const e=n.options.offset,t=n._tickSize(),r=n._length/t+(e?0:1),i=n._maxLength/t;return Math.floor(Math.min(r,i))}function kO(n,e,t){const r=NO(n),i=e.length/t;if(!r)return Math.max(i,1);const s=_6(r);for(let a=0,o=s.length-1;a<o;a++){const l=s[a];if(l>i)return l}return Math.max(i,1)}function RO(n){const e=[];let t,r;for(t=0,r=n.length;t<r;t++)n[t].major&&e.push(t);return e}function LO(n,e,t,r){let i=0,s=t[0],a;for(r=Math.ceil(r),a=0;a<n.length;a++)a===s&&(e.push(n[a]),i++,s=t[i*r])}function Pg(n,e,t,r,i){const s=Rn(r,0),a=Math.min(Rn(i,n.length),n.length);let o=0,l,c,f;for(t=Math.ceil(t),i&&(l=i-r,t=l/Math.floor(l/t)),f=s;f<0;)o++,f=Math.round(s+o*t);for(c=Math.max(s,0);c<a;c++)c===f&&(e.push(n[c]),o++,f=Math.round(s+o*t))}function NO(n){const e=n.length;let t,r;if(e<2)return!1;for(r=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==r)return!1;return r}const FO=n=>n==="left"?"right":n==="right"?"left":n,GE=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,qE=(n,e)=>Math.min(e||n,n);function XE(n,e){const t=[],r=n.length/e,i=n.length;let s=0;for(;s<i;s+=r)t.push(n[Math.floor(s)]);return t}function DO(n,e,t){const r=n.ticks.length,i=Math.min(e,r-1),s=n._startPixel,a=n._endPixel,o=1e-6;let l=n.getPixelForTick(i),c;if(!(t&&(r===1?c=Math.max(l-s,a-l):e===0?c=(n.getPixelForTick(1)-l)/2:c=(l-n.getPixelForTick(i-1))/2,l+=i<e?c:-c,l<s-o||l>a+o)))return l}function IO(n,e){br(n,t=>{const r=t.gc,i=r.length/2;let s;if(i>e){for(s=0;s<i;++s)delete t.data[r[s]];r.splice(0,i)}})}function up(n){return n.drawTicks?n.tickLength:0}function $E(n,e){if(!n.display)return 0;const t=Oi(n.font,e),r=zs(n.padding);return($r(n.text)?n.text.length:1)*t.lineHeight+r.height}function OO(n,e){return Af(n,{scale:e,type:"scale"})}function UO(n,e,t){return Af(n,{tick:t,index:e,type:"tick"})}function BO(n,e,t){let r=rb(n);return(t&&e!=="right"||!t&&e==="right")&&(r=FO(r)),r}function zO(n,e,t,r){const{top:i,left:s,bottom:a,right:o,chart:l}=n,{chartArea:c,scales:f}=l;let d=0,p,m,_;const x=a-i,g=o-s;if(n.isHorizontal()){if(m=Rs(r,s,o),Xn(t)){const y=Object.keys(t)[0],A=t[y];_=f[y].getPixelForValue(A)+x-e}else t==="center"?_=(c.bottom+c.top)/2+x-e:_=GE(n,t,e);p=o-s}else{if(Xn(t)){const y=Object.keys(t)[0],A=t[y];m=f[y].getPixelForValue(A)-g+e}else t==="center"?m=(c.left+c.right)/2-g+e:m=GE(n,t,e);_=Rs(r,a,i),d=t==="left"?-bi:bi}return{titleX:m,titleY:_,maxWidth:p,rotation:d}}class Wh extends fl{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:r,_suggestedMax:i}=this;return e=Xa(e,Number.POSITIVE_INFINITY),t=Xa(t,Number.NEGATIVE_INFINITY),r=Xa(r,Number.POSITIVE_INFINITY),i=Xa(i,Number.NEGATIVE_INFINITY),{min:Xa(e,r),max:Xa(t,i),minDefined:ui(e),maxDefined:ui(t)}}getMinMax(e){let{min:t,max:r,minDefined:i,maxDefined:s}=this.getUserBounds(),a;if(i&&s)return{min:t,max:r};const o=this.getMatchingVisibleMetas();for(let l=0,c=o.length;l<c;++l)a=o[l].controller.getMinMax(this,e),i||(t=Math.min(t,a.min)),s||(r=Math.max(r,a.max));return t=s&&t>r?r:t,r=i&&t>r?t:r,{min:Xa(t,Xa(r,t)),max:Xa(r,Xa(t,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Nr(this.options.beforeUpdate,[this])}update(e,t,r){const{beginAtZero:i,grace:s,ticks:a}=this.options,o=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=$6(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=o<this.ticks.length;this._convertTicksToLabels(l?XE(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=CO(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,r;this.isHorizontal()?(t=this.left,r=this.right):(t=this.top,r=this.bottom,e=!e),this._startPixel=t,this._endPixel=r,this._reversePixels=e,this._length=r-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Nr(this.options.afterUpdate,[this])}beforeSetDimensions(){Nr(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Nr(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Nr(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Nr(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r],s.label=Nr(t.callback,[s.value,r,e],this)}afterTickToLabelConversion(){Nr(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Nr(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,r=qE(this.ticks.length,e.ticks.maxTicksLimit),i=t.minRotation||0,s=t.maxRotation;let a=i,o,l,c;if(!this._isVisible()||!t.display||i>=s||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const f=this._getLabelSizes(),d=f.widest.width,p=f.highest.height,m=Qi(this.chart.width-d,0,this.maxWidth);o=e.offset?this.maxWidth/r:m/(r-1),d+6>o&&(o=m/(r-(e.offset?.5:1)),l=this.maxHeight-up(e.grid)-t.padding-$E(e.title,this.chart.options.font),c=Math.sqrt(d*d+p*p),a=tb(Math.min(Math.asin(Qi((f.highest.height+6)/o,-1,1)),Math.asin(Qi(l/c,-1,1))-Math.asin(Qi(p/c,-1,1)))),a=Math.max(i,Math.min(s,a))),this.labelRotation=a}afterCalculateLabelRotation(){Nr(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Nr(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:r,title:i,grid:s}}=this,a=this._isVisible(),o=this.isHorizontal();if(a){const l=$E(i,t.options.font);if(o?(e.width=this.maxWidth,e.height=up(s)+l):(e.height=this.maxHeight,e.width=up(s)+l),r.display&&this.ticks.length){const{first:c,last:f,widest:d,highest:p}=this._getLabelSizes(),m=r.padding*2,_=rl(this.labelRotation),x=Math.cos(_),g=Math.sin(_);if(o){const y=r.mirror?0:g*d.width+x*p.height;e.height=Math.min(this.maxHeight,e.height+y+m)}else{const y=r.mirror?0:x*d.width+g*p.height;e.width=Math.min(this.maxWidth,e.width+y+m)}this._calculatePadding(c,f,g,x)}}this._handleMargins(),o?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,r,i){const{ticks:{align:s,padding:a},position:o}=this.options,l=this.labelRotation!==0,c=o!=="top"&&this.axis==="x";if(this.isHorizontal()){const f=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let p=0,m=0;l?c?(p=i*e.width,m=r*t.height):(p=r*e.height,m=i*t.width):s==="start"?m=t.width:s==="end"?p=e.width:s!=="inner"&&(p=e.width/2,m=t.width/2),this.paddingLeft=Math.max((p-f+a)*this.width/(this.width-f),0),this.paddingRight=Math.max((m-d+a)*this.width/(this.width-d),0)}else{let f=t.height/2,d=e.height/2;s==="start"?(f=0,d=e.height):s==="end"&&(f=t.height,d=0),this.paddingTop=f+a,this.paddingBottom=d+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Nr(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,r;for(t=0,r=e.length;t<r;t++)Gn(e[t].label)&&(e.splice(t,1),r--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let r=this.ticks;t<r.length&&(r=XE(r,t)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,r){const{ctx:i,_longestTextCache:s}=this,a=[],o=[],l=Math.floor(t/qE(t,r));let c=0,f=0,d,p,m,_,x,g,y,A,E,M,D;for(d=0;d<t;d+=l){if(_=e[d].label,x=this._resolveTickFontOptions(d),i.font=g=x.string,y=s[g]=s[g]||{data:{},gc:[]},A=x.lineHeight,E=M=0,!Gn(_)&&!$r(_))E=vx(i,y.data,y.gc,E,_),M=A;else if($r(_))for(p=0,m=_.length;p<m;++p)D=_[p],!Gn(D)&&!$r(D)&&(E=vx(i,y.data,y.gc,E,D),M+=A);a.push(E),o.push(M),c=Math.max(E,c),f=Math.max(M,f)}IO(s,t);const U=a.indexOf(c),L=o.indexOf(f),I=R=>({width:a[R]||0,height:o[R]||0});return{first:I(0),last:I(t-1),widest:I(U),highest:I(L),widths:a,heights:o}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return S6(this._alignToPixels?th(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const r=t[e];return r.$context||(r.$context=UO(this.getContext(),e,r))}return this.$context||(this.$context=OO(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=rl(this.labelRotation),r=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t)),s=this._getLabelSizes(),a=e.autoSkipPadding||0,o=s?s.widest.width+a:0,l=s?s.highest.height+a:0;return this.isHorizontal()?l*r>o*i?o/r:l/i:l*i<o*r?l/r:o/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,r=this.chart,i=this.options,{grid:s,position:a,border:o}=i,l=s.offset,c=this.isHorizontal(),d=this.ticks.length+(l?1:0),p=up(s),m=[],_=o.setContext(this.getContext()),x=_.display?_.width:0,g=x/2,y=function(ie){return th(r,ie,x)};let A,E,M,D,U,L,I,R,O,N,k,j;if(a==="top")A=y(this.bottom),L=this.bottom-p,R=A-g,N=y(e.top)+g,j=e.bottom;else if(a==="bottom")A=y(this.top),N=e.top,j=y(e.bottom)-g,L=A+g,R=this.top+p;else if(a==="left")A=y(this.right),U=this.right-p,I=A-g,O=y(e.left)+g,k=e.right;else if(a==="right")A=y(this.left),O=e.left,k=y(e.right)-g,U=A+g,I=this.left+p;else if(t==="x"){if(a==="center")A=y((e.top+e.bottom)/2+.5);else if(Xn(a)){const ie=Object.keys(a)[0],ue=a[ie];A=y(this.chart.scales[ie].getPixelForValue(ue))}N=e.top,j=e.bottom,L=A+g,R=L+p}else if(t==="y"){if(a==="center")A=y((e.left+e.right)/2);else if(Xn(a)){const ie=Object.keys(a)[0],ue=a[ie];A=y(this.chart.scales[ie].getPixelForValue(ue))}U=A-g,I=U-p,O=e.left,k=e.right}const G=Rn(i.ticks.maxTicksLimit,d),ae=Math.max(1,Math.ceil(d/G));for(E=0;E<d;E+=ae){const ie=this.getContext(E),ue=s.setContext(ie),J=o.setContext(ie),X=ue.lineWidth,pe=ue.color,oe=J.dash||[],C=J.dashOffset,W=ue.tickWidth,z=ue.tickColor,V=ue.tickBorderDash||[],ee=ue.tickBorderDashOffset;M=DO(this,E,l),M!==void 0&&(D=th(r,M,X),c?U=I=O=k=D:L=R=N=j=D,m.push({tx1:U,ty1:L,tx2:I,ty2:R,x1:O,y1:N,x2:k,y2:j,width:X,color:pe,borderDash:oe,borderDashOffset:C,tickWidth:W,tickColor:z,tickBorderDash:V,tickBorderDashOffset:ee}))}return this._ticksLength=d,this._borderValue=A,m}_computeLabelItems(e){const t=this.axis,r=this.options,{position:i,ticks:s}=r,a=this.isHorizontal(),o=this.ticks,{align:l,crossAlign:c,padding:f,mirror:d}=s,p=up(r.grid),m=p+f,_=d?-f:m,x=-rl(this.labelRotation),g=[];let y,A,E,M,D,U,L,I,R,O,N,k,j="middle";if(i==="top")U=this.bottom-_,L=this._getXAxisLabelAlignment();else if(i==="bottom")U=this.top+_,L=this._getXAxisLabelAlignment();else if(i==="left"){const ae=this._getYAxisLabelAlignment(p);L=ae.textAlign,D=ae.x}else if(i==="right"){const ae=this._getYAxisLabelAlignment(p);L=ae.textAlign,D=ae.x}else if(t==="x"){if(i==="center")U=(e.top+e.bottom)/2+m;else if(Xn(i)){const ae=Object.keys(i)[0],ie=i[ae];U=this.chart.scales[ae].getPixelForValue(ie)+m}L=this._getXAxisLabelAlignment()}else if(t==="y"){if(i==="center")D=(e.left+e.right)/2-m;else if(Xn(i)){const ae=Object.keys(i)[0],ie=i[ae];D=this.chart.scales[ae].getPixelForValue(ie)}L=this._getYAxisLabelAlignment(p).textAlign}t==="y"&&(l==="start"?j="top":l==="end"&&(j="bottom"));const G=this._getLabelSizes();for(y=0,A=o.length;y<A;++y){E=o[y],M=E.label;const ae=s.setContext(this.getContext(y));I=this.getPixelForTick(y)+s.labelOffset,R=this._resolveTickFontOptions(y),O=R.lineHeight,N=$r(M)?M.length:1;const ie=N/2,ue=ae.color,J=ae.textStrokeColor,X=ae.textStrokeWidth;let pe=L;a?(D=I,L==="inner"&&(y===A-1?pe=this.options.reverse?"left":"right":y===0?pe=this.options.reverse?"right":"left":pe="center"),i==="top"?c==="near"||x!==0?k=-N*O+O/2:c==="center"?k=-G.highest.height/2-ie*O+O:k=-G.highest.height+O/2:c==="near"||x!==0?k=O/2:c==="center"?k=G.highest.height/2-ie*O:k=G.highest.height-N*O,d&&(k*=-1),x!==0&&!ae.showLabelBackdrop&&(D+=O/2*Math.sin(x))):(U=I,k=(1-N)*O/2);let oe;if(ae.showLabelBackdrop){const C=zs(ae.backdropPadding),W=G.heights[y],z=G.widths[y];let V=k-C.top,ee=0-C.left;switch(j){case"middle":V-=W/2;break;case"bottom":V-=W;break}switch(L){case"center":ee-=z/2;break;case"right":ee-=z;break;case"inner":y===A-1?ee-=z:y>0&&(ee-=z/2);break}oe={left:ee,top:V,width:z+C.width,height:W+C.height,color:ae.backdropColor}}g.push({label:M,font:R,textOffset:k,options:{rotation:x,color:ue,strokeColor:J,strokeWidth:X,textAlign:pe,textBaseline:j,translation:[D,U],backdrop:oe}})}return g}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-rl(this.labelRotation))return e==="top"?"left":"right";let i="center";return t.align==="start"?i="left":t.align==="end"?i="right":t.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:r,mirror:i,padding:s}}=this.options,a=this._getLabelSizes(),o=e+s,l=a.widest.width;let c,f;return t==="left"?i?(f=this.right+s,r==="near"?c="left":r==="center"?(c="center",f+=l/2):(c="right",f+=l)):(f=this.right-o,r==="near"?c="right":r==="center"?(c="center",f-=l/2):(c="left",f=this.left)):t==="right"?i?(f=this.left+s,r==="near"?c="right":r==="center"?(c="center",f-=l/2):(c="left",f-=l)):(f=this.left+o,r==="near"?c="left":r==="center"?(c="center",f+=l/2):(c="right",f=this.right)):c="right",{textAlign:c,x:f}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:r,top:i,width:s,height:a}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(r,i,s,a),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const i=this.ticks.findIndex(s=>s.value===e);return i>=0?t.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const t=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,a;const o=(l,c,f)=>{!f.width||!f.color||(r.save(),r.lineWidth=f.width,r.strokeStyle=f.color,r.setLineDash(f.borderDash||[]),r.lineDashOffset=f.borderDashOffset,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(c.x,c.y),r.stroke(),r.restore())};if(t.display)for(s=0,a=i.length;s<a;++s){const l=i[s];t.drawOnChartArea&&o({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),t.drawTicks&&o({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:r,grid:i}}=this,s=r.setContext(this.getContext()),a=r.display?s.width:0;if(!a)return;const o=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,f,d,p;this.isHorizontal()?(c=th(e,this.left,a)-a/2,f=th(e,this.right,o)+o/2,d=p=l):(d=th(e,this.top,a)-a/2,p=th(e,this.bottom,o)+o/2,c=f=l),t.save(),t.lineWidth=s.width,t.strokeStyle=s.color,t.beginPath(),t.moveTo(c,d),t.lineTo(f,p),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&tv(r,i);const s=this.getLabelItems(e);for(const a of s){const o=a.options,l=a.font,c=a.label,f=a.textOffset;Dh(r,c,0,f,l,o)}i&&nv(r)}drawTitle(){const{ctx:e,options:{position:t,title:r,reverse:i}}=this;if(!r.display)return;const s=Oi(r.font),a=zs(r.padding),o=r.align;let l=s.lineHeight/2;t==="bottom"||t==="center"||Xn(t)?(l+=a.bottom,$r(r.text)&&(l+=s.lineHeight*(r.text.length-1))):l+=a.top;const{titleX:c,titleY:f,maxWidth:d,rotation:p}=zO(this,l,t,o);Dh(e,r.text,0,0,s,{color:r.color,maxWidth:d,rotation:p,textAlign:BO(o,t,i),textBaseline:"middle",translation:[c,f]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,r=Rn(e.grid&&e.grid.z,-1),i=Rn(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Wh.prototype.draw?[{z:t,draw:s=>{this.draw(s)}}]:[{z:r,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:t,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let s,a;for(s=0,a=t.length;s<a;++s){const o=t[s];o[r]===this.id&&(!e||o.type===e)&&i.push(o)}return i}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return Oi(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class kg{constructor(e,t,r){this.type=e,this.scope=t,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let r;VO(t)&&(r=this.register(t));const i=this.items,s=e.id,a=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in i||(i[s]=e,HO(e,a,r),this.override&&Yr.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const t=this.items,r=e.id,i=this.scope;r in t&&delete t[r],i&&r in Yr[i]&&(delete Yr[i][r],this.override&&delete Fh[r])}}function HO(n,e,t){const r=im(Object.create(null),[t?Yr.get(t):{},Yr.get(e),n.defaults]);Yr.set(e,r),n.defaultRoutes&&jO(e,n.defaultRoutes),n.descriptors&&Yr.describe(e,n.descriptors)}function jO(n,e){Object.keys(e).forEach(t=>{const r=t.split("."),i=r.pop(),s=[n].concat(r).join("."),a=e[t].split("."),o=a.pop(),l=a.join(".");Yr.route(s,i,l,o)})}function VO(n){return"id"in n&&"defaults"in n}class WO{constructor(){this.controllers=new kg(ol,"datasets",!0),this.elements=new kg(fl,"elements"),this.plugins=new kg(Object,"plugins"),this.scales=new kg(Wh,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,r){[...t].forEach(i=>{const s=r||this._getRegistryForType(i);r||s.isForType(i)||s===this.plugins&&i.id?this._exec(e,s,i):br(i,a=>{const o=r||this._getRegistryForType(a);this._exec(e,o,a)})})}_exec(e,t,r){const i=eb(e);Nr(r["before"+i],[],r),t[e](r),Nr(r["after"+i],[],r)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const r=this._typedRegistries[t];if(r.isForType(e))return r}return this.plugins}_get(e,t,r){const i=t.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return i}}var Ul=new WO;class GO{constructor(){this._init=[]}notify(e,t,r,i){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=i?this._descriptors(e).filter(i):this._descriptors(e),a=this._notify(s,e,t,r);return t==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),a}_notify(e,t,r,i){i=i||{};for(const s of e){const a=s.plugin,o=a[r],l=[t,i,s.options];if(Nr(o,l,a)===!1&&i.cancelable)return!1}return!0}invalidate(){Gn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const r=e&&e.config,i=Rn(r.options&&r.options.plugins,{}),s=qO(r);return i===!1&&!t?[]:$O(e,s,i,t)}_notifyStateChanges(e){const t=this._oldCache||[],r=this._cache,i=(s,a)=>s.filter(o=>!a.some(l=>o.plugin.id===l.plugin.id));this._notify(i(t,r),e,"stop"),this._notify(i(r,t),e,"start")}}function qO(n){const e={},t=[],r=Object.keys(Ul.plugins.items);for(let s=0;s<r.length;s++)t.push(Ul.getPlugin(r[s]));const i=n.plugins||[];for(let s=0;s<i.length;s++){const a=i[s];t.indexOf(a)===-1&&(t.push(a),e[a.id]=!0)}return{plugins:t,localIds:e}}function XO(n,e){return!e&&n===!1?null:n===!0?{}:n}function $O(n,{plugins:e,localIds:t},r,i){const s=[],a=n.getContext();for(const o of e){const l=o.id,c=XO(r[l],i);c!==null&&s.push({plugin:o,options:YO(n.config,{plugin:o,local:t[l]},c,a)})}return s}function YO(n,{plugin:e,local:t},r,i){const s=n.pluginScopeKeys(e),a=n.getOptionScopes(r,s);return t&&e.defaults&&a.push(e.defaults),n.createResolver(a,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function hy(n,e){const t=Yr.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function KO(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function JO(n,e){return n===e?"_index_":"_value_"}function YE(n){if(n==="x"||n==="y"||n==="r")return n}function ZO(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function dy(n,...e){if(YE(n))return n;for(const t of e){const r=t.axis||ZO(t.position)||n.length>1&&YE(n[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function KE(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function QO(n,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(r=>r.xAxisID===n||r.yAxisID===n);if(t.length)return KE(n,"x",t[0])||KE(n,"y",t[0])}return{}}function e8(n,e){const t=Fh[n.type]||{scales:{}},r=e.scales||{},i=hy(n.type,e),s=Object.create(null);return Object.keys(r).forEach(a=>{const o=r[a];if(!Xn(o))return console.error(`Invalid scale configuration for scale: ${a}`);if(o._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const l=dy(a,o,QO(a,n),Yr.scales[o.type]),c=JO(l,i),f=t.scales||{};s[a]=Up(Object.create(null),[{axis:l},o,f[l],f[c]])}),n.data.datasets.forEach(a=>{const o=a.type||n.type,l=a.indexAxis||hy(o,e),f=(Fh[o]||{}).scales||{};Object.keys(f).forEach(d=>{const p=KO(d,l),m=a[p+"AxisID"]||p;s[m]=s[m]||Object.create(null),Up(s[m],[{axis:p},r[m],f[d]])})}),Object.keys(s).forEach(a=>{const o=s[a];Up(o,[Yr.scales[o.type],Yr.scale])}),s}function V4(n){const e=n.options||(n.options={});e.plugins=Rn(e.plugins,{}),e.scales=e8(n,e)}function W4(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function t8(n){return n=n||{},n.data=W4(n.data),V4(n),n}const JE=new Map,G4=new Set;function Rg(n,e){let t=JE.get(n);return t||(t=e(),JE.set(n,t),G4.add(t)),t}const fp=(n,e,t)=>{const r=mf(e,t);r!==void 0&&n.add(r)};class n8{constructor(e){this._config=t8(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=W4(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),V4(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Rg(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return Rg(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return Rg(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,r=this.type;return Rg(`${r}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const r=this._scopeCache;let i=r.get(e);return(!i||t)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,t,r){const{options:i,type:s}=this,a=this._cachedScopes(e,r),o=a.get(t);if(o)return o;const l=new Set;t.forEach(f=>{e&&(l.add(e),f.forEach(d=>fp(l,e,d))),f.forEach(d=>fp(l,i,d)),f.forEach(d=>fp(l,Fh[s]||{},d)),f.forEach(d=>fp(l,Yr,d)),f.forEach(d=>fp(l,cy,d))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),G4.has(t)&&a.set(t,c),c}chartOptionScopes(){const{options:e,type:t}=this;return[e,Fh[t]||{},Yr.datasets[t]||{},{type:t},Yr,cy]}resolveNamedOptions(e,t,r,i=[""]){const s={$shared:!0},{resolver:a,subPrefixes:o}=ZE(this._resolverCache,e,i);let l=a;if(i8(a,t)){s.$shared=!1,r=gf(r)?r():r;const c=this.createResolver(e,r,o);l=b0(a,r,c)}for(const c of t)s[c]=l[c];return s}createResolver(e,t,r=[""],i){const{resolver:s}=ZE(this._resolverCache,e,r);return Xn(t)?b0(s,t,void 0,i):s}}function ZE(n,e,t){let r=n.get(e);r||(r=new Map,n.set(e,r));const i=t.join();let s=r.get(i);return s||(s={resolver:ab(e,t),subPrefixes:t.filter(o=>!o.toLowerCase().includes("hover"))},r.set(i,s)),s}const r8=n=>Xn(n)&&Object.getOwnPropertyNames(n).some(e=>gf(n[e]));function i8(n,e){const{isScriptable:t,isIndexable:r}=S4(n);for(const i of e){const s=t(i),a=r(i),o=(a||s)&&n[i];if(s&&(gf(o)||r8(o))||a&&$r(o))return!0}return!1}var s8="4.5.0";const a8=["top","bottom","left","right","chartArea"];function QE(n,e){return n==="top"||n==="bottom"||a8.indexOf(n)===-1&&e==="x"}function eA(n,e){return function(t,r){return t[n]===r[n]?t[e]-r[e]:t[n]-r[n]}}function tA(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),Nr(t&&t.onComplete,[n],e)}function o8(n){const e=n.chart,t=e.options.animation;Nr(t&&t.onProgress,[n],e)}function q4(n){return cb()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const G1={},nA=n=>{const e=q4(n);return Object.values(G1).filter(t=>t.canvas===e).pop()};function l8(n,e,t){const r=Object.keys(n);for(const i of r){const s=+i;if(s>=e){const a=n[i];delete n[i],(t>0||s>e)&&(n[s+t]=a)}}}function c8(n,e,t,r){return!t||n.type==="mouseout"?null:r?e:n}class Oc{static register(...e){Ul.add(...e),rA()}static unregister(...e){Ul.remove(...e),rA()}constructor(e,t){const r=this.config=new n8(t),i=q4(e),s=nA(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const a=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||MO(i)),this.platform.updateConfig(r);const o=this.platform.acquireContext(i,a.aspectRatio),l=o&&o.canvas,c=l&&l.height,f=l&&l.width;if(this.id=u6(),this.ctx=o,this.canvas=l,this.width=f,this.height=c,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new GO,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=M6(d=>this.update(d),a.resizeDelay||0),this._dataChanges=[],G1[this.id]=this,!o||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Lc.listen(this,"complete",tA),Lc.listen(this,"progress",o8),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:r,height:i,_aspectRatio:s}=this;return Gn(e)?t&&s?s:i?r/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Ul}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():AE(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return bE(this.canvas,this.ctx),this}stop(){return Lc.stop(this),this}resize(e,t){Lc.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const r=this.options,i=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(i,e,t,s),o=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,AE(this,o,!0)&&(this.notifyPlugins("resize",{size:a}),Nr(r.onResize,[this,a],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};br(t,(r,i)=>{r.id=i})}buildOrUpdateScales(){const e=this.options,t=e.scales,r=this.scales,i=Object.keys(r).reduce((a,o)=>(a[o]=!1,a),{});let s=[];t&&(s=s.concat(Object.keys(t).map(a=>{const o=t[a],l=dy(a,o),c=l==="r",f=l==="x";return{options:o,dposition:c?"chartArea":f?"bottom":"left",dtype:c?"radialLinear":f?"category":"linear"}}))),br(s,a=>{const o=a.options,l=o.id,c=dy(l,o),f=Rn(o.type,a.dtype);(o.position===void 0||QE(o.position,c)!==QE(a.dposition))&&(o.position=a.dposition),i[l]=!0;let d=null;if(l in r&&r[l].type===f)d=r[l];else{const p=Ul.getScale(f);d=new p({id:l,type:f,ctx:this.ctx,chart:this}),r[d.id]=d}d.init(o,e)}),br(i,(a,o)=>{a||delete r[o]}),br(r,a=>{Os.configure(this,a,a.options),Os.addBox(this,a)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,r=e.length;if(e.sort((i,s)=>i.index-s.index),r>t){for(let i=t;i<r;++i)this._destroyDatasetMeta(i);e.splice(t,r-t)}this._sortedMetasets=e.slice(0).sort(eA("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((r,i)=>{t.filter(s=>s===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=t.length;r<i;r++){const s=t[r];let a=this.getDatasetMeta(r);const o=s.type||this.config.type;if(a.type&&a.type!==o&&(this._destroyDatasetMeta(r),a=this.getDatasetMeta(r)),a.type=o,a.indexAxis=s.indexAxis||hy(o,this.options),a.order=s.order||0,a.index=r,a.label=""+s.label,a.visible=this.isDatasetVisible(r),a.controller)a.controller.updateIndex(r),a.controller.linkScales();else{const l=Ul.getController(o),{datasetElementType:c,dataElementType:f}=Yr.datasets[o];Object.assign(l,{dataElementType:Ul.getElement(f),datasetElementType:c&&Ul.getElement(c)}),a.controller=new l(this,r),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){br(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const r=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let c=0,f=this.data.datasets.length;c<f;c++){const{controller:d}=this.getDatasetMeta(c),p=!i&&s.indexOf(d)===-1;d.buildOrUpdateElements(p),a=Math.max(+d.getMaxOverflow(),a)}a=this._minPadding=r.layout.autoPadding?a:0,this._updateLayout(a),i||br(s,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(eA("z","_idx"));const{_active:o,_lastEvent:l}=this;l?this._eventHandler(l,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){br(this.scales,e=>{Os.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!dE(t,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:s}of t){const a=r==="_removeElements"?-s:s;l8(e,i,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,r=s=>new Set(e.filter(a=>a[0]===s).map((a,o)=>o+","+a.splice(1).join(","))),i=r(0);for(let s=1;s<t;s++)if(!dE(i,r(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Os.update(this,this.width,this.height,e);const t=this.chartArea,r=t.width<=0||t.height<=0;this._layers=[],br(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,r=this.data.datasets.length;t<r;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,r=this.data.datasets.length;t<r;++t)this._updateDataset(t,gf(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const r=this.getDatasetMeta(e),i={meta:r,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(t),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Lc.has(this)?this.attached&&!Lc.running(this)&&Lc.start(this):(this.draw(),tA({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,r=[];let i,s;for(i=0,s=t.length;i<s;++i){const a=t[i];(!e||a.visible)&&r.push(a)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,r={meta:e,index:e.index,cancelable:!0},i=F4(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(i&&tv(t,i),e.controller.draw(),i&&nv(t),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return zc(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,r,i){const s=aO.modes[t];return typeof s=="function"?s(this,e,r,i):[]}getDatasetMeta(e){const t=this.data.datasets[e],r=this._metasets;let i=r.filter(s=>s&&s._dataset===t).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=Af(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!t.hidden}setDatasetVisibility(e,t){const r=this.getDatasetMeta(e);r.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,r){const i=r?"show":"hide",s=this.getDatasetMeta(e),a=s.controller._resolveAnimations(void 0,i);sm(t)?(s.data[t].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),a.update(s,{visible:r}),this.update(o=>o.datasetIndex===e?i:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),Lc.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),bE(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete G1[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,r=(s,a)=>{t.addEventListener(this,s,a),e[s]=a},i=(s,a,o)=>{s.offsetX=a,s.offsetY=o,this._eventHandler(s)};br(this.options.events,s=>r(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,r=(l,c)=>{t.addEventListener(this,l,c),e[l]=c},i=(l,c)=>{e[l]&&(t.removeEventListener(this,l,c),delete e[l])},s=(l,c)=>{this.canvas&&this.resize(l,c)};let a;const o=()=>{i("attach",o),this.attached=!0,this.resize(),r("resize",s),r("detach",a)};a=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),r("attach",o)},t.isAttached(this.canvas)?o():a()}unbindEvents(){br(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},br(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,r){const i=r?"set":"remove";let s,a,o,l;for(t==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),o=0,l=e.length;o<l;++o){a=e[o];const c=a&&this.getDatasetMeta(a.datasetIndex).controller;c&&c[i+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],r=e.map(({datasetIndex:s,index:a})=>{const o=this.getDatasetMeta(s);if(!o)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:o.data[a],index:a}});!mx(r,t)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,t))}notifyPlugins(e,t,r){return this._plugins.notify(this,e,t,r)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,r){const i=this.options.hover,s=(l,c)=>l.filter(f=>!c.some(d=>f.datasetIndex===d.datasetIndex&&f.index===d.index)),a=s(t,e),o=r?e:s(e,t);a.length&&this.updateHoverStyle(a,i.mode,!1),o.length&&i.mode&&this.updateHoverStyle(o,i.mode,!0)}_eventHandler(e,t){const r={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},i=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const s=this._handleEvent(e,t,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(s||r.changed)&&this.render(),this}_handleEvent(e,t,r){const{_active:i=[],options:s}=this,a=t,o=this._getActiveElements(e,i,r,a),l=g6(e),c=c8(e,this._lastEvent,r,l);r&&(this._lastEvent=null,Nr(s.onHover,[e,o,this],this),l&&Nr(s.onClick,[e,o,this],this));const f=!mx(o,i);return(f||t)&&(this._active=o,this._updateHoverStyles(o,i,t)),this._lastEvent=c,f}_getActiveElements(e,t,r,i){if(e.type==="mouseout")return[];if(!r)return t;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,i)}}Gt(Oc,"defaults",Yr),Gt(Oc,"instances",G1),Gt(Oc,"overrides",Fh),Gt(Oc,"registry",Ul),Gt(Oc,"version",s8),Gt(Oc,"getChart",nA);function rA(){return br(Oc.instances,n=>n._plugins.invalidate())}function u8(n,e,t){const{startAngle:r,x:i,y:s,outerRadius:a,innerRadius:o,options:l}=e,{borderWidth:c,borderJoinStyle:f}=l,d=Math.min(c/a,Ls(r-t));if(n.beginPath(),n.arc(i,s,a-c/2,r+d/2,t-d/2),o>0){const p=Math.min(c/o,Ls(r-t));n.arc(i,s,o+c/2,t-p/2,r+p/2,!0)}else{const p=Math.min(c/2,a*Ls(r-t));if(f==="round")n.arc(i,s,p,t-or/2,r+or/2,!0);else if(f==="bevel"){const m=2*p*p,_=-m*Math.cos(t+or/2)+i,x=-m*Math.sin(t+or/2)+s,g=m*Math.cos(r+or/2)+i,y=m*Math.sin(r+or/2)+s;n.lineTo(_,x),n.lineTo(g,y)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function f8(n,e,t){const{startAngle:r,pixelMargin:i,x:s,y:a,outerRadius:o,innerRadius:l}=e;let c=i/o;n.beginPath(),n.arc(s,a,o,r-c,t+c),l>i?(c=i/l,n.arc(s,a,l,t+c,r-c,!0)):n.arc(s,a,i,t+bi,r-bi),n.closePath(),n.clip()}function h8(n){return sb(n,["outerStart","outerEnd","innerStart","innerEnd"])}function d8(n,e,t,r){const i=h8(n.options.borderRadius),s=(t-e)/2,a=Math.min(s,r*e/2),o=l=>{const c=(t-Math.min(s,l))*r/2;return Qi(l,0,Math.min(s,c))};return{outerStart:o(i.outerStart),outerEnd:o(i.outerEnd),innerStart:Qi(i.innerStart,0,a),innerEnd:Qi(i.innerEnd,0,a)}}function Cd(n,e,t,r){return{x:t+n*Math.cos(e),y:r+n*Math.sin(e)}}function wx(n,e,t,r,i,s){const{x:a,y:o,startAngle:l,pixelMargin:c,innerRadius:f}=e,d=Math.max(e.outerRadius+r+t-c,0),p=f>0?f+r+t+c:0;let m=0;const _=i-l;if(r){const ae=f>0?f-r:0,ie=d>0?d-r:0,ue=(ae+ie)/2,J=ue!==0?_*ue/(ue+r):_;m=(_-J)/2}const x=Math.max(.001,_*d-t/or)/d,g=(_-x)/2,y=l+g+m,A=i-g-m,{outerStart:E,outerEnd:M,innerStart:D,innerEnd:U}=d8(e,p,d,A-y),L=d-E,I=d-M,R=y+E/L,O=A-M/I,N=p+D,k=p+U,j=y+D/N,G=A-U/k;if(n.beginPath(),s){const ae=(R+O)/2;if(n.arc(a,o,d,R,ae),n.arc(a,o,d,ae,O),M>0){const X=Cd(I,O,a,o);n.arc(X.x,X.y,M,O,A+bi)}const ie=Cd(k,A,a,o);if(n.lineTo(ie.x,ie.y),U>0){const X=Cd(k,G,a,o);n.arc(X.x,X.y,U,A+bi,G+Math.PI)}const ue=(A-U/p+(y+D/p))/2;if(n.arc(a,o,p,A-U/p,ue,!0),n.arc(a,o,p,ue,y+D/p,!0),D>0){const X=Cd(N,j,a,o);n.arc(X.x,X.y,D,j+Math.PI,y-bi)}const J=Cd(L,y,a,o);if(n.lineTo(J.x,J.y),E>0){const X=Cd(L,R,a,o);n.arc(X.x,X.y,E,y-bi,R)}}else{n.moveTo(a,o);const ae=Math.cos(R)*d+a,ie=Math.sin(R)*d+o;n.lineTo(ae,ie);const ue=Math.cos(O)*d+a,J=Math.sin(O)*d+o;n.lineTo(ue,J)}n.closePath()}function p8(n,e,t,r,i){const{fullCircles:s,startAngle:a,circumference:o}=e;let l=e.endAngle;if(s){wx(n,e,t,r,l,i);for(let c=0;c<s;++c)n.fill();isNaN(o)||(l=a+(o%Hr||Hr))}return wx(n,e,t,r,l,i),n.fill(),l}function m8(n,e,t,r,i){const{fullCircles:s,startAngle:a,circumference:o,options:l}=e,{borderWidth:c,borderJoinStyle:f,borderDash:d,borderDashOffset:p,borderRadius:m}=l,_=l.borderAlign==="inner";if(!c)return;n.setLineDash(d||[]),n.lineDashOffset=p,_?(n.lineWidth=c*2,n.lineJoin=f||"round"):(n.lineWidth=c,n.lineJoin=f||"bevel");let x=e.endAngle;if(s){wx(n,e,t,r,x,i);for(let g=0;g<s;++g)n.stroke();isNaN(o)||(x=a+(o%Hr||Hr))}_&&f8(n,e,x),l.selfJoin&&x-a>=or&&m===0&&f!=="miter"&&u8(n,e,x),s||(wx(n,e,t,r,x,i),n.stroke())}class Mp extends fl{constructor(t){super();Gt(this,"circumference");Gt(this,"endAngle");Gt(this,"fullCircles");Gt(this,"innerRadius");Gt(this,"outerRadius");Gt(this,"pixelMargin");Gt(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,r,i){const s=this.getProps(["x","y"],i),{angle:a,distance:o}=d4(s,{x:t,y:r}),{startAngle:l,endAngle:c,innerRadius:f,outerRadius:d,circumference:p}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),m=(this.options.spacing+this.options.borderWidth)/2,_=Rn(p,c-l),x=am(a,l,c)&&l!==c,g=_>=Hr||x,y=Uc(o,f+m,d+m);return g&&y}getCenterPoint(t){const{x:r,y:i,startAngle:s,endAngle:a,innerRadius:o,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:c,spacing:f}=this.options,d=(s+a)/2,p=(o+l+f+c)/2;return{x:r+Math.cos(d)*p,y:i+Math.sin(d)*p}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:r,circumference:i}=this,s=(r.offset||0)/4,a=(r.spacing||0)/2,o=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=i>Hr?Math.floor(i/Hr):0,i===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const l=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(l)*s,Math.sin(l)*s);const c=1-Math.sin(Math.min(or,i||0)),f=s*c;t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,p8(t,this,f,a,o),m8(t,this,f,a,o),t.restore()}}Gt(Mp,"id","arc"),Gt(Mp,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),Gt(Mp,"defaultRoutes",{backgroundColor:"backgroundColor"}),Gt(Mp,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"});function X4(n,e,t=e){n.lineCap=Rn(t.borderCapStyle,e.borderCapStyle),n.setLineDash(Rn(t.borderDash,e.borderDash)),n.lineDashOffset=Rn(t.borderDashOffset,e.borderDashOffset),n.lineJoin=Rn(t.borderJoinStyle,e.borderJoinStyle),n.lineWidth=Rn(t.borderWidth,e.borderWidth),n.strokeStyle=Rn(t.borderColor,e.borderColor)}function g8(n,e,t){n.lineTo(t.x,t.y)}function x8(n){return n.stepped?B6:n.tension||n.cubicInterpolationMode==="monotone"?z6:g8}function $4(n,e,t={}){const r=n.length,{start:i=0,end:s=r-1}=t,{start:a,end:o}=e,l=Math.max(i,a),c=Math.min(s,o),f=i<a&&s<a||i>o&&s>o;return{count:r,start:l,loop:e.loop,ilen:c<l&&!f?r+c-l:c-l}}function v8(n,e,t,r){const{points:i,options:s}=e,{count:a,start:o,loop:l,ilen:c}=$4(i,t,r),f=x8(s);let{move:d=!0,reverse:p}=r||{},m,_,x;for(m=0;m<=c;++m)_=i[(o+(p?c-m:m))%a],!_.skip&&(d?(n.moveTo(_.x,_.y),d=!1):f(n,x,_,p,s.stepped),x=_);return l&&(_=i[(o+(p?c:0))%a],f(n,x,_,p,s.stepped)),!!l}function _8(n,e,t,r){const i=e.points,{count:s,start:a,ilen:o}=$4(i,t,r),{move:l=!0,reverse:c}=r||{};let f=0,d=0,p,m,_,x,g,y;const A=M=>(a+(c?o-M:M))%s,E=()=>{x!==g&&(n.lineTo(f,g),n.lineTo(f,x),n.lineTo(f,y))};for(l&&(m=i[A(0)],n.moveTo(m.x,m.y)),p=0;p<=o;++p){if(m=i[A(p)],m.skip)continue;const M=m.x,D=m.y,U=M|0;U===_?(D<x?x=D:D>g&&(g=D),f=(d*f+M)/++d):(E(),n.lineTo(M,D),_=U,d=0,x=g=D),y=D}E()}function py(n){const e=n.options,t=e.borderDash&&e.borderDash.length;return!n._decimated&&!n._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?_8:v8}function y8(n){return n.stepped?vI:n.tension||n.cubicInterpolationMode==="monotone"?_I:dh}function w8(n,e,t,r){let i=e._path;i||(i=e._path=new Path2D,e.path(i,t,r)&&i.closePath()),X4(n,e.options),n.stroke(i)}function b8(n,e,t,r){const{segments:i,options:s}=e,a=py(e);for(const o of i)X4(n,s,o.style),n.beginPath(),a(n,e,o,{start:t,end:t+r-1})&&n.closePath(),n.stroke()}const S8=typeof Path2D=="function";function E8(n,e,t,r){S8&&!e.options.segment?w8(n,e,t,r):b8(n,e,t,r)}class Qu extends fl{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const i=r.spanGaps?this._loop:this._fullLoop;uI(this._points,r,e,i,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=AI(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,r=e.length;return r&&t[e[r-1].end]}interpolate(e,t){const r=this.options,i=e[t],s=this.points,a=N4(this,{property:t,start:i,end:i});if(!a.length)return;const o=[],l=y8(r);let c,f;for(c=0,f=a.length;c<f;++c){const{start:d,end:p}=a[c],m=s[d],_=s[p];if(m===_){o.push(m);continue}const x=Math.abs((i-m[t])/(_[t]-m[t])),g=l(m,_,x,r.stepped);g[t]=e[t],o.push(g)}return o.length===1?o[0]:o}pathSegment(e,t,r){return py(this)(e,this,t,r)}path(e,t,r){const i=this.segments,s=py(this);let a=this._loop;t=t||0,r=r||this.points.length-t;for(const o of i)a&=s(e,this,o,{start:t,end:t+r-1});return!!a}draw(e,t,r,i){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),E8(e,this,r,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Gt(Qu,"id","line"),Gt(Qu,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Gt(Qu,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Gt(Qu,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function iA(n,e,t,r){const i=n.options,{[t]:s}=n.getProps([t],r);return Math.abs(e-s)<i.radius+i.hitRadius}class q1 extends fl{constructor(t){super();Gt(this,"parsed");Gt(this,"skip");Gt(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,r,i){const s=this.options,{x:a,y:o}=this.getProps(["x","y"],i);return Math.pow(t-a,2)+Math.pow(r-o,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(t,r){return iA(this,t,"x",r)}inYRange(t,r){return iA(this,t,"y",r)}getCenterPoint(t){const{x:r,y:i}=this.getProps(["x","y"],t);return{x:r,y:i}}size(t){t=t||this.options||{};let r=t.radius||0;r=Math.max(r,r&&t.hoverRadius||0);const i=r&&t.borderWidth||0;return(r+i)*2}draw(t,r){const i=this.options;this.skip||i.radius<.1||!zc(this,r,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,uy(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}Gt(q1,"id","point"),Gt(q1,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Gt(q1,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function Y4(n,e){const{x:t,y:r,base:i,width:s,height:a}=n.getProps(["x","y","base","width","height"],e);let o,l,c,f,d;return n.horizontal?(d=a/2,o=Math.min(t,i),l=Math.max(t,i),c=r-d,f=r+d):(d=s/2,o=t-d,l=t+d,c=Math.min(r,i),f=Math.max(r,i)),{left:o,top:c,right:l,bottom:f}}function ef(n,e,t,r){return n?0:Qi(e,t,r)}function A8(n,e,t){const r=n.options.borderWidth,i=n.borderSkipped,s=b4(r);return{t:ef(i.top,s.top,0,t),r:ef(i.right,s.right,0,e),b:ef(i.bottom,s.bottom,0,t),l:ef(i.left,s.left,0,e)}}function T8(n,e,t){const{enableBorderRadius:r}=n.getProps(["enableBorderRadius"]),i=n.options.borderRadius,s=Mh(i),a=Math.min(e,t),o=n.borderSkipped,l=r||Xn(i);return{topLeft:ef(!l||o.top||o.left,s.topLeft,0,a),topRight:ef(!l||o.top||o.right,s.topRight,0,a),bottomLeft:ef(!l||o.bottom||o.left,s.bottomLeft,0,a),bottomRight:ef(!l||o.bottom||o.right,s.bottomRight,0,a)}}function M8(n){const e=Y4(n),t=e.right-e.left,r=e.bottom-e.top,i=A8(n,t/2,r/2),s=T8(n,t/2,r/2);return{outer:{x:e.left,y:e.top,w:t,h:r,radius:s},inner:{x:e.left+i.l,y:e.top+i.t,w:t-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,s.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(i.b,i.r))}}}}function z2(n,e,t,r){const i=e===null,s=t===null,o=n&&!(i&&s)&&Y4(n,r);return o&&(i||Uc(e,o.left,o.right))&&(s||Uc(t,o.top,o.bottom))}function C8(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function P8(n,e){n.rect(e.x,e.y,e.w,e.h)}function H2(n,e,t={}){const r=n.x!==t.x?-e:0,i=n.y!==t.y?-e:0,s=(n.x+n.w!==t.x+t.w?e:0)-r,a=(n.y+n.h!==t.y+t.h?e:0)-i;return{x:n.x+r,y:n.y+i,w:n.w+s,h:n.h+a,radius:n.radius}}class X1 extends fl{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:r,backgroundColor:i}}=this,{inner:s,outer:a}=M8(this),o=C8(a.radius)?om:P8;e.save(),(a.w!==s.w||a.h!==s.h)&&(e.beginPath(),o(e,H2(a,t,s)),e.clip(),o(e,H2(s,-t,a)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),o(e,H2(s,t)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,t,r){return z2(this,e,t,r)}inXRange(e,t){return z2(this,e,null,t)}inYRange(e,t){return z2(this,null,e,t)}getCenterPoint(e){const{x:t,y:r,base:i,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(t+i)/2:t,y:s?r:(r+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}Gt(X1,"id","bar"),Gt(X1,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Gt(X1,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var k8=Object.freeze({__proto__:null,ArcElement:Mp,BarElement:X1,LineElement:Qu,PointElement:q1});const my=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],sA=my.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function K4(n){return my[n%my.length]}function J4(n){return sA[n%sA.length]}function R8(n,e){return n.borderColor=K4(e),n.backgroundColor=J4(e),++e}function L8(n,e){return n.backgroundColor=n.data.map(()=>K4(e++)),e}function N8(n,e){return n.backgroundColor=n.data.map(()=>J4(e++)),e}function F8(n){let e=0;return(t,r)=>{const i=n.getDatasetMeta(r).controller;i instanceof wh?e=L8(t,e):i instanceof jp?e=N8(t,e):i&&(e=R8(t,e))}}function aA(n){let e;for(e in n)if(n[e].borderColor||n[e].backgroundColor)return!0;return!1}function D8(n){return n&&(n.borderColor||n.backgroundColor)}function I8(){return Yr.borderColor!=="rgba(0,0,0,0.1)"||Yr.backgroundColor!=="rgba(0,0,0,0.1)"}var O8={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,e,t){if(!t.enabled)return;const{data:{datasets:r},options:i}=n.config,{elements:s}=i,a=aA(r)||D8(i)||s&&aA(s)||I8();if(!t.forceOverride&&a)return;const o=F8(n);r.forEach(o)}};function U8(n,e,t,r,i){const s=i.samples||r;if(s>=t)return n.slice(e,e+t);const a=[],o=(t-2)/(s-2);let l=0;const c=e+t-1;let f=e,d,p,m,_,x;for(a[l++]=n[f],d=0;d<s-2;d++){let g=0,y=0,A;const E=Math.floor((d+1)*o)+1+e,M=Math.min(Math.floor((d+2)*o)+1,t)+e,D=M-E;for(A=E;A<M;A++)g+=n[A].x,y+=n[A].y;g/=D,y/=D;const U=Math.floor(d*o)+1+e,L=Math.min(Math.floor((d+1)*o)+1,t)+e,{x:I,y:R}=n[f];for(m=_=-1,A=U;A<L;A++)_=.5*Math.abs((I-g)*(n[A].y-R)-(I-n[A].x)*(y-R)),_>m&&(m=_,p=n[A],x=A);a[l++]=p,f=x}return a[l++]=n[c],a}function B8(n,e,t,r){let i=0,s=0,a,o,l,c,f,d,p,m,_,x;const g=[],y=e+t-1,A=n[e].x,M=n[y].x-A;for(a=e;a<e+t;++a){o=n[a],l=(o.x-A)/M*r,c=o.y;const D=l|0;if(D===f)c<_?(_=c,d=a):c>x&&(x=c,p=a),i=(s*i+o.x)/++s;else{const U=a-1;if(!Gn(d)&&!Gn(p)){const L=Math.min(d,p),I=Math.max(d,p);L!==m&&L!==U&&g.push({...n[L],x:i}),I!==m&&I!==U&&g.push({...n[I],x:i})}a>0&&U!==m&&g.push(n[U]),g.push(o),f=D,s=0,_=x=c,d=p=m=a}}return g}function Z4(n){if(n._decimated){const e=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function oA(n){n.data.datasets.forEach(e=>{Z4(e)})}function z8(n,e){const t=e.length;let r=0,i;const{iScale:s}=n,{min:a,max:o,minDefined:l,maxDefined:c}=s.getUserBounds();return l&&(r=Qi(Bc(e,s.axis,a).lo,0,t-1)),c?i=Qi(Bc(e,s.axis,o).hi+1,r,t)-r:i=t-r,{start:r,count:i}}var H8={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,e,t)=>{if(!t.enabled){oA(n);return}const r=n.width;n.data.datasets.forEach((i,s)=>{const{_data:a,indexAxis:o}=i,l=n.getDatasetMeta(s),c=a||i.data;if(Ap([o,n.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const f=n.scales[l.xAxisID];if(f.type!=="linear"&&f.type!=="time"||n.options.parsing)return;let{start:d,count:p}=z8(l,c);const m=t.threshold||4*r;if(p<=m){Z4(i);return}Gn(a)&&(i._data=c,delete i.data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(x){this._data=x}}));let _;switch(t.algorithm){case"lttb":_=U8(c,d,p,r,t);break;case"min-max":_=B8(c,d,p,r);break;default:throw new Error(`Unsupported decimation algorithm '${t.algorithm}'`)}i._decimated=_})},destroy(n){oA(n)}};function j8(n,e,t){const r=n.segments,i=n.points,s=e.points,a=[];for(const o of r){let{start:l,end:c}=o;c=sv(l,c,i);const f=gy(t,i[l],i[c],o.loop);if(!e.segments){a.push({source:o,target:f,start:i[l],end:i[c]});continue}const d=N4(e,f);for(const p of d){const m=gy(t,s[p.start],s[p.end],p.loop),_=L4(o,i,m);for(const x of _)a.push({source:x,target:p,start:{[t]:lA(f,m,"start",Math.max)},end:{[t]:lA(f,m,"end",Math.min)}})}}return a}function gy(n,e,t,r){if(r)return;let i=e[n],s=t[n];return n==="angle"&&(i=Ls(i),s=Ls(s)),{property:n,start:i,end:s}}function V8(n,e){const{x:t=null,y:r=null}=n||{},i=e.points,s=[];return e.segments.forEach(({start:a,end:o})=>{o=sv(a,o,i);const l=i[a],c=i[o];r!==null?(s.push({x:l.x,y:r}),s.push({x:c.x,y:r})):t!==null&&(s.push({x:t,y:l.y}),s.push({x:t,y:c.y}))}),s}function sv(n,e,t){for(;e>n;e--){const r=t[e];if(!isNaN(r.x)&&!isNaN(r.y))break}return e}function lA(n,e,t,r){return n&&e?r(n[t],e[t]):n?n[t]:e?e[t]:0}function Q4(n,e){let t=[],r=!1;return $r(n)?(r=!0,t=n):t=V8(n,e),t.length?new Qu({points:t,options:{tension:0},_loop:r,_fullLoop:r}):null}function cA(n){return n&&n.fill!==!1}function W8(n,e,t){let i=n[e].fill;const s=[e];let a;if(!t)return i;for(;i!==!1&&s.indexOf(i)===-1;){if(!ui(i))return i;if(a=n[i],!a)return!1;if(a.visible)return i;s.push(i),i=a.fill}return!1}function G8(n,e,t){const r=Y8(n);if(Xn(r))return isNaN(r.value)?!1:r;let i=parseFloat(r);return ui(i)&&Math.floor(i)===i?q8(r[0],e,i,t):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function q8(n,e,t,r){return(n==="-"||n==="+")&&(t=e+t),t===e||t<0||t>=r?!1:t}function X8(n,e){let t=null;return n==="start"?t=e.bottom:n==="end"?t=e.top:Xn(n)?t=e.getPixelForValue(n.value):e.getBasePixel&&(t=e.getBasePixel()),t}function $8(n,e,t){let r;return n==="start"?r=t:n==="end"?r=e.options.reverse?e.min:e.max:Xn(n)?r=n.value:r=e.getBaseValue(),r}function Y8(n){const e=n.options,t=e.fill;let r=Rn(t&&t.target,t);return r===void 0&&(r=!!e.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function K8(n){const{scale:e,index:t,line:r}=n,i=[],s=r.segments,a=r.points,o=J8(e,t);o.push(Q4({x:null,y:e.bottom},r));for(let l=0;l<s.length;l++){const c=s[l];for(let f=c.start;f<=c.end;f++)Z8(i,a[f],o)}return new Qu({points:i,options:{}})}function J8(n,e){const t=[],r=n.getMatchingVisibleMetas("line");for(let i=0;i<r.length;i++){const s=r[i];if(s.index===e)break;s.hidden||t.unshift(s.dataset)}return t}function Z8(n,e,t){const r=[];for(let i=0;i<t.length;i++){const s=t[i],{first:a,last:o,point:l}=Q8(s,e,"x");if(!(!l||a&&o)){if(a)r.unshift(l);else if(n.push(l),!o)break}}n.push(...r)}function Q8(n,e,t){const r=n.interpolate(e,t);if(!r)return{};const i=r[t],s=n.segments,a=n.points;let o=!1,l=!1;for(let c=0;c<s.length;c++){const f=s[c],d=a[f.start][t],p=a[f.end][t];if(Uc(i,d,p)){o=i===d,l=i===p;break}}return{first:o,last:l,point:r}}class eC{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,r){const{x:i,y:s,radius:a}=this;return t=t||{start:0,end:Hr},e.arc(i,s,a,t.end,t.start,!0),!r.bounds}interpolate(e){const{x:t,y:r,radius:i}=this,s=e.angle;return{x:t+Math.cos(s)*i,y:r+Math.sin(s)*i,angle:s}}}function e7(n){const{chart:e,fill:t,line:r}=n;if(ui(t))return t7(e,t);if(t==="stack")return K8(n);if(t==="shape")return!0;const i=n7(n);return i instanceof eC?i:Q4(i,r)}function t7(n,e){const t=n.getDatasetMeta(e);return t&&n.isDatasetVisible(e)?t.dataset:null}function n7(n){return(n.scale||{}).getPointPositionForValue?i7(n):r7(n)}function r7(n){const{scale:e={},fill:t}=n,r=X8(t,e);if(ui(r)){const i=e.isHorizontal();return{x:i?r:null,y:i?null:r}}return null}function i7(n){const{scale:e,fill:t}=n,r=e.options,i=e.getLabels().length,s=r.reverse?e.max:e.min,a=$8(t,e,s),o=[];if(r.grid.circular){const l=e.getPointPositionForValue(0,s);return new eC({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(a)})}for(let l=0;l<i;++l)o.push(e.getPointPositionForValue(l,a));return o}function j2(n,e,t){const r=e7(e),{chart:i,index:s,line:a,scale:o,axis:l}=e,c=a.options,f=c.fill,d=c.backgroundColor,{above:p=d,below:m=d}=f||{},_=i.getDatasetMeta(s),x=F4(i,_);r&&a.points.length&&(tv(n,t),s7(n,{line:a,target:r,above:p,below:m,area:t,scale:o,axis:l,clip:x}),nv(n))}function s7(n,e){const{line:t,target:r,above:i,below:s,area:a,scale:o,clip:l}=e,c=t._loop?"angle":e.axis;n.save();let f=s;s!==i&&(c==="x"?(uA(n,r,a.top),V2(n,{line:t,target:r,color:i,scale:o,property:c,clip:l}),n.restore(),n.save(),uA(n,r,a.bottom)):c==="y"&&(fA(n,r,a.left),V2(n,{line:t,target:r,color:s,scale:o,property:c,clip:l}),n.restore(),n.save(),fA(n,r,a.right),f=i)),V2(n,{line:t,target:r,color:f,scale:o,property:c,clip:l}),n.restore()}function uA(n,e,t){const{segments:r,points:i}=e;let s=!0,a=!1;n.beginPath();for(const o of r){const{start:l,end:c}=o,f=i[l],d=i[sv(l,c,i)];s?(n.moveTo(f.x,f.y),s=!1):(n.lineTo(f.x,t),n.lineTo(f.x,f.y)),a=!!e.pathSegment(n,o,{move:a}),a?n.closePath():n.lineTo(d.x,t)}n.lineTo(e.first().x,t),n.closePath(),n.clip()}function fA(n,e,t){const{segments:r,points:i}=e;let s=!0,a=!1;n.beginPath();for(const o of r){const{start:l,end:c}=o,f=i[l],d=i[sv(l,c,i)];s?(n.moveTo(f.x,f.y),s=!1):(n.lineTo(t,f.y),n.lineTo(f.x,f.y)),a=!!e.pathSegment(n,o,{move:a}),a?n.closePath():n.lineTo(t,d.y)}n.lineTo(t,e.first().y),n.closePath(),n.clip()}function V2(n,e){const{line:t,target:r,property:i,color:s,scale:a,clip:o}=e,l=j8(t,r,i);for(const{source:c,target:f,start:d,end:p}of l){const{style:{backgroundColor:m=s}={}}=c,_=r!==!0;n.save(),n.fillStyle=m,a7(n,a,o,_&&gy(i,d,p)),n.beginPath();const x=!!t.pathSegment(n,c);let g;if(_){x?n.closePath():hA(n,r,p,i);const y=!!r.pathSegment(n,f,{move:x,reverse:!0});g=x&&y,g||hA(n,r,d,i)}n.closePath(),n.fill(g?"evenodd":"nonzero"),n.restore()}}function a7(n,e,t,r){const i=e.chart.chartArea,{property:s,start:a,end:o}=r||{};if(s==="x"||s==="y"){let l,c,f,d;s==="x"?(l=a,c=i.top,f=o,d=i.bottom):(l=i.left,c=a,f=i.right,d=o),n.beginPath(),t&&(l=Math.max(l,t.left),f=Math.min(f,t.right),c=Math.max(c,t.top),d=Math.min(d,t.bottom)),n.rect(l,c,f-l,d-c),n.clip()}}function hA(n,e,t,r){const i=e.interpolate(t,r);i&&n.lineTo(i.x,i.y)}var o7={id:"filler",afterDatasetsUpdate(n,e,t){const r=(n.data.datasets||[]).length,i=[];let s,a,o,l;for(a=0;a<r;++a)s=n.getDatasetMeta(a),o=s.dataset,l=null,o&&o.options&&o instanceof Qu&&(l={visible:n.isDatasetVisible(a),index:a,fill:G8(o,a,r),chart:n,axis:s.controller.options.indexAxis,scale:s.vScale,line:o}),s.$filler=l,i.push(l);for(a=0;a<r;++a)l=i[a],!(!l||l.fill===!1)&&(l.fill=W8(i,a,t.propagate))},beforeDraw(n,e,t){const r=t.drawTime==="beforeDraw",i=n.getSortedVisibleDatasetMetas(),s=n.chartArea;for(let a=i.length-1;a>=0;--a){const o=i[a].$filler;o&&(o.line.updateControlPoints(s,o.axis),r&&o.fill&&j2(n.ctx,o,s))}},beforeDatasetsDraw(n,e,t){if(t.drawTime!=="beforeDatasetsDraw")return;const r=n.getSortedVisibleDatasetMetas();for(let i=r.length-1;i>=0;--i){const s=r[i].$filler;cA(s)&&j2(n.ctx,s,n.chartArea)}},beforeDatasetDraw(n,e,t){const r=e.meta.$filler;!cA(r)||t.drawTime!=="beforeDatasetDraw"||j2(n.ctx,r,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const dA=(n,e)=>{let{boxHeight:t=e,boxWidth:r=e}=n;return n.usePointStyle&&(t=Math.min(t,e),r=n.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:t,itemHeight:Math.max(e,t)}},l7=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index;class pA extends fl{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,r){this.maxWidth=e,this.maxHeight=t,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=Nr(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(r=>e.filter(r,this.chart.data))),e.sort&&(t=t.sort((r,i)=>e.sort(r,i,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,i=Oi(r.font),s=i.size,a=this._computeTitleHeight(),{boxWidth:o,itemHeight:l}=dA(r,s);let c,f;t.font=i.string,this.isHorizontal()?(c=this.maxWidth,f=this._fitRows(a,s,o,l)+10):(f=this.maxHeight,c=this._fitCols(a,i,o,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(f,e.maxHeight||this.maxHeight)}_fitRows(e,t,r,i){const{ctx:s,maxWidth:a,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],f=i+o;let d=e;s.textAlign="left",s.textBaseline="middle";let p=-1,m=-f;return this.legendItems.forEach((_,x)=>{const g=r+t/2+s.measureText(_.text).width;(x===0||c[c.length-1]+g+2*o>a)&&(d+=f,c[c.length-(x>0?0:1)]=0,m+=f,p++),l[x]={left:0,top:m,row:p,width:g,height:i},c[c.length-1]+=g+o}),d}_fitCols(e,t,r,i){const{ctx:s,maxHeight:a,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],f=a-e;let d=o,p=0,m=0,_=0,x=0;return this.legendItems.forEach((g,y)=>{const{itemWidth:A,itemHeight:E}=c7(r,t,s,g,i);y>0&&m+E+2*o>f&&(d+=p+o,c.push({width:p,height:m}),_+=p+o,x++,p=m=0),l[y]={left:_,top:m,col:x,width:A,height:E},p=Math.max(p,A),m+=E+o}),d+=p,c.push({width:p,height:m}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:r,labels:{padding:i},rtl:s}}=this,a=a0(s,this.left,this.width);if(this.isHorizontal()){let o=0,l=Rs(r,this.left+i,this.right-this.lineWidths[o]);for(const c of t)o!==c.row&&(o=c.row,l=Rs(r,this.left+i,this.right-this.lineWidths[o])),c.top+=this.top+e+i,c.left=a.leftForLtr(a.x(l),c.width),l+=c.width+i}else{let o=0,l=Rs(r,this.top+e+i,this.bottom-this.columnSizes[o].height);for(const c of t)c.col!==o&&(o=c.col,l=Rs(r,this.top+e+i,this.bottom-this.columnSizes[o].height)),c.top=l,c.left+=this.left+i,c.left=a.leftForLtr(a.x(c.left),c.width),l+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;tv(e,this),this._draw(),nv(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:r,ctx:i}=this,{align:s,labels:a}=e,o=Yr.color,l=a0(e.rtl,this.left,this.width),c=Oi(a.font),{padding:f}=a,d=c.size,p=d/2;let m;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:_,boxHeight:x,itemHeight:g}=dA(a,d),y=function(U,L,I){if(isNaN(_)||_<=0||isNaN(x)||x<0)return;i.save();const R=Rn(I.lineWidth,1);if(i.fillStyle=Rn(I.fillStyle,o),i.lineCap=Rn(I.lineCap,"butt"),i.lineDashOffset=Rn(I.lineDashOffset,0),i.lineJoin=Rn(I.lineJoin,"miter"),i.lineWidth=R,i.strokeStyle=Rn(I.strokeStyle,o),i.setLineDash(Rn(I.lineDash,[])),a.usePointStyle){const O={radius:x*Math.SQRT2/2,pointStyle:I.pointStyle,rotation:I.rotation,borderWidth:R},N=l.xPlus(U,_/2),k=L+p;w4(i,O,N,k,a.pointStyleWidth&&_)}else{const O=L+Math.max((d-x)/2,0),N=l.leftForLtr(U,_),k=Mh(I.borderRadius);i.beginPath(),Object.values(k).some(j=>j!==0)?om(i,{x:N,y:O,w:_,h:x,radius:k}):i.rect(N,O,_,x),i.fill(),R!==0&&i.stroke()}i.restore()},A=function(U,L,I){Dh(i,I.text,U,L+g/2,c,{strikethrough:I.hidden,textAlign:l.textAlign(I.textAlign)})},E=this.isHorizontal(),M=this._computeTitleHeight();E?m={x:Rs(s,this.left+f,this.right-r[0]),y:this.top+f+M,line:0}:m={x:this.left+f,y:Rs(s,this.top+M+f,this.bottom-t[0].height),line:0},P4(this.ctx,e.textDirection);const D=g+f;this.legendItems.forEach((U,L)=>{i.strokeStyle=U.fontColor,i.fillStyle=U.fontColor;const I=i.measureText(U.text).width,R=l.textAlign(U.textAlign||(U.textAlign=a.textAlign)),O=_+p+I;let N=m.x,k=m.y;l.setWidth(this.width),E?L>0&&N+O+f>this.right&&(k=m.y+=D,m.line++,N=m.x=Rs(s,this.left+f,this.right-r[m.line])):L>0&&k+D>this.bottom&&(N=m.x=N+t[m.line].width+f,m.line++,k=m.y=Rs(s,this.top+M+f,this.bottom-t[m.line].height));const j=l.x(N);if(y(j,k,U),N=C6(R,N+_+p,E?N+O:this.right,e.rtl),A(l.x(N),k,U),E)m.x+=O+f;else if(typeof U.text!="string"){const G=c.lineHeight;m.y+=tC(U,G)+f}else m.y+=D}),k4(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,r=Oi(t.font),i=zs(t.padding);if(!t.display)return;const s=a0(e.rtl,this.left,this.width),a=this.ctx,o=t.position,l=r.size/2,c=i.top+l;let f,d=this.left,p=this.width;if(this.isHorizontal())p=Math.max(...this.lineWidths),f=this.top+c,d=Rs(e.align,d,this.right-p);else{const _=this.columnSizes.reduce((x,g)=>Math.max(x,g.height),0);f=c+Rs(e.align,this.top,this.bottom-_-e.labels.padding-this._computeTitleHeight())}const m=Rs(o,d,d+p);a.textAlign=s.textAlign(rb(o)),a.textBaseline="middle",a.strokeStyle=t.color,a.fillStyle=t.color,a.font=r.string,Dh(a,t.text,m,f,r)}_computeTitleHeight(){const e=this.options.title,t=Oi(e.font),r=zs(e.padding);return e.display?t.lineHeight+r.height:0}_getLegendItemAt(e,t){let r,i,s;if(Uc(e,this.left,this.right)&&Uc(t,this.top,this.bottom)){for(s=this.legendHitBoxes,r=0;r<s.length;++r)if(i=s[r],Uc(e,i.left,i.left+i.width)&&Uc(t,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(e){const t=this.options;if(!h7(e.type,t))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,s=l7(i,r);i&&!s&&Nr(t.onLeave,[e,i,this],this),this._hoveredItem=r,r&&!s&&Nr(t.onHover,[e,r,this],this)}else r&&Nr(t.onClick,[e,r,this],this)}}function c7(n,e,t,r,i){const s=u7(r,n,e,t),a=f7(i,r,e.lineHeight);return{itemWidth:s,itemHeight:a}}function u7(n,e,t,r){let i=n.text;return i&&typeof i!="string"&&(i=i.reduce((s,a)=>s.length>a.length?s:a)),e+t.size/2+r.measureText(i).width}function f7(n,e,t){let r=n;return typeof e.text!="string"&&(r=tC(e,t)),r}function tC(n,e){const t=n.text?n.text.length:0;return e*t}function h7(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var d7={id:"legend",_element:pA,start(n,e,t){const r=n.legend=new pA({ctx:n.ctx,options:t,chart:n});Os.configure(n,r,t),Os.addBox(n,r)},stop(n){Os.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const r=n.legend;Os.configure(n,r,t),r.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const r=e.datasetIndex,i=t.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:r,textAlign:i,color:s,useBorderRadius:a,borderRadius:o}}=n.legend.options;return n._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(t?0:void 0),f=zs(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(f.width+f.height)/4,strokeStyle:c.borderColor,pointStyle:r||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:a&&(o||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class hb extends fl{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;const i=$r(r.text)?r.text.length:1;this._padding=zs(r.padding);const s=i*Oi(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:t,left:r,bottom:i,right:s,options:a}=this,o=a.align;let l=0,c,f,d;return this.isHorizontal()?(f=Rs(o,r,s),d=t+e,c=s-r):(a.position==="left"?(f=r+e,d=Rs(o,i,t),l=or*-.5):(f=s-e,d=Rs(o,t,i),l=or*.5),c=i-t),{titleX:f,titleY:d,maxWidth:c,rotation:l}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const r=Oi(t.font),s=r.lineHeight/2+this._padding.top,{titleX:a,titleY:o,maxWidth:l,rotation:c}=this._drawArgs(s);Dh(e,t.text,0,0,r,{color:t.color,maxWidth:l,rotation:c,textAlign:rb(t.align),textBaseline:"middle",translation:[a,o]})}}function p7(n,e){const t=new hb({ctx:n.ctx,options:e,chart:n});Os.configure(n,t,e),Os.addBox(n,t),n.titleBlock=t}var m7={id:"title",_element:hb,start(n,e,t){p7(n,t)},stop(n){const e=n.titleBlock;Os.removeBox(n,e),delete n.titleBlock},beforeUpdate(n,e,t){const r=n.titleBlock;Os.configure(n,r,t),r.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Lg=new WeakMap;var g7={id:"subtitle",start(n,e,t){const r=new hb({ctx:n.ctx,options:t,chart:n});Os.configure(n,r,t),Os.addBox(n,r),Lg.set(n,r)},stop(n){Os.removeBox(n,Lg.get(n)),Lg.delete(n)},beforeUpdate(n,e,t){const r=Lg.get(n);Os.configure(n,r,t),r.options=t},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Cp={average(n){if(!n.length)return!1;let e,t,r=new Set,i=0,s=0;for(e=0,t=n.length;e<t;++e){const o=n[e].element;if(o&&o.hasValue()){const l=o.tooltipPosition();r.add(l.x),i+=l.y,++s}}return s===0||r.size===0?!1:{x:[...r].reduce((o,l)=>o+l)/r.size,y:i/s}},nearest(n,e){if(!n.length)return!1;let t=e.x,r=e.y,i=Number.POSITIVE_INFINITY,s,a,o;for(s=0,a=n.length;s<a;++s){const l=n[s].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),f=ly(e,c);f<i&&(i=f,o=l)}}if(o){const l=o.tooltipPosition();t=l.x,r=l.y}return{x:t,y:r}}};function Dl(n,e){return e&&($r(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function Nc(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function x7(n,e){const{element:t,datasetIndex:r,index:i}=e,s=n.getDatasetMeta(r).controller,{label:a,value:o}=s.getLabelAndValue(i);return{chart:n,label:a,parsed:s.getParsed(i),raw:n.data.datasets[r].data[i],formattedValue:o,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:t}}function mA(n,e){const t=n.chart.ctx,{body:r,footer:i,title:s}=n,{boxWidth:a,boxHeight:o}=e,l=Oi(e.bodyFont),c=Oi(e.titleFont),f=Oi(e.footerFont),d=s.length,p=i.length,m=r.length,_=zs(e.padding);let x=_.height,g=0,y=r.reduce((M,D)=>M+D.before.length+D.lines.length+D.after.length,0);if(y+=n.beforeBody.length+n.afterBody.length,d&&(x+=d*c.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),y){const M=e.displayColors?Math.max(o,l.lineHeight):l.lineHeight;x+=m*M+(y-m)*l.lineHeight+(y-1)*e.bodySpacing}p&&(x+=e.footerMarginTop+p*f.lineHeight+(p-1)*e.footerSpacing);let A=0;const E=function(M){g=Math.max(g,t.measureText(M).width+A)};return t.save(),t.font=c.string,br(n.title,E),t.font=l.string,br(n.beforeBody.concat(n.afterBody),E),A=e.displayColors?a+2+e.boxPadding:0,br(r,M=>{br(M.before,E),br(M.lines,E),br(M.after,E)}),A=0,t.font=f.string,br(n.footer,E),t.restore(),g+=_.width,{width:g,height:x}}function v7(n,e){const{y:t,height:r}=e;return t<r/2?"top":t>n.height-r/2?"bottom":"center"}function _7(n,e,t,r){const{x:i,width:s}=r,a=t.caretSize+t.caretPadding;if(n==="left"&&i+s+a>e.width||n==="right"&&i-s-a<0)return!0}function y7(n,e,t,r){const{x:i,width:s}=t,{width:a,chartArea:{left:o,right:l}}=n;let c="center";return r==="center"?c=i<=(o+l)/2?"left":"right":i<=s/2?c="left":i>=a-s/2&&(c="right"),_7(c,n,e,t)&&(c="center"),c}function gA(n,e,t){const r=t.yAlign||e.yAlign||v7(n,t);return{xAlign:t.xAlign||e.xAlign||y7(n,e,t,r),yAlign:r}}function w7(n,e){let{x:t,width:r}=n;return e==="right"?t-=r:e==="center"&&(t-=r/2),t}function b7(n,e,t){let{y:r,height:i}=n;return e==="top"?r+=t:e==="bottom"?r-=i+t:r-=i/2,r}function xA(n,e,t,r){const{caretSize:i,caretPadding:s,cornerRadius:a}=n,{xAlign:o,yAlign:l}=t,c=i+s,{topLeft:f,topRight:d,bottomLeft:p,bottomRight:m}=Mh(a);let _=w7(e,o);const x=b7(e,l,c);return l==="center"?o==="left"?_+=c:o==="right"&&(_-=c):o==="left"?_-=Math.max(f,p)+i:o==="right"&&(_+=Math.max(d,m)+i),{x:Qi(_,0,r.width-e.width),y:Qi(x,0,r.height-e.height)}}function Ng(n,e,t){const r=zs(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-r.right:n.x+r.left}function vA(n){return Dl([],Nc(n))}function S7(n,e,t){return Af(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function _A(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}const nC={beforeTitle:Ac,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,r=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return t[e.dataIndex]}return""},afterTitle:Ac,beforeBody:Ac,beforeLabel:Ac,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return Gn(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Ac,afterBody:Ac,beforeFooter:Ac,footer:Ac,afterFooter:Ac};function Ea(n,e,t,r){const i=n[e].call(t,r);return typeof i>"u"?nC[e].call(t,r):i}class xy extends fl{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&t.options.animation&&r.animations,s=new D4(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=S7(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:r}=t,i=Ea(r,"beforeTitle",this,e),s=Ea(r,"title",this,e),a=Ea(r,"afterTitle",this,e);let o=[];return o=Dl(o,Nc(i)),o=Dl(o,Nc(s)),o=Dl(o,Nc(a)),o}getBeforeBody(e,t){return vA(Ea(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:r}=t,i=[];return br(e,s=>{const a={before:[],lines:[],after:[]},o=_A(r,s);Dl(a.before,Nc(Ea(o,"beforeLabel",this,s))),Dl(a.lines,Ea(o,"label",this,s)),Dl(a.after,Nc(Ea(o,"afterLabel",this,s))),i.push(a)}),i}getAfterBody(e,t){return vA(Ea(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:r}=t,i=Ea(r,"beforeFooter",this,e),s=Ea(r,"footer",this,e),a=Ea(r,"afterFooter",this,e);let o=[];return o=Dl(o,Nc(i)),o=Dl(o,Nc(s)),o=Dl(o,Nc(a)),o}_createItems(e){const t=this._active,r=this.chart.data,i=[],s=[],a=[];let o=[],l,c;for(l=0,c=t.length;l<c;++l)o.push(x7(this.chart,t[l]));return e.filter&&(o=o.filter((f,d,p)=>e.filter(f,d,p,r))),e.itemSort&&(o=o.sort((f,d)=>e.itemSort(f,d,r))),br(o,f=>{const d=_A(e.callbacks,f);i.push(Ea(d,"labelColor",this,f)),s.push(Ea(d,"labelPointStyle",this,f)),a.push(Ea(d,"labelTextColor",this,f))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=a,this.dataPoints=o,o}update(e,t){const r=this.options.setContext(this.getContext()),i=this._active;let s,a=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const o=Cp[r.position].call(this,i,this._eventPosition);a=this._createItems(r),this.title=this.getTitle(a,r),this.beforeBody=this.getBeforeBody(a,r),this.body=this.getBody(a,r),this.afterBody=this.getAfterBody(a,r),this.footer=this.getFooter(a,r);const l=this._size=mA(this,r),c=Object.assign({},o,l),f=gA(this.chart,r,c),d=xA(r,c,f,this.chart);this.xAlign=f.xAlign,this.yAlign=f.yAlign,s={opacity:1,x:d.x,y:d.y,width:l.width,height:l.height,caretX:o.x,caretY:o.y}}this._tooltipItems=a,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,r,i){const s=this.getCaretPosition(e,r,i);t.lineTo(s.x1,s.y1),t.lineTo(s.x2,s.y2),t.lineTo(s.x3,s.y3)}getCaretPosition(e,t,r){const{xAlign:i,yAlign:s}=this,{caretSize:a,cornerRadius:o}=r,{topLeft:l,topRight:c,bottomLeft:f,bottomRight:d}=Mh(o),{x:p,y:m}=e,{width:_,height:x}=t;let g,y,A,E,M,D;return s==="center"?(M=m+x/2,i==="left"?(g=p,y=g-a,E=M+a,D=M-a):(g=p+_,y=g+a,E=M-a,D=M+a),A=g):(i==="left"?y=p+Math.max(l,f)+a:i==="right"?y=p+_-Math.max(c,d)-a:y=this.caretX,s==="top"?(E=m,M=E-a,g=y-a,A=y+a):(E=m+x,M=E+a,g=y+a,A=y-a),D=E),{x1:g,x2:y,x3:A,y1:E,y2:M,y3:D}}drawTitle(e,t,r){const i=this.title,s=i.length;let a,o,l;if(s){const c=a0(r.rtl,this.x,this.width);for(e.x=Ng(this,r.titleAlign,r),t.textAlign=c.textAlign(r.titleAlign),t.textBaseline="middle",a=Oi(r.titleFont),o=r.titleSpacing,t.fillStyle=r.titleColor,t.font=a.string,l=0;l<s;++l)t.fillText(i[l],c.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+o,l+1===s&&(e.y+=r.titleMarginBottom-o)}}_drawColorBox(e,t,r,i,s){const a=this.labelColors[r],o=this.labelPointStyles[r],{boxHeight:l,boxWidth:c}=s,f=Oi(s.bodyFont),d=Ng(this,"left",s),p=i.x(d),m=l<f.lineHeight?(f.lineHeight-l)/2:0,_=t.y+m;if(s.usePointStyle){const x={radius:Math.min(c,l)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},g=i.leftForLtr(p,c)+c/2,y=_+l/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,uy(e,x,g,y),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,uy(e,x,g,y)}else{e.lineWidth=Xn(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const x=i.leftForLtr(p,c),g=i.leftForLtr(i.xPlus(p,1),c-2),y=Mh(a.borderRadius);Object.values(y).some(A=>A!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,om(e,{x,y:_,w:c,h:l,radius:y}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),om(e,{x:g,y:_+1,w:c-2,h:l-2,radius:y}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(x,_,c,l),e.strokeRect(x,_,c,l),e.fillStyle=a.backgroundColor,e.fillRect(g,_+1,c-2,l-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,t,r){const{body:i}=this,{bodySpacing:s,bodyAlign:a,displayColors:o,boxHeight:l,boxWidth:c,boxPadding:f}=r,d=Oi(r.bodyFont);let p=d.lineHeight,m=0;const _=a0(r.rtl,this.x,this.width),x=function(I){t.fillText(I,_.x(e.x+m),e.y+p/2),e.y+=p+s},g=_.textAlign(a);let y,A,E,M,D,U,L;for(t.textAlign=a,t.textBaseline="middle",t.font=d.string,e.x=Ng(this,g,r),t.fillStyle=r.bodyColor,br(this.beforeBody,x),m=o&&g!=="right"?a==="center"?c/2+f:c+2+f:0,M=0,U=i.length;M<U;++M){for(y=i[M],A=this.labelTextColors[M],t.fillStyle=A,br(y.before,x),E=y.lines,o&&E.length&&(this._drawColorBox(t,e,M,_,r),p=Math.max(d.lineHeight,l)),D=0,L=E.length;D<L;++D)x(E[D]),p=d.lineHeight;br(y.after,x)}m=0,p=d.lineHeight,br(this.afterBody,x),e.y-=s}drawFooter(e,t,r){const i=this.footer,s=i.length;let a,o;if(s){const l=a0(r.rtl,this.x,this.width);for(e.x=Ng(this,r.footerAlign,r),e.y+=r.footerMarginTop,t.textAlign=l.textAlign(r.footerAlign),t.textBaseline="middle",a=Oi(r.footerFont),t.fillStyle=r.footerColor,t.font=a.string,o=0;o<s;++o)t.fillText(i[o],l.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+r.footerSpacing}}drawBackground(e,t,r,i){const{xAlign:s,yAlign:a}=this,{x:o,y:l}=e,{width:c,height:f}=r,{topLeft:d,topRight:p,bottomLeft:m,bottomRight:_}=Mh(i.cornerRadius);t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.beginPath(),t.moveTo(o+d,l),a==="top"&&this.drawCaret(e,t,r,i),t.lineTo(o+c-p,l),t.quadraticCurveTo(o+c,l,o+c,l+p),a==="center"&&s==="right"&&this.drawCaret(e,t,r,i),t.lineTo(o+c,l+f-_),t.quadraticCurveTo(o+c,l+f,o+c-_,l+f),a==="bottom"&&this.drawCaret(e,t,r,i),t.lineTo(o+m,l+f),t.quadraticCurveTo(o,l+f,o,l+f-m),a==="center"&&s==="left"&&this.drawCaret(e,t,r,i),t.lineTo(o,l+d),t.quadraticCurveTo(o,l,o+d,l),t.closePath(),t.fill(),i.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,r=this.$animations,i=r&&r.x,s=r&&r.y;if(i||s){const a=Cp[e.position].call(this,this._active,this._eventPosition);if(!a)return;const o=this._size=mA(this,e),l=Object.assign({},a,this._size),c=gA(t,e,l),f=xA(e,l,c,t);(i._to!==f.x||s._to!==f.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=o.width,this.height=o.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,f))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(t);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const a=zs(t.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&o&&(e.save(),e.globalAlpha=r,this.drawBackground(s,e,i,t),P4(e,t.textDirection),s.y+=a.top,this.drawTitle(s,e,t),this.drawBody(s,e,t),this.drawFooter(s,e,t),k4(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const r=this._active,i=e.map(({datasetIndex:o,index:l})=>{const c=this.chart.getDatasetMeta(o);if(!c)throw new Error("Cannot find a dataset at index "+o);return{datasetIndex:o,element:c.data[l],index:l}}),s=!mx(r,i),a=this._positionChanged(i,t);(s||a)&&(this._active=i,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,r=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],a=this._getActiveElements(e,s,t,r),o=this._positionChanged(a,e),l=t||!mx(a,s)||o;return l&&(this._active=a,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),l}_getActiveElements(e,t,r,i){const s=this.options;if(e.type==="mouseout")return[];if(!i)return t.filter(o=>this.chart.data.datasets[o.datasetIndex]&&this.chart.getDatasetMeta(o.datasetIndex).controller.getParsed(o.index)!==void 0);const a=this.chart.getElementsAtEventForMode(e,s.mode,s,r);return s.reverse&&a.reverse(),a}_positionChanged(e,t){const{caretX:r,caretY:i,options:s}=this,a=Cp[s.position].call(this,e,t);return a!==!1&&(r!==a.x||i!==a.y)}}Gt(xy,"positioners",Cp);var E7={id:"tooltip",_element:xy,positioners:Cp,afterInit(n,e,t){t&&(n.tooltip=new xy({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){const t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:nC},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},A7=Object.freeze({__proto__:null,Colors:O8,Decimation:H8,Filler:o7,Legend:d7,SubTitle:g7,Title:m7,Tooltip:E7});const T7=(n,e,t,r)=>(typeof e=="string"?(t=n.push(e)-1,r.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function M7(n,e,t,r){const i=n.indexOf(e);if(i===-1)return T7(n,e,t,r);const s=n.lastIndexOf(e);return i!==s?t:i}const C7=(n,e)=>n===null?null:Qi(Math.round(n),0,e);function yA(n){const e=this.getLabels();return n>=0&&n<e.length?e[n]:n}class vy extends Wh{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const r=this.getLabels();for(const{index:i,label:s}of t)r[i]===s&&r.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(Gn(e))return null;const r=this.getLabels();return t=isFinite(t)&&r[t]===e?t:M7(r,e,Rn(t,e),this._addedLabels),C7(t,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),t||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const e=this.min,t=this.max,r=this.options.offset,i=[];let s=this.getLabels();s=e===0&&t===s.length-1?s:s.slice(e,t+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let a=e;a<=t;a++)i.push({value:a});return i}getLabelForValue(e){return yA.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}Gt(vy,"id","category"),Gt(vy,"defaults",{ticks:{callback:yA}});function P7(n,e){const t=[],{bounds:i,step:s,min:a,max:o,precision:l,count:c,maxTicks:f,maxDigits:d,includeBounds:p}=n,m=s||1,_=f-1,{min:x,max:g}=e,y=!Gn(a),A=!Gn(o),E=!Gn(c),M=(g-x)/(d+1);let D=mE((g-x)/_/m)*m,U,L,I,R;if(D<1e-14&&!y&&!A)return[{value:x},{value:g}];R=Math.ceil(g/D)-Math.floor(x/D),R>_&&(D=mE(R*D/_/m)*m),Gn(l)||(U=Math.pow(10,l),D=Math.ceil(D*U)/U),i==="ticks"?(L=Math.floor(x/D)*D,I=Math.ceil(g/D)*D):(L=x,I=g),y&&A&&s&&w6((o-a)/s,D/1e3)?(R=Math.round(Math.min((o-a)/D,f)),D=(o-a)/R,L=a,I=o):E?(L=y?a:L,I=A?o:I,R=c-1,D=(I-L)/R):(R=(I-L)/D,Bp(R,Math.round(R),D/1e3)?R=Math.round(R):R=Math.ceil(R));const O=Math.max(gE(D),gE(L));U=Math.pow(10,Gn(l)?O:l),L=Math.round(L*U)/U,I=Math.round(I*U)/U;let N=0;for(y&&(p&&L!==a?(t.push({value:a}),L<a&&N++,Bp(Math.round((L+N*D)*U)/U,a,wA(a,M,n))&&N++):L<a&&N++);N<R;++N){const k=Math.round((L+N*D)*U)/U;if(A&&k>o)break;t.push({value:k})}return A&&p&&I!==o?t.length&&Bp(t[t.length-1].value,o,wA(o,M,n))?t[t.length-1].value=o:t.push({value:o}):(!A||I===o)&&t.push({value:I}),t}function wA(n,e,{horizontal:t,minRotation:r}){const i=rl(r),s=(t?Math.sin(i):Math.cos(i))||.001,a=.75*e*(""+n).length;return Math.min(e/s,a)}class bx extends Wh{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return Gn(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:r}=this.getUserBounds();let{min:i,max:s}=this;const a=l=>i=t?i:l,o=l=>s=r?s:l;if(e){const l=Gl(i),c=Gl(s);l<0&&c<0?o(0):l>0&&c>0&&a(0)}if(i===s){let l=s===0?1:Math.abs(s*.05);o(s+l),e||a(i-l)}this.min=i,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:r}=e,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),t=t||11),t&&(i=Math.min(t,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},s=this._range||this,a=P7(i,s);return e.bounds==="ticks"&&h4(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let t=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const i=(r-t)/Math.max(e.length-1,1)/2;t-=i,r+=i}this._startValue=t,this._endValue=r,this._valueRange=r-t}getLabelForValue(e){return km(e,this.chart.options.locale,this.options.ticks.format)}}class _y extends bx{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=ui(e)?e:0,this.max=ui(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,r=rl(this.options.ticks.minRotation),i=(e?Math.sin(r):Math.cos(r))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,s.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}Gt(_y,"id","linear"),Gt(_y,"defaults",{ticks:{callback:ev.formatters.numeric}});const cm=n=>Math.floor(Zu(n)),rh=(n,e)=>Math.pow(10,cm(n)+e);function bA(n){return n/Math.pow(10,cm(n))===1}function SA(n,e,t){const r=Math.pow(10,t),i=Math.floor(n/r);return Math.ceil(e/r)-i}function k7(n,e){const t=e-n;let r=cm(t);for(;SA(n,e,r)>10;)r++;for(;SA(n,e,r)<10;)r--;return Math.min(r,cm(n))}function R7(n,{min:e,max:t}){e=Xa(n.min,e);const r=[],i=cm(e);let s=k7(e,t),a=s<0?Math.pow(10,Math.abs(s)):1;const o=Math.pow(10,s),l=i>s?Math.pow(10,i):0,c=Math.round((e-l)*a)/a,f=Math.floor((e-l)/o/10)*o*10;let d=Math.floor((c-f)/Math.pow(10,s)),p=Xa(n.min,Math.round((l+f+d*Math.pow(10,s))*a)/a);for(;p<t;)r.push({value:p,major:bA(p),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(s++,d=2,a=s>=0?1:a),p=Math.round((l+f+d*Math.pow(10,s))*a)/a;const m=Xa(n.max,p);return r.push({value:m,major:bA(m),significand:d}),r}class yy extends Wh{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const r=bx.prototype.parse.apply(this,[e,t]);if(r===0){this._zero=!0;return}return ui(r)&&r>0?r:null}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=ui(e)?Math.max(0,e):null,this.max=ui(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!ui(this._userMin)&&(this.min=e===rh(this.min,0)?rh(this.min,-1):rh(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let r=this.min,i=this.max;const s=o=>r=e?r:o,a=o=>i=t?i:o;r===i&&(r<=0?(s(1),a(10)):(s(rh(r,-1)),a(rh(i,1)))),r<=0&&s(rh(i,-1)),i<=0&&a(rh(r,1)),this.min=r,this.max=i}buildTicks(){const e=this.options,t={min:this._userMin,max:this._userMax},r=R7(t,this);return e.bounds==="ticks"&&h4(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}getLabelForValue(e){return e===void 0?"0":km(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Zu(e),this._valueRange=Zu(this.max)-Zu(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Zu(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}Gt(yy,"id","logarithmic"),Gt(yy,"defaults",{ticks:{callback:ev.formatters.logarithmic,major:{enabled:!0}}});function wy(n){const e=n.ticks;if(e.display&&n.display){const t=zs(e.backdropPadding);return Rn(e.font&&e.font.size,Yr.font.size)+t.height}return 0}function L7(n,e,t){return t=$r(t)?t:[t],{w:U6(n,e.string,t),h:t.length*e.lineHeight}}function EA(n,e,t,r,i){return n===r||n===i?{start:e-t/2,end:e+t/2}:n<r||n>i?{start:e-t,end:e}:{start:e,end:e+t}}function N7(n){const e={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},t=Object.assign({},e),r=[],i=[],s=n._pointLabels.length,a=n.options.pointLabels,o=a.centerPointLabels?or/s:0;for(let l=0;l<s;l++){const c=a.setContext(n.getPointLabelContext(l));i[l]=c.padding;const f=n.getPointPosition(l,n.drawingArea+i[l],o),d=Oi(c.font),p=L7(n.ctx,d,n._pointLabels[l]);r[l]=p;const m=Ls(n.getIndexAngle(l)+o),_=Math.round(tb(m)),x=EA(_,f.x,p.w,0,180),g=EA(_,f.y,p.h,90,270);F7(t,e,m,x,g)}n.setCenterPoint(e.l-t.l,t.r-e.r,e.t-t.t,t.b-e.b),n._pointLabelItems=O7(n,r,i)}function F7(n,e,t,r,i){const s=Math.abs(Math.sin(t)),a=Math.abs(Math.cos(t));let o=0,l=0;r.start<e.l?(o=(e.l-r.start)/s,n.l=Math.min(n.l,e.l-o)):r.end>e.r&&(o=(r.end-e.r)/s,n.r=Math.max(n.r,e.r+o)),i.start<e.t?(l=(e.t-i.start)/a,n.t=Math.min(n.t,e.t-l)):i.end>e.b&&(l=(i.end-e.b)/a,n.b=Math.max(n.b,e.b+l))}function D7(n,e,t){const r=n.drawingArea,{extra:i,additionalAngle:s,padding:a,size:o}=t,l=n.getPointPosition(e,r+i+a,s),c=Math.round(tb(Ls(l.angle+bi))),f=z7(l.y,o.h,c),d=U7(c),p=B7(l.x,o.w,d);return{visible:!0,x:l.x,y:f,textAlign:d,left:p,top:f,right:p+o.w,bottom:f+o.h}}function I7(n,e){if(!e)return!0;const{left:t,top:r,right:i,bottom:s}=n;return!(zc({x:t,y:r},e)||zc({x:t,y:s},e)||zc({x:i,y:r},e)||zc({x:i,y:s},e))}function O7(n,e,t){const r=[],i=n._pointLabels.length,s=n.options,{centerPointLabels:a,display:o}=s.pointLabels,l={extra:wy(s)/2,additionalAngle:a?or/i:0};let c;for(let f=0;f<i;f++){l.padding=t[f],l.size=e[f];const d=D7(n,f,l);r.push(d),o==="auto"&&(d.visible=I7(d,c),d.visible&&(c=d))}return r}function U7(n){return n===0||n===180?"center":n<180?"left":"right"}function B7(n,e,t){return t==="right"?n-=e:t==="center"&&(n-=e/2),n}function z7(n,e,t){return t===90||t===270?n-=e/2:(t>270||t<90)&&(n-=e),n}function H7(n,e,t){const{left:r,top:i,right:s,bottom:a}=t,{backdropColor:o}=e;if(!Gn(o)){const l=Mh(e.borderRadius),c=zs(e.backdropPadding);n.fillStyle=o;const f=r-c.left,d=i-c.top,p=s-r+c.width,m=a-i+c.height;Object.values(l).some(_=>_!==0)?(n.beginPath(),om(n,{x:f,y:d,w:p,h:m,radius:l}),n.fill()):n.fillRect(f,d,p,m)}}function j7(n,e){const{ctx:t,options:{pointLabels:r}}=n;for(let i=e-1;i>=0;i--){const s=n._pointLabelItems[i];if(!s.visible)continue;const a=r.setContext(n.getPointLabelContext(i));H7(t,a,s);const o=Oi(a.font),{x:l,y:c,textAlign:f}=s;Dh(t,n._pointLabels[i],l,c+o.lineHeight/2,o,{color:a.color,textAlign:f,textBaseline:"middle"})}}function rC(n,e,t,r){const{ctx:i}=n;if(t)i.arc(n.xCenter,n.yCenter,e,0,Hr);else{let s=n.getPointPosition(0,e);i.moveTo(s.x,s.y);for(let a=1;a<r;a++)s=n.getPointPosition(a,e),i.lineTo(s.x,s.y)}}function V7(n,e,t,r,i){const s=n.ctx,a=e.circular,{color:o,lineWidth:l}=e;!a&&!r||!o||!l||t<0||(s.save(),s.strokeStyle=o,s.lineWidth=l,s.setLineDash(i.dash||[]),s.lineDashOffset=i.dashOffset,s.beginPath(),rC(n,t,a,r),s.closePath(),s.stroke(),s.restore())}function W7(n,e,t){return Af(n,{label:t,index:e,type:"pointLabel"})}class Pp extends bx{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=zs(wy(this.options)/2),t=this.width=this.maxWidth-e.width,r=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+r/2+e.top),this.drawingArea=Math.floor(Math.min(t,r)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=ui(e)&&!isNaN(e)?e:0,this.max=ui(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/wy(this.options))}generateTickLabels(e){bx.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((t,r)=>{const i=Nr(this.options.pointLabels.callback,[t,r],this);return i||i===0?i:""}).filter((t,r)=>this.chart.getDataVisibility(r))}fit(){const e=this.options;e.display&&e.pointLabels.display?N7(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,r,i){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((r-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,r,i))}getIndexAngle(e){const t=Hr/(this._pointLabels.length||1),r=this.options.startAngle||0;return Ls(e*t+rl(r))}getDistanceFromCenterForValue(e){if(Gn(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(Gn(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const r=t[e];return W7(this.getContext(),e,r)}}getPointPosition(e,t,r=0){const i=this.getIndexAngle(e)-bi+r;return{x:Math.cos(i)*t+this.xCenter,y:Math.sin(i)*t+this.yCenter,angle:i}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:r,right:i,bottom:s}=this._pointLabelItems[e];return{left:t,top:r,right:i,bottom:s}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const r=this.ctx;r.save(),r.beginPath(),rC(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),r.closePath(),r.fillStyle=e,r.fill(),r.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:r,grid:i,border:s}=t,a=this._pointLabels.length;let o,l,c;if(t.pointLabels.display&&j7(this,a),i.display&&this.ticks.forEach((f,d)=>{if(d!==0||d===0&&this.min<0){l=this.getDistanceFromCenterForValue(f.value);const p=this.getContext(d),m=i.setContext(p),_=s.setContext(p);V7(this,m,l,a,_)}}),r.display){for(e.save(),o=a-1;o>=0;o--){const f=r.setContext(this.getPointLabelContext(o)),{color:d,lineWidth:p}=f;!p||!d||(e.lineWidth=p,e.strokeStyle=d,e.setLineDash(f.borderDash),e.lineDashOffset=f.borderDashOffset,l=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),c=this.getPointPosition(o,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(c.x,c.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,r=t.ticks;if(!r.display)return;const i=this.getIndexAngle(0);let s,a;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((o,l)=>{if(l===0&&this.min>=0&&!t.reverse)return;const c=r.setContext(this.getContext(l)),f=Oi(c.font);if(s=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){e.font=f.string,a=e.measureText(o.label).width,e.fillStyle=c.backdropColor;const d=zs(c.backdropPadding);e.fillRect(-a/2-d.left,-s-f.size/2-d.top,a+d.width,f.size+d.height)}Dh(e,o.label,0,-s,f,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),e.restore()}drawTitle(){}}Gt(Pp,"id","radialLinear"),Gt(Pp,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:ev.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),Gt(Pp,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),Gt(Pp,"descriptors",{angleLines:{_fallback:"grid"}});const av={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ma=Object.keys(av);function AA(n,e){return n-e}function TA(n,e){if(Gn(e))return null;const t=n._adapter,{parser:r,round:i,isoWeekday:s}=n._parseOpts;let a=e;return typeof r=="function"&&(a=r(a)),ui(a)||(a=typeof r=="string"?t.parse(a,r):t.parse(a)),a===null?null:(i&&(a=i==="week"&&(w0(s)||s===!0)?t.startOf(a,"isoWeek",s):t.startOf(a,i)),+a)}function MA(n,e,t,r){const i=Ma.length;for(let s=Ma.indexOf(n);s<i-1;++s){const a=av[Ma[s]],o=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((t-e)/(o*a.size))<=r)return Ma[s]}return Ma[i-1]}function G7(n,e,t,r,i){for(let s=Ma.length-1;s>=Ma.indexOf(t);s--){const a=Ma[s];if(av[a].common&&n._adapter.diff(i,r,a)>=e-1)return a}return Ma[t?Ma.indexOf(t):0]}function q7(n){for(let e=Ma.indexOf(n)+1,t=Ma.length;e<t;++e)if(av[Ma[e]].common)return Ma[e]}function CA(n,e,t){if(!t)n[e]=!0;else if(t.length){const{lo:r,hi:i}=nb(t,e),s=t[r]>=e?t[r]:t[i];n[s]=!0}}function X7(n,e,t,r){const i=n._adapter,s=+i.startOf(e[0].value,r),a=e[e.length-1].value;let o,l;for(o=s;o<=a;o=+i.add(o,1,r))l=t[o],l>=0&&(e[l].major=!0);return e}function PA(n,e,t){const r=[],i={},s=e.length;let a,o;for(a=0;a<s;++a)o=e[a],i[o]=a,r.push({value:o,major:!1});return s===0||!t?r:X7(n,r,i,t)}class um extends Wh{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const r=e.time||(e.time={}),i=this._adapter=new tO._date(e.adapters.date);i.init(t),Up(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:TA(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,r=e.time.unit||"day";let{min:i,max:s,minDefined:a,maxDefined:o}=this.getUserBounds();function l(c){!a&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!o&&!isNaN(c.max)&&(s=Math.max(s,c.max))}(!a||!o)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=ui(i)&&!isNaN(i)?i:+t.startOf(Date.now(),r),s=ui(s)&&!isNaN(s)?s:+t.endOf(Date.now(),r)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],r=e[e.length-1]),{min:t,max:r}}buildTicks(){const e=this.options,t=e.time,r=e.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,a=this.max,o=A6(i,s,a);return this._unit=t.unit||(r.autoSkip?MA(t.minUnit,this.min,this.max,this._getLabelCapacity(s)):G7(this,o.length,t.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:q7(this._unit),this.initOffsets(i),e.reverse&&o.reverse(),PA(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,r=0,i,s;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?t=1-i:t=(this.getDecimalForValue(e[1])-i)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?r=s:r=(s-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;t=Qi(t,0,a),r=Qi(r,0,a),this._offsets={start:t,end:r,factor:1/(t+1+r)}}_generate(){const e=this._adapter,t=this.min,r=this.max,i=this.options,s=i.time,a=s.unit||MA(s.minUnit,t,r,this._getLabelCapacity(t)),o=Rn(i.ticks.stepSize,1),l=a==="week"?s.isoWeekday:!1,c=w0(l)||l===!0,f={};let d=t,p,m;if(c&&(d=+e.startOf(d,"isoWeek",l)),d=+e.startOf(d,c?"day":a),e.diff(r,t,a)>1e5*o)throw new Error(t+" and "+r+" are too far apart with stepSize of "+o+" "+a);const _=i.ticks.source==="data"&&this.getDataTimestamps();for(p=d,m=0;p<r;p=+e.add(p,o,a),m++)CA(f,p,_);return(p===r||i.bounds==="ticks"||m===1)&&CA(f,p,_),Object.keys(f).sort(AA).map(x=>+x)}getLabelForValue(e){const t=this._adapter,r=this.options.time;return r.tooltipFormat?t.format(e,r.tooltipFormat):t.format(e,r.displayFormats.datetime)}format(e,t){const i=this.options.time.displayFormats,s=this._unit,a=t||i[s];return this._adapter.format(e,a)}_tickFormatFunction(e,t,r,i){const s=this.options,a=s.ticks.callback;if(a)return Nr(a,[e,t,r],this);const o=s.time.displayFormats,l=this._unit,c=this._majorUnit,f=l&&o[l],d=c&&o[c],p=r[t],m=c&&d&&p&&p.major;return this._adapter.format(e,i||(m?d:f))}generateTickLabels(e){let t,r,i;for(t=0,r=e.length;t<r;++t)i=e[t],i.label=this._tickFormatFunction(i.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+r)*t.factor)}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,r=this.ctx.measureText(e).width,i=rl(this.isHorizontal()?t.maxRotation:t.minRotation),s=Math.cos(i),a=Math.sin(i),o=this._resolveTickFontOptions(0).size;return{w:r*s+o*a,h:r*a+o*s}}_getLabelCapacity(e){const t=this.options.time,r=t.displayFormats,i=r[t.unit]||r.millisecond,s=this._tickFormatFunction(e,0,PA(this,[e],this._majorUnit),i),a=this._getLabelSize(s),o=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return o>0?o:1}getDataTimestamps(){let e=this._cache.data||[],t,r;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(t=0,r=i.length;t<r;++t)e=e.concat(i[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,r;if(e.length)return e;const i=this.getLabels();for(t=0,r=i.length;t<r;++t)e.push(TA(this,i[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return m4(e.sort(AA))}}Gt(um,"id","time"),Gt(um,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Fg(n,e,t){let r=0,i=n.length-1,s,a,o,l;t?(e>=n[r].pos&&e<=n[i].pos&&({lo:r,hi:i}=Bc(n,"pos",e)),{pos:s,time:o}=n[r],{pos:a,time:l}=n[i]):(e>=n[r].time&&e<=n[i].time&&({lo:r,hi:i}=Bc(n,"time",e)),{time:s,pos:o}=n[r],{time:a,pos:l}=n[i]);const c=a-s;return c?o+(l-o)*(e-s)/c:o}class by extends um{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=Fg(t,this.min),this._tableRange=Fg(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:r}=this,i=[],s=[];let a,o,l,c,f;for(a=0,o=e.length;a<o;++a)c=e[a],c>=t&&c<=r&&i.push(c);if(i.length<2)return[{time:t,pos:0},{time:r,pos:1}];for(a=0,o=i.length;a<o;++a)f=i[a+1],l=i[a-1],c=i[a],Math.round((f+l)/2)!==c&&s.push({time:c,pos:a/(o-1)});return s}_generate(){const e=this.min,t=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(t)||r.length===1)&&r.push(t),r.sort((i,s)=>i-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),r=this.getLabelTimestamps();return t.length&&r.length?e=this.normalize(t.concat(r)):e=t.length?t:r,e=this._cache.all=e,e}getDecimalForValue(e){return(Fg(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return Fg(this._table,r*this._tableRange+this._minPos,!0)}}Gt(by,"id","timeseries"),Gt(by,"defaults",um.defaults);var $7=Object.freeze({__proto__:null,CategoryScale:vy,LinearScale:_y,LogarithmicScale:yy,RadialLinearScale:Pp,TimeScale:um,TimeSeriesScale:by});const Y7=[eO,k8,A7,$7];Oc.register(...Y7);const iC=({uploads:n,selectedUploads:e,toggleSelectUpload:t,handleDeleteSelectedUploads:r})=>{const i=Fn(m=>m.auth.user),s=Fn(m=>{var _,x;return(x=(_=m.adminSettings)==null?void 0:_.settings)==null?void 0:x.themeMode}),a=Fn(m=>{var _,x;return(x=(_=m.userSettings)==null?void 0:_.settings)==null?void 0:x.themeMode}),o=i&&i.role==="admin"?s:a||"white";if(!n||n.length===0)return me.jsx("p",{children:"No uploads available."});e||(e=[]);const l=o==="dark"?"bg-gray-900 text-white rounded shadow p-4 mt-6":"bg-white text-black rounded shadow p-4 mt-6",c=o==="dark"?"w-full table-auto border-collapse border border-gray-700":"w-full table-auto border-collapse border border-gray-300",f=o==="dark"?"border border-gray-700 px-4 py-2 text-left bg-gray-800":"border border-gray-300 px-4 py-2 text-left bg-gray-100",d=o==="dark"?"hover:bg-gray-800":"hover:bg-gray-100",p=o==="dark"?"border border-gray-700 px-4 py-2":"border border-gray-300 px-4 py-2";return me.jsxs("div",{className:l,children:[me.jsxs("h3",{className:"text-xl font-semibold mb-4 flex items-center justify-between",children:["Upload History",me.jsx("button",{onClick:r,disabled:e.length===0,className:`ml-4 py-1 px-2 rounded text-white ${e.length===0?"bg-gray-400 cursor-not-allowed":"bg-red-600 hover:bg-red-700"}`,children:"Delete Selected"})]}),me.jsxs("table",{className:c,children:[me.jsx("thead",{children:me.jsxs("tr",{children:[me.jsx("th",{className:f}),me.jsx("th",{className:f,children:"File Name"}),me.jsx("th",{className:f,children:"Upload Date"})]})}),me.jsx("tbody",{children:n.map(m=>me.jsxs("tr",{className:d,children:[me.jsx("td",{className:p,children:me.jsx("input",{type:"checkbox",checked:e.includes(m._id),onChange:()=>t(m._id)})}),me.jsx("td",{className:p,children:m.filename}),me.jsx("td",{className:p,children:new Date(m.createdAt).toLocaleString()})]},m._id))})]})]})},sC=({data:n})=>{const e=Fn(d=>d.auth.user),t=Fn(d=>{var p,m;return(m=(p=d.adminSettings)==null?void 0:p.settings)==null?void 0:m.themeMode}),r=Fn(d=>{var p,m;return(m=(p=d.userSettings)==null?void 0:p.settings)==null?void 0:m.themeMode}),i=e&&e.role==="admin"?t:r||"white";if(!n||n.length===0)return null;const s=Object.keys(n[0]),a=i==="dark"?"overflow-x-auto mt-4 bg-gray-900 text-white rounded shadow p-4":"overflow-x-auto mt-4 bg-white text-black rounded shadow p-4",o=i==="dark"?"min-w-full border-collapse border border-gray-700":"min-w-full border-collapse border border-gray-300",l=i==="dark"?"border border-gray-700 px-4 py-2 text-left bg-gray-800 text-white":"border border-gray-300 px-4 py-2 text-left bg-gray-100 text-black",c=i==="dark"?"hover:bg-gray-800":"hover:bg-gray-100",f=i==="dark"?"border border-gray-700 px-4 py-2 text-white":"border border-gray-300 px-4 py-2 text-black";return me.jsx("div",{className:a,children:me.jsxs("table",{className:o,children:[me.jsx("thead",{children:me.jsx("tr",{className:i==="dark"?"bg-gray-800 text-white":"bg-gray-200 text-black",children:s.map(d=>me.jsx("th",{className:l,children:d},d))})}),me.jsx("tbody",{children:n.map((d,p)=>me.jsx("tr",{className:c,children:s.map(m=>me.jsx("td",{className:f,children:d[m]},m))},p))})]})})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var aC=1252,K7=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],db={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},pb=function(n){K7.indexOf(n)!=-1&&(aC=db[0]=n)};function J7(){pb(1252)}var il=function(n){pb(n)};function oC(){il(1200),J7()}function kA(n){for(var e=[],t=0,r=n.length;t<r;++t)e[t]=n.charCodeAt(t);return e}function Z7(n){for(var e=[],t=0;t<n.length>>1;++t)e[t]=String.fromCharCode(n.charCodeAt(2*t)+(n.charCodeAt(2*t+1)<<8));return e.join("")}function lC(n){for(var e=[],t=0;t<n.length>>1;++t)e[t]=String.fromCharCode(n.charCodeAt(2*t+1)+(n.charCodeAt(2*t)<<8));return e.join("")}var kp=function(n){var e=n.charCodeAt(0),t=n.charCodeAt(1);return e==255&&t==254?Z7(n.slice(2)):e==254&&t==255?lC(n.slice(2)):e==65279?n.slice(1):n},Dg=function(e){return String.fromCharCode(e)},RA=function(e){return String.fromCharCode(e)},fm,tf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function LA(n){for(var e="",t=0,r=0,i=0,s=0,a=0,o=0,l=0,c=0;c<n.length;)t=n.charCodeAt(c++),s=t>>2,r=n.charCodeAt(c++),a=(t&3)<<4|r>>4,i=n.charCodeAt(c++),o=(r&15)<<2|i>>6,l=i&63,isNaN(r)?o=l=64:isNaN(i)&&(l=64),e+=tf.charAt(s)+tf.charAt(a)+tf.charAt(o)+tf.charAt(l);return e}function Za(n){var e="",t=0,r=0,i=0,s=0,a=0,o=0,l=0;n=n.replace(/[^\w\+\/\=]/g,"");for(var c=0;c<n.length;)s=tf.indexOf(n.charAt(c++)),a=tf.indexOf(n.charAt(c++)),t=s<<2|a>>4,e+=String.fromCharCode(t),o=tf.indexOf(n.charAt(c++)),r=(a&15)<<4|o>>2,o!==64&&(e+=String.fromCharCode(r)),l=tf.indexOf(n.charAt(c++)),i=(o&3)<<6|l,l!==64&&(e+=String.fromCharCode(i));return e}var $n=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Gh=function(){if(typeof Buffer<"u"){var n=!Buffer.from;if(!n)try{Buffer.from("foo","utf8")}catch{n=!0}return n?function(e,t){return t?new Buffer(e,t):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}}();function xf(n){return $n?Buffer.alloc?Buffer.alloc(n):new Buffer(n):typeof Uint8Array<"u"?new Uint8Array(n):new Array(n)}function NA(n){return $n?Buffer.allocUnsafe?Buffer.allocUnsafe(n):new Buffer(n):typeof Uint8Array<"u"?new Uint8Array(n):new Array(n)}var nl=function(e){return $n?Gh(e,"binary"):e.split("").map(function(t){return t.charCodeAt(0)&255})};function qh(n){if(Array.isArray(n))return n.map(function(r){return String.fromCharCode(r)}).join("");for(var e=[],t=0;t<n.length;++t)e[t]=String.fromCharCode(n[t]);return e.join("")}function mb(n){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(n instanceof ArrayBuffer)return mb(new Uint8Array(n));for(var e=new Array(n.length),t=0;t<n.length;++t)e[t]=n[t];return e}var $u=$n?function(n){return Buffer.concat(n.map(function(e){return Buffer.isBuffer(e)?e:Gh(e)}))}:function(n){if(typeof Uint8Array<"u"){var e=0,t=0;for(e=0;e<n.length;++e)t+=n[e].length;var r=new Uint8Array(t),i=0;for(e=0,t=0;e<n.length;t+=i,++e)if(i=n[e].length,n[e]instanceof Uint8Array)r.set(n[e],t);else{if(typeof n[e]=="string")throw"wtf";r.set(new Uint8Array(n[e]),t)}return r}return[].concat.apply([],n.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function Q7(n){for(var e=[],t=0,r=n.length+250,i=xf(n.length+255),s=0;s<n.length;++s){var a=n.charCodeAt(s);if(a<128)i[t++]=a;else if(a<2048)i[t++]=192|a>>6&31,i[t++]=128|a&63;else if(a>=55296&&a<57344){a=(a&1023)+64;var o=n.charCodeAt(++s)&1023;i[t++]=240|a>>8&7,i[t++]=128|a>>2&63,i[t++]=128|o>>6&15|(a&3)<<4,i[t++]=128|o&63}else i[t++]=224|a>>12&15,i[t++]=128|a>>6&63,i[t++]=128|a&63;t>r&&(e.push(i.slice(0,t)),t=0,i=xf(65535),r=65530)}return e.push(i.slice(0,t)),$u(e)}var la=/\u0000/g,Rp=/[\u0001-\u0006]/g;function o0(n){for(var e="",t=n.length-1;t>=0;)e+=n.charAt(t--);return e}function sl(n,e){var t=""+n;return t.length>=e?t:li("0",e-t.length)+t}function gb(n,e){var t=""+n;return t.length>=e?t:li(" ",e-t.length)+t}function Sx(n,e){var t=""+n;return t.length>=e?t:t+li(" ",e-t.length)}function eU(n,e){var t=""+Math.round(n);return t.length>=e?t:li("0",e-t.length)+t}function tU(n,e){var t=""+n;return t.length>=e?t:li("0",e-t.length)+t}var FA=Math.pow(2,32);function Pd(n,e){if(n>FA||n<-FA)return eU(n,e);var t=Math.round(n);return tU(t,e)}function Ex(n,e){return e=e||0,n.length>=7+e&&(n.charCodeAt(e)|32)===103&&(n.charCodeAt(e+1)|32)===101&&(n.charCodeAt(e+2)|32)===110&&(n.charCodeAt(e+3)|32)===101&&(n.charCodeAt(e+4)|32)===114&&(n.charCodeAt(e+5)|32)===97&&(n.charCodeAt(e+6)|32)===108}var DA=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],W2=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function nU(n){return n||(n={}),n[0]="General",n[1]="0",n[2]="0.00",n[3]="#,##0",n[4]="#,##0.00",n[9]="0%",n[10]="0.00%",n[11]="0.00E+00",n[12]="# ?/?",n[13]="# ??/??",n[14]="m/d/yy",n[15]="d-mmm-yy",n[16]="d-mmm",n[17]="mmm-yy",n[18]="h:mm AM/PM",n[19]="h:mm:ss AM/PM",n[20]="h:mm",n[21]="h:mm:ss",n[22]="m/d/yy h:mm",n[37]="#,##0 ;(#,##0)",n[38]="#,##0 ;[Red](#,##0)",n[39]="#,##0.00;(#,##0.00)",n[40]="#,##0.00;[Red](#,##0.00)",n[45]="mm:ss",n[46]="[h]:mm:ss",n[47]="mmss.0",n[48]="##0.0E+0",n[49]="@",n[56]='"上午/下午 "hh"時"mm"分"ss"秒 "',n}var Nn={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"上午/下午 "hh"時"mm"分"ss"秒 "'},IA={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},rU={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Ax(n,e,t){for(var r=n<0?-1:1,i=n*r,s=0,a=1,o=0,l=1,c=0,f=0,d=Math.floor(i);c<e&&(d=Math.floor(i),o=d*a+s,f=d*c+l,!(i-d<5e-8));)i=1/(i-d),s=a,a=o,l=c,c=f;if(f>e&&(c>e?(f=l,o=s):(f=c,o=a)),!t)return[0,r*o,f];var p=Math.floor(r*o/f);return[p,r*o-p*f,f]}function bh(n,e,t){if(n>2958465||n<0)return null;var r=n|0,i=Math.floor(86400*(n-r)),s=0,a=[],o={D:r,T:i,u:86400*(n-r)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),e&&e.date1904&&(r+=1462),o.u>.9999&&(o.u=0,++i==86400&&(o.T=i=0,++r,++o.D)),r===60)a=t?[1317,10,29]:[1900,2,29],s=3;else if(r===0)a=t?[1317,8,29]:[1900,1,0],s=6;else{r>60&&--r;var l=new Date(1900,0,1);l.setDate(l.getDate()+r-1),a=[l.getFullYear(),l.getMonth()+1,l.getDate()],s=l.getDay(),r<60&&(s=(s+6)%7),t&&(s=cU(l,a))}return o.y=a[0],o.m=a[1],o.d=a[2],o.S=i%60,i=Math.floor(i/60),o.M=i%60,i=Math.floor(i/60),o.H=i,o.q=s,o}var cC=new Date(1899,11,31,0,0,0),iU=cC.getTime(),sU=new Date(1900,2,1,0,0,0);function uC(n,e){var t=n.getTime();return e?t-=1461*24*60*60*1e3:n>=sU&&(t+=24*60*60*1e3),(t-(iU+(n.getTimezoneOffset()-cC.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function xb(n){return n.indexOf(".")==-1?n:n.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function aU(n){return n.indexOf("E")==-1?n:n.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function oU(n){var e=n<0?12:11,t=xb(n.toFixed(12));return t.length<=e||(t=n.toPrecision(10),t.length<=e)?t:n.toExponential(5)}function lU(n){var e=xb(n.toFixed(11));return e.length>(n<0?12:11)||e==="0"||e==="-0"?n.toPrecision(6):e}function hm(n){var e=Math.floor(Math.log(Math.abs(n))*Math.LOG10E),t;return e>=-4&&e<=-1?t=n.toPrecision(10+e):Math.abs(e)<=9?t=oU(n):e===10?t=n.toFixed(10).substr(0,12):t=lU(n),xb(aU(t.toUpperCase()))}function Ih(n,e){switch(typeof n){case"string":return n;case"boolean":return n?"TRUE":"FALSE";case"number":return(n|0)===n?n.toString(10):hm(n);case"undefined":return"";case"object":if(n==null)return"";if(n instanceof Date)return Eo(14,uC(n,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+n)}function cU(n,e){e[0]-=581;var t=n.getDay();return n<60&&(t=(t+6)%7),t}function uU(n,e,t,r){var i="",s=0,a=0,o=t.y,l,c=0;switch(n){case 98:o=t.y+543;case 121:switch(e.length){case 1:case 2:l=o%100,c=2;break;default:l=o%1e4,c=4;break}break;case 109:switch(e.length){case 1:case 2:l=t.m,c=e.length;break;case 3:return W2[t.m-1][1];case 5:return W2[t.m-1][0];default:return W2[t.m-1][2]}break;case 100:switch(e.length){case 1:case 2:l=t.d,c=e.length;break;case 3:return DA[t.q][0];default:return DA[t.q][1]}break;case 104:switch(e.length){case 1:case 2:l=1+(t.H+11)%12,c=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:l=t.H,c=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:l=t.M,c=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return t.u===0&&(e=="s"||e=="ss")?sl(t.S,e.length):(r>=2?a=r===3?1e3:100:a=r===1?10:1,s=Math.round(a*(t.S+t.u)),s>=60*a&&(s=0),e==="s"?s===0?"0":""+s/a:(i=sl(s,2+r),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":l=t.D*24+t.H;break;case"[m]":case"[mm]":l=(t.D*24+t.H)*60+t.M;break;case"[s]":case"[ss]":l=((t.D*24+t.H)*60+t.M)*60+Math.round(t.S+t.u);break;default:throw"bad abstime format: "+e}c=e.length===3?1:2;break;case 101:l=o,c=1;break}var f=c>0?sl(l,c):"";return f}function nf(n){var e=3;if(n.length<=e)return n;for(var t=n.length%e,r=n.substr(0,t);t!=n.length;t+=e)r+=(r.length>0?",":"")+n.substr(t,e);return r}var fC=/%/g;function fU(n,e,t){var r=e.replace(fC,""),i=e.length-r.length;return Wc(n,r,t*Math.pow(10,2*i))+li("%",i)}function hU(n,e,t){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return Wc(n,e.substr(0,r),t/Math.pow(10,3*(e.length-r)))}function hC(n,e){var t,r=n.indexOf("E")-n.indexOf(".")-1;if(n.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+hC(n,-e);var i=n.indexOf(".");i===-1&&(i=n.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),t=(e/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),t.indexOf("e")===-1){var a=Math.floor(Math.log(e)*Math.LOG10E);for(t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(a-t.length+s):t+="E+"+(a-s);t.substr(0,2)==="0.";)t=t.charAt(0)+t.substr(2,i)+"."+t.substr(2+i),t=t.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,f){return l+c+f.substr(0,(i+s)%i)+"."+f.substr(s)+"E"})}else t=e.toExponential(r);return n.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),n.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}var dC=/# (\?+)( ?)\/( ?)(\d+)/;function dU(n,e,t){var r=parseInt(n[4],10),i=Math.round(e*r),s=Math.floor(i/r),a=i-s*r,o=r;return t+(s===0?"":""+s)+" "+(a===0?li(" ",n[1].length+1+n[4].length):gb(a,n[1].length)+n[2]+"/"+n[3]+sl(o,n[4].length))}function pU(n,e,t){return t+(e===0?"":""+e)+li(" ",n[1].length+2+n[4].length)}var pC=/^#*0*\.([0#]+)/,mC=/\).*[0#]/,gC=/\(###\) ###\\?-####/;function ia(n){for(var e="",t,r=0;r!=n.length;++r)switch(t=n.charCodeAt(r)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(t)}return e}function OA(n,e){var t=Math.pow(10,e);return""+Math.round(n*t)/t}function UA(n,e){var t=n-Math.floor(n),r=Math.pow(10,e);return e<(""+Math.round(t*r)).length?0:Math.round(t*r)}function mU(n,e){return e<(""+Math.round((n-Math.floor(n))*Math.pow(10,e))).length?1:0}function gU(n){return n<2147483647&&n>-2147483648?""+(n>=0?n|0:n-1|0):""+Math.floor(n)}function yo(n,e,t){if(n.charCodeAt(0)===40&&!e.match(mC)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?yo("n",r,t):"("+yo("n",r,-t)+")"}if(e.charCodeAt(e.length-1)===44)return hU(n,e,t);if(e.indexOf("%")!==-1)return fU(n,e,t);if(e.indexOf("E")!==-1)return hC(e,t);if(e.charCodeAt(0)===36)return"$"+yo(n,e.substr(e.charAt(1)==" "?2:1),t);var i,s,a,o,l=Math.abs(t),c=t<0?"-":"";if(e.match(/^00+$/))return c+Pd(l,e.length);if(e.match(/^[#?]+$/))return i=Pd(t,0),i==="0"&&(i=""),i.length>e.length?i:ia(e.substr(0,e.length-i.length))+i;if(s=e.match(dC))return dU(s,l,c);if(e.match(/^#+0+$/))return c+Pd(l,e.length-e.indexOf("0"));if(s=e.match(pC))return i=OA(t,s[1].length).replace(/^([^\.]+)$/,"$1."+ia(s[1])).replace(/\.$/,"."+ia(s[1])).replace(/\.(\d*)$/,function(_,x){return"."+x+li("0",ia(s[1]).length-x.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return c+OA(l,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return c+nf(Pd(l,0));if(s=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+yo(n,e,-t):nf(""+(Math.floor(t)+mU(t,s[1].length)))+"."+sl(UA(t,s[1].length),s[1].length);if(s=e.match(/^#,#*,#0/))return yo(n,e.replace(/^#,#*,/,""),t);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=o0(yo(n,e.replace(/[\\-]/g,""),t)),a=0,o0(o0(e.replace(/\\/g,"")).replace(/[0#]/g,function(_){return a<i.length?i.charAt(a++):_==="0"?"0":""}));if(e.match(gC))return i=yo(n,"##########",t),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var f="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),o=Ax(l,Math.pow(10,a)-1,!1),i=""+c,f=Wc("n",s[1],o[1]),f.charAt(f.length-1)==" "&&(f=f.substr(0,f.length-1)+"0"),i+=f+s[2]+"/"+s[3],f=Sx(o[2],a),f.length<s[4].length&&(f=ia(s[4].substr(s[4].length-f.length))+f),i+=f,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),o=Ax(l,Math.pow(10,a)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?gb(o[1],a)+s[2]+"/"+s[3]+Sx(o[2],a):li(" ",2*a+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=Pd(t,0),e.length<=i.length?i:ia(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+t.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var d=e.indexOf(".")-a,p=e.length-i.length-d;return ia(e.substr(0,d)+i+e.substr(e.length-p))}if(s=e.match(/^00,000\.([#0]*0)$/))return a=UA(t,s[1].length),t<0?"-"+yo(n,e,-t):nf(gU(t)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(_){return"00,"+(_.length<3?sl(0,3-_.length):"")+_})+"."+sl(a,s[1].length);switch(e){case"###,##0.00":return yo(n,"#,##0.00",t);case"###,###":case"##,###":case"#,###":var m=nf(Pd(l,0));return m!=="0"?c+m:"";case"###,###.00":return yo(n,"###,##0.00",t).replace(/^0\./,".");case"#,###.00":return yo(n,"#,##0.00",t).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function xU(n,e,t){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return Wc(n,e.substr(0,r),t/Math.pow(10,3*(e.length-r)))}function vU(n,e,t){var r=e.replace(fC,""),i=e.length-r.length;return Wc(n,r,t*Math.pow(10,2*i))+li("%",i)}function xC(n,e){var t,r=n.indexOf("E")-n.indexOf(".")-1;if(n.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+xC(n,-e);var i=n.indexOf(".");i===-1&&(i=n.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),t=(e/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),!t.match(/[Ee]/)){var a=Math.floor(Math.log(e)*Math.LOG10E);t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(a-t.length+s):t+="E+"+(a-s),t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,f){return l+c+f.substr(0,(i+s)%i)+"."+f.substr(s)+"E"})}else t=e.toExponential(r);return n.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),n.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}function Il(n,e,t){if(n.charCodeAt(0)===40&&!e.match(mC)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?Il("n",r,t):"("+Il("n",r,-t)+")"}if(e.charCodeAt(e.length-1)===44)return xU(n,e,t);if(e.indexOf("%")!==-1)return vU(n,e,t);if(e.indexOf("E")!==-1)return xC(e,t);if(e.charCodeAt(0)===36)return"$"+Il(n,e.substr(e.charAt(1)==" "?2:1),t);var i,s,a,o,l=Math.abs(t),c=t<0?"-":"";if(e.match(/^00+$/))return c+sl(l,e.length);if(e.match(/^[#?]+$/))return i=""+t,t===0&&(i=""),i.length>e.length?i:ia(e.substr(0,e.length-i.length))+i;if(s=e.match(dC))return pU(s,l,c);if(e.match(/^#+0+$/))return c+sl(l,e.length-e.indexOf("0"));if(s=e.match(pC))return i=(""+t).replace(/^([^\.]+)$/,"$1."+ia(s[1])).replace(/\.$/,"."+ia(s[1])),i=i.replace(/\.(\d*)$/,function(_,x){return"."+x+li("0",ia(s[1]).length-x.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return c+nf(""+l);if(s=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+Il(n,e,-t):nf(""+t)+"."+li("0",s[1].length);if(s=e.match(/^#,#*,#0/))return Il(n,e.replace(/^#,#*,/,""),t);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=o0(Il(n,e.replace(/[\\-]/g,""),t)),a=0,o0(o0(e.replace(/\\/g,"")).replace(/[0#]/g,function(_){return a<i.length?i.charAt(a++):_==="0"?"0":""}));if(e.match(gC))return i=Il(n,"##########",t),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var f="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),o=Ax(l,Math.pow(10,a)-1,!1),i=""+c,f=Wc("n",s[1],o[1]),f.charAt(f.length-1)==" "&&(f=f.substr(0,f.length-1)+"0"),i+=f+s[2]+"/"+s[3],f=Sx(o[2],a),f.length<s[4].length&&(f=ia(s[4].substr(s[4].length-f.length))+f),i+=f,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),o=Ax(l,Math.pow(10,a)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?gb(o[1],a)+s[2]+"/"+s[3]+Sx(o[2],a):li(" ",2*a+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=""+t,e.length<=i.length?i:ia(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0]+)\.([#0]+)$/)){i=""+t.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var d=e.indexOf(".")-a,p=e.length-i.length-d;return ia(e.substr(0,d)+i+e.substr(e.length-p))}if(s=e.match(/^00,000\.([#0]*0)$/))return t<0?"-"+Il(n,e,-t):nf(""+t).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(_){return"00,"+(_.length<3?sl(0,3-_.length):"")+_})+"."+sl(0,s[1].length);switch(e){case"###,###":case"##,###":case"#,###":var m=nf(""+l);return m!=="0"?c+m:"";default:if(e.match(/\.[0#?]*$/))return Il(n,e.slice(0,e.lastIndexOf(".")),t)+ia(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function Wc(n,e,t){return(t|0)===t?Il(n,e,t):yo(n,e,t)}function _U(n){for(var e=[],t=!1,r=0,i=0;r<n.length;++r)switch(n.charCodeAt(r)){case 34:t=!t;break;case 95:case 42:case 92:++r;break;case 59:e[e.length]=n.substr(i,r-i),i=r+1}if(e[e.length]=n.substr(i),t===!0)throw new Error("Format |"+n+"| unterminated string ");return e}var vC=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function I0(n){for(var e=0,t="",r="";e<n.length;)switch(t=n.charAt(e)){case"G":Ex(n,e)&&(e+=6),e++;break;case'"':for(;n.charCodeAt(++e)!==34&&e<n.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(n.charAt(e+1)==="1"||n.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"上":if(n.substr(e,3).toUpperCase()==="A/P"||n.substr(e,5).toUpperCase()==="AM/PM"||n.substr(e,5).toUpperCase()==="上午/下午")return!0;++e;break;case"[":for(r=t;n.charAt(e++)!=="]"&&e<n.length;)r+=n.charAt(e);if(r.match(vC))return!0;break;case".":case"0":case"#":for(;e<n.length&&("0#?.,E+-%".indexOf(t=n.charAt(++e))>-1||t=="\\"&&n.charAt(e+1)=="-"&&"0#".indexOf(n.charAt(e+2))>-1););break;case"?":for(;n.charAt(++e)===t;);break;case"*":++e,(n.charAt(e)==" "||n.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<n.length&&"0123456789".indexOf(n.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function yU(n,e,t,r){for(var i=[],s="",a=0,o="",l="t",c,f,d,p="H";a<n.length;)switch(o=n.charAt(a)){case"G":if(!Ex(n,a))throw new Error("unrecognized character "+o+" in "+n);i[i.length]={t:"G",v:"General"},a+=7;break;case'"':for(s="";(d=n.charCodeAt(++a))!==34&&a<n.length;)s+=String.fromCharCode(d);i[i.length]={t:"t",v:s},++a;break;case"\\":var m=n.charAt(++a),_=m==="("||m===")"?m:"t";i[i.length]={t:_,v:m},++a;break;case"_":i[i.length]={t:"t",v:" "},a+=2;break;case"@":i[i.length]={t:"T",v:e},++a;break;case"B":case"b":if(n.charAt(a+1)==="1"||n.charAt(a+1)==="2"){if(c==null&&(c=bh(e,t,n.charAt(a+1)==="2"),c==null))return"";i[i.length]={t:"X",v:n.substr(a,2)},l=o,a+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||c==null&&(c=bh(e,t),c==null))return"";for(s=o;++a<n.length&&n.charAt(a).toLowerCase()===o;)s+=o;o==="m"&&l.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=p),i[i.length]={t:o,v:s},l=o;break;case"A":case"a":case"上":var x={t:o,v:o};if(c==null&&(c=bh(e,t)),n.substr(a,3).toUpperCase()==="A/P"?(c!=null&&(x.v=c.H>=12?"P":"A"),x.t="T",p="h",a+=3):n.substr(a,5).toUpperCase()==="AM/PM"?(c!=null&&(x.v=c.H>=12?"PM":"AM"),x.t="T",a+=5,p="h"):n.substr(a,5).toUpperCase()==="上午/下午"?(c!=null&&(x.v=c.H>=12?"下午":"上午"),x.t="T",a+=5,p="h"):(x.t="t",++a),c==null&&x.t==="T")return"";i[i.length]=x,l=o;break;case"[":for(s=o;n.charAt(a++)!=="]"&&a<n.length;)s+=n.charAt(a);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(vC)){if(c==null&&(c=bh(e,t),c==null))return"";i[i.length]={t:"Z",v:s.toLowerCase()},l=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",I0(n)||(i[i.length]={t:"t",v:s}));break;case".":if(c!=null){for(s=o;++a<n.length&&(o=n.charAt(a))==="0";)s+=o;i[i.length]={t:"s",v:s};break}case"0":case"#":for(s=o;++a<n.length&&"0#?.,E+-%".indexOf(o=n.charAt(a))>-1;)s+=o;i[i.length]={t:"n",v:s};break;case"?":for(s=o;n.charAt(++a)===o;)s+=o;i[i.length]={t:o,v:s},l=o;break;case"*":++a,(n.charAt(a)==" "||n.charAt(a)=="*")&&++a;break;case"(":case")":i[i.length]={t:r===1?"t":o,v:o},++a;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=o;a<n.length&&"0123456789".indexOf(n.charAt(++a))>-1;)s+=n.charAt(a);i[i.length]={t:"D",v:s};break;case" ":i[i.length]={t:o,v:o},++a;break;case"$":i[i.length]={t:"t",v:"$"},++a;break;default:if(",$-+/():!^&'~{}<>=€acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+n);i[i.length]={t:"t",v:o},++a;break}var g=0,y=0,A;for(a=i.length-1,l="t";a>=0;--a)switch(i[a].t){case"h":case"H":i[a].t=p,l="h",g<1&&(g=1);break;case"s":(A=i[a].v.match(/\.0+$/))&&(y=Math.max(y,A[0].length-1)),g<3&&(g=3);case"d":case"y":case"M":case"e":l=i[a].t;break;case"m":l==="s"&&(i[a].t="M",g<2&&(g=2));break;case"X":break;case"Z":g<1&&i[a].v.match(/[Hh]/)&&(g=1),g<2&&i[a].v.match(/[Mm]/)&&(g=2),g<3&&i[a].v.match(/[Ss]/)&&(g=3)}switch(g){case 0:break;case 1:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M),c.M>=60&&(c.M=0,++c.H);break;case 2:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M);break}var E="",M;for(a=0;a<i.length;++a)switch(i[a].t){case"t":case"T":case" ":case"D":break;case"X":i[a].v="",i[a].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[a].v=uU(i[a].t.charCodeAt(0),i[a].v,c,y),i[a].t="t";break;case"n":case"?":for(M=a+1;i[M]!=null&&((o=i[M].t)==="?"||o==="D"||(o===" "||o==="t")&&i[M+1]!=null&&(i[M+1].t==="?"||i[M+1].t==="t"&&i[M+1].v==="/")||i[a].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(i[M].v==="/"||i[M].v===" "&&i[M+1]!=null&&i[M+1].t=="?"));)i[a].v+=i[M].v,i[M]={v:"",t:";"},++M;E+=i[a].v,a=M-1;break;case"G":i[a].t="t",i[a].v=Ih(e,t);break}var D="",U,L;if(E.length>0){E.charCodeAt(0)==40?(U=e<0&&E.charCodeAt(0)===45?-e:e,L=Wc("n",E,U)):(U=e<0&&r>1?-e:e,L=Wc("n",E,U),U<0&&i[0]&&i[0].t=="t"&&(L=L.substr(1),i[0].v="-"+i[0].v)),M=L.length-1;var I=i.length;for(a=0;a<i.length;++a)if(i[a]!=null&&i[a].t!="t"&&i[a].v.indexOf(".")>-1){I=a;break}var R=i.length;if(I===i.length&&L.indexOf("E")===-1){for(a=i.length-1;a>=0;--a)i[a]==null||"n?".indexOf(i[a].t)===-1||(M>=i[a].v.length-1?(M-=i[a].v.length,i[a].v=L.substr(M+1,i[a].v.length)):M<0?i[a].v="":(i[a].v=L.substr(0,M+1),M=-1),i[a].t="t",R=a);M>=0&&R<i.length&&(i[R].v=L.substr(0,M+1)+i[R].v)}else if(I!==i.length&&L.indexOf("E")===-1){for(M=L.indexOf(".")-1,a=I;a>=0;--a)if(!(i[a]==null||"n?".indexOf(i[a].t)===-1)){for(f=i[a].v.indexOf(".")>-1&&a===I?i[a].v.indexOf(".")-1:i[a].v.length-1,D=i[a].v.substr(f+1);f>=0;--f)M>=0&&(i[a].v.charAt(f)==="0"||i[a].v.charAt(f)==="#")&&(D=L.charAt(M--)+D);i[a].v=D,i[a].t="t",R=a}for(M>=0&&R<i.length&&(i[R].v=L.substr(0,M+1)+i[R].v),M=L.indexOf(".")+1,a=I;a<i.length;++a)if(!(i[a]==null||"n?(".indexOf(i[a].t)===-1&&a!==I)){for(f=i[a].v.indexOf(".")>-1&&a===I?i[a].v.indexOf(".")+1:0,D=i[a].v.substr(0,f);f<i[a].v.length;++f)M<L.length&&(D+=L.charAt(M++));i[a].v=D,i[a].t="t",R=a}}}for(a=0;a<i.length;++a)i[a]!=null&&"n?".indexOf(i[a].t)>-1&&(U=r>1&&e<0&&a>0&&i[a-1].v==="-"?-e:e,i[a].v=Wc(i[a].t,i[a].v,U),i[a].t="t");var O="";for(a=0;a!==i.length;++a)i[a]!=null&&(O+=i[a].v);return O}var BA=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function zA(n,e){if(e==null)return!1;var t=parseFloat(e[2]);switch(e[1]){case"=":if(n==t)return!0;break;case">":if(n>t)return!0;break;case"<":if(n<t)return!0;break;case"<>":if(n!=t)return!0;break;case">=":if(n>=t)return!0;break;case"<=":if(n<=t)return!0;break}return!1}function wU(n,e){var t=_U(n),r=t.length,i=t[r-1].indexOf("@");if(r<4&&i>-1&&--r,t.length>4)throw new Error("cannot find right format for |"+t.join("|")+"|");if(typeof e!="number")return[4,t.length===4||i>-1?t[t.length-1]:"@"];switch(t.length){case 1:t=i>-1?["General","General","General",t[0]]:[t[0],t[0],t[0],"@"];break;case 2:t=i>-1?[t[0],t[0],t[0],t[1]]:[t[0],t[1],t[0],"@"];break;case 3:t=i>-1?[t[0],t[1],t[0],t[2]]:[t[0],t[1],t[2],"@"];break}var s=e>0?t[0]:e<0?t[1]:t[2];if(t[0].indexOf("[")===-1&&t[1].indexOf("[")===-1)return[r,s];if(t[0].match(/\[[=<>]/)!=null||t[1].match(/\[[=<>]/)!=null){var a=t[0].match(BA),o=t[1].match(BA);return zA(e,a)?[r,t[0]]:zA(e,o)?[r,t[1]]:[r,t[a!=null&&o!=null?2:1]]}return[r,s]}function Eo(n,e,t){t==null&&(t={});var r="";switch(typeof n){case"string":n=="m/d/yy"&&t.dateNF?r=t.dateNF:r=n;break;case"number":n==14&&t.dateNF?r=t.dateNF:r=(t.table!=null?t.table:Nn)[n],r==null&&(r=t.table&&t.table[IA[n]]||Nn[IA[n]]),r==null&&(r=rU[n]||"General");break}if(Ex(r,0))return Ih(e,t);e instanceof Date&&(e=uC(e,t.date1904));var i=wU(r,e);if(Ex(i[1]))return Ih(e,t);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return yU(i[1],e,t,i[0])}function Ph(n,e){if(typeof e!="number"){e=+e||-1;for(var t=0;t<392;++t){if(Nn[t]==null){e<0&&(e=t);continue}if(Nn[t]==n){e=t;break}}e<0&&(e=391)}return Nn[e]=n,e}function _C(){Nn=nU()}var bU={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},yC=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function SU(n){var e=typeof n=="number"?Nn[n]:n;return e=e.replace(yC,"(\\d+)"),new RegExp("^"+e+"$")}function EU(n,e,t){var r=-1,i=-1,s=-1,a=-1,o=-1,l=-1;(e.match(yC)||[]).forEach(function(d,p){var m=parseInt(t[p+1],10);switch(d.toLowerCase().charAt(0)){case"y":r=m;break;case"d":s=m;break;case"h":a=m;break;case"s":l=m;break;case"m":a>=0?o=m:i=m;break}}),l>=0&&o==-1&&i>=0&&(o=i,i=-1);var c=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);c.length==7&&(c="0"+c),c.length==8&&(c="20"+c);var f=("00"+(a>=0?a:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return a==-1&&o==-1&&l==-1?c:r==-1&&i==-1&&s==-1?f:c+"T"+f}var AU=function(){var n={};n.version="1.2.0";function e(){for(var L=0,I=new Array(256),R=0;R!=256;++R)L=R,L=L&1?-306674912^L>>>1:L>>>1,L=L&1?-306674912^L>>>1:L>>>1,L=L&1?-306674912^L>>>1:L>>>1,L=L&1?-306674912^L>>>1:L>>>1,L=L&1?-306674912^L>>>1:L>>>1,L=L&1?-306674912^L>>>1:L>>>1,L=L&1?-306674912^L>>>1:L>>>1,L=L&1?-306674912^L>>>1:L>>>1,I[R]=L;return typeof Int32Array<"u"?new Int32Array(I):I}var t=e();function r(L){var I=0,R=0,O=0,N=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(O=0;O!=256;++O)N[O]=L[O];for(O=0;O!=256;++O)for(R=L[O],I=256+O;I<4096;I+=256)R=N[I]=R>>>8^L[R&255];var k=[];for(O=1;O!=16;++O)k[O-1]=typeof Int32Array<"u"?N.subarray(O*256,O*256+256):N.slice(O*256,O*256+256);return k}var i=r(t),s=i[0],a=i[1],o=i[2],l=i[3],c=i[4],f=i[5],d=i[6],p=i[7],m=i[8],_=i[9],x=i[10],g=i[11],y=i[12],A=i[13],E=i[14];function M(L,I){for(var R=I^-1,O=0,N=L.length;O<N;)R=R>>>8^t[(R^L.charCodeAt(O++))&255];return~R}function D(L,I){for(var R=I^-1,O=L.length-15,N=0;N<O;)R=E[L[N++]^R&255]^A[L[N++]^R>>8&255]^y[L[N++]^R>>16&255]^g[L[N++]^R>>>24]^x[L[N++]]^_[L[N++]]^m[L[N++]]^p[L[N++]]^d[L[N++]]^f[L[N++]]^c[L[N++]]^l[L[N++]]^o[L[N++]]^a[L[N++]]^s[L[N++]]^t[L[N++]];for(O+=15;N<O;)R=R>>>8^t[(R^L[N++])&255];return~R}function U(L,I){for(var R=I^-1,O=0,N=L.length,k=0,j=0;O<N;)k=L.charCodeAt(O++),k<128?R=R>>>8^t[(R^k)&255]:k<2048?(R=R>>>8^t[(R^(192|k>>6&31))&255],R=R>>>8^t[(R^(128|k&63))&255]):k>=55296&&k<57344?(k=(k&1023)+64,j=L.charCodeAt(O++)&1023,R=R>>>8^t[(R^(240|k>>8&7))&255],R=R>>>8^t[(R^(128|k>>2&63))&255],R=R>>>8^t[(R^(128|j>>6&15|(k&3)<<4))&255],R=R>>>8^t[(R^(128|j&63))&255]):(R=R>>>8^t[(R^(224|k>>12&15))&255],R=R>>>8^t[(R^(128|k>>6&63))&255],R=R>>>8^t[(R^(128|k&63))&255]);return~R}return n.table=t,n.bstr=M,n.buf=D,n.str=U,n}(),Jn=function(){var e={};e.version="1.2.1";function t(re,be){for(var ge=re.split("/"),xe=be.split("/"),Se=0,Ee=0,it=Math.min(ge.length,xe.length);Se<it;++Se){if(Ee=ge[Se].length-xe[Se].length)return Ee;if(ge[Se]!=xe[Se])return ge[Se]<xe[Se]?-1:1}return ge.length-xe.length}function r(re){if(re.charAt(re.length-1)=="/")return re.slice(0,-1).indexOf("/")===-1?re:r(re.slice(0,-1));var be=re.lastIndexOf("/");return be===-1?re:re.slice(0,be+1)}function i(re){if(re.charAt(re.length-1)=="/")return i(re.slice(0,-1));var be=re.lastIndexOf("/");return be===-1?re:re.slice(be+1)}function s(re,be){typeof be=="string"&&(be=new Date(be));var ge=be.getHours();ge=ge<<6|be.getMinutes(),ge=ge<<5|be.getSeconds()>>>1,re.write_shift(2,ge);var xe=be.getFullYear()-1980;xe=xe<<4|be.getMonth()+1,xe=xe<<5|be.getDate(),re.write_shift(2,xe)}function a(re){var be=re.read_shift(2)&65535,ge=re.read_shift(2)&65535,xe=new Date,Se=ge&31;ge>>>=5;var Ee=ge&15;ge>>>=4,xe.setMilliseconds(0),xe.setFullYear(ge+1980),xe.setMonth(Ee-1),xe.setDate(Se);var it=be&31;be>>>=5;var dt=be&63;return be>>>=6,xe.setHours(be),xe.setMinutes(dt),xe.setSeconds(it<<1),xe}function o(re){us(re,0);for(var be={},ge=0;re.l<=re.length-4;){var xe=re.read_shift(2),Se=re.read_shift(2),Ee=re.l+Se,it={};switch(xe){case 21589:ge=re.read_shift(1),ge&1&&(it.mtime=re.read_shift(4)),Se>5&&(ge&2&&(it.atime=re.read_shift(4)),ge&4&&(it.ctime=re.read_shift(4))),it.mtime&&(it.mt=new Date(it.mtime*1e3));break}re.l=Ee,be[xe]=it}return be}var l;function c(){return l||(l={})}function f(re,be){if(re[0]==80&&re[1]==75)return Ft(re,be);if((re[0]|32)==109&&(re[1]|32)==105)return Cr(re,be);if(re.length<512)throw new Error("CFB file size "+re.length+" < 512");var ge=3,xe=512,Se=0,Ee=0,it=0,dt=0,rt=0,at=[],ct=re.slice(0,512);us(ct,0);var kt=d(ct);switch(ge=kt[0],ge){case 3:xe=512;break;case 4:xe=4096;break;case 0:if(kt[1]==0)return Ft(re,be);default:throw new Error("Major Version: Expected 3 or 4 saw "+ge)}xe!==512&&(ct=re.slice(0,xe),us(ct,28));var Q=re.slice(0,xe);p(ct,ge);var Te=ct.read_shift(4,"i");if(ge===3&&Te!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Te);ct.l+=4,it=ct.read_shift(4,"i"),ct.l+=4,ct.chk("00100000","Mini Stream Cutoff Size: "),dt=ct.read_shift(4,"i"),Se=ct.read_shift(4,"i"),rt=ct.read_shift(4,"i"),Ee=ct.read_shift(4,"i");for(var ke=-1,Pe=0;Pe<109&&(ke=ct.read_shift(4,"i"),!(ke<0));++Pe)at[Pe]=ke;var Le=m(re,xe);g(rt,Ee,Le,xe,at);var St=A(Le,it,at,xe);St[it].name="!Directory",Se>0&&dt!==j&&(St[dt].name="!MiniFAT"),St[at[0]].name="!FAT",St.fat_addrs=at,St.ssz=xe;var Rt={},jt=[],Xt=[],on=[];E(it,St,Le,jt,Se,Rt,Xt,dt),_(Xt,on,jt),jt.shift();var rn={FileIndex:Xt,FullPaths:on};return be&&be.raw&&(rn.raw={header:Q,sectors:Le}),rn}function d(re){if(re[re.l]==80&&re[re.l+1]==75)return[0,0];re.chk(G,"Header Signature: "),re.l+=16;var be=re.read_shift(2,"u");return[re.read_shift(2,"u"),be]}function p(re,be){var ge=9;switch(re.l+=2,ge=re.read_shift(2)){case 9:if(be!=3)throw new Error("Sector Shift: Expected 9 saw "+ge);break;case 12:if(be!=4)throw new Error("Sector Shift: Expected 12 saw "+ge);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+ge)}re.chk("0600","Mini Sector Shift: "),re.chk("000000000000","Reserved: ")}function m(re,be){for(var ge=Math.ceil(re.length/be)-1,xe=[],Se=1;Se<ge;++Se)xe[Se-1]=re.slice(Se*be,(Se+1)*be);return xe[ge-1]=re.slice(ge*be),xe}function _(re,be,ge){for(var xe=0,Se=0,Ee=0,it=0,dt=0,rt=ge.length,at=[],ct=[];xe<rt;++xe)at[xe]=ct[xe]=xe,be[xe]=ge[xe];for(;dt<ct.length;++dt)xe=ct[dt],Se=re[xe].L,Ee=re[xe].R,it=re[xe].C,at[xe]===xe&&(Se!==-1&&at[Se]!==Se&&(at[xe]=at[Se]),Ee!==-1&&at[Ee]!==Ee&&(at[xe]=at[Ee])),it!==-1&&(at[it]=xe),Se!==-1&&xe!=at[xe]&&(at[Se]=at[xe],ct.lastIndexOf(Se)<dt&&ct.push(Se)),Ee!==-1&&xe!=at[xe]&&(at[Ee]=at[xe],ct.lastIndexOf(Ee)<dt&&ct.push(Ee));for(xe=1;xe<rt;++xe)at[xe]===xe&&(Ee!==-1&&at[Ee]!==Ee?at[xe]=at[Ee]:Se!==-1&&at[Se]!==Se&&(at[xe]=at[Se]));for(xe=1;xe<rt;++xe)if(re[xe].type!==0){if(dt=xe,dt!=at[dt])do dt=at[dt],be[xe]=be[dt]+"/"+be[xe];while(dt!==0&&at[dt]!==-1&&dt!=at[dt]);at[xe]=-1}for(be[0]+="/",xe=1;xe<rt;++xe)re[xe].type!==2&&(be[xe]+="/")}function x(re,be,ge){for(var xe=re.start,Se=re.size,Ee=[],it=xe;ge&&Se>0&&it>=0;)Ee.push(be.slice(it*k,it*k+k)),Se-=k,it=gh(ge,it*4);return Ee.length===0?Ii(0):$u(Ee).slice(0,re.size)}function g(re,be,ge,xe,Se){var Ee=j;if(re===j){if(be!==0)throw new Error("DIFAT chain shorter than expected")}else if(re!==-1){var it=ge[re],dt=(xe>>>2)-1;if(!it)return;for(var rt=0;rt<dt&&(Ee=gh(it,rt*4))!==j;++rt)Se.push(Ee);g(gh(it,xe-4),be-1,ge,xe,Se)}}function y(re,be,ge,xe,Se){var Ee=[],it=[];Se||(Se=[]);var dt=xe-1,rt=0,at=0;for(rt=be;rt>=0;){Se[rt]=!0,Ee[Ee.length]=rt,it.push(re[rt]);var ct=ge[Math.floor(rt*4/xe)];if(at=rt*4&dt,xe<4+at)throw new Error("FAT boundary crossed: "+rt+" 4 "+xe);if(!re[ct])break;rt=gh(re[ct],at)}return{nodes:Ee,data:KA([it])}}function A(re,be,ge,xe){var Se=re.length,Ee=[],it=[],dt=[],rt=[],at=xe-1,ct=0,kt=0,Q=0,Te=0;for(ct=0;ct<Se;++ct)if(dt=[],Q=ct+be,Q>=Se&&(Q-=Se),!it[Q]){rt=[];var ke=[];for(kt=Q;kt>=0;){ke[kt]=!0,it[kt]=!0,dt[dt.length]=kt,rt.push(re[kt]);var Pe=ge[Math.floor(kt*4/xe)];if(Te=kt*4&at,xe<4+Te)throw new Error("FAT boundary crossed: "+kt+" 4 "+xe);if(!re[Pe]||(kt=gh(re[Pe],Te),ke[kt]))break}Ee[Q]={nodes:dt,data:KA([rt])}}return Ee}function E(re,be,ge,xe,Se,Ee,it,dt){for(var rt=0,at=xe.length?2:0,ct=be[re].data,kt=0,Q=0,Te;kt<ct.length;kt+=128){var ke=ct.slice(kt,kt+128);us(ke,64),Q=ke.read_shift(2),Te=bb(ke,0,Q-at),xe.push(Te);var Pe={name:Te,type:ke.read_shift(1),color:ke.read_shift(1),L:ke.read_shift(4,"i"),R:ke.read_shift(4,"i"),C:ke.read_shift(4,"i"),clsid:ke.read_shift(16),state:ke.read_shift(4,"i"),start:0,size:0},Le=ke.read_shift(2)+ke.read_shift(2)+ke.read_shift(2)+ke.read_shift(2);Le!==0&&(Pe.ct=M(ke,ke.l-8));var St=ke.read_shift(2)+ke.read_shift(2)+ke.read_shift(2)+ke.read_shift(2);St!==0&&(Pe.mt=M(ke,ke.l-8)),Pe.start=ke.read_shift(4,"i"),Pe.size=ke.read_shift(4,"i"),Pe.size<0&&Pe.start<0&&(Pe.size=Pe.type=0,Pe.start=j,Pe.name=""),Pe.type===5?(rt=Pe.start,Se>0&&rt!==j&&(be[rt].name="!StreamData")):Pe.size>=4096?(Pe.storage="fat",be[Pe.start]===void 0&&(be[Pe.start]=y(ge,Pe.start,be.fat_addrs,be.ssz)),be[Pe.start].name=Pe.name,Pe.content=be[Pe.start].data.slice(0,Pe.size)):(Pe.storage="minifat",Pe.size<0?Pe.size=0:rt!==j&&Pe.start!==j&&be[rt]&&(Pe.content=x(Pe,be[rt].data,(be[dt]||{}).data))),Pe.content&&us(Pe.content,0),Ee[Te]=Pe,it.push(Pe)}}function M(re,be){return new Date(($a(re,be+4)/1e7*Math.pow(2,32)+$a(re,be)/1e7-11644473600)*1e3)}function D(re,be){return c(),f(l.readFileSync(re),be)}function U(re,be){var ge=be&&be.type;switch(ge||$n&&Buffer.isBuffer(re)&&(ge="buffer"),ge||"base64"){case"file":return D(re,be);case"base64":return f(nl(Za(re)),be);case"binary":return f(nl(re),be)}return f(re,be)}function L(re,be){var ge=be||{},xe=ge.root||"Root Entry";if(re.FullPaths||(re.FullPaths=[]),re.FileIndex||(re.FileIndex=[]),re.FullPaths.length!==re.FileIndex.length)throw new Error("inconsistent CFB structure");re.FullPaths.length===0&&(re.FullPaths[0]=xe+"/",re.FileIndex[0]={name:xe,type:5}),ge.CLSID&&(re.FileIndex[0].clsid=ge.CLSID),I(re)}function I(re){var be="Sh33tJ5";if(!Jn.find(re,"/"+be)){var ge=Ii(4);ge[0]=55,ge[1]=ge[3]=50,ge[2]=54,re.FileIndex.push({name:be,type:2,content:ge,size:4,L:69,R:69,C:69}),re.FullPaths.push(re.FullPaths[0]+be),R(re)}}function R(re,be){L(re);for(var ge=!1,xe=!1,Se=re.FullPaths.length-1;Se>=0;--Se){var Ee=re.FileIndex[Se];switch(Ee.type){case 0:xe?ge=!0:(re.FileIndex.pop(),re.FullPaths.pop());break;case 1:case 2:case 5:xe=!0,isNaN(Ee.R*Ee.L*Ee.C)&&(ge=!0),Ee.R>-1&&Ee.L>-1&&Ee.R==Ee.L&&(ge=!0);break;default:ge=!0;break}}if(!(!ge&&!be)){var it=new Date(1987,1,19),dt=0,rt=Object.create?Object.create(null):{},at=[];for(Se=0;Se<re.FullPaths.length;++Se)rt[re.FullPaths[Se]]=!0,re.FileIndex[Se].type!==0&&at.push([re.FullPaths[Se],re.FileIndex[Se]]);for(Se=0;Se<at.length;++Se){var ct=r(at[Se][0]);xe=rt[ct],xe||(at.push([ct,{name:i(ct).replace("/",""),type:1,clsid:ie,ct:it,mt:it,content:null}]),rt[ct]=!0)}for(at.sort(function(Te,ke){return t(Te[0],ke[0])}),re.FullPaths=[],re.FileIndex=[],Se=0;Se<at.length;++Se)re.FullPaths[Se]=at[Se][0],re.FileIndex[Se]=at[Se][1];for(Se=0;Se<at.length;++Se){var kt=re.FileIndex[Se],Q=re.FullPaths[Se];if(kt.name=i(Q).replace("/",""),kt.L=kt.R=kt.C=-(kt.color=1),kt.size=kt.content?kt.content.length:0,kt.start=0,kt.clsid=kt.clsid||ie,Se===0)kt.C=at.length>1?1:-1,kt.size=0,kt.type=5;else if(Q.slice(-1)=="/"){for(dt=Se+1;dt<at.length&&r(re.FullPaths[dt])!=Q;++dt);for(kt.C=dt>=at.length?-1:dt,dt=Se+1;dt<at.length&&r(re.FullPaths[dt])!=r(Q);++dt);kt.R=dt>=at.length?-1:dt,kt.type=1}else r(re.FullPaths[Se+1]||"")==r(Q)&&(kt.R=Se+1),kt.type=2}}}function O(re,be){var ge=be||{};if(ge.fileType=="mad")return Qt(re,ge);switch(R(re),ge.fileType){case"zip":return Vt(re,ge)}var xe=function(Te){for(var ke=0,Pe=0,Le=0;Le<Te.FileIndex.length;++Le){var St=Te.FileIndex[Le];if(St.content){var Rt=St.content.length;Rt>0&&(Rt<4096?ke+=Rt+63>>6:Pe+=Rt+511>>9)}}for(var jt=Te.FullPaths.length+3>>2,Xt=ke+7>>3,on=ke+127>>7,rn=Xt+Pe+jt+on,$t=rn+127>>7,yn=$t<=109?0:Math.ceil(($t-109)/127);rn+$t+yn+127>>7>$t;)yn=++$t<=109?0:Math.ceil(($t-109)/127);var hn=[1,yn,$t,on,jt,Pe,ke,0];return Te.FileIndex[0].size=ke<<6,hn[7]=(Te.FileIndex[0].start=hn[0]+hn[1]+hn[2]+hn[3]+hn[4]+hn[5])+(hn[6]+7>>3),hn}(re),Se=Ii(xe[7]<<9),Ee=0,it=0;{for(Ee=0;Ee<8;++Ee)Se.write_shift(1,ae[Ee]);for(Ee=0;Ee<8;++Ee)Se.write_shift(2,0);for(Se.write_shift(2,62),Se.write_shift(2,3),Se.write_shift(2,65534),Se.write_shift(2,9),Se.write_shift(2,6),Ee=0;Ee<3;++Ee)Se.write_shift(2,0);for(Se.write_shift(4,0),Se.write_shift(4,xe[2]),Se.write_shift(4,xe[0]+xe[1]+xe[2]+xe[3]-1),Se.write_shift(4,0),Se.write_shift(4,4096),Se.write_shift(4,xe[3]?xe[0]+xe[1]+xe[2]-1:j),Se.write_shift(4,xe[3]),Se.write_shift(-4,xe[1]?xe[0]-1:j),Se.write_shift(4,xe[1]),Ee=0;Ee<109;++Ee)Se.write_shift(-4,Ee<xe[2]?xe[1]+Ee:-1)}if(xe[1])for(it=0;it<xe[1];++it){for(;Ee<236+it*127;++Ee)Se.write_shift(-4,Ee<xe[2]?xe[1]+Ee:-1);Se.write_shift(-4,it===xe[1]-1?j:it+1)}var dt=function(Te){for(it+=Te;Ee<it-1;++Ee)Se.write_shift(-4,Ee+1);Te&&(++Ee,Se.write_shift(-4,j))};for(it=Ee=0,it+=xe[1];Ee<it;++Ee)Se.write_shift(-4,ue.DIFSECT);for(it+=xe[2];Ee<it;++Ee)Se.write_shift(-4,ue.FATSECT);dt(xe[3]),dt(xe[4]);for(var rt=0,at=0,ct=re.FileIndex[0];rt<re.FileIndex.length;++rt)ct=re.FileIndex[rt],ct.content&&(at=ct.content.length,!(at<4096)&&(ct.start=it,dt(at+511>>9)));for(dt(xe[6]+7>>3);Se.l&511;)Se.write_shift(-4,ue.ENDOFCHAIN);for(it=Ee=0,rt=0;rt<re.FileIndex.length;++rt)ct=re.FileIndex[rt],ct.content&&(at=ct.content.length,!(!at||at>=4096)&&(ct.start=it,dt(at+63>>6)));for(;Se.l&511;)Se.write_shift(-4,ue.ENDOFCHAIN);for(Ee=0;Ee<xe[4]<<2;++Ee){var kt=re.FullPaths[Ee];if(!kt||kt.length===0){for(rt=0;rt<17;++rt)Se.write_shift(4,0);for(rt=0;rt<3;++rt)Se.write_shift(4,-1);for(rt=0;rt<12;++rt)Se.write_shift(4,0);continue}ct=re.FileIndex[Ee],Ee===0&&(ct.start=ct.size?ct.start-1:j);var Q=Ee===0&&ge.root||ct.name;if(at=2*(Q.length+1),Se.write_shift(64,Q,"utf16le"),Se.write_shift(2,at),Se.write_shift(1,ct.type),Se.write_shift(1,ct.color),Se.write_shift(-4,ct.L),Se.write_shift(-4,ct.R),Se.write_shift(-4,ct.C),ct.clsid)Se.write_shift(16,ct.clsid,"hex");else for(rt=0;rt<4;++rt)Se.write_shift(4,0);Se.write_shift(4,ct.state||0),Se.write_shift(4,0),Se.write_shift(4,0),Se.write_shift(4,0),Se.write_shift(4,0),Se.write_shift(4,ct.start),Se.write_shift(4,ct.size),Se.write_shift(4,0)}for(Ee=1;Ee<re.FileIndex.length;++Ee)if(ct=re.FileIndex[Ee],ct.size>=4096)if(Se.l=ct.start+1<<9,$n&&Buffer.isBuffer(ct.content))ct.content.copy(Se,Se.l,0,ct.size),Se.l+=ct.size+511&-512;else{for(rt=0;rt<ct.size;++rt)Se.write_shift(1,ct.content[rt]);for(;rt&511;++rt)Se.write_shift(1,0)}for(Ee=1;Ee<re.FileIndex.length;++Ee)if(ct=re.FileIndex[Ee],ct.size>0&&ct.size<4096)if($n&&Buffer.isBuffer(ct.content))ct.content.copy(Se,Se.l,0,ct.size),Se.l+=ct.size+63&-64;else{for(rt=0;rt<ct.size;++rt)Se.write_shift(1,ct.content[rt]);for(;rt&63;++rt)Se.write_shift(1,0)}if($n)Se.l=Se.length;else for(;Se.l<Se.length;)Se.write_shift(1,0);return Se}function N(re,be){var ge=re.FullPaths.map(function(rt){return rt.toUpperCase()}),xe=ge.map(function(rt){var at=rt.split("/");return at[at.length-(rt.slice(-1)=="/"?2:1)]}),Se=!1;be.charCodeAt(0)===47?(Se=!0,be=ge[0].slice(0,-1)+be):Se=be.indexOf("/")!==-1;var Ee=be.toUpperCase(),it=Se===!0?ge.indexOf(Ee):xe.indexOf(Ee);if(it!==-1)return re.FileIndex[it];var dt=!Ee.match(Rp);for(Ee=Ee.replace(la,""),dt&&(Ee=Ee.replace(Rp,"!")),it=0;it<ge.length;++it)if((dt?ge[it].replace(Rp,"!"):ge[it]).replace(la,"")==Ee||(dt?xe[it].replace(Rp,"!"):xe[it]).replace(la,"")==Ee)return re.FileIndex[it];return null}var k=64,j=-2,G="d0cf11e0a1b11ae1",ae=[208,207,17,224,161,177,26,225],ie="00000000000000000000000000000000",ue={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:j,FREESECT:-1,HEADER_SIGNATURE:G,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:ie,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function J(re,be,ge){c();var xe=O(re,ge);l.writeFileSync(be,xe)}function X(re){for(var be=new Array(re.length),ge=0;ge<re.length;++ge)be[ge]=String.fromCharCode(re[ge]);return be.join("")}function pe(re,be){var ge=O(re,be);switch(be&&be.type||"buffer"){case"file":return c(),l.writeFileSync(be.filename,ge),ge;case"binary":return typeof ge=="string"?ge:X(ge);case"base64":return LA(typeof ge=="string"?ge:X(ge));case"buffer":if($n)return Buffer.isBuffer(ge)?ge:Gh(ge);case"array":return typeof ge=="string"?nl(ge):ge}return ge}var oe;function C(re){try{var be=re.InflateRaw,ge=new be;if(ge._processChunk(new Uint8Array([3,0]),ge._finishFlushFlag),ge.bytesRead)oe=re;else throw new Error("zlib does not expose bytesRead")}catch(xe){console.error("cannot use native zlib: "+(xe.message||xe))}}function W(re,be){if(!oe)return Bt(re,be);var ge=oe.InflateRaw,xe=new ge,Se=xe._processChunk(re.slice(re.l),xe._finishFlushFlag);return re.l+=xe.bytesRead,Se}function z(re){return oe?oe.deflateRawSync(re):Ye(re)}var V=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ee=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],de=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ve(re){var be=(re<<1|re<<11)&139536|(re<<5|re<<15)&558144;return(be>>16|be>>8|be)&255}for(var we=typeof Uint8Array<"u",Ce=we?new Uint8Array(256):[],lt=0;lt<256;++lt)Ce[lt]=ve(lt);function he(re,be){var ge=Ce[re&255];return be<=8?ge>>>8-be:(ge=ge<<8|Ce[re>>8&255],be<=16?ge>>>16-be:(ge=ge<<8|Ce[re>>16&255],ge>>>24-be))}function mt(re,be){var ge=be&7,xe=be>>>3;return(re[xe]|(ge<=6?0:re[xe+1]<<8))>>>ge&3}function ye(re,be){var ge=be&7,xe=be>>>3;return(re[xe]|(ge<=5?0:re[xe+1]<<8))>>>ge&7}function Je(re,be){var ge=be&7,xe=be>>>3;return(re[xe]|(ge<=4?0:re[xe+1]<<8))>>>ge&15}function q(re,be){var ge=be&7,xe=be>>>3;return(re[xe]|(ge<=3?0:re[xe+1]<<8))>>>ge&31}function Re(re,be){var ge=be&7,xe=be>>>3;return(re[xe]|(ge<=1?0:re[xe+1]<<8))>>>ge&127}function je(re,be,ge){var xe=be&7,Se=be>>>3,Ee=(1<<ge)-1,it=re[Se]>>>xe;return ge<8-xe||(it|=re[Se+1]<<8-xe,ge<16-xe)||(it|=re[Se+2]<<16-xe,ge<24-xe)||(it|=re[Se+3]<<24-xe),it&Ee}function Ve(re,be,ge){var xe=be&7,Se=be>>>3;return xe<=5?re[Se]|=(ge&7)<<xe:(re[Se]|=ge<<xe&255,re[Se+1]=(ge&7)>>8-xe),be+3}function Ie(re,be,ge){var xe=be&7,Se=be>>>3;return ge=(ge&1)<<xe,re[Se]|=ge,be+1}function Ke(re,be,ge){var xe=be&7,Se=be>>>3;return ge<<=xe,re[Se]|=ge&255,ge>>>=8,re[Se+1]=ge,be+8}function Et(re,be,ge){var xe=be&7,Se=be>>>3;return ge<<=xe,re[Se]|=ge&255,ge>>>=8,re[Se+1]=ge&255,re[Se+2]=ge>>>8,be+16}function ce(re,be){var ge=re.length,xe=2*ge>be?2*ge:be+5,Se=0;if(ge>=be)return re;if($n){var Ee=NA(xe);if(re.copy)re.copy(Ee);else for(;Se<re.length;++Se)Ee[Se]=re[Se];return Ee}else if(we){var it=new Uint8Array(xe);if(it.set)it.set(re);else for(;Se<ge;++Se)it[Se]=re[Se];return it}return re.length=xe,re}function Y(re){for(var be=new Array(re),ge=0;ge<re;++ge)be[ge]=0;return be}function Ne(re,be,ge){var xe=1,Se=0,Ee=0,it=0,dt=0,rt=re.length,at=we?new Uint16Array(32):Y(32);for(Ee=0;Ee<32;++Ee)at[Ee]=0;for(Ee=rt;Ee<ge;++Ee)re[Ee]=0;rt=re.length;var ct=we?new Uint16Array(rt):Y(rt);for(Ee=0;Ee<rt;++Ee)at[Se=re[Ee]]++,xe<Se&&(xe=Se),ct[Ee]=0;for(at[0]=0,Ee=1;Ee<=xe;++Ee)at[Ee+16]=dt=dt+at[Ee-1]<<1;for(Ee=0;Ee<rt;++Ee)dt=re[Ee],dt!=0&&(ct[Ee]=at[dt+16]++);var kt=0;for(Ee=0;Ee<rt;++Ee)if(kt=re[Ee],kt!=0)for(dt=he(ct[Ee],xe)>>xe-kt,it=(1<<xe+4-kt)-1;it>=0;--it)be[dt|it<<kt]=kt&15|Ee<<4;return xe}var $e=we?new Uint16Array(512):Y(512),Qe=we?new Uint16Array(32):Y(32);if(!we){for(var He=0;He<512;++He)$e[He]=0;for(He=0;He<32;++He)Qe[He]=0}(function(){for(var re=[],be=0;be<32;be++)re.push(5);Ne(re,Qe,32);var ge=[];for(be=0;be<=143;be++)ge.push(8);for(;be<=255;be++)ge.push(9);for(;be<=279;be++)ge.push(7);for(;be<=287;be++)ge.push(8);Ne(ge,$e,288)})();var ht=function(){for(var be=we?new Uint8Array(32768):[],ge=0,xe=0;ge<de.length-1;++ge)for(;xe<de[ge+1];++xe)be[xe]=ge;for(;xe<32768;++xe)be[xe]=29;var Se=we?new Uint8Array(259):[];for(ge=0,xe=0;ge<ee.length-1;++ge)for(;xe<ee[ge+1];++xe)Se[xe]=ge;function Ee(dt,rt){for(var at=0;at<dt.length;){var ct=Math.min(65535,dt.length-at),kt=at+ct==dt.length;for(rt.write_shift(1,+kt),rt.write_shift(2,ct),rt.write_shift(2,~ct&65535);ct-- >0;)rt[rt.l++]=dt[at++]}return rt.l}function it(dt,rt){for(var at=0,ct=0,kt=we?new Uint16Array(32768):[];ct<dt.length;){var Q=Math.min(65535,dt.length-ct);if(Q<10){for(at=Ve(rt,at,+(ct+Q==dt.length)),at&7&&(at+=8-(at&7)),rt.l=at/8|0,rt.write_shift(2,Q),rt.write_shift(2,~Q&65535);Q-- >0;)rt[rt.l++]=dt[ct++];at=rt.l*8;continue}at=Ve(rt,at,+(ct+Q==dt.length)+2);for(var Te=0;Q-- >0;){var ke=dt[ct];Te=(Te<<5^ke)&32767;var Pe=-1,Le=0;if((Pe=kt[Te])&&(Pe|=ct&-32768,Pe>ct&&(Pe-=32768),Pe<ct))for(;dt[Pe+Le]==dt[ct+Le]&&Le<250;)++Le;if(Le>2){ke=Se[Le],ke<=22?at=Ke(rt,at,Ce[ke+1]>>1)-1:(Ke(rt,at,3),at+=5,Ke(rt,at,Ce[ke-23]>>5),at+=3);var St=ke<8?0:ke-4>>2;St>0&&(Et(rt,at,Le-ee[ke]),at+=St),ke=be[ct-Pe],at=Ke(rt,at,Ce[ke]>>3),at-=3;var Rt=ke<4?0:ke-2>>1;Rt>0&&(Et(rt,at,ct-Pe-de[ke]),at+=Rt);for(var jt=0;jt<Le;++jt)kt[Te]=ct&32767,Te=(Te<<5^dt[ct])&32767,++ct;Q-=Le-1}else ke<=143?ke=ke+48:at=Ie(rt,at,1),at=Ke(rt,at,Ce[ke]),kt[Te]=ct&32767,++ct}at=Ke(rt,at,0)-1}return rt.l=(at+7)/8|0,rt.l}return function(rt,at){return rt.length<8?Ee(rt,at):it(rt,at)}}();function Ye(re){var be=Ii(50+Math.floor(re.length*1.1)),ge=ht(re,be);return be.slice(0,ge)}var Xe=we?new Uint16Array(32768):Y(32768),wt=we?new Uint16Array(32768):Y(32768),We=we?new Uint16Array(128):Y(128),Ct=1,Pt=1;function Ht(re,be){var ge=q(re,be)+257;be+=5;var xe=q(re,be)+1;be+=5;var Se=Je(re,be)+4;be+=4;for(var Ee=0,it=we?new Uint8Array(19):Y(19),dt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],rt=1,at=we?new Uint8Array(8):Y(8),ct=we?new Uint8Array(8):Y(8),kt=it.length,Q=0;Q<Se;++Q)it[V[Q]]=Ee=ye(re,be),rt<Ee&&(rt=Ee),at[Ee]++,be+=3;var Te=0;for(at[0]=0,Q=1;Q<=rt;++Q)ct[Q]=Te=Te+at[Q-1]<<1;for(Q=0;Q<kt;++Q)(Te=it[Q])!=0&&(dt[Q]=ct[Te]++);var ke=0;for(Q=0;Q<kt;++Q)if(ke=it[Q],ke!=0){Te=Ce[dt[Q]]>>8-ke;for(var Pe=(1<<7-ke)-1;Pe>=0;--Pe)We[Te|Pe<<ke]=ke&7|Q<<3}var Le=[];for(rt=1;Le.length<ge+xe;)switch(Te=We[Re(re,be)],be+=Te&7,Te>>>=3){case 16:for(Ee=3+mt(re,be),be+=2,Te=Le[Le.length-1];Ee-- >0;)Le.push(Te);break;case 17:for(Ee=3+ye(re,be),be+=3;Ee-- >0;)Le.push(0);break;case 18:for(Ee=11+Re(re,be),be+=7;Ee-- >0;)Le.push(0);break;default:Le.push(Te),rt<Te&&(rt=Te);break}var St=Le.slice(0,ge),Rt=Le.slice(ge);for(Q=ge;Q<286;++Q)St[Q]=0;for(Q=xe;Q<30;++Q)Rt[Q]=0;return Ct=Ne(St,Xe,286),Pt=Ne(Rt,wt,30),be}function It(re,be){if(re[0]==3&&!(re[1]&3))return[xf(be),2];for(var ge=0,xe=0,Se=NA(be||1<<18),Ee=0,it=Se.length>>>0,dt=0,rt=0;(xe&1)==0;){if(xe=ye(re,ge),ge+=3,xe>>>1)xe>>1==1?(dt=9,rt=5):(ge=Ht(re,ge),dt=Ct,rt=Pt);else{ge&7&&(ge+=8-(ge&7));var at=re[ge>>>3]|re[(ge>>>3)+1]<<8;if(ge+=32,at>0)for(!be&&it<Ee+at&&(Se=ce(Se,Ee+at),it=Se.length);at-- >0;)Se[Ee++]=re[ge>>>3],ge+=8;continue}for(;;){!be&&it<Ee+32767&&(Se=ce(Se,Ee+32767),it=Se.length);var ct=je(re,ge,dt),kt=xe>>>1==1?$e[ct]:Xe[ct];if(ge+=kt&15,kt>>>=4,(kt>>>8&255)===0)Se[Ee++]=kt;else{if(kt==256)break;kt-=257;var Q=kt<8?0:kt-4>>2;Q>5&&(Q=0);var Te=Ee+ee[kt];Q>0&&(Te+=je(re,ge,Q),ge+=Q),ct=je(re,ge,rt),kt=xe>>>1==1?Qe[ct]:wt[ct],ge+=kt&15,kt>>>=4;var ke=kt<4?0:kt-2>>1,Pe=de[kt];for(ke>0&&(Pe+=je(re,ge,ke),ge+=ke),!be&&it<Te&&(Se=ce(Se,Te+100),it=Se.length);Ee<Te;)Se[Ee]=Se[Ee-Pe],++Ee}}}return be?[Se,ge+7>>>3]:[Se.slice(0,Ee),ge+7>>>3]}function Bt(re,be){var ge=re.slice(re.l||0),xe=It(ge,be);return re.l+=xe[1],xe[0]}function Ue(re,be){if(re)typeof console<"u"&&console.error(be);else throw new Error(be)}function Ft(re,be){var ge=re;us(ge,0);var xe=[],Se=[],Ee={FileIndex:xe,FullPaths:Se};L(Ee,{root:be.root});for(var it=ge.length-4;(ge[it]!=80||ge[it+1]!=75||ge[it+2]!=5||ge[it+3]!=6)&&it>=0;)--it;ge.l=it+4,ge.l+=4;var dt=ge.read_shift(2);ge.l+=6;var rt=ge.read_shift(4);for(ge.l=rt,it=0;it<dt;++it){ge.l+=20;var at=ge.read_shift(4),ct=ge.read_shift(4),kt=ge.read_shift(2),Q=ge.read_shift(2),Te=ge.read_shift(2);ge.l+=8;var ke=ge.read_shift(4),Pe=o(ge.slice(ge.l+kt,ge.l+kt+Q));ge.l+=kt+Q+Te;var Le=ge.l;ge.l=ke+4,Tt(ge,at,ct,Ee,Pe),ge.l=Le}return Ee}function Tt(re,be,ge,xe,Se){re.l+=2;var Ee=re.read_shift(2),it=re.read_shift(2),dt=a(re);if(Ee&8257)throw new Error("Unsupported ZIP encryption");for(var rt=re.read_shift(4),at=re.read_shift(4),ct=re.read_shift(4),kt=re.read_shift(2),Q=re.read_shift(2),Te="",ke=0;ke<kt;++ke)Te+=String.fromCharCode(re[re.l++]);if(Q){var Pe=o(re.slice(re.l,re.l+Q));(Pe[21589]||{}).mt&&(dt=Pe[21589].mt),((Se||{})[21589]||{}).mt&&(dt=Se[21589].mt)}re.l+=Q;var Le=re.slice(re.l,re.l+at);switch(it){case 8:Le=W(re,ct);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+it)}var St=!1;Ee&8&&(rt=re.read_shift(4),rt==134695760&&(rt=re.read_shift(4),St=!0),at=re.read_shift(4),ct=re.read_shift(4)),at!=be&&Ue(St,"Bad compressed size: "+be+" != "+at),ct!=ge&&Ue(St,"Bad uncompressed size: "+ge+" != "+ct),Kr(xe,Te,Le,{unsafe:!0,mt:dt})}function Vt(re,be){var ge=be||{},xe=[],Se=[],Ee=Ii(1),it=ge.compression?8:0,dt=0,rt=0,at=0,ct=0,kt=0,Q=re.FullPaths[0],Te=Q,ke=re.FileIndex[0],Pe=[],Le=0;for(rt=1;rt<re.FullPaths.length;++rt)if(Te=re.FullPaths[rt].slice(Q.length),ke=re.FileIndex[rt],!(!ke.size||!ke.content||Te=="Sh33tJ5")){var St=ct,Rt=Ii(Te.length);for(at=0;at<Te.length;++at)Rt.write_shift(1,Te.charCodeAt(at)&127);Rt=Rt.slice(0,Rt.l),Pe[kt]=AU.buf(ke.content,0);var jt=ke.content;it==8&&(jt=z(jt)),Ee=Ii(30),Ee.write_shift(4,67324752),Ee.write_shift(2,20),Ee.write_shift(2,dt),Ee.write_shift(2,it),ke.mt?s(Ee,ke.mt):Ee.write_shift(4,0),Ee.write_shift(-4,Pe[kt]),Ee.write_shift(4,jt.length),Ee.write_shift(4,ke.content.length),Ee.write_shift(2,Rt.length),Ee.write_shift(2,0),ct+=Ee.length,xe.push(Ee),ct+=Rt.length,xe.push(Rt),ct+=jt.length,xe.push(jt),Ee=Ii(46),Ee.write_shift(4,33639248),Ee.write_shift(2,0),Ee.write_shift(2,20),Ee.write_shift(2,dt),Ee.write_shift(2,it),Ee.write_shift(4,0),Ee.write_shift(-4,Pe[kt]),Ee.write_shift(4,jt.length),Ee.write_shift(4,ke.content.length),Ee.write_shift(2,Rt.length),Ee.write_shift(2,0),Ee.write_shift(2,0),Ee.write_shift(2,0),Ee.write_shift(2,0),Ee.write_shift(4,0),Ee.write_shift(4,St),Le+=Ee.l,Se.push(Ee),Le+=Rt.length,Se.push(Rt),++kt}return Ee=Ii(22),Ee.write_shift(4,101010256),Ee.write_shift(2,0),Ee.write_shift(2,0),Ee.write_shift(2,kt),Ee.write_shift(2,kt),Ee.write_shift(4,Le),Ee.write_shift(4,ct),Ee.write_shift(2,0),$u([$u(xe),$u(Se),Ee])}var At={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function ot(re,be){if(re.ctype)return re.ctype;var ge=re.name||"",xe=ge.match(/\.([^\.]+)$/);return xe&&At[xe[1]]||be&&(xe=(ge=be).match(/[\.\\]([^\.\\])+$/),xe&&At[xe[1]])?At[xe[1]]:"application/octet-stream"}function Ot(re){for(var be=LA(re),ge=[],xe=0;xe<be.length;xe+=76)ge.push(be.slice(xe,xe+76));return ge.join(`\r
`)+`\r
`}function un(re){var be=re.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(at){var ct=at.charCodeAt(0).toString(16).toUpperCase();return"="+(ct.length==1?"0"+ct:ct)});be=be.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),be.charAt(0)==`
`&&(be="=0D"+be.slice(1)),be=be.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var ge=[],xe=be.split(`\r
`),Se=0;Se<xe.length;++Se){var Ee=xe[Se];if(Ee.length==0){ge.push("");continue}for(var it=0;it<Ee.length;){var dt=76,rt=Ee.slice(it,it+dt);rt.charAt(dt-1)=="="?dt--:rt.charAt(dt-2)=="="?dt-=2:rt.charAt(dt-3)=="="&&(dt-=3),rt=Ee.slice(it,it+dt),it+=dt,it<Ee.length&&(rt+="="),ge.push(rt)}}return ge.join(`\r
`)}function _n(re){for(var be=[],ge=0;ge<re.length;++ge){for(var xe=re[ge];ge<=re.length&&xe.charAt(xe.length-1)=="=";)xe=xe.slice(0,xe.length-1)+re[++ge];be.push(xe)}for(var Se=0;Se<be.length;++Se)be[Se]=be[Se].replace(/[=][0-9A-Fa-f]{2}/g,function(Ee){return String.fromCharCode(parseInt(Ee.slice(1),16))});return nl(be.join(`\r
`))}function An(re,be,ge){for(var xe="",Se="",Ee="",it,dt=0;dt<10;++dt){var rt=be[dt];if(!rt||rt.match(/^\s*$/))break;var at=rt.match(/^(.*?):\s*([^\s].*)$/);if(at)switch(at[1].toLowerCase()){case"content-location":xe=at[2].trim();break;case"content-type":Ee=at[2].trim();break;case"content-transfer-encoding":Se=at[2].trim();break}}switch(++dt,Se.toLowerCase()){case"base64":it=nl(Za(be.slice(dt).join("")));break;case"quoted-printable":it=_n(be.slice(dt));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+Se)}var ct=Kr(re,xe.slice(ge.length),it,{unsafe:!0});Ee&&(ct.ctype=Ee)}function Cr(re,be){if(X(re.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var ge=be&&be.root||"",xe=($n&&Buffer.isBuffer(re)?re.toString("binary"):X(re)).split(`\r
`),Se=0,Ee="";for(Se=0;Se<xe.length;++Se)if(Ee=xe[Se],!!/^Content-Location:/i.test(Ee)&&(Ee=Ee.slice(Ee.indexOf("file")),ge||(ge=Ee.slice(0,Ee.lastIndexOf("/")+1)),Ee.slice(0,ge.length)!=ge))for(;ge.length>0&&(ge=ge.slice(0,ge.length-1),ge=ge.slice(0,ge.lastIndexOf("/")+1),Ee.slice(0,ge.length)!=ge););var it=(xe[1]||"").match(/boundary="(.*?)"/);if(!it)throw new Error("MAD cannot find boundary");var dt="--"+(it[1]||""),rt=[],at=[],ct={FileIndex:rt,FullPaths:at};L(ct);var kt,Q=0;for(Se=0;Se<xe.length;++Se){var Te=xe[Se];Te!==dt&&Te!==dt+"--"||(Q++&&An(ct,xe.slice(kt,Se),ge),kt=Se)}return ct}function Qt(re,be){var ge=be||{},xe=ge.boundary||"SheetJS";xe="------="+xe;for(var Se=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+xe.slice(2)+'"',"","",""],Ee=re.FullPaths[0],it=Ee,dt=re.FileIndex[0],rt=1;rt<re.FullPaths.length;++rt)if(it=re.FullPaths[rt].slice(Ee.length),dt=re.FileIndex[rt],!(!dt.size||!dt.content||it=="Sh33tJ5")){it=it.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Le){return"_x"+Le.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Le){return"_u"+Le.charCodeAt(0).toString(16)+"_"});for(var at=dt.content,ct=$n&&Buffer.isBuffer(at)?at.toString("binary"):X(at),kt=0,Q=Math.min(1024,ct.length),Te=0,ke=0;ke<=Q;++ke)(Te=ct.charCodeAt(ke))>=32&&Te<128&&++kt;var Pe=kt>=Q*4/5;Se.push(xe),Se.push("Content-Location: "+(ge.root||"file:///C:/SheetJS/")+it),Se.push("Content-Transfer-Encoding: "+(Pe?"quoted-printable":"base64")),Se.push("Content-Type: "+ot(dt,it)),Se.push(""),Se.push(Pe?un(ct):Ot(ct))}return Se.push(xe+`--\r
`),Se.join(`\r
`)}function Si(re){var be={};return L(be,re),be}function Kr(re,be,ge,xe){var Se=xe&&xe.unsafe;Se||L(re);var Ee=!Se&&Jn.find(re,be);if(!Ee){var it=re.FullPaths[0];be.slice(0,it.length)==it?it=be:(it.slice(-1)!="/"&&(it+="/"),it=(it+be).replace("//","/")),Ee={name:i(be),type:2},re.FileIndex.push(Ee),re.FullPaths.push(it),Se||Jn.utils.cfb_gc(re)}return Ee.content=ge,Ee.size=ge?ge.length:0,xe&&(xe.CLSID&&(Ee.clsid=xe.CLSID),xe.mt&&(Ee.mt=xe.mt),xe.ct&&(Ee.ct=xe.ct)),Ee}function Rr(re,be){L(re);var ge=Jn.find(re,be);if(ge){for(var xe=0;xe<re.FileIndex.length;++xe)if(re.FileIndex[xe]==ge)return re.FileIndex.splice(xe,1),re.FullPaths.splice(xe,1),!0}return!1}function cr(re,be,ge){L(re);var xe=Jn.find(re,be);if(xe){for(var Se=0;Se<re.FileIndex.length;++Se)if(re.FileIndex[Se]==xe)return re.FileIndex[Se].name=i(ge),re.FullPaths[Se]=ge,!0}return!1}function dr(re){R(re,!0)}return e.find=N,e.read=U,e.parse=f,e.write=pe,e.writeFile=J,e.utils={cfb_new:Si,cfb_add:Kr,cfb_del:Rr,cfb_mov:cr,cfb_gc:dr,ReadShift:Vp,CheckField:jC,prep_blob:us,bconcat:$u,use_zlib:C,_deflateRaw:Ye,_inflateRaw:Bt,consts:ue},e}();function TU(n){if(typeof Deno<"u")return Deno.readFileSync(n);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var e=File(n);e.open("r"),e.encoding="binary";var t=e.read();return e.close(),t}catch(r){if(!r.message||!r.message.match(/onstruct/))throw r}throw new Error("Cannot access file "+n)}function Xl(n){for(var e=Object.keys(n),t=[],r=0;r<e.length;++r)Object.prototype.hasOwnProperty.call(n,e[r])&&t.push(e[r]);return t}function vb(n){for(var e=[],t=Xl(n),r=0;r!==t.length;++r)e[n[t[r]]]=t[r];return e}var Tx=new Date(1899,11,30,0,0,0);function ua(n,e){var t=n.getTime(),r=Tx.getTime()+(n.getTimezoneOffset()-Tx.getTimezoneOffset())*6e4;return(t-r)/(24*60*60*1e3)}var wC=new Date,MU=Tx.getTime()+(wC.getTimezoneOffset()-Tx.getTimezoneOffset())*6e4,HA=wC.getTimezoneOffset();function ov(n){var e=new Date;return e.setTime(n*24*60*60*1e3+MU),e.getTimezoneOffset()!==HA&&e.setTime(e.getTime()+(e.getTimezoneOffset()-HA)*6e4),e}function CU(n){var e=0,t=0,r=!1,i=n.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!i)throw new Error("|"+n+"| is not an ISO8601 Duration");for(var s=1;s!=i.length;++s)if(i[s]){switch(t=1,s>3&&(r=!0),i[s].slice(i[s].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+i[s].slice(i[s].length-1));case"D":t*=24;case"H":t*=60;case"M":if(r)t*=60;else throw new Error("Unsupported ISO Duration Field: M")}e+=t*parseInt(i[s],10)}return e}var jA=new Date("2017-02-19T19:06:09.000Z"),bC=isNaN(jA.getFullYear())?new Date("2/19/17"):jA,PU=bC.getFullYear()==2017;function es(n,e){var t=new Date(n);if(PU)return e>0?t.setTime(t.getTime()+t.getTimezoneOffset()*60*1e3):e<0&&t.setTime(t.getTime()-t.getTimezoneOffset()*60*1e3),t;if(n instanceof Date)return n;if(bC.getFullYear()==1917&&!isNaN(t.getFullYear())){var r=t.getFullYear();return n.indexOf(""+r)>-1||t.setFullYear(t.getFullYear()+100),t}var i=n.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return n.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function Oh(n,e){if($n&&Buffer.isBuffer(n)){if(e){if(n[0]==255&&n[1]==254)return Np(n.slice(2).toString("utf16le"));if(n[1]==254&&n[2]==255)return Np(lC(n.slice(2).toString("binary")))}return n.toString("binary")}if(typeof TextDecoder<"u")try{if(e){if(n[0]==255&&n[1]==254)return Np(new TextDecoder("utf-16le").decode(n.slice(2)));if(n[0]==254&&n[1]==255)return Np(new TextDecoder("utf-16be").decode(n.slice(2)))}var t={"€":"","‚":"",ƒ:"","„":"","…":"","†":"","‡":"","ˆ":"","‰":"",Š:"","‹":"",Œ:"",Ž:"","‘":"","’":"","“":"","”":"","•":"","–":"","—":"","˜":"","™":"",š:"","›":"",œ:"",ž:"",Ÿ:""};return Array.isArray(n)&&(n=new Uint8Array(n)),new TextDecoder("latin1").decode(n).replace(/[€‚ƒ„…†‡ˆ‰Š‹ŒŽ‘’“”•–—˜™š›œžŸ]/g,function(s){return t[s]||s})}catch{}for(var r=[],i=0;i!=n.length;++i)r.push(String.fromCharCode(n[i]));return r.join("")}function fs(n){if(typeof JSON<"u"&&!Array.isArray(n))return JSON.parse(JSON.stringify(n));if(typeof n!="object"||n==null)return n;if(n instanceof Date)return new Date(n.getTime());var e={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=fs(n[t]));return e}function li(n,e){for(var t="";t.length<e;)t+=n;return t}function ll(n){var e=Number(n);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(n))return e;var t=1,r=n.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return t*=100,""});return!isNaN(e=Number(r))||(r=r.replace(/[(](.*)[)]/,function(i,s){return t=-t,s}),!isNaN(e=Number(r)))?e/t:e}var kU=["january","february","march","april","may","june","july","august","september","october","november","december"];function E0(n){var e=new Date(n),t=new Date(NaN),r=e.getYear(),i=e.getMonth(),s=e.getDate();if(isNaN(s))return t;var a=n.toLowerCase();if(a.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(a=a.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),a.length>3&&kU.indexOf(a)==-1)return t}else if(a.match(/[a-z]/))return t;return r<0||r>8099?t:(i>0||s>1)&&r!=101?e:n.match(/[^-0-9:,\/\\]/)?t:e}var RU=function(){var n="abacaba".split(/(:?b)/i).length==5;return function(t,r,i){if(n||typeof r=="string")return t.split(r);for(var s=t.split(r),a=[s[0]],o=1;o<s.length;++o)a.push(i),a.push(s[o]);return a}}();function SC(n){return n?n.content&&n.type?Oh(n.content,!0):n.data?kp(n.data):n.asNodeBuffer&&$n?kp(n.asNodeBuffer().toString("binary")):n.asBinary?kp(n.asBinary()):n._data&&n._data.getContent?kp(Oh(Array.prototype.slice.call(n._data.getContent(),0))):null:null}function EC(n){if(!n)return null;if(n.data)return kA(n.data);if(n.asNodeBuffer&&$n)return n.asNodeBuffer();if(n._data&&n._data.getContent){var e=n._data.getContent();return typeof e=="string"?kA(e):Array.prototype.slice.call(e)}return n.content&&n.type?n.content:null}function LU(n){return n&&n.name.slice(-4)===".bin"?EC(n):SC(n)}function wo(n,e){for(var t=n.FullPaths||Xl(n.files),r=e.toLowerCase().replace(/[\/]/g,"\\"),i=r.replace(/\\/g,"/"),s=0;s<t.length;++s){var a=t[s].replace(/^Root Entry[\/]/,"").toLowerCase();if(r==a||i==a)return n.files?n.files[t[s]]:n.FileIndex[s]}return null}function _b(n,e){var t=wo(n,e);if(t==null)throw new Error("Cannot find file "+e+" in zip");return t}function Pi(n,e,t){if(!t)return LU(_b(n,e));if(!e)return null;try{return Pi(n,e)}catch{return null}}function Ya(n,e,t){if(!t)return SC(_b(n,e));if(!e)return null;try{return Ya(n,e)}catch{return null}}function NU(n,e,t){return EC(_b(n,e))}function VA(n){for(var e=n.FullPaths||Xl(n.files),t=[],r=0;r<e.length;++r)e[r].slice(-1)!="/"&&t.push(e[r].replace(/^Root Entry[\/]/,""));return t.sort()}function FU(n,e,t){if(n.FullPaths){if(typeof t=="string"){var r;return $n?r=Gh(t):r=Q7(t),Jn.utils.cfb_add(n,e,r)}Jn.utils.cfb_add(n,e,t)}else n.file(e,t)}function AC(n,e){switch(e.type){case"base64":return Jn.read(n,{type:"base64"});case"binary":return Jn.read(n,{type:"binary"});case"buffer":case"array":return Jn.read(n,{type:"buffer"})}throw new Error("Unrecognized type "+e.type)}function Lp(n,e){if(n.charAt(0)=="/")return n.slice(1);var t=e.split("/");e.slice(-1)!="/"&&t.pop();for(var r=n.split("/");r.length!==0;){var i=r.shift();i===".."?t.pop():i!=="."&&t.push(i)}return t.join("/")}var TC=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,DU=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,WA=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,IU=/<[^>]*>/g,Vs=TC.match(WA)?WA:IU,OU=/<\w*:/,UU=/<(\/?)\w+:/;function bn(n,e,t){for(var r={},i=0,s=0;i!==n.length&&!((s=n.charCodeAt(i))===32||s===10||s===13);++i);if(e||(r[0]=n.slice(0,i)),i===n.length)return r;var a=n.match(DU),o=0,l="",c=0,f="",d="",p=1;if(a)for(c=0;c!=a.length;++c){for(d=a[c],s=0;s!=d.length&&d.charCodeAt(s)!==61;++s);for(f=d.slice(0,s).trim();d.charCodeAt(s+1)==32;)++s;for(p=(i=d.charCodeAt(s+1))==34||i==39?1:0,l=d.slice(s+1+p,d.length-p),o=0;o!=f.length&&f.charCodeAt(o)!==58;++o);if(o===f.length)f.indexOf("_")>0&&(f=f.slice(0,f.indexOf("_"))),r[f]=l,r[f.toLowerCase()]=l;else{var m=(o===5&&f.slice(0,5)==="xmlns"?"xmlns":"")+f.slice(o+1);if(r[m]&&f.slice(o-3,o)=="ext")continue;r[m]=l,r[m.toLowerCase()]=l}}return r}function Kl(n){return n.replace(UU,"<$1")}var MC={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},BU=vb(MC),tr=function(){var n=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,e=/_x([\da-fA-F]{4})_/ig;return function t(r){var i=r+"",s=i.indexOf("<![CDATA[");if(s==-1)return i.replace(n,function(o,l){return MC[o]||String.fromCharCode(parseInt(l,o.indexOf("x")>-1?16:10))||o}).replace(e,function(o,l){return String.fromCharCode(parseInt(l,16))});var a=i.indexOf("]]>");return t(i.slice(0,s))+i.slice(s+9,a)+t(i.slice(a+3))}}(),zU=/[&<>'"]/g,HU=/[\u0000-\u001f]/g;function yb(n){var e=n+"";return e.replace(zU,function(t){return BU[t]}).replace(/\n/g,"<br/>").replace(HU,function(t){return"&#x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+";"})}var GA=function(){var n=/&#(\d+);/g;function e(t,r){return String.fromCharCode(parseInt(r,10))}return function(r){return r.replace(n,e)}}();function Xr(n){switch(n){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function G2(n){for(var e="",t=0,r=0,i=0,s=0,a=0,o=0;t<n.length;){if(r=n.charCodeAt(t++),r<128){e+=String.fromCharCode(r);continue}if(i=n.charCodeAt(t++),r>191&&r<224){a=(r&31)<<6,a|=i&63,e+=String.fromCharCode(a);continue}if(s=n.charCodeAt(t++),r<240){e+=String.fromCharCode((r&15)<<12|(i&63)<<6|s&63);continue}a=n.charCodeAt(t++),o=((r&7)<<18|(i&63)<<12|(s&63)<<6|a&63)-65536,e+=String.fromCharCode(55296+(o>>>10&1023)),e+=String.fromCharCode(56320+(o&1023))}return e}function qA(n){var e=xf(2*n.length),t,r,i=1,s=0,a=0,o;for(r=0;r<n.length;r+=i)i=1,(o=n.charCodeAt(r))<128?t=o:o<224?(t=(o&31)*64+(n.charCodeAt(r+1)&63),i=2):o<240?(t=(o&15)*4096+(n.charCodeAt(r+1)&63)*64+(n.charCodeAt(r+2)&63),i=3):(i=4,t=(o&7)*262144+(n.charCodeAt(r+1)&63)*4096+(n.charCodeAt(r+2)&63)*64+(n.charCodeAt(r+3)&63),t-=65536,a=55296+(t>>>10&1023),t=56320+(t&1023)),a!==0&&(e[s++]=a&255,e[s++]=a>>>8,a=0),e[s++]=t%256,e[s++]=t>>>8;return e.slice(0,s).toString("ucs2")}function XA(n){return Gh(n,"binary").toString("utf8")}var Ig="foo bar bazâð£",Fr=$n&&(XA(Ig)==G2(Ig)&&XA||qA(Ig)==G2(Ig)&&qA)||G2,Np=$n?function(n){return Gh(n,"utf8").toString("binary")}:function(n){for(var e=[],t=0,r=0,i=0;t<n.length;)switch(r=n.charCodeAt(t++),!0){case r<128:e.push(String.fromCharCode(r));break;case r<2048:e.push(String.fromCharCode(192+(r>>6))),e.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,i=n.charCodeAt(t++)-56320+(r<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(r>>12))),e.push(String.fromCharCode(128+(r>>6&63))),e.push(String.fromCharCode(128+(r&63)))}return e.join("")},dm=function(){var n={};return function(t,r){var i=t+"|"+(r||"");return n[i]?n[i]:n[i]=new RegExp("<(?:\\w+:)?"+t+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+t+">",r||"")}}(),CC=function(){var n=[["nbsp"," "],["middot","·"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(t){for(var r=t.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<n.length;++i)r=r.replace(n[i][0],n[i][1]);return r}}(),jU=function(){var n={};return function(t){return n[t]!==void 0?n[t]:n[t]=new RegExp("<(?:vt:)?"+t+">([\\s\\S]*?)</(?:vt:)?"+t+">","g")}}(),VU=/<\/?(?:vt:)?variant>/g,WU=/<(?:vt:)([^>]*)>([\s\S]*)</;function $A(n,e){var t=bn(n),r=n.match(jU(t.baseType))||[],i=[];if(r.length!=t.size){if(e.WTF)throw new Error("unexpected vector length "+r.length+" != "+t.size);return i}return r.forEach(function(s){var a=s.replace(VU,"").match(WU);a&&i.push({v:Fr(a[2]),t:a[1]})}),i}var GU=/(^\s|\s$|\n)/;function qU(n){return Xl(n).map(function(e){return" "+e+'="'+n[e]+'"'}).join("")}function XU(n,e,t){return"<"+n+(t!=null?qU(t):"")+(e!=null?(e.match(GU)?' xml:space="preserve"':"")+">"+e+"</"+n:"/")+">"}function wb(n){if($n&&Buffer.isBuffer(n))return n.toString("utf8");if(typeof n=="string")return n;if(typeof Uint8Array<"u"&&n instanceof Uint8Array)return Fr(qh(mb(n)));throw new Error("Bad input format: expected Buffer or string")}var pm=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,$U={CT:"http://schemas.openxmlformats.org/package/2006/content-types"},YU=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function KU(n,e){for(var t=1-2*(n[e+7]>>>7),r=((n[e+7]&127)<<4)+(n[e+6]>>>4&15),i=n[e+6]&15,s=5;s>=0;--s)i=i*256+n[e+s];return r==2047?i==0?t*(1/0):NaN:(r==0?r=-1022:(r-=1023,i+=Math.pow(2,52)),t*Math.pow(2,r-52)*i)}function JU(n,e,t){var r=(e<0||1/e==-1/0?1:0)<<7,i=0,s=0,a=r?-e:e;isFinite(a)?a==0?i=s=0:(i=Math.floor(Math.log(a)/Math.LN2),s=a*Math.pow(2,52-i),i<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?i=-1022:(s-=Math.pow(2,52),i+=1023)):(i=2047,s=isNaN(e)?26985:0);for(var o=0;o<=5;++o,s/=256)n[t+o]=s&255;n[t+6]=(i&15)<<4|s&15,n[t+7]=i>>4|r}var YA=function(n){for(var e=[],t=10240,r=0;r<n[0].length;++r)if(n[0][r])for(var i=0,s=n[0][r].length;i<s;i+=t)e.push.apply(e,n[0][r].slice(i,i+t));return e},KA=$n?function(n){return n[0].length>0&&Buffer.isBuffer(n[0][0])?Buffer.concat(n[0].map(function(e){return Buffer.isBuffer(e)?e:Gh(e)})):YA(n)}:YA,JA=function(n,e,t){for(var r=[],i=e;i<t;i+=2)r.push(String.fromCharCode(Hc(n,i)));return r.join("").replace(la,"")},bb=$n?function(n,e,t){return Buffer.isBuffer(n)?n.toString("utf16le",e,t).replace(la,""):JA(n,e,t)}:JA,ZA=function(n,e,t){for(var r=[],i=e;i<e+t;++i)r.push(("0"+n[i].toString(16)).slice(-2));return r.join("")},PC=$n?function(n,e,t){return Buffer.isBuffer(n)?n.toString("hex",e,e+t):ZA(n,e,t)}:ZA,QA=function(n,e,t){for(var r=[],i=e;i<t;i++)r.push(String.fromCharCode(Kd(n,i)));return r.join("")},Rm=$n?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf8",t,r):QA(e,t,r)}:QA,kC=function(n,e){var t=$a(n,e);return t>0?Rm(n,e+4,e+4+t-1):""},RC=kC,LC=function(n,e){var t=$a(n,e);return t>0?Rm(n,e+4,e+4+t-1):""},NC=LC,FC=function(n,e){var t=2*$a(n,e);return t>0?Rm(n,e+4,e+4+t-1):""},DC=FC,IC=function(e,t){var r=$a(e,t);return r>0?bb(e,t+4,t+4+r):""},OC=IC,UC=function(n,e){var t=$a(n,e);return t>0?Rm(n,e+4,e+4+t):""},BC=UC,zC=function(n,e){return KU(n,e)},Mx=zC,HC=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};$n&&(RC=function(e,t){if(!Buffer.isBuffer(e))return kC(e,t);var r=e.readUInt32LE(t);return r>0?e.toString("utf8",t+4,t+4+r-1):""},NC=function(e,t){if(!Buffer.isBuffer(e))return LC(e,t);var r=e.readUInt32LE(t);return r>0?e.toString("utf8",t+4,t+4+r-1):""},DC=function(e,t){if(!Buffer.isBuffer(e))return FC(e,t);var r=2*e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+r-1)},OC=function(e,t){if(!Buffer.isBuffer(e))return IC(e,t);var r=e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+r)},BC=function(e,t){if(!Buffer.isBuffer(e))return UC(e,t);var r=e.readUInt32LE(t);return e.toString("utf8",t+4,t+4+r)},Mx=function(e,t){return Buffer.isBuffer(e)?e.readDoubleLE(t):zC(e,t)},HC=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var Kd=function(n,e){return n[e]},Hc=function(n,e){return n[e+1]*256+n[e]},ZU=function(n,e){var t=n[e+1]*256+n[e];return t<32768?t:(65535-t+1)*-1},$a=function(n,e){return n[e+3]*(1<<24)+(n[e+2]<<16)+(n[e+1]<<8)+n[e]},gh=function(n,e){return n[e+3]<<24|n[e+2]<<16|n[e+1]<<8|n[e]},QU=function(n,e){return n[e]<<24|n[e+1]<<16|n[e+2]<<8|n[e+3]};function Vp(n,e){var t="",r,i,s=[],a,o,l,c;switch(e){case"dbcs":if(c=this.l,$n&&Buffer.isBuffer(this))t=this.slice(this.l,this.l+2*n).toString("utf16le");else for(l=0;l<n;++l)t+=String.fromCharCode(Hc(this,c)),c+=2;n*=2;break;case"utf8":t=Rm(this,this.l,this.l+n);break;case"utf16le":n*=2,t=bb(this,this.l,this.l+n);break;case"wstr":return Vp.call(this,n,"dbcs");case"lpstr-ansi":t=RC(this,this.l),n=4+$a(this,this.l);break;case"lpstr-cp":t=NC(this,this.l),n=4+$a(this,this.l);break;case"lpwstr":t=DC(this,this.l),n=4+2*$a(this,this.l);break;case"lpp4":n=4+$a(this,this.l),t=OC(this,this.l),n&2&&(n+=2);break;case"8lpp4":n=4+$a(this,this.l),t=BC(this,this.l),n&3&&(n+=4-(n&3));break;case"cstr":for(n=0,t="";(a=Kd(this,this.l+n++))!==0;)s.push(Dg(a));t=s.join("");break;case"_wstr":for(n=0,t="";(a=Hc(this,this.l+n))!==0;)s.push(Dg(a)),n+=2;n+=2,t=s.join("");break;case"dbcs-cont":for(t="",c=this.l,l=0;l<n;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return a=Kd(this,c),this.l=c+1,o=Vp.call(this,n-l,a?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(Dg(Hc(this,c))),c+=2}t=s.join(""),n*=2;break;case"cpstr":case"sbcs-cont":for(t="",c=this.l,l=0;l!=n;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return a=Kd(this,c),this.l=c+1,o=Vp.call(this,n-l,a?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(Dg(Kd(this,c))),c+=1}t=s.join("");break;default:switch(n){case 1:return r=Kd(this,this.l),this.l++,r;case 2:return r=(e==="i"?ZU:Hc)(this,this.l),this.l+=2,r;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(r=(n>0?gh:QU)(this,this.l),this.l+=4,r):(i=$a(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return n==8?i=Mx(this,this.l):i=Mx([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;n=8;case 16:t=PC(this,this.l,n);break}}return this.l+=n,t}var eB=function(n,e,t){n[t]=e&255,n[t+1]=e>>>8&255,n[t+2]=e>>>16&255,n[t+3]=e>>>24&255},tB=function(n,e,t){n[t]=e&255,n[t+1]=e>>8&255,n[t+2]=e>>16&255,n[t+3]=e>>24&255},nB=function(n,e,t){n[t]=e&255,n[t+1]=e>>>8&255};function rB(n,e,t){var r=0,i=0;if(t==="dbcs"){for(i=0;i!=e.length;++i)nB(this,e.charCodeAt(i),this.l+2*i);r=2*e.length}else if(t==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;r=e.length}else if(t==="hex"){for(;i<n;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(t==="utf16le"){var s=Math.min(this.l+n,this.length);for(i=0;i<Math.min(e.length,n);++i){var a=e.charCodeAt(i);this[this.l++]=a&255,this[this.l++]=a>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(n){case 1:r=1,this[this.l]=e&255;break;case 2:r=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:r=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:r=4,eB(this,e,this.l);break;case 8:if(r=8,t==="f"){JU(this,e,this.l);break}case 16:break;case-4:r=4,tB(this,e,this.l);break}return this.l+=r,this}function jC(n,e){var t=PC(this,this.l,n.length>>1);if(t!==n)throw new Error(e+"Expected "+n+" saw "+t);this.l+=n.length>>1}function us(n,e){n.l=e,n.read_shift=Vp,n.chk=jC,n.write_shift=rB}function Hs(n,e){n.l+=e}function Ii(n){var e=xf(n);return us(e,0),e}function Jc(n,e,t){if(n){var r,i,s;us(n,n.l||0);for(var a=n.length,o=0,l=0;n.l<a;){o=n.read_shift(1),o&128&&(o=(o&127)+((n.read_shift(1)&127)<<7));var c=Nx[o]||Nx[65535];for(r=n.read_shift(1),s=r&127,i=1;i<4&&r&128;++i)s+=((r=n.read_shift(1))&127)<<7*i;l=n.l+s;var f=c.f&&c.f(n,s,t);if(n.l=l,e(f,c,o))return}}}function Sy(){var n=[],e=$n?256:2048,t=function(c){var f=Ii(c);return us(f,0),f},r=t(e),i=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&n.push(r),r=null)},s=function(c){return r&&c<r.length-r.l?r:(i(),r=t(Math.max(c+1,e)))},a=function(){return i(),$u(n)},o=function(c){i(),r=c,r.l==null&&(r.l=r.length),s(e)};return{next:s,push:o,end:a,_bufs:n}}function Wp(n,e,t){var r=fs(n);if(e.s?(r.cRel&&(r.c+=e.s.c),r.rRel&&(r.r+=e.s.r)):(r.cRel&&(r.c+=e.c),r.rRel&&(r.r+=e.r)),!t||t.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function eT(n,e,t){var r=fs(n);return r.s=Wp(r.s,e.s,t),r.e=Wp(r.e,e.s,t),r}function Gp(n,e){if(n.cRel&&n.c<0)for(n=fs(n);n.c<0;)n.c+=e>8?16384:256;if(n.rRel&&n.r<0)for(n=fs(n);n.r<0;)n.r+=e>8?1048576:e>5?65536:16384;var t=Pn(n);return!n.cRel&&n.cRel!=null&&(t=aB(t)),!n.rRel&&n.rRel!=null&&(t=iB(t)),t}function q2(n,e){return n.s.r==0&&!n.s.rRel&&n.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!n.e.rRel?(n.s.cRel?"":"$")+Ui(n.s.c)+":"+(n.e.cRel?"":"$")+Ui(n.e.c):n.s.c==0&&!n.s.cRel&&n.e.c==(e.biff>=12?16383:255)&&!n.e.cRel?(n.s.rRel?"":"$")+hs(n.s.r)+":"+(n.e.rRel?"":"$")+hs(n.e.r):Gp(n.s,e.biff)+":"+Gp(n.e,e.biff)}function Sb(n){return parseInt(sB(n),10)-1}function hs(n){return""+(n+1)}function iB(n){return n.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function sB(n){return n.replace(/\$(\d+)$/,"$1")}function Eb(n){for(var e=oB(n),t=0,r=0;r!==e.length;++r)t=26*t+e.charCodeAt(r)-64;return t-1}function Ui(n){if(n<0)throw new Error("invalid column "+n);var e="";for(++n;n;n=Math.floor((n-1)/26))e=String.fromCharCode((n-1)%26+65)+e;return e}function aB(n){return n.replace(/^([A-Z])/,"$$$1")}function oB(n){return n.replace(/^\$([A-Z])/,"$1")}function lB(n){return n.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function oa(n){for(var e=0,t=0,r=0;r<n.length;++r){var i=n.charCodeAt(r);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(t=26*t+(i-64))}return{c:t-1,r:e-1}}function Pn(n){for(var e=n.c+1,t="";e;e=(e-1)/26|0)t=String.fromCharCode((e-1)%26+65)+t;return t+(n.r+1)}function O0(n){var e=n.indexOf(":");return e==-1?{s:oa(n),e:oa(n)}:{s:oa(n.slice(0,e)),e:oa(n.slice(e+1))}}function Zn(n,e){return typeof e>"u"||typeof e=="number"?Zn(n.s,n.e):(typeof n!="string"&&(n=Pn(n)),typeof e!="string"&&(e=Pn(e)),n==e?n:n+":"+e)}function fi(n){var e={s:{c:0,r:0},e:{c:0,r:0}},t=0,r=0,i=0,s=n.length;for(t=0;r<s&&!((i=n.charCodeAt(r)-64)<1||i>26);++r)t=26*t+i;for(e.s.c=--t,t=0;r<s&&!((i=n.charCodeAt(r)-48)<0||i>9);++r)t=10*t+i;if(e.s.r=--t,r===s||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++r,t=0;r!=s&&!((i=n.charCodeAt(r)-64)<1||i>26);++r)t=26*t+i;for(e.e.c=--t,t=0;r!=s&&!((i=n.charCodeAt(r)-48)<0||i>9);++r)t=10*t+i;return e.e.r=--t,e}function tT(n,e){var t=n.t=="d"&&e instanceof Date;if(n.z!=null)try{return n.w=Eo(n.z,t?ua(e):e)}catch{}try{return n.w=Eo((n.XF||{}).numFmtId||(t?14:0),t?ua(e):e)}catch{return""+e}}function $c(n,e,t){return n==null||n.t==null||n.t=="z"?"":n.w!==void 0?n.w:(n.t=="d"&&!n.z&&t&&t.dateNF&&(n.z=t.dateNF),n.t=="e"?Yh[n.v]||n.v:e==null?tT(n,n.v):tT(n,e))}function Tf(n,e){var t=e&&e.sheet?e.sheet:"Sheet1",r={};return r[t]=n,{SheetNames:[t],Sheets:r}}function VC(n,e,t){var r=t||{},i=n?Array.isArray(n):r.dense,s=n||(i?[]:{}),a=0,o=0;if(s&&r.origin!=null){if(typeof r.origin=="number")a=r.origin;else{var l=typeof r.origin=="string"?oa(r.origin):r.origin;a=l.r,o=l.c}s["!ref"]||(s["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var f=fi(s["!ref"]);c.s.c=f.s.c,c.s.r=f.s.r,c.e.c=Math.max(c.e.c,f.e.c),c.e.r=Math.max(c.e.r,f.e.r),a==-1&&(c.e.r=a=f.e.r+1)}for(var d=0;d!=e.length;++d)if(e[d]){if(!Array.isArray(e[d]))throw new Error("aoa_to_sheet expects an array of arrays");for(var p=0;p!=e[d].length;++p)if(!(typeof e[d][p]>"u")){var m={v:e[d][p]},_=a+d,x=o+p;if(c.s.r>_&&(c.s.r=_),c.s.c>x&&(c.s.c=x),c.e.r<_&&(c.e.r=_),c.e.c<x&&(c.e.c=x),e[d][p]&&typeof e[d][p]=="object"&&!Array.isArray(e[d][p])&&!(e[d][p]instanceof Date))m=e[d][p];else if(Array.isArray(m.v)&&(m.f=e[d][p][1],m.v=m.v[0]),m.v===null)if(m.f)m.t="n";else if(r.nullError)m.t="e",m.v=0;else if(r.sheetStubs)m.t="z";else continue;else typeof m.v=="number"?m.t="n":typeof m.v=="boolean"?m.t="b":m.v instanceof Date?(m.z=r.dateNF||Nn[14],r.cellDates?(m.t="d",m.w=Eo(m.z,ua(m.v))):(m.t="n",m.v=ua(m.v),m.w=Eo(m.z,m.v))):m.t="s";if(i)s[_]||(s[_]=[]),s[_][x]&&s[_][x].z&&(m.z=s[_][x].z),s[_][x]=m;else{var g=Pn({c:x,r:_});s[g]&&s[g].z&&(m.z=s[g].z),s[g]=m}}}return c.s.c<1e7&&(s["!ref"]=Zn(c)),s}function U0(n,e){return VC(null,n,e)}function cB(n){return n.read_shift(4,"i")}function Bs(n){var e=n.read_shift(4);return e===0?"":n.read_shift(e,"dbcs")}function uB(n){return{ich:n.read_shift(2),ifnt:n.read_shift(2)}}function Ab(n,e){var t=n.l,r=n.read_shift(1),i=Bs(n),s=[],a={t:i,h:i};if((r&1)!==0){for(var o=n.read_shift(4),l=0;l!=o;++l)s.push(uB(n));a.r=s}else a.r=[{ich:0,ifnt:0}];return n.l=t+e,a}var fB=Ab;function Ao(n){var e=n.read_shift(4),t=n.read_shift(2);return t+=n.read_shift(1)<<16,n.l++,{c:e,iStyleRef:t}}function Xh(n){var e=n.read_shift(2);return e+=n.read_shift(1)<<16,n.l++,{c:-1,iStyleRef:e}}var hB=Bs;function Tb(n){var e=n.read_shift(4);return e===0||e===4294967295?"":n.read_shift(e,"dbcs")}var dB=Bs,Ey=Tb;function Mb(n){var e=n.slice(n.l,n.l+4),t=e[0]&1,r=e[0]&2;n.l+=4;var i=r===0?Mx([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):gh(e,0)>>2;return t?i/100:i}function WC(n){var e={s:{},e:{}};return e.s.r=n.read_shift(4),e.e.r=n.read_shift(4),e.s.c=n.read_shift(4),e.e.c=n.read_shift(4),e}var $h=WC;function Ds(n){if(n.length-n.l<8)throw"XLS Xnum Buffer underflow";return n.read_shift(8,"f")}function pB(n){var e={},t=n.read_shift(1),r=t>>>1,i=n.read_shift(1),s=n.read_shift(2,"i"),a=n.read_shift(1),o=n.read_shift(1),l=n.read_shift(1);switch(n.l++,r){case 0:e.auto=1;break;case 1:e.index=i;var c=kh[i];c&&(e.rgb=gm(c));break;case 2:e.rgb=gm([a,o,l]);break;case 3:e.theme=i;break}return s!=0&&(e.tint=s>0?s/32767:s/32768),e}function mB(n){var e=n.read_shift(1);n.l++;var t={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return t}function GC(n,e){var t={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},r=n.read_shift(4);switch(r){case 0:return"";case 4294967295:case 4294967294:return t[n.read_shift(4)]||""}if(r>400)throw new Error("Unsupported Clipboard: "+r.toString(16));return n.l-=4,n.read_shift(0,e==1?"lpstr":"lpwstr")}function gB(n){return GC(n,1)}function xB(n){return GC(n,2)}var Cb=2,Ta=3,Og=11,nT=12,Cx=19,Ug=64,vB=65,_B=71,yB=4108,wB=4126,Ji=80,qC=81,bB=[Ji,qC],SB={1:{n:"CodePage",t:Cb},2:{n:"Category",t:Ji},3:{n:"PresentationFormat",t:Ji},4:{n:"ByteCount",t:Ta},5:{n:"LineCount",t:Ta},6:{n:"ParagraphCount",t:Ta},7:{n:"SlideCount",t:Ta},8:{n:"NoteCount",t:Ta},9:{n:"HiddenCount",t:Ta},10:{n:"MultimediaClipCount",t:Ta},11:{n:"ScaleCrop",t:Og},12:{n:"HeadingPairs",t:yB},13:{n:"TitlesOfParts",t:wB},14:{n:"Manager",t:Ji},15:{n:"Company",t:Ji},16:{n:"LinksUpToDate",t:Og},17:{n:"CharacterCount",t:Ta},19:{n:"SharedDoc",t:Og},22:{n:"HyperlinksChanged",t:Og},23:{n:"AppVersion",t:Ta,p:"version"},24:{n:"DigSig",t:vB},26:{n:"ContentType",t:Ji},27:{n:"ContentStatus",t:Ji},28:{n:"Language",t:Ji},29:{n:"Version",t:Ji},255:{},2147483648:{n:"Locale",t:Cx},2147483651:{n:"Behavior",t:Cx},1919054434:{}},EB={1:{n:"CodePage",t:Cb},2:{n:"Title",t:Ji},3:{n:"Subject",t:Ji},4:{n:"Author",t:Ji},5:{n:"Keywords",t:Ji},6:{n:"Comments",t:Ji},7:{n:"Template",t:Ji},8:{n:"LastAuthor",t:Ji},9:{n:"RevNumber",t:Ji},10:{n:"EditTime",t:Ug},11:{n:"LastPrinted",t:Ug},12:{n:"CreatedDate",t:Ug},13:{n:"ModifiedDate",t:Ug},14:{n:"PageCount",t:Ta},15:{n:"WordCount",t:Ta},16:{n:"CharCount",t:Ta},17:{n:"Thumbnail",t:_B},18:{n:"Application",t:Ji},19:{n:"DocSecurity",t:Ta},255:{},2147483648:{n:"Locale",t:Cx},2147483651:{n:"Behavior",t:Cx},1919054434:{}},rT={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},AB=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function TB(n){return n.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var MB=TB([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),kh=fs(MB),Yh={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},XC={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},iT={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function CB(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function PB(n){var e=CB();if(!n||!n.match)return e;var t={};if((n.match(Vs)||[]).forEach(function(r){var i=bn(r);switch(i[0].replace(OU,"<")){case"<?xml":break;case"<Types":e.xmlns=i["xmlns"+(i[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":t[i.Extension]=i.ContentType;break;case"<Override":e[iT[i.ContentType]]!==void 0&&e[iT[i.ContentType]].push(i.PartName);break}}),e.xmlns!==$U.CT)throw new Error("Unknown Namespace: "+e.xmlns);return e.calcchain=e.calcchains.length>0?e.calcchains[0]:"",e.sst=e.strs.length>0?e.strs[0]:"",e.style=e.styles.length>0?e.styles[0]:"",e.defaults=t,delete e.calcchains,e}var Qd={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function Ay(n){var e=n.lastIndexOf("/");return n.slice(0,e+1)+"_rels/"+n.slice(e+1)+".rels"}function qp(n,e){var t={"!id":{}};if(!n)return t;e.charAt(0)!=="/"&&(e="/"+e);var r={};return(n.match(Vs)||[]).forEach(function(i){var s=bn(i);if(s[0]==="<Relationship"){var a={};a.Type=s.Type,a.Target=s.Target,a.Id=s.Id,s.TargetMode&&(a.TargetMode=s.TargetMode);var o=s.TargetMode==="External"?s.Target:Lp(s.Target,e);t[o]=a,r[s.Id]=a}}),t["!id"]=r,t}var kB="application/vnd.oasis.opendocument.spreadsheet";function RB(n,e){for(var t=wb(n),r,i;r=pm.exec(t);)switch(r[3]){case"manifest":break;case"file-entry":if(i=bn(r[0],!1),i.path=="/"&&i.type!==kB)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(e&&e.WTF)throw r}}var Xp=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],LB=function(){for(var n=new Array(Xp.length),e=0;e<Xp.length;++e){var t=Xp[e],r="(?:"+t[0].slice(0,t[0].indexOf(":"))+":)"+t[0].slice(t[0].indexOf(":")+1);n[e]=new RegExp("<"+r+"[^>]*>([\\s\\S]*?)</"+r+">")}return n}();function $C(n){var e={};n=Fr(n);for(var t=0;t<Xp.length;++t){var r=Xp[t],i=n.match(LB[t]);i!=null&&i.length>0&&(e[r[1]]=tr(i[1])),r[2]==="date"&&e[r[1]]&&(e[r[1]]=es(e[r[1]]))}return e}var NB=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function YC(n,e,t,r){var i=[];if(typeof n=="string")i=$A(n,r);else for(var s=0;s<n.length;++s)i=i.concat(n[s].map(function(f){return{v:f}}));var a=typeof e=="string"?$A(e,r).map(function(f){return f.v}):e,o=0,l=0;if(a.length>0)for(var c=0;c!==i.length;c+=2){switch(l=+i[c+1].v,i[c].v){case"Worksheets":case"工作表":case"Листы":case"أوراق العمل":case"ワークシート":case"גליונות עבודה":case"Arbeitsblätter":case"Çalışma Sayfaları":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de cálculo":case"Planilhas":case"Regneark":case"Hojas de cálculo":case"Werkbladen":t.Worksheets=l,t.SheetNames=a.slice(o,o+l);break;case"Named Ranges":case"Rangos con nombre":case"名前付き一覧":case"Benannte Bereiche":case"Navngivne områder":t.NamedRanges=l,t.DefinedNames=a.slice(o,o+l);break;case"Charts":case"Diagramme":t.Chartsheets=l,t.ChartNames=a.slice(o,o+l);break}o+=l}}function FB(n,e,t){var r={};return e||(e={}),n=Fr(n),NB.forEach(function(i){var s=(n.match(dm(i[0]))||[])[1];switch(i[2]){case"string":s&&(e[i[1]]=tr(s));break;case"bool":e[i[1]]=s==="true";break;case"raw":var a=n.match(new RegExp("<"+i[0]+"[^>]*>([\\s\\S]*?)</"+i[0]+">"));a&&a.length>0&&(r[i[1]]=a[1]);break}}),r.HeadingPairs&&r.TitlesOfParts&&YC(r.HeadingPairs,r.TitlesOfParts,e,t),e}var DB=/<[^>]+>[^<]*/g;function IB(n,e){var t={},r="",i=n.match(DB);if(i)for(var s=0;s!=i.length;++s){var a=i[s],o=bn(a);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":r=tr(o.name);break;case"</property>":r=null;break;default:if(a.indexOf("<vt:")===0){var l=a.split(">"),c=l[0].slice(4),f=l[1];switch(c){case"lpstr":case"bstr":case"lpwstr":t[r]=tr(f);break;case"bool":t[r]=Xr(f);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":t[r]=parseInt(f,10);break;case"r4":case"r8":case"decimal":t[r]=parseFloat(f);break;case"filetime":case"date":t[r]=es(f);break;case"cy":case"error":t[r]=tr(f);break;default:if(c.slice(-1)=="/")break;e.WTF&&typeof console<"u"&&console.warn("Unexpected",a,c,l)}}else if(a.slice(0,2)!=="</"){if(e.WTF)throw new Error(a)}}}return t}var OB={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},X2;function UB(n,e,t){X2||(X2=vb(OB)),e=X2[e]||e,n[e]=t}function Pb(n){var e=n.read_shift(4),t=n.read_shift(4);return new Date((t/1e7*Math.pow(2,32)+e/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function KC(n,e,t){var r=n.l,i=n.read_shift(0,"lpstr-cp");if(t)for(;n.l-r&3;)++n.l;return i}function JC(n,e,t){var r=n.read_shift(0,"lpwstr");return r}function ZC(n,e,t){return e===31?JC(n):KC(n,e,t)}function Ty(n,e,t){return ZC(n,e,t===!1?0:4)}function BB(n,e){if(!e)throw new Error("VtUnalignedString must have positive length");return ZC(n,e,0)}function zB(n){for(var e=n.read_shift(4),t=[],r=0;r!=e;++r){var i=n.l;t[r]=n.read_shift(0,"lpwstr").replace(la,""),n.l-i&2&&(n.l+=2)}return t}function HB(n){for(var e=n.read_shift(4),t=[],r=0;r!=e;++r)t[r]=n.read_shift(0,"lpstr-cp").replace(la,"");return t}function jB(n){var e=n.l,t=Px(n,qC);n[n.l]==0&&n[n.l+1]==0&&n.l-e&2&&(n.l+=2);var r=Px(n,Ta);return[t,r]}function VB(n){for(var e=n.read_shift(4),t=[],r=0;r<e/2;++r)t.push(jB(n));return t}function sT(n,e){for(var t=n.read_shift(4),r={},i=0;i!=t;++i){var s=n.read_shift(4),a=n.read_shift(4);r[s]=n.read_shift(a,e===1200?"utf16le":"utf8").replace(la,"").replace(Rp,"!"),e===1200&&a%2&&(n.l+=2)}return n.l&3&&(n.l=n.l>>3<<2),r}function QC(n){var e=n.read_shift(4),t=n.slice(n.l,n.l+e);return n.l+=e,(e&3)>0&&(n.l+=4-(e&3)&3),t}function WB(n){var e={};return e.Size=n.read_shift(4),n.l+=e.Size+3-(e.Size-1)%4,e}function Px(n,e,t){var r=n.read_shift(2),i,s=t||{};if(n.l+=2,e!==nT&&r!==e&&bB.indexOf(e)===-1&&!((e&65534)==4126&&(r&65534)==4126))throw new Error("Expected type "+e+" saw "+r);switch(e===nT?r:e){case 2:return i=n.read_shift(2,"i"),s.raw||(n.l+=2),i;case 3:return i=n.read_shift(4,"i"),i;case 11:return n.read_shift(4)!==0;case 19:return i=n.read_shift(4),i;case 30:return KC(n,r,4).replace(la,"");case 31:return JC(n);case 64:return Pb(n);case 65:return QC(n);case 71:return WB(n);case 80:return Ty(n,r,!s.raw).replace(la,"");case 81:return BB(n,r).replace(la,"");case 4108:return VB(n);case 4126:case 4127:return r==4127?zB(n):HB(n);default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+r)}}function aT(n,e){var t=n.l,r=n.read_shift(4),i=n.read_shift(4),s=[],a=0,o=0,l=-1,c={};for(a=0;a!=i;++a){var f=n.read_shift(4),d=n.read_shift(4);s[a]=[f,d+t]}s.sort(function(A,E){return A[1]-E[1]});var p={};for(a=0;a!=i;++a){if(n.l!==s[a][1]){var m=!0;if(a>0&&e)switch(e[s[a-1][0]].t){case 2:n.l+2===s[a][1]&&(n.l+=2,m=!1);break;case 80:n.l<=s[a][1]&&(n.l=s[a][1],m=!1);break;case 4108:n.l<=s[a][1]&&(n.l=s[a][1],m=!1);break}if((!e||a==0)&&n.l<=s[a][1]&&(m=!1,n.l=s[a][1]),m)throw new Error("Read Error: Expected address "+s[a][1]+" at "+n.l+" :"+a)}if(e){var _=e[s[a][0]];if(p[_.n]=Px(n,_.t,{raw:!0}),_.p==="version"&&(p[_.n]=String(p[_.n]>>16)+"."+("0000"+String(p[_.n]&65535)).slice(-4)),_.n=="CodePage")switch(p[_.n]){case 0:p[_.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:il(o=p[_.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+p[_.n])}}else if(s[a][0]===1){if(o=p.CodePage=Px(n,Cb),il(o),l!==-1){var x=n.l;n.l=s[l][1],c=sT(n,o),n.l=x}}else if(s[a][0]===0){if(o===0){l=a,n.l=s[a+1][1];continue}c=sT(n,o)}else{var g=c[s[a][0]],y;switch(n[n.l]){case 65:n.l+=4,y=QC(n);break;case 30:n.l+=4,y=Ty(n,n[n.l-4]).replace(/\u0000+$/,"");break;case 31:n.l+=4,y=Ty(n,n[n.l-4]).replace(/\u0000+$/,"");break;case 3:n.l+=4,y=n.read_shift(4,"i");break;case 19:n.l+=4,y=n.read_shift(4);break;case 5:n.l+=4,y=n.read_shift(8,"f");break;case 11:n.l+=4,y=vi(n,4);break;case 64:n.l+=4,y=es(Pb(n));break;default:throw new Error("unparsed value: "+n[n.l])}p[g]=y}}return n.l=t+r,p}function oT(n,e,t){var r=n.content;if(!r)return{};us(r,0);var i,s,a,o,l=0;r.chk("feff","Byte Order: "),r.read_shift(2);var c=r.read_shift(4),f=r.read_shift(16);if(f!==Jn.utils.consts.HEADER_CLSID&&f!==t)throw new Error("Bad PropertySet CLSID "+f);if(i=r.read_shift(4),i!==1&&i!==2)throw new Error("Unrecognized #Sets: "+i);if(s=r.read_shift(16),o=r.read_shift(4),i===1&&o!==r.l)throw new Error("Length mismatch: "+o+" !== "+r.l);i===2&&(a=r.read_shift(16),l=r.read_shift(4));var d=aT(r,e),p={SystemIdentifier:c};for(var m in d)p[m]=d[m];if(p.FMTID=s,i===1)return p;if(l-r.l==2&&(r.l+=2),r.l!==l)throw new Error("Length mismatch 2: "+r.l+" !== "+l);var _;try{_=aT(r,null)}catch{}for(m in _)p[m]=_[m];return p.FMTID=[s,a],p}function Ou(n,e){return n.read_shift(e),null}function GB(n,e,t){for(var r=[],i=n.l+e;n.l<i;)r.push(t(n,i-n.l));if(i!==n.l)throw new Error("Slurp error");return r}function vi(n,e){return n.read_shift(e)===1}function ki(n){return n.read_shift(2,"u")}function eP(n,e){return GB(n,e,ki)}function qB(n){var e=n.read_shift(1),t=n.read_shift(1);return t===1?e:e===1}function Lm(n,e,t){var r=n.read_shift(t&&t.biff>=12?2:1),i="sbcs-cont";if(t&&t.biff>=8,!t||t.biff==8){var s=n.read_shift(1);s&&(i="dbcs-cont")}else t.biff==12&&(i="wstr");t.biff>=2&&t.biff<=5&&(i="cpstr");var a=r?n.read_shift(r,i):"";return a}function XB(n){var e=n.read_shift(2),t=n.read_shift(1),r=t&4,i=t&8,s=1+(t&1),a=0,o,l={};i&&(a=n.read_shift(2)),r&&(o=n.read_shift(4));var c=s==2?"dbcs-cont":"sbcs-cont",f=e===0?"":n.read_shift(e,c);return i&&(n.l+=4*a),r&&(n.l+=o),l.t=f,i||(l.raw="<t>"+l.t+"</t>",l.r=l.t),l}function Uh(n,e,t){var r;if(t){if(t.biff>=2&&t.biff<=5)return n.read_shift(e,"cpstr");if(t.biff>=12)return n.read_shift(e,"dbcs-cont")}var i=n.read_shift(1);return i===0?r=n.read_shift(e,"sbcs-cont"):r=n.read_shift(e,"dbcs-cont"),r}function Nm(n,e,t){var r=n.read_shift(t&&t.biff==2?1:2);return r===0?(n.l++,""):Uh(n,r,t)}function Kh(n,e,t){if(t.biff>5)return Nm(n,e,t);var r=n.read_shift(1);return r===0?(n.l++,""):n.read_shift(r,t.biff<=4||!n.lens?"cpstr":"sbcs-cont")}function $B(n){var e=n.read_shift(1);n.l++;var t=n.read_shift(2);return n.l+=2,[e,t]}function YB(n){var e=n.read_shift(4),t=n.l,r=!1;e>24&&(n.l+=e-24,n.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(r=!0),n.l=t);var i=n.read_shift((r?e-24:e)>>1,"utf16le").replace(la,"");return r&&(n.l+=24),i}function KB(n){for(var e=n.read_shift(2),t="";e-- >0;)t+="../";var r=n.read_shift(0,"lpstr-ansi");if(n.l+=2,n.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var i=n.read_shift(4);if(i===0)return t+r.replace(/\\/g,"/");var s=n.read_shift(4);if(n.read_shift(2)!=3)throw new Error("Bad FileMoniker");var a=n.read_shift(s>>1,"utf16le").replace(la,"");return t+a}function JB(n,e){var t=n.read_shift(16);switch(t){case"e0c9ea79f9bace118c8200aa004ba90b":return YB(n);case"0303000000000000c000000000000046":return KB(n);default:throw new Error("Unsupported Moniker "+t)}}function Bg(n){var e=n.read_shift(4),t=e>0?n.read_shift(e,"utf16le").replace(la,""):"";return t}function ZB(n,e){var t=n.l+e,r=n.read_shift(4);if(r!==2)throw new Error("Unrecognized streamVersion: "+r);var i=n.read_shift(2);n.l+=2;var s,a,o,l,c="",f,d;i&16&&(s=Bg(n,t-n.l)),i&128&&(a=Bg(n,t-n.l)),(i&257)===257&&(o=Bg(n,t-n.l)),(i&257)===1&&(l=JB(n,t-n.l)),i&8&&(c=Bg(n,t-n.l)),i&32&&(f=n.read_shift(16)),i&64&&(d=Pb(n)),n.l=t;var p=a||o||l||"";p&&c&&(p+="#"+c),p||(p="#"+c),i&2&&p.charAt(0)=="/"&&p.charAt(1)!="/"&&(p="file://"+p);var m={Target:p};return f&&(m.guid=f),d&&(m.time=d),s&&(m.Tooltip=s),m}function tP(n){var e=n.read_shift(1),t=n.read_shift(1),r=n.read_shift(1),i=n.read_shift(1);return[e,t,r,i]}function nP(n,e){var t=tP(n);return t[3]=0,t}function Jl(n){var e=n.read_shift(2),t=n.read_shift(2),r=n.read_shift(2);return{r:e,c:t,ixfe:r}}function QB(n){var e=n.read_shift(2),t=n.read_shift(2);return n.l+=8,{type:e,flags:t}}function e9(n,e,t){return e===0?"":Kh(n,e,t)}function t9(n,e,t){var r=t.biff>8?4:2,i=n.read_shift(r),s=n.read_shift(r,"i"),a=n.read_shift(r,"i");return[i,s,a]}function rP(n){var e=n.read_shift(2),t=Mb(n);return[e,t]}function n9(n,e,t){n.l+=4,e-=4;var r=n.l+e,i=Lm(n,e,t),s=n.read_shift(2);if(r-=n.l,s!==r)throw new Error("Malformed AddinUdf: padding = "+r+" != "+s);return n.l+=s,i}function lv(n){var e=n.read_shift(2),t=n.read_shift(2),r=n.read_shift(2),i=n.read_shift(2);return{s:{c:r,r:e},e:{c:i,r:t}}}function iP(n){var e=n.read_shift(2),t=n.read_shift(2),r=n.read_shift(1),i=n.read_shift(1);return{s:{c:r,r:e},e:{c:i,r:t}}}var r9=iP;function sP(n){n.l+=4;var e=n.read_shift(2),t=n.read_shift(2),r=n.read_shift(2);return n.l+=12,[t,e,r]}function i9(n){var e={};return n.l+=4,n.l+=16,e.fSharedNote=n.read_shift(2),n.l+=4,e}function s9(n){var e={};return n.l+=4,n.cf=n.read_shift(2),e}function Ss(n){n.l+=2,n.l+=n.read_shift(2)}var a9={0:Ss,4:Ss,5:Ss,6:Ss,7:s9,8:Ss,9:Ss,10:Ss,11:Ss,12:Ss,13:i9,14:Ss,15:Ss,16:Ss,17:Ss,18:Ss,19:Ss,20:Ss,21:sP};function o9(n,e){for(var t=n.l+e,r=[];n.l<t;){var i=n.read_shift(2);n.l-=2;try{r.push(a9[i](n,t-n.l))}catch{return n.l=t,r}}return n.l!=t&&(n.l=t),r}function zg(n,e){var t={BIFFVer:0,dt:0};switch(t.BIFFVer=n.read_shift(2),e-=2,e>=2&&(t.dt=n.read_shift(2),n.l-=2),t.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(e>6)throw new Error("Unexpected BIFF Ver "+t.BIFFVer)}return n.read_shift(e),t}function l9(n,e){return e===0||n.read_shift(2),1200}function c9(n,e,t){if(t.enc)return n.l+=e,"";var r=n.l,i=Kh(n,0,t);return n.read_shift(e+r-n.l),i}function u9(n,e,t){var r=t&&t.biff==8||e==2?n.read_shift(2):(n.l+=e,0);return{fDialog:r&16,fBelow:r&64,fRight:r&128}}function f9(n,e,t){var r=n.read_shift(4),i=n.read_shift(1)&3,s=n.read_shift(1);switch(s){case 0:s="Worksheet";break;case 1:s="Macrosheet";break;case 2:s="Chartsheet";break;case 6:s="VBAModule";break}var a=Lm(n,0,t);return a.length===0&&(a="Sheet1"),{pos:r,hs:i,dt:s,name:a}}function h9(n,e){for(var t=n.l+e,r=n.read_shift(4),i=n.read_shift(4),s=[],a=0;a!=i&&n.l<t;++a)s.push(XB(n));return s.Count=r,s.Unique=i,s}function d9(n,e){var t={};return t.dsst=n.read_shift(2),n.l+=e-2,t}function p9(n){var e={};e.r=n.read_shift(2),e.c=n.read_shift(2),e.cnt=n.read_shift(2)-e.c;var t=n.read_shift(2);n.l+=4;var r=n.read_shift(1);return n.l+=3,r&7&&(e.level=r&7),r&32&&(e.hidden=!0),r&64&&(e.hpt=t/20),e}function m9(n){var e=QB(n);if(e.type!=2211)throw new Error("Invalid Future Record "+e.type);var t=n.read_shift(4);return t!==0}function g9(n){return n.read_shift(2),n.read_shift(4)}function lT(n,e,t){var r=0;t&&t.biff==2||(r=n.read_shift(2));var i=n.read_shift(2);t&&t.biff==2&&(r=1-(i>>15),i&=32767);var s={Unsynced:r&1,DyZero:(r&2)>>1,ExAsc:(r&4)>>2,ExDsc:(r&8)>>3};return[s,i]}function x9(n){var e=n.read_shift(2),t=n.read_shift(2),r=n.read_shift(2),i=n.read_shift(2),s=n.read_shift(2),a=n.read_shift(2),o=n.read_shift(2),l=n.read_shift(2),c=n.read_shift(2);return{Pos:[e,t],Dim:[r,i],Flags:s,CurTab:a,FirstTab:o,Selected:l,TabRatio:c}}function v9(n,e,t){if(t&&t.biff>=2&&t.biff<5)return{};var r=n.read_shift(2);return{RTL:r&64}}function _9(){}function y9(n,e,t){var r={dyHeight:n.read_shift(2),fl:n.read_shift(2)};switch(t&&t.biff||8){case 2:break;case 3:case 4:n.l+=2;break;default:n.l+=10;break}return r.name=Lm(n,0,t),r}function w9(n){var e=Jl(n);return e.isst=n.read_shift(4),e}function b9(n,e,t){t.biffguess&&t.biff==2&&(t.biff=5);var r=n.l+e,i=Jl(n);t.biff==2&&n.l++;var s=Nm(n,r-n.l,t);return i.val=s,i}function S9(n,e,t){var r=n.read_shift(2),i=Kh(n,0,t);return[r,i]}var E9=Kh;function cT(n,e,t){var r=n.l+e,i=t.biff==8||!t.biff?4:2,s=n.read_shift(i),a=n.read_shift(i),o=n.read_shift(2),l=n.read_shift(2);return n.l=r,{s:{r:s,c:o},e:{r:a,c:l}}}function A9(n){var e=n.read_shift(2),t=n.read_shift(2),r=rP(n);return{r:e,c:t,ixfe:r[0],rknum:r[1]}}function T9(n,e){for(var t=n.l+e-2,r=n.read_shift(2),i=n.read_shift(2),s=[];n.l<t;)s.push(rP(n));if(n.l!==t)throw new Error("MulRK read error");var a=n.read_shift(2);if(s.length!=a-i+1)throw new Error("MulRK length mismatch");return{r,c:i,C:a,rkrec:s}}function M9(n,e){for(var t=n.l+e-2,r=n.read_shift(2),i=n.read_shift(2),s=[];n.l<t;)s.push(n.read_shift(2));if(n.l!==t)throw new Error("MulBlank read error");var a=n.read_shift(2);if(s.length!=a-i+1)throw new Error("MulBlank length mismatch");return{r,c:i,C:a,ixfe:s}}function C9(n,e,t,r){var i={},s=n.read_shift(4),a=n.read_shift(4),o=n.read_shift(4),l=n.read_shift(2);return i.patternType=AB[o>>26],r.cellStyles&&(i.alc=s&7,i.fWrap=s>>3&1,i.alcV=s>>4&7,i.fJustLast=s>>7&1,i.trot=s>>8&255,i.cIndent=s>>16&15,i.fShrinkToFit=s>>20&1,i.iReadOrder=s>>22&2,i.fAtrNum=s>>26&1,i.fAtrFnt=s>>27&1,i.fAtrAlc=s>>28&1,i.fAtrBdr=s>>29&1,i.fAtrPat=s>>30&1,i.fAtrProt=s>>31&1,i.dgLeft=a&15,i.dgRight=a>>4&15,i.dgTop=a>>8&15,i.dgBottom=a>>12&15,i.icvLeft=a>>16&127,i.icvRight=a>>23&127,i.grbitDiag=a>>30&3,i.icvTop=o&127,i.icvBottom=o>>7&127,i.icvDiag=o>>14&127,i.dgDiag=o>>21&15,i.icvFore=l&127,i.icvBack=l>>7&127,i.fsxButton=l>>14&1),i}function P9(n,e,t){var r={};return r.ifnt=n.read_shift(2),r.numFmtId=n.read_shift(2),r.flags=n.read_shift(2),r.fStyle=r.flags>>2&1,e-=6,r.data=C9(n,e,r.fStyle,t),r}function k9(n){n.l+=4;var e=[n.read_shift(2),n.read_shift(2)];if(e[0]!==0&&e[0]--,e[1]!==0&&e[1]--,e[0]>7||e[1]>7)throw new Error("Bad Gutters: "+e.join("|"));return e}function uT(n,e,t){var r=Jl(n);(t.biff==2||e==9)&&++n.l;var i=qB(n);return r.val=i,r.t=i===!0||i===!1?"b":"e",r}function R9(n,e,t){t.biffguess&&t.biff==2&&(t.biff=5);var r=Jl(n),i=Ds(n);return r.val=i,r}var fT=e9;function L9(n,e,t){var r=n.l+e,i=n.read_shift(2),s=n.read_shift(2);if(t.sbcch=s,s==1025||s==14849)return[s,i];if(s<1||s>255)throw new Error("Unexpected SupBook type: "+s);for(var a=Uh(n,s),o=[];r>n.l;)o.push(Nm(n));return[s,i,a,o]}function hT(n,e,t){var r=n.read_shift(2),i,s={fBuiltIn:r&1,fWantAdvise:r>>>1&1,fWantPict:r>>>2&1,fOle:r>>>3&1,fOleLink:r>>>4&1,cf:r>>>5&1023,fIcon:r>>>15&1};return t.sbcch===14849&&(i=n9(n,e-2,t)),s.body=i||n.read_shift(e-2),typeof i=="string"&&(s.Name=i),s}var N9=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function dT(n,e,t){var r=n.l+e,i=n.read_shift(2),s=n.read_shift(1),a=n.read_shift(1),o=n.read_shift(t&&t.biff==2?1:2),l=0;(!t||t.biff>=5)&&(t.biff!=5&&(n.l+=2),l=n.read_shift(2),t.biff==5&&(n.l+=2),n.l+=4);var c=Uh(n,a,t);i&32&&(c=N9[c.charCodeAt(0)]);var f=r-n.l;t&&t.biff==2&&--f;var d=r==n.l||o===0||!(f>0)?[]:pV(n,f,t,o);return{chKey:s,Name:c,itab:l,rgce:d}}function aP(n,e,t){if(t.biff<8)return F9(n,e,t);for(var r=[],i=n.l+e,s=n.read_shift(t.biff>8?4:2);s--!==0;)r.push(t9(n,t.biff>8?12:6,t));if(n.l!=i)throw new Error("Bad ExternSheet: "+n.l+" != "+i);return r}function F9(n,e,t){n[n.l+1]==3&&n[n.l]++;var r=Lm(n,e,t);return r.charCodeAt(0)==3?r.slice(1):r}function D9(n,e,t){if(t.biff<8){n.l+=e;return}var r=n.read_shift(2),i=n.read_shift(2),s=Uh(n,r,t),a=Uh(n,i,t);return[s,a]}function I9(n,e,t){var r=iP(n);n.l++;var i=n.read_shift(1);return e-=8,[mV(n,e,t),i,r]}function pT(n,e,t){var r=r9(n);switch(t.biff){case 2:n.l++,e-=7;break;case 3:case 4:n.l+=2,e-=8;break;default:n.l+=6,e-=12}return[r,hV(n,e,t)]}function O9(n){var e=n.read_shift(4)!==0,t=n.read_shift(4)!==0,r=n.read_shift(4);return[e,t,r]}function U9(n,e,t){if(!(t.biff<8)){var r=n.read_shift(2),i=n.read_shift(2),s=n.read_shift(2),a=n.read_shift(2),o=Kh(n,0,t);return t.biff<8&&n.read_shift(1),[{r,c:i},o,a,s]}}function B9(n,e,t){return U9(n,e,t)}function z9(n,e){for(var t=[],r=n.read_shift(2);r--;)t.push(lv(n));return t}function H9(n,e,t){if(t&&t.biff<8)return V9(n,e,t);var r=sP(n),i=o9(n,e-22,r[1]);return{cmo:r,ft:i}}var j9={8:function(n,e){var t=n.l+e;n.l+=10;var r=n.read_shift(2);n.l+=4,n.l+=2,n.l+=2,n.l+=2,n.l+=4;var i=n.read_shift(1);return n.l+=i,n.l=t,{fmt:r}}};function V9(n,e,t){n.l+=4;var r=n.read_shift(2),i=n.read_shift(2),s=n.read_shift(2);n.l+=2,n.l+=2,n.l+=2,n.l+=2,n.l+=2,n.l+=2,n.l+=2,n.l+=2,n.l+=2,n.l+=6,e-=36;var a=[];return a.push((j9[r]||Hs)(n,e,t)),{cmo:[i,r,s],ft:a}}function W9(n,e,t){var r=n.l,i="";try{n.l+=4;var s=(t.lastobj||{cmo:[0,0]}).cmo[1],a;[0,5,7,11,12,14].indexOf(s)==-1?n.l+=6:a=$B(n,6,t);var o=n.read_shift(2);n.read_shift(2),ki(n,2);var l=n.read_shift(2);n.l+=l;for(var c=1;c<n.lens.length-1;++c){if(n.l-r!=n.lens[c])throw new Error("TxO: bad continue record");var f=n[n.l],d=Uh(n,n.lens[c+1]-n.lens[c]-1);if(i+=d,i.length>=(f?o:2*o))break}if(i.length!==o&&i.length!==o*2)throw new Error("cchText: "+o+" != "+i.length);return n.l=r+e,{t:i}}catch{return n.l=r+e,{t:i}}}function G9(n,e){var t=lv(n);n.l+=16;var r=ZB(n,e-24);return[t,r]}function q9(n,e){n.read_shift(2);var t=lv(n),r=n.read_shift((e-10)/2,"dbcs-cont");return r=r.replace(la,""),[t,r]}function X9(n){var e=[0,0],t;return t=n.read_shift(2),e[0]=rT[t]||t,t=n.read_shift(2),e[1]=rT[t]||t,e}function $9(n){for(var e=n.read_shift(2),t=[];e-- >0;)t.push(nP(n));return t}function Y9(n){for(var e=n.read_shift(2),t=[];e-- >0;)t.push(nP(n));return t}function K9(n){n.l+=2;var e={cxfs:0,crc:0};return e.cxfs=n.read_shift(2),e.crc=n.read_shift(4),e}function oP(n,e,t){if(!t.cellStyles)return Hs(n,e);var r=t&&t.biff>=12?4:2,i=n.read_shift(r),s=n.read_shift(r),a=n.read_shift(r),o=n.read_shift(r),l=n.read_shift(2);r==2&&(n.l+=2);var c={s:i,e:s,w:a,ixfe:o,flags:l};return(t.biff>=5||!t.biff)&&(c.level=l>>8&7),c}function J9(n,e){var t={};return e<32||(n.l+=16,t.header=Ds(n),t.footer=Ds(n),n.l+=2),t}function Z9(n,e,t){var r={area:!1};if(t.biff!=5)return n.l+=e,r;var i=n.read_shift(1);return n.l+=3,i&16&&(r.area=!0),r}var Q9=Jl,ez=eP,tz=Nm;function nz(n){var e=n.read_shift(2),t=n.read_shift(2),r=n.read_shift(4),i={fmt:e,env:t,len:r,data:n.slice(n.l,n.l+r)};return n.l+=r,i}function rz(n,e,t){t.biffguess&&t.biff==5&&(t.biff=2);var r=Jl(n);++n.l;var i=Kh(n,e-7,t);return r.t="str",r.val=i,r}function iz(n){var e=Jl(n);++n.l;var t=Ds(n);return e.t="n",e.val=t,e}function sz(n){var e=Jl(n);++n.l;var t=n.read_shift(2);return e.t="n",e.val=t,e}function az(n){var e=n.read_shift(1);return e===0?(n.l++,""):n.read_shift(e,"sbcs-cont")}function oz(n,e){n.l+=6,n.l+=2,n.l+=1,n.l+=3,n.l+=1,n.l+=e-13}function lz(n,e,t){var r=n.l+e,i=Jl(n),s=n.read_shift(2),a=Uh(n,s,t);return n.l=r,i.t="str",i.val=a,i}var cz=[2,3,48,49,131,139,140,245],mT=function(){var n={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=vb({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function t(o,l){var c=[],f=xf(1);switch(l.type){case"base64":f=nl(Za(o));break;case"binary":f=nl(o);break;case"buffer":case"array":f=o;break}us(f,0);var d=f.read_shift(1),p=!!(d&136),m=!1,_=!1;switch(d){case 2:break;case 3:break;case 48:m=!0,p=!0;break;case 49:m=!0,p=!0;break;case 131:break;case 139:break;case 140:_=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+d.toString(16))}var x=0,g=521;d==2&&(x=f.read_shift(2)),f.l+=3,d!=2&&(x=f.read_shift(4)),x>1048576&&(x=1e6),d!=2&&(g=f.read_shift(2));var y=f.read_shift(2),A=l.codepage||1252;d!=2&&(f.l+=16,f.read_shift(1),f[f.l]!==0&&(A=n[f[f.l]]),f.l+=1,f.l+=2),_&&(f.l+=36);for(var E=[],M={},D=Math.min(f.length,d==2?521:g-10-(m?264:0)),U=_?32:11;f.l<D&&f[f.l]!=13;)switch(M={},M.name=fm.utils.decode(A,f.slice(f.l,f.l+U)).replace(/[\u0000\r\n].*$/g,""),f.l+=U,M.type=String.fromCharCode(f.read_shift(1)),d!=2&&!_&&(M.offset=f.read_shift(4)),M.len=f.read_shift(1),d==2&&(M.offset=f.read_shift(2)),M.dec=f.read_shift(1),M.name.length&&E.push(M),d!=2&&(f.l+=_?13:14),M.type){case"B":(!m||M.len!=8)&&l.WTF&&console.log("Skipping "+M.name+":"+M.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+M.name+":"+M.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+M.type)}if(f[f.l]!==13&&(f.l=g-1),f.read_shift(1)!==13)throw new Error("DBF Terminator not found "+f.l+" "+f[f.l]);f.l=g;var L=0,I=0;for(c[0]=[],I=0;I!=E.length;++I)c[0][I]=E[I].name;for(;x-- >0;){if(f[f.l]===42){f.l+=y;continue}for(++f.l,c[++L]=[],I=0,I=0;I!=E.length;++I){var R=f.slice(f.l,f.l+E[I].len);f.l+=E[I].len,us(R,0);var O=fm.utils.decode(A,R);switch(E[I].type){case"C":O.trim().length&&(c[L][I]=O.replace(/\s+$/,""));break;case"D":O.length===8?c[L][I]=new Date(+O.slice(0,4),+O.slice(4,6)-1,+O.slice(6,8)):c[L][I]=O;break;case"F":c[L][I]=parseFloat(O.trim());break;case"+":case"I":c[L][I]=_?R.read_shift(-4,"i")^2147483648:R.read_shift(4,"i");break;case"L":switch(O.trim().toUpperCase()){case"Y":case"T":c[L][I]=!0;break;case"N":case"F":c[L][I]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+O+"|")}break;case"M":if(!p)throw new Error("DBF Unexpected MEMO for type "+d.toString(16));c[L][I]="##MEMO##"+(_?parseInt(O.trim(),10):R.read_shift(4));break;case"N":O=O.replace(/\u0000/g,"").trim(),O&&O!="."&&(c[L][I]=+O||0);break;case"@":c[L][I]=new Date(R.read_shift(-8,"f")-621356832e5);break;case"T":c[L][I]=new Date((R.read_shift(4)-2440588)*864e5+R.read_shift(4));break;case"Y":c[L][I]=R.read_shift(4,"i")/1e4+R.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":c[L][I]=-R.read_shift(-8,"f");break;case"B":if(m&&E[I].len==8){c[L][I]=R.read_shift(8,"f");break}case"G":case"P":R.l+=E[I].len;break;case"0":if(E[I].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+E[I].type)}}}if(d!=2&&f.l<f.length&&f[f.l++]!=26)throw new Error("DBF EOF Marker missing "+(f.l-1)+" of "+f.length+" "+f[f.l-1].toString(16));return l&&l.sheetRows&&(c=c.slice(0,l.sheetRows)),l.DBF=E,c}function r(o,l){var c=l||{};c.dateNF||(c.dateNF="yyyymmdd");var f=U0(t(o,c),c);return f["!cols"]=c.DBF.map(function(d){return{wch:d.len,DBF:d}}),delete c.DBF,f}function i(o,l){try{return Tf(r(o,l),l)}catch(c){if(l&&l.WTF)throw c}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function a(o,l){var c=l||{};if(+c.codepage>=0&&il(+c.codepage),c.type=="string")throw new Error("Cannot write DBF to JS string");var f=Sy(),d=Ny(o,{header:1,raw:!0,cellDates:!0}),p=d[0],m=d.slice(1),_=o["!cols"]||[],x=0,g=0,y=0,A=1;for(x=0;x<p.length;++x){if(((_[x]||{}).DBF||{}).name){p[x]=_[x].DBF.name,++y;continue}if(p[x]!=null){if(++y,typeof p[x]=="number"&&(p[x]=p[x].toString(10)),typeof p[x]!="string")throw new Error("DBF Invalid column name "+p[x]+" |"+typeof p[x]+"|");if(p.indexOf(p[x])!==x){for(g=0;g<1024;++g)if(p.indexOf(p[x]+"_"+g)==-1){p[x]+="_"+g;break}}}}var E=fi(o["!ref"]),M=[],D=[],U=[];for(x=0;x<=E.e.c-E.s.c;++x){var L="",I="",R=0,O=[];for(g=0;g<m.length;++g)m[g][x]!=null&&O.push(m[g][x]);if(O.length==0||p[x]==null){M[x]="?";continue}for(g=0;g<O.length;++g){switch(typeof O[g]){case"number":I="B";break;case"string":I="C";break;case"boolean":I="L";break;case"object":I=O[g]instanceof Date?"D":"C";break;default:I="C"}R=Math.max(R,String(O[g]).length),L=L&&L!=I?"C":I}R>250&&(R=250),I=((_[x]||{}).DBF||{}).type,I=="C"&&_[x].DBF.len>R&&(R=_[x].DBF.len),L=="B"&&I=="N"&&(L="N",U[x]=_[x].DBF.dec,R=_[x].DBF.len),D[x]=L=="C"||I=="N"?R:s[L]||0,A+=D[x],M[x]=L}var N=f.next(32);for(N.write_shift(4,318902576),N.write_shift(4,m.length),N.write_shift(2,296+32*y),N.write_shift(2,A),x=0;x<4;++x)N.write_shift(4,0);for(N.write_shift(4,0|(+e[aC]||3)<<8),x=0,g=0;x<p.length;++x)if(p[x]!=null){var k=f.next(32),j=(p[x].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);k.write_shift(1,j,"sbcs"),k.write_shift(1,M[x]=="?"?"C":M[x],"sbcs"),k.write_shift(4,g),k.write_shift(1,D[x]||s[M[x]]||0),k.write_shift(1,U[x]||0),k.write_shift(1,2),k.write_shift(4,0),k.write_shift(1,0),k.write_shift(4,0),k.write_shift(4,0),g+=D[x]||s[M[x]]||0}var G=f.next(264);for(G.write_shift(4,13),x=0;x<65;++x)G.write_shift(4,0);for(x=0;x<m.length;++x){var ae=f.next(A);for(ae.write_shift(1,0),g=0;g<p.length;++g)if(p[g]!=null)switch(M[g]){case"L":ae.write_shift(1,m[x][g]==null?63:m[x][g]?84:70);break;case"B":ae.write_shift(8,m[x][g]||0,"f");break;case"N":var ie="0";for(typeof m[x][g]=="number"&&(ie=m[x][g].toFixed(U[g]||0)),y=0;y<D[g]-ie.length;++y)ae.write_shift(1,32);ae.write_shift(1,ie,"sbcs");break;case"D":m[x][g]?(ae.write_shift(4,("0000"+m[x][g].getFullYear()).slice(-4),"sbcs"),ae.write_shift(2,("00"+(m[x][g].getMonth()+1)).slice(-2),"sbcs"),ae.write_shift(2,("00"+m[x][g].getDate()).slice(-2),"sbcs")):ae.write_shift(8,"00000000","sbcs");break;case"C":var ue=String(m[x][g]!=null?m[x][g]:"").slice(0,D[g]);for(ae.write_shift(1,ue,"sbcs"),y=0;y<D[g]-ue.length;++y)ae.write_shift(1,32);break}}return f.next(1).write_shift(1,26),f.end()}return{to_workbook:i,to_sheet:r,from_sheet:a}}(),uz=function(){var n={AA:"À",BA:"Á",CA:"Â",DA:195,HA:"Ä",JA:197,AE:"È",BE:"É",CE:"Ê",HE:"Ë",AI:"Ì",BI:"Í",CI:"Î",HI:"Ï",AO:"Ò",BO:"Ó",CO:"Ô",DO:213,HO:"Ö",AU:"Ù",BU:"Ú",CU:"Û",HU:"Ü",Aa:"à",Ba:"á",Ca:"â",Da:227,Ha:"ä",Ja:229,Ae:"è",Be:"é",Ce:"ê",He:"ë",Ai:"ì",Bi:"í",Ci:"î",Hi:"ï",Ao:"ò",Bo:"ó",Co:"ô",Do:245,Ho:"ö",Au:"ù",Bu:"ú",Cu:"û",Hu:"ü",KC:"Ç",Kc:"ç",q:"æ",z:"œ",a:"Æ",j:"Œ",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+Xl(n).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),t=function(p,m){var _=n[m];return typeof _=="number"?RA(_):_},r=function(p,m,_){var x=m.charCodeAt(0)-32<<4|_.charCodeAt(0)-48;return x==59?p:RA(x)};n["|"]=254;function i(p,m){switch(m.type){case"base64":return s(Za(p),m);case"binary":return s(p,m);case"buffer":return s($n&&Buffer.isBuffer(p)?p.toString("binary"):qh(p),m);case"array":return s(Oh(p),m)}throw new Error("Unrecognized type "+m.type)}function s(p,m){var _=p.split(/[\n\r]+/),x=-1,g=-1,y=0,A=0,E=[],M=[],D=null,U={},L=[],I=[],R=[],O=0,N;for(+m.codepage>=0&&il(+m.codepage);y!==_.length;++y){O=0;var k=_[y].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(e,t),j=k.replace(/;;/g,"\0").split(";").map(function(V){return V.replace(/\u0000/g,";")}),G=j[0],ae;if(k.length>0)switch(G){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":j[1].charAt(0)=="P"&&M.push(k.slice(3).replace(/;;/g,";"));break;case"C":var ie=!1,ue=!1,J=!1,X=!1,pe=-1,oe=-1;for(A=1;A<j.length;++A)switch(j[A].charAt(0)){case"A":break;case"X":g=parseInt(j[A].slice(1))-1,ue=!0;break;case"Y":for(x=parseInt(j[A].slice(1))-1,ue||(g=0),N=E.length;N<=x;++N)E[N]=[];break;case"K":ae=j[A].slice(1),ae.charAt(0)==='"'?ae=ae.slice(1,ae.length-1):ae==="TRUE"?ae=!0:ae==="FALSE"?ae=!1:isNaN(ll(ae))?isNaN(E0(ae).getDate())||(ae=es(ae)):(ae=ll(ae),D!==null&&I0(D)&&(ae=ov(ae))),ie=!0;break;case"E":X=!0;var C=l0(j[A].slice(1),{r:x,c:g});E[x][g]=[E[x][g],C];break;case"S":J=!0,E[x][g]=[E[x][g],"S5S"];break;case"G":break;case"R":pe=parseInt(j[A].slice(1))-1;break;case"C":oe=parseInt(j[A].slice(1))-1;break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+k)}if(ie&&(E[x][g]&&E[x][g].length==2?E[x][g][0]=ae:E[x][g]=ae,D=null),J){if(X)throw new Error("SYLK shared formula cannot have own formula");var W=pe>-1&&E[pe][oe];if(!W||!W[1])throw new Error("SYLK shared formula cannot find base");E[x][g][1]=xP(W[1],{r:x-pe,c:g-oe})}break;case"F":var z=0;for(A=1;A<j.length;++A)switch(j[A].charAt(0)){case"X":g=parseInt(j[A].slice(1))-1,++z;break;case"Y":for(x=parseInt(j[A].slice(1))-1,N=E.length;N<=x;++N)E[N]=[];break;case"M":O=parseInt(j[A].slice(1))/20;break;case"F":break;case"G":break;case"P":D=M[parseInt(j[A].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(R=j[A].slice(1).split(" "),N=parseInt(R[0],10);N<=parseInt(R[1],10);++N)O=parseInt(R[2],10),I[N-1]=O===0?{hidden:!0}:{wch:O},A0(I[N-1]);break;case"C":g=parseInt(j[A].slice(1))-1,I[g]||(I[g]={});break;case"R":x=parseInt(j[A].slice(1))-1,L[x]||(L[x]={}),O>0?(L[x].hpt=O,L[x].hpx=xm(O)):O===0&&(L[x].hidden=!0);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+k)}z<1&&(D=null);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+k)}}return L.length>0&&(U["!rows"]=L),I.length>0&&(U["!cols"]=I),m&&m.sheetRows&&(E=E.slice(0,m.sheetRows)),[E,U]}function a(p,m){var _=i(p,m),x=_[0],g=_[1],y=U0(x,m);return Xl(g).forEach(function(A){y[A]=g[A]}),y}function o(p,m){return Tf(a(p,m),m)}function l(p,m,_,x){var g="C;Y"+(_+1)+";X"+(x+1)+";K";switch(p.t){case"n":g+=p.v||0,p.f&&!p.F&&(g+=";E"+KH(p.f,{r:_,c:x}));break;case"b":g+=p.v?"TRUE":"FALSE";break;case"e":g+=p.w||p.v;break;case"d":g+='"'+(p.w||p.v)+'"';break;case"s":g+='"'+p.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return g}function c(p,m){m.forEach(function(_,x){var g="F;W"+(x+1)+" "+(x+1)+" ";_.hidden?g+="0":(typeof _.width=="number"&&!_.wpx&&(_.wpx=Rx(_.width)),typeof _.wpx=="number"&&!_.wch&&(_.wch=Lx(_.wpx)),typeof _.wch=="number"&&(g+=Math.round(_.wch))),g.charAt(g.length-1)!=" "&&p.push(g)})}function f(p,m){m.forEach(function(_,x){var g="F;";_.hidden?g+="M0;":_.hpt?g+="M"+20*_.hpt+";":_.hpx&&(g+="M"+20*pP(_.hpx)+";"),g.length>2&&p.push(g+"R"+(x+1))})}function d(p,m){var _=["ID;PWXL;N;E"],x=[],g=fi(p["!ref"]),y,A=Array.isArray(p),E=`\r
`;_.push("P;PGeneral"),_.push("F;P0;DG0G8;M255"),p["!cols"]&&c(_,p["!cols"]),p["!rows"]&&f(_,p["!rows"]),_.push("B;Y"+(g.e.r-g.s.r+1)+";X"+(g.e.c-g.s.c+1)+";D"+[g.s.c,g.s.r,g.e.c,g.e.r].join(" "));for(var M=g.s.r;M<=g.e.r;++M)for(var D=g.s.c;D<=g.e.c;++D){var U=Pn({r:M,c:D});y=A?(p[M]||[])[D]:p[U],!(!y||y.v==null&&(!y.f||y.F))&&x.push(l(y,p,M,D))}return _.join(E)+E+x.join(E)+E+"E"+E}return{to_workbook:o,to_sheet:a,from_sheet:d}}(),fz=function(){function n(s,a){switch(a.type){case"base64":return e(Za(s),a);case"binary":return e(s,a);case"buffer":return e($n&&Buffer.isBuffer(s)?s.toString("binary"):qh(s),a);case"array":return e(Oh(s),a)}throw new Error("Unrecognized type "+a.type)}function e(s,a){for(var o=s.split(`
`),l=-1,c=-1,f=0,d=[];f!==o.length;++f){if(o[f].trim()==="BOT"){d[++l]=[],c=0;continue}if(!(l<0)){var p=o[f].trim().split(","),m=p[0],_=p[1];++f;for(var x=o[f]||"";(x.match(/["]/g)||[]).length&1&&f<o.length-1;)x+=`
`+o[++f];switch(x=x.trim(),+m){case-1:if(x==="BOT"){d[++l]=[],c=0;continue}else if(x!=="EOD")throw new Error("Unrecognized DIF special command "+x);break;case 0:x==="TRUE"?d[l][c]=!0:x==="FALSE"?d[l][c]=!1:isNaN(ll(_))?isNaN(E0(_).getDate())?d[l][c]=_:d[l][c]=es(_):d[l][c]=ll(_),++c;break;case 1:x=x.slice(1,x.length-1),x=x.replace(/""/g,'"'),x&&x.match(/^=".*"$/)&&(x=x.slice(2,-1)),d[l][c++]=x!==""?x:null;break}if(x==="EOD")break}}return a&&a.sheetRows&&(d=d.slice(0,a.sheetRows)),d}function t(s,a){return U0(n(s,a),a)}function r(s,a){return Tf(t(s,a),a)}var i=function(){var s=function(l,c,f,d,p){l.push(c),l.push(f+","+d),l.push('"'+p.replace(/"/g,'""')+'"')},a=function(l,c,f,d){l.push(c+","+f),l.push(c==1?'"'+d.replace(/"/g,'""')+'"':d)};return function(l){var c=[],f=fi(l["!ref"]),d,p=Array.isArray(l);s(c,"TABLE",0,1,"sheetjs"),s(c,"VECTORS",0,f.e.r-f.s.r+1,""),s(c,"TUPLES",0,f.e.c-f.s.c+1,""),s(c,"DATA",0,0,"");for(var m=f.s.r;m<=f.e.r;++m){a(c,-1,0,"BOT");for(var _=f.s.c;_<=f.e.c;++_){var x=Pn({r:m,c:_});if(d=p?(l[m]||[])[_]:l[x],!d){a(c,1,0,"");continue}switch(d.t){case"n":var g=d.w;!g&&d.v!=null&&(g=d.v),g==null?d.f&&!d.F?a(c,1,0,"="+d.f):a(c,1,0,""):a(c,0,g,"V");break;case"b":a(c,0,d.v?1:0,d.v?"TRUE":"FALSE");break;case"s":a(c,1,0,isNaN(d.v)?d.v:'="'+d.v+'"');break;case"d":d.w||(d.w=Eo(d.z||Nn[14],ua(es(d.v)))),a(c,0,d.w,"V");break;default:a(c,1,0,"")}}}a(c,-1,0,"EOD");var y=`\r
`,A=c.join(y);return A}}();return{to_workbook:r,to_sheet:t,from_sheet:i}}(),hz=function(){function n(d){return d.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(d){return d.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function t(d,p){for(var m=d.split(`
`),_=-1,x=-1,g=0,y=[];g!==m.length;++g){var A=m[g].trim().split(":");if(A[0]==="cell"){var E=oa(A[1]);if(y.length<=E.r)for(_=y.length;_<=E.r;++_)y[_]||(y[_]=[]);switch(_=E.r,x=E.c,A[2]){case"t":y[_][x]=n(A[3]);break;case"v":y[_][x]=+A[3];break;case"vtf":var M=A[A.length-1];case"vtc":switch(A[3]){case"nl":y[_][x]=!!+A[4];break;default:y[_][x]=+A[4];break}A[2]=="vtf"&&(y[_][x]=[y[_][x],M])}}}return p&&p.sheetRows&&(y=y.slice(0,p.sheetRows)),y}function r(d,p){return U0(t(d,p),p)}function i(d,p){return Tf(r(d,p),p)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),a=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function c(d){if(!d||!d["!ref"])return"";for(var p=[],m=[],_,x="",g=O0(d["!ref"]),y=Array.isArray(d),A=g.s.r;A<=g.e.r;++A)for(var E=g.s.c;E<=g.e.c;++E)if(x=Pn({r:A,c:E}),_=y?(d[A]||[])[E]:d[x],!(!_||_.v==null||_.t==="z")){switch(m=["cell",x,"t"],_.t){case"s":case"str":m.push(e(_.v));break;case"n":_.f?(m[2]="vtf",m[3]="n",m[4]=_.v,m[5]=e(_.f)):(m[2]="v",m[3]=_.v);break;case"b":m[2]="vt"+(_.f?"f":"c"),m[3]="nl",m[4]=_.v?"1":"0",m[5]=e(_.f||(_.v?"TRUE":"FALSE"));break;case"d":var M=ua(es(_.v));m[2]="vtc",m[3]="nd",m[4]=""+M,m[5]=_.w||Eo(_.z||Nn[14],M);break;case"e":continue}p.push(m.join(":"))}return p.push("sheet:c:"+(g.e.c-g.s.c+1)+":r:"+(g.e.r-g.s.r+1)+":tvf:1"),p.push("valueformat:1:text-wiki"),p.join(`
`)}function f(d){return[s,a,o,a,c(d),l].join(`
`)}return{to_workbook:i,to_sheet:r,from_sheet:f}}(),mm=function(){function n(f,d,p,m,_){_.raw?d[p][m]=f:f===""||(f==="TRUE"?d[p][m]=!0:f==="FALSE"?d[p][m]=!1:isNaN(ll(f))?isNaN(E0(f).getDate())?d[p][m]=f:d[p][m]=es(f):d[p][m]=ll(f))}function e(f,d){var p=d||{},m=[];if(!f||f.length===0)return m;for(var _=f.split(/[\r\n]/),x=_.length-1;x>=0&&_[x].length===0;)--x;for(var g=10,y=0,A=0;A<=x;++A)y=_[A].indexOf(" "),y==-1?y=_[A].length:y++,g=Math.max(g,y);for(A=0;A<=x;++A){m[A]=[];var E=0;for(n(_[A].slice(0,g).trim(),m,A,E,p),E=1;E<=(_[A].length-g)/10+1;++E)n(_[A].slice(g+(E-1)*10,g+E*10).trim(),m,A,E,p)}return p.sheetRows&&(m=m.slice(0,p.sheetRows)),m}var t={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function i(f){for(var d={},p=!1,m=0,_=0;m<f.length;++m)(_=f.charCodeAt(m))==34?p=!p:!p&&_ in t&&(d[_]=(d[_]||0)+1);_=[];for(m in d)Object.prototype.hasOwnProperty.call(d,m)&&_.push([d[m],m]);if(!_.length){d=r;for(m in d)Object.prototype.hasOwnProperty.call(d,m)&&_.push([d[m],m])}return _.sort(function(x,g){return x[0]-g[0]||r[x[1]]-r[g[1]]}),t[_.pop()[1]]||44}function s(f,d){var p=d||{},m="",_=p.dense?[]:{},x={s:{c:0,r:0},e:{c:0,r:0}};f.slice(0,4)=="sep="?f.charCodeAt(5)==13&&f.charCodeAt(6)==10?(m=f.charAt(4),f=f.slice(7)):f.charCodeAt(5)==13||f.charCodeAt(5)==10?(m=f.charAt(4),f=f.slice(6)):m=i(f.slice(0,1024)):p&&p.FS?m=p.FS:m=i(f.slice(0,1024));var g=0,y=0,A=0,E=0,M=0,D=m.charCodeAt(0),U=!1,L=0,I=f.charCodeAt(0);f=f.replace(/\r\n/mg,`
`);var R=p.dateNF!=null?SU(p.dateNF):null;function O(){var N=f.slice(E,M),k={};if(N.charAt(0)=='"'&&N.charAt(N.length-1)=='"'&&(N=N.slice(1,-1).replace(/""/g,'"')),N.length===0)k.t="z";else if(p.raw)k.t="s",k.v=N;else if(N.trim().length===0)k.t="s",k.v=N;else if(N.charCodeAt(0)==61)N.charCodeAt(1)==34&&N.charCodeAt(N.length-1)==34?(k.t="s",k.v=N.slice(2,-1).replace(/""/g,'"')):ZH(N)?(k.t="n",k.f=N.slice(1)):(k.t="s",k.v=N);else if(N=="TRUE")k.t="b",k.v=!0;else if(N=="FALSE")k.t="b",k.v=!1;else if(!isNaN(A=ll(N)))k.t="n",p.cellText!==!1&&(k.w=N),k.v=A;else if(!isNaN(E0(N).getDate())||R&&N.match(R)){k.z=p.dateNF||Nn[14];var j=0;R&&N.match(R)&&(N=EU(N,p.dateNF,N.match(R)||[]),j=1),p.cellDates?(k.t="d",k.v=es(N,j)):(k.t="n",k.v=ua(es(N,j))),p.cellText!==!1&&(k.w=Eo(k.z,k.v instanceof Date?ua(k.v):k.v)),p.cellNF||delete k.z}else k.t="s",k.v=N;if(k.t=="z"||(p.dense?(_[g]||(_[g]=[]),_[g][y]=k):_[Pn({c:y,r:g})]=k),E=M+1,I=f.charCodeAt(E),x.e.c<y&&(x.e.c=y),x.e.r<g&&(x.e.r=g),L==D)++y;else if(y=0,++g,p.sheetRows&&p.sheetRows<=g)return!0}e:for(;M<f.length;++M)switch(L=f.charCodeAt(M)){case 34:I===34&&(U=!U);break;case D:case 10:case 13:if(!U&&O())break e;break}return M-E>0&&O(),_["!ref"]=Zn(x),_}function a(f,d){return!(d&&d.PRN)||d.FS||f.slice(0,4)=="sep="||f.indexOf("	")>=0||f.indexOf(",")>=0||f.indexOf(";")>=0?s(f,d):U0(e(f,d),d)}function o(f,d){var p="",m=d.type=="string"?[0,0,0,0]:Ob(f,d);switch(d.type){case"base64":p=Za(f);break;case"binary":p=f;break;case"buffer":d.codepage==65001?p=f.toString("utf8"):d.codepage&&typeof fm<"u"||(p=$n&&Buffer.isBuffer(f)?f.toString("binary"):qh(f));break;case"array":p=Oh(f);break;case"string":p=f;break;default:throw new Error("Unrecognized type "+d.type)}return m[0]==239&&m[1]==187&&m[2]==191?p=Fr(p.slice(3)):d.type!="string"&&d.type!="buffer"&&d.codepage==65001?p=Fr(p):d.type=="binary"&&typeof fm<"u",p.slice(0,19)=="socialcalc:version:"?hz.to_sheet(d.type=="string"?p:Fr(p),d):a(p,d)}function l(f,d){return Tf(o(f,d),d)}function c(f){for(var d=[],p=fi(f["!ref"]),m,_=Array.isArray(f),x=p.s.r;x<=p.e.r;++x){for(var g=[],y=p.s.c;y<=p.e.c;++y){var A=Pn({r:x,c:y});if(m=_?(f[x]||[])[y]:f[A],!m||m.v==null){g.push("          ");continue}for(var E=(m.w||($c(m),m.w)||"").slice(0,10);E.length<10;)E+=" ";g.push(E+(y===0?" ":""))}d.push(g.join(""))}return d.join(`
`)}return{to_workbook:l,to_sheet:o,from_sheet:c}}();function dz(n,e){var t=e||{},r=!!t.WTF;t.WTF=!0;try{var i=uz.to_workbook(n,t);return t.WTF=r,i}catch(s){if(t.WTF=r,!s.message.match(/SYLK bad record ID/)&&r)throw s;return mm.to_workbook(n,e)}}var $p=function(){function n(C,W,z){if(C){us(C,C.l||0);for(var V=z.Enum||pe;C.l<C.length;){var ee=C.read_shift(2),de=V[ee]||V[65535],ve=C.read_shift(2),we=C.l+ve,Ce=de.f&&de.f(C,ve,z);if(C.l=we,W(Ce,de,ee))return}}}function e(C,W){switch(W.type){case"base64":return t(nl(Za(C)),W);case"binary":return t(nl(C),W);case"buffer":case"array":return t(C,W)}throw"Unsupported type "+W.type}function t(C,W){if(!C)return C;var z=W||{},V=z.dense?[]:{},ee="Sheet1",de="",ve=0,we={},Ce=[],lt=[],he={s:{r:0,c:0},e:{r:0,c:0}},mt=z.sheetRows||0;if(C[2]==0&&(C[3]==8||C[3]==9)&&C.length>=16&&C[14]==5&&C[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(C[2]==2)z.Enum=pe,n(C,function(Re,je,Ve){switch(Ve){case 0:z.vers=Re,Re>=4096&&(z.qpro=!0);break;case 6:he=Re;break;case 204:Re&&(de=Re);break;case 222:de=Re;break;case 15:case 51:z.qpro||(Re[1].v=Re[1].v.slice(1));case 13:case 14:case 16:Ve==14&&(Re[2]&112)==112&&(Re[2]&15)>1&&(Re[2]&15)<15&&(Re[1].z=z.dateNF||Nn[14],z.cellDates&&(Re[1].t="d",Re[1].v=ov(Re[1].v))),z.qpro&&Re[3]>ve&&(V["!ref"]=Zn(he),we[ee]=V,Ce.push(ee),V=z.dense?[]:{},he={s:{r:0,c:0},e:{r:0,c:0}},ve=Re[3],ee=de||"Sheet"+(ve+1),de="");var Ie=z.dense?(V[Re[0].r]||[])[Re[0].c]:V[Pn(Re[0])];if(Ie){Ie.t=Re[1].t,Ie.v=Re[1].v,Re[1].z!=null&&(Ie.z=Re[1].z),Re[1].f!=null&&(Ie.f=Re[1].f);break}z.dense?(V[Re[0].r]||(V[Re[0].r]=[]),V[Re[0].r][Re[0].c]=Re[1]):V[Pn(Re[0])]=Re[1];break}},z);else if(C[2]==26||C[2]==14)z.Enum=oe,C[2]==14&&(z.qpro=!0,C.l=0),n(C,function(Re,je,Ve){switch(Ve){case 204:ee=Re;break;case 22:Re[1].v=Re[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Re[3]>ve&&(V["!ref"]=Zn(he),we[ee]=V,Ce.push(ee),V=z.dense?[]:{},he={s:{r:0,c:0},e:{r:0,c:0}},ve=Re[3],ee="Sheet"+(ve+1)),mt>0&&Re[0].r>=mt)break;z.dense?(V[Re[0].r]||(V[Re[0].r]=[]),V[Re[0].r][Re[0].c]=Re[1]):V[Pn(Re[0])]=Re[1],he.e.c<Re[0].c&&(he.e.c=Re[0].c),he.e.r<Re[0].r&&(he.e.r=Re[0].r);break;case 27:Re[14e3]&&(lt[Re[14e3][0]]=Re[14e3][1]);break;case 1537:lt[Re[0]]=Re[1],Re[0]==ve&&(ee=Re[1]);break}},z);else throw new Error("Unrecognized LOTUS BOF "+C[2]);if(V["!ref"]=Zn(he),we[de||ee]=V,Ce.push(de||ee),!lt.length)return{SheetNames:Ce,Sheets:we};for(var ye={},Je=[],q=0;q<lt.length;++q)we[Ce[q]]?(Je.push(lt[q]||Ce[q]),ye[lt[q]]=we[lt[q]]||we[Ce[q]]):(Je.push(lt[q]),ye[lt[q]]={"!ref":"A1"});return{SheetNames:Je,Sheets:ye}}function r(C,W){var z=W||{};if(+z.codepage>=0&&il(+z.codepage),z.type=="string")throw new Error("Cannot write WK1 to JS string");var V=Sy(),ee=fi(C["!ref"]),de=Array.isArray(C),ve=[];$o(V,0,s(1030)),$o(V,6,l(ee));for(var we=Math.min(ee.e.r,8191),Ce=ee.s.r;Ce<=we;++Ce)for(var lt=hs(Ce),he=ee.s.c;he<=ee.e.c;++he){Ce===ee.s.r&&(ve[he]=Ui(he));var mt=ve[he]+lt,ye=de?(C[Ce]||[])[he]:C[mt];if(!(!ye||ye.t=="z"))if(ye.t=="n")(ye.v|0)==ye.v&&ye.v>=-32768&&ye.v<=32767?$o(V,13,m(Ce,he,ye.v)):$o(V,14,x(Ce,he,ye.v));else{var Je=$c(ye);$o(V,15,d(Ce,he,Je.slice(0,239)))}}return $o(V,1),V.end()}function i(C,W){var z=W||{};if(+z.codepage>=0&&il(+z.codepage),z.type=="string")throw new Error("Cannot write WK3 to JS string");var V=Sy();$o(V,0,a(C));for(var ee=0,de=0;ee<C.SheetNames.length;++ee)(C.Sheets[C.SheetNames[ee]]||{})["!ref"]&&$o(V,27,X(C.SheetNames[ee],de++));var ve=0;for(ee=0;ee<C.SheetNames.length;++ee){var we=C.Sheets[C.SheetNames[ee]];if(!(!we||!we["!ref"])){for(var Ce=fi(we["!ref"]),lt=Array.isArray(we),he=[],mt=Math.min(Ce.e.r,8191),ye=Ce.s.r;ye<=mt;++ye)for(var Je=hs(ye),q=Ce.s.c;q<=Ce.e.c;++q){ye===Ce.s.r&&(he[q]=Ui(q));var Re=he[q]+Je,je=lt?(we[ye]||[])[q]:we[Re];if(!(!je||je.t=="z"))if(je.t=="n")$o(V,23,O(ye,q,ve,je.v));else{var Ve=$c(je);$o(V,22,L(ye,q,ve,Ve.slice(0,239)))}}++ve}}return $o(V,1),V.end()}function s(C){var W=Ii(2);return W.write_shift(2,C),W}function a(C){var W=Ii(26);W.write_shift(2,4096),W.write_shift(2,4),W.write_shift(4,0);for(var z=0,V=0,ee=0,de=0;de<C.SheetNames.length;++de){var ve=C.SheetNames[de],we=C.Sheets[ve];if(!(!we||!we["!ref"])){++ee;var Ce=O0(we["!ref"]);z<Ce.e.r&&(z=Ce.e.r),V<Ce.e.c&&(V=Ce.e.c)}}return z>8191&&(z=8191),W.write_shift(2,z),W.write_shift(1,ee),W.write_shift(1,V),W.write_shift(2,0),W.write_shift(2,0),W.write_shift(1,1),W.write_shift(1,2),W.write_shift(4,0),W.write_shift(4,0),W}function o(C,W,z){var V={s:{c:0,r:0},e:{c:0,r:0}};return W==8&&z.qpro?(V.s.c=C.read_shift(1),C.l++,V.s.r=C.read_shift(2),V.e.c=C.read_shift(1),C.l++,V.e.r=C.read_shift(2),V):(V.s.c=C.read_shift(2),V.s.r=C.read_shift(2),W==12&&z.qpro&&(C.l+=2),V.e.c=C.read_shift(2),V.e.r=C.read_shift(2),W==12&&z.qpro&&(C.l+=2),V.s.c==65535&&(V.s.c=V.e.c=V.s.r=V.e.r=0),V)}function l(C){var W=Ii(8);return W.write_shift(2,C.s.c),W.write_shift(2,C.s.r),W.write_shift(2,C.e.c),W.write_shift(2,C.e.r),W}function c(C,W,z){var V=[{c:0,r:0},{t:"n",v:0},0,0];return z.qpro&&z.vers!=20768?(V[0].c=C.read_shift(1),V[3]=C.read_shift(1),V[0].r=C.read_shift(2),C.l+=2):(V[2]=C.read_shift(1),V[0].c=C.read_shift(2),V[0].r=C.read_shift(2)),V}function f(C,W,z){var V=C.l+W,ee=c(C,W,z);if(ee[1].t="s",z.vers==20768){C.l++;var de=C.read_shift(1);return ee[1].v=C.read_shift(de,"utf8"),ee}return z.qpro&&C.l++,ee[1].v=C.read_shift(V-C.l,"cstr"),ee}function d(C,W,z){var V=Ii(7+z.length);V.write_shift(1,255),V.write_shift(2,W),V.write_shift(2,C),V.write_shift(1,39);for(var ee=0;ee<V.length;++ee){var de=z.charCodeAt(ee);V.write_shift(1,de>=128?95:de)}return V.write_shift(1,0),V}function p(C,W,z){var V=c(C,W,z);return V[1].v=C.read_shift(2,"i"),V}function m(C,W,z){var V=Ii(7);return V.write_shift(1,255),V.write_shift(2,W),V.write_shift(2,C),V.write_shift(2,z,"i"),V}function _(C,W,z){var V=c(C,W,z);return V[1].v=C.read_shift(8,"f"),V}function x(C,W,z){var V=Ii(13);return V.write_shift(1,255),V.write_shift(2,W),V.write_shift(2,C),V.write_shift(8,z,"f"),V}function g(C,W,z){var V=C.l+W,ee=c(C,W,z);if(ee[1].v=C.read_shift(8,"f"),z.qpro)C.l=V;else{var de=C.read_shift(2);M(C.slice(C.l,C.l+de),ee),C.l+=de}return ee}function y(C,W,z){var V=W&32768;return W&=-32769,W=(V?C:0)+(W>=8192?W-16384:W),(V?"":"$")+(z?Ui(W):hs(W))}var A={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},E=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function M(C,W){us(C,0);for(var z=[],V=0,ee="",de="",ve="",we="";C.l<C.length;){var Ce=C[C.l++];switch(Ce){case 0:z.push(C.read_shift(8,"f"));break;case 1:de=y(W[0].c,C.read_shift(2),!0),ee=y(W[0].r,C.read_shift(2),!1),z.push(de+ee);break;case 2:{var lt=y(W[0].c,C.read_shift(2),!0),he=y(W[0].r,C.read_shift(2),!1);de=y(W[0].c,C.read_shift(2),!0),ee=y(W[0].r,C.read_shift(2),!1),z.push(lt+he+":"+de+ee)}break;case 3:if(C.l<C.length){console.error("WK1 premature formula end");return}break;case 4:z.push("("+z.pop()+")");break;case 5:z.push(C.read_shift(2));break;case 6:{for(var mt="";Ce=C[C.l++];)mt+=String.fromCharCode(Ce);z.push('"'+mt.replace(/"/g,'""')+'"')}break;case 8:z.push("-"+z.pop());break;case 23:z.push("+"+z.pop());break;case 22:z.push("NOT("+z.pop()+")");break;case 20:case 21:we=z.pop(),ve=z.pop(),z.push(["AND","OR"][Ce-20]+"("+ve+","+we+")");break;default:if(Ce<32&&E[Ce])we=z.pop(),ve=z.pop(),z.push(ve+E[Ce]+we);else if(A[Ce]){if(V=A[Ce][1],V==69&&(V=C[C.l++]),V>z.length){console.error("WK1 bad formula parse 0x"+Ce.toString(16)+":|"+z.join("|")+"|");return}var ye=z.slice(-V);z.length-=V,z.push(A[Ce][0]+"("+ye.join(",")+")")}else return Ce<=7?console.error("WK1 invalid opcode "+Ce.toString(16)):Ce<=24?console.error("WK1 unsupported op "+Ce.toString(16)):Ce<=30?console.error("WK1 invalid opcode "+Ce.toString(16)):Ce<=115?console.error("WK1 unsupported function opcode "+Ce.toString(16)):console.error("WK1 unrecognized opcode "+Ce.toString(16))}}z.length==1?W[1].f=""+z[0]:console.error("WK1 bad formula parse |"+z.join("|")+"|")}function D(C){var W=[{c:0,r:0},{t:"n",v:0},0];return W[0].r=C.read_shift(2),W[3]=C[C.l++],W[0].c=C[C.l++],W}function U(C,W){var z=D(C);return z[1].t="s",z[1].v=C.read_shift(W-4,"cstr"),z}function L(C,W,z,V){var ee=Ii(6+V.length);ee.write_shift(2,C),ee.write_shift(1,z),ee.write_shift(1,W),ee.write_shift(1,39);for(var de=0;de<V.length;++de){var ve=V.charCodeAt(de);ee.write_shift(1,ve>=128?95:ve)}return ee.write_shift(1,0),ee}function I(C,W){var z=D(C);z[1].v=C.read_shift(2);var V=z[1].v>>1;if(z[1].v&1)switch(V&7){case 0:V=(V>>3)*5e3;break;case 1:V=(V>>3)*500;break;case 2:V=(V>>3)/20;break;case 3:V=(V>>3)/200;break;case 4:V=(V>>3)/2e3;break;case 5:V=(V>>3)/2e4;break;case 6:V=(V>>3)/16;break;case 7:V=(V>>3)/64;break}return z[1].v=V,z}function R(C,W){var z=D(C),V=C.read_shift(4),ee=C.read_shift(4),de=C.read_shift(2);if(de==65535)return V===0&&ee===3221225472?(z[1].t="e",z[1].v=15):V===0&&ee===3489660928?(z[1].t="e",z[1].v=42):z[1].v=0,z;var ve=de&32768;return de=(de&32767)-16446,z[1].v=(1-ve*2)*(ee*Math.pow(2,de+32)+V*Math.pow(2,de)),z}function O(C,W,z,V){var ee=Ii(14);if(ee.write_shift(2,C),ee.write_shift(1,z),ee.write_shift(1,W),V==0)return ee.write_shift(4,0),ee.write_shift(4,0),ee.write_shift(2,65535),ee;var de=0,ve=0,we=0,Ce=0;return V<0&&(de=1,V=-V),ve=Math.log2(V)|0,V/=Math.pow(2,ve-31),Ce=V>>>0,(Ce&2147483648)==0&&(V/=2,++ve,Ce=V>>>0),V-=Ce,Ce|=2147483648,Ce>>>=0,V*=Math.pow(2,32),we=V>>>0,ee.write_shift(4,we),ee.write_shift(4,Ce),ve+=16383+(de?32768:0),ee.write_shift(2,ve),ee}function N(C,W){var z=R(C);return C.l+=W-14,z}function k(C,W){var z=D(C),V=C.read_shift(4);return z[1].v=V>>6,z}function j(C,W){var z=D(C),V=C.read_shift(8,"f");return z[1].v=V,z}function G(C,W){var z=j(C);return C.l+=W-10,z}function ae(C,W){return C[C.l+W-1]==0?C.read_shift(W,"cstr"):""}function ie(C,W){var z=C[C.l++];z>W-1&&(z=W-1);for(var V="";V.length<z;)V+=String.fromCharCode(C[C.l++]);return V}function ue(C,W,z){if(!(!z.qpro||W<21)){var V=C.read_shift(1);C.l+=17,C.l+=1,C.l+=2;var ee=C.read_shift(W-21,"cstr");return[V,ee]}}function J(C,W){for(var z={},V=C.l+W;C.l<V;){var ee=C.read_shift(2);if(ee==14e3){for(z[ee]=[0,""],z[ee][0]=C.read_shift(2);C[C.l];)z[ee][1]+=String.fromCharCode(C[C.l]),C.l++;C.l++}}return z}function X(C,W){var z=Ii(5+C.length);z.write_shift(2,14e3),z.write_shift(2,W);for(var V=0;V<C.length;++V){var ee=C.charCodeAt(V);z[z.l++]=ee>127?95:ee}return z[z.l++]=0,z}var pe={0:{n:"BOF",f:ki},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:p},14:{n:"NUMBER",f:_},15:{n:"LABEL",f},16:{n:"FORMULA",f:g},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:ae},222:{n:"SHEETNAMELP",f:ie},65535:{n:""}},oe={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:U},23:{n:"NUMBER17",f:R},24:{n:"NUMBER18",f:I},25:{n:"FORMULA19",f:N},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:J},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:k},38:{n:"??"},39:{n:"NUMBER27",f:j},40:{n:"FORMULA28",f:G},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:ae},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:ue},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:i,to_workbook:e}}();function pz(n){var e={},t=n.match(Vs),r=0,i=!1;if(t)for(;r!=t.length;++r){var s=bn(t[r]);switch(s[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!s.val)break;case"<shadow>":case"<shadow/>":e.shadow=1;break;case"</shadow>":break;case"<charset":if(s.val=="1")break;e.cp=db[parseInt(s.val,10)];break;case"<outline":if(!s.val)break;case"<outline>":case"<outline/>":e.outline=1;break;case"</outline>":break;case"<rFont":e.name=s.val;break;case"<sz":e.sz=s.val;break;case"<strike":if(!s.val)break;case"<strike>":case"<strike/>":e.strike=1;break;case"</strike>":break;case"<u":if(!s.val)break;switch(s.val){case"double":e.uval="double";break;case"singleAccounting":e.uval="single-accounting";break;case"doubleAccounting":e.uval="double-accounting";break}case"<u>":case"<u/>":e.u=1;break;case"</u>":break;case"<b":if(s.val=="0")break;case"<b>":case"<b/>":e.b=1;break;case"</b>":break;case"<i":if(s.val=="0")break;case"<i>":case"<i/>":e.i=1;break;case"</i>":break;case"<color":s.rgb&&(e.color=s.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":e.family=s.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":e.valign=s.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(s[0].charCodeAt(1)!==47&&!i)throw new Error("Unrecognized rich format "+s[0])}}return e}var mz=function(){var n=dm("t"),e=dm("rPr");function t(s){var a=s.match(n);if(!a)return{t:"s",v:""};var o={t:"s",v:tr(a[1])},l=s.match(e);return l&&(o.s=pz(l[1])),o}var r=/<(?:\w+:)?r>/g,i=/<\/(?:\w+:)?r>/;return function(a){return a.replace(r,"").split(i).map(t).filter(function(o){return o.v})}}(),gz=function(){var e=/(\r\n|\n)/g;function t(i,s,a){var o=[];i.u&&o.push("text-decoration: underline;"),i.uval&&o.push("text-underline-style:"+i.uval+";"),i.sz&&o.push("font-size:"+i.sz+"pt;"),i.outline&&o.push("text-effect: outline;"),i.shadow&&o.push("text-shadow: auto;"),s.push('<span style="'+o.join("")+'">'),i.b&&(s.push("<b>"),a.push("</b>")),i.i&&(s.push("<i>"),a.push("</i>")),i.strike&&(s.push("<s>"),a.push("</s>"));var l=i.valign||"";return l=="superscript"||l=="super"?l="sup":l=="subscript"&&(l="sub"),l!=""&&(s.push("<"+l+">"),a.push("</"+l+">")),a.push("</span>"),i}function r(i){var s=[[],i.v,[]];return i.v?(i.s&&t(i.s,s[0],s[2]),s[0].join("")+s[1].replace(e,"<br/>")+s[2].join("")):""}return function(s){return s.map(r).join("")}}(),xz=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,vz=/<(?:\w+:)?r>/,_z=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function kb(n,e){var t=e?e.cellHTML:!0,r={};return n?(n.match(/^\s*<(?:\w+:)?t[^>]*>/)?(r.t=tr(Fr(n.slice(n.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),r.r=Fr(n),t&&(r.h=yb(r.t))):n.match(vz)&&(r.r=Fr(n),r.t=tr(Fr((n.replace(_z,"").match(xz)||[]).join("").replace(Vs,""))),t&&(r.h=gz(mz(r.r)))),r):{t:""}}var yz=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,wz=/<(?:\w+:)?(?:si|sstItem)>/g,bz=/<\/(?:\w+:)?(?:si|sstItem)>/;function Sz(n,e){var t=[],r="";if(!n)return t;var i=n.match(yz);if(i){r=i[2].replace(wz,"").split(bz);for(var s=0;s!=r.length;++s){var a=kb(r[s].trim(),e);a!=null&&(t[t.length]=a)}i=bn(i[1]),t.Count=i.count,t.Unique=i.uniqueCount}return t}function Ez(n){return[n.read_shift(4),n.read_shift(4)]}function Az(n,e){var t=[],r=!1;return Jc(n,function(s,a,o){switch(o){case 159:t.Count=s[0],t.Unique=s[1];break;case 19:t.push(s);break;case 160:return!0;case 35:r=!0;break;case 36:r=!1;break;default:if(a.T,!r||e.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),t}function lP(n){for(var e=[],t=n.split(""),r=0;r<t.length;++r)e[r]=t[r].charCodeAt(0);return e}function Gc(n,e){var t={};return t.Major=n.read_shift(2),t.Minor=n.read_shift(2),e>=4&&(n.l+=e-4),t}function Tz(n){var e={};return e.id=n.read_shift(0,"lpp4"),e.R=Gc(n,4),e.U=Gc(n,4),e.W=Gc(n,4),e}function Mz(n){for(var e=n.read_shift(4),t=n.l+e-4,r={},i=n.read_shift(4),s=[];i-- >0;)s.push({t:n.read_shift(4),v:n.read_shift(0,"lpp4")});if(r.name=n.read_shift(0,"lpp4"),r.comps=s,n.l!=t)throw new Error("Bad DataSpaceMapEntry: "+n.l+" != "+t);return r}function Cz(n){var e=[];n.l+=4;for(var t=n.read_shift(4);t-- >0;)e.push(Mz(n));return e}function Pz(n){var e=[];n.l+=4;for(var t=n.read_shift(4);t-- >0;)e.push(n.read_shift(0,"lpp4"));return e}function kz(n){var e={};return n.read_shift(4),n.l+=4,e.id=n.read_shift(0,"lpp4"),e.name=n.read_shift(0,"lpp4"),e.R=Gc(n,4),e.U=Gc(n,4),e.W=Gc(n,4),e}function Rz(n){var e=kz(n);if(e.ename=n.read_shift(0,"8lpp4"),e.blksz=n.read_shift(4),e.cmode=n.read_shift(4),n.read_shift(4)!=4)throw new Error("Bad !Primary record");return e}function cP(n,e){var t=n.l+e,r={};r.Flags=n.read_shift(4)&63,n.l+=4,r.AlgID=n.read_shift(4);var i=!1;switch(r.AlgID){case 26126:case 26127:case 26128:i=r.Flags==36;break;case 26625:i=r.Flags==4;break;case 0:i=r.Flags==16||r.Flags==4||r.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+r.AlgID}if(!i)throw new Error("Encryption Flags/AlgID mismatch");return r.AlgIDHash=n.read_shift(4),r.KeySize=n.read_shift(4),r.ProviderType=n.read_shift(4),n.l+=8,r.CSPName=n.read_shift(t-n.l>>1,"utf16le"),n.l=t,r}function uP(n,e){var t={},r=n.l+e;return n.l+=4,t.Salt=n.slice(n.l,n.l+16),n.l+=16,t.Verifier=n.slice(n.l,n.l+16),n.l+=16,n.read_shift(4),t.VerifierHash=n.slice(n.l,r),n.l=r,t}function Lz(n){var e=Gc(n);switch(e.Minor){case 2:return[e.Minor,Nz(n)];case 3:return[e.Minor,Fz()];case 4:return[e.Minor,Dz(n)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+e.Minor)}function Nz(n){var e=n.read_shift(4);if((e&63)!=36)throw new Error("EncryptionInfo mismatch");var t=n.read_shift(4),r=cP(n,t),i=uP(n,n.length-n.l);return{t:"Std",h:r,v:i}}function Fz(){throw new Error("File is password-protected: ECMA-376 Extensible")}function Dz(n){var e=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];n.l+=4;var t=n.read_shift(n.length-n.l,"utf8"),r={};return t.replace(Vs,function(s){var a=bn(s);switch(Kl(a[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":e.forEach(function(o){r[o]=a[o]});break;case"<dataIntegrity":r.encryptedHmacKey=a.encryptedHmacKey,r.encryptedHmacValue=a.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":r.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":r.uri=a.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":r.encs.push(a);break;default:throw a[0]}}),r}function Iz(n,e){var t={},r=t.EncryptionVersionInfo=Gc(n,4);if(e-=4,r.Minor!=2)throw new Error("unrecognized minor version code: "+r.Minor);if(r.Major>4||r.Major<2)throw new Error("unrecognized major version code: "+r.Major);t.Flags=n.read_shift(4),e-=4;var i=n.read_shift(4);return e-=4,t.EncryptionHeader=cP(n,i),e-=i,t.EncryptionVerifier=uP(n,e),t}function Oz(n){var e={},t=e.EncryptionVersionInfo=Gc(n,4);if(t.Major!=1||t.Minor!=1)throw"unrecognized version code "+t.Major+" : "+t.Minor;return e.Salt=n.read_shift(16),e.EncryptedVerifier=n.read_shift(16),e.EncryptedVerifierHash=n.read_shift(16),e}function Uz(n){var e=0,t,r=lP(n),i=r.length+1,s,a,o,l,c;for(t=xf(i),t[0]=r.length,s=1;s!=i;++s)t[s]=r[s-1];for(s=i-1;s>=0;--s)a=t[s],o=(e&16384)===0?0:1,l=e<<1&32767,c=o|l,e=c^a;return e^52811}var fP=function(){var n=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],e=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],t=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],r=function(a){return(a/2|a*128)&255},i=function(a,o){return r(a^o)},s=function(a){for(var o=e[a.length-1],l=104,c=a.length-1;c>=0;--c)for(var f=a[c],d=0;d!=7;++d)f&64&&(o^=t[l]),f*=2,--l;return o};return function(a){for(var o=lP(a),l=s(o),c=o.length,f=xf(16),d=0;d!=16;++d)f[d]=0;var p,m,_;for((c&1)===1&&(p=l>>8,f[c]=i(n[0],p),--c,p=l&255,m=o[o.length-1],f[c]=i(m,p));c>0;)--c,p=l>>8,f[c]=i(o[c],p),--c,p=l&255,f[c]=i(o[c],p);for(c=15,_=15-o.length;_>0;)p=l>>8,f[c]=i(n[_],p),--c,--_,p=l&255,f[c]=i(o[c],p),--c,--_;return f}}(),Bz=function(n,e,t,r,i){i||(i=e),r||(r=fP(n));var s,a;for(s=0;s!=e.length;++s)a=e[s],a^=r[t],a=(a>>5|a<<3)&255,i[s]=a,++t;return[i,t,r]},zz=function(n){var e=0,t=fP(n);return function(r){var i=Bz("",r,e,t);return e=i[1],i[0]}};function Hz(n,e,t,r){var i={key:ki(n),verificationBytes:ki(n)};return t.password&&(i.verifier=Uz(t.password)),r.valid=i.verificationBytes===i.verifier,r.valid&&(r.insitu=zz(t.password)),i}function jz(n,e,t){var r=t||{};return r.Info=n.read_shift(2),n.l-=2,r.Info===1?r.Data=Oz(n):r.Data=Iz(n,e),r}function Vz(n,e,t){var r={Type:t.biff>=8?n.read_shift(2):0};return r.Type?jz(n,e-2,r):Hz(n,t.biff>=8?e:e-2,t,r),r}var Wz=function(){function n(i,s){switch(s.type){case"base64":return e(Za(i),s);case"binary":return e(i,s);case"buffer":return e($n&&Buffer.isBuffer(i)?i.toString("binary"):qh(i),s);case"array":return e(Oh(i),s)}throw new Error("Unrecognized type "+s.type)}function e(i,s){var a=s||{},o=a.dense?[]:{},l=i.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var c={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(f,d){Array.isArray(o)&&(o[d]=[]);for(var p=/\\\w+\b/g,m=0,_,x=-1;_=p.exec(f);){switch(_[0]){case"\\cell":var g=f.slice(m,p.lastIndex-_[0].length);if(g[0]==" "&&(g=g.slice(1)),++x,g.length){var y={v:g,t:"s"};Array.isArray(o)?o[d][x]=y:o[Pn({r:d,c:x})]=y}break}m=p.lastIndex}x>c.e.c&&(c.e.c=x)}),o["!ref"]=Zn(c),o}function t(i,s){return Tf(n(i,s),s)}function r(i){for(var s=["{\\rtf1\\ansi"],a=fi(i["!ref"]),o,l=Array.isArray(i),c=a.s.r;c<=a.e.r;++c){s.push("\\trowd\\trautofit1");for(var f=a.s.c;f<=a.e.c;++f)s.push("\\cellx"+(f+1));for(s.push("\\pard\\intbl"),f=a.s.c;f<=a.e.c;++f){var d=Pn({r:c,c:f});o=l?(i[c]||[])[f]:i[d],!(!o||o.v==null&&(!o.f||o.F))&&(s.push(" "+(o.w||($c(o),o.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:t,to_sheet:n,from_sheet:r}}();function Gz(n){var e=n.slice(n[0]==="#"?1:0).slice(0,6);return[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)]}function gm(n){for(var e=0,t=1;e!=3;++e)t=t*256+(n[e]>255?255:n[e]<0?0:n[e]);return t.toString(16).toUpperCase().slice(1)}function qz(n){var e=n[0]/255,t=n[1]/255,r=n[2]/255,i=Math.max(e,t,r),s=Math.min(e,t,r),a=i-s;if(a===0)return[0,0,e];var o=0,l=0,c=i+s;switch(l=a/(c>1?2-c:c),i){case e:o=((t-r)/a+6)%6;break;case t:o=(r-e)/a+2;break;case r:o=(e-t)/a+4;break}return[o/6,l,c/2]}function Xz(n){var e=n[0],t=n[1],r=n[2],i=t*2*(r<.5?r:1-r),s=r-i/2,a=[s,s,s],o=6*e,l;if(t!==0)switch(o|0){case 0:case 6:l=i*o,a[0]+=i,a[1]+=l;break;case 1:l=i*(2-o),a[0]+=l,a[1]+=i;break;case 2:l=i*(o-2),a[1]+=i,a[2]+=l;break;case 3:l=i*(4-o),a[1]+=l,a[2]+=i;break;case 4:l=i*(o-4),a[2]+=i,a[0]+=l;break;case 5:l=i*(6-o),a[2]+=l,a[0]+=i;break}for(var c=0;c!=3;++c)a[c]=Math.round(a[c]*255);return a}function kx(n,e){if(e===0)return n;var t=qz(Gz(n));return e<0?t[2]=t[2]*(1+e):t[2]=1-(1-t[2])*(1-e),gm(Xz(t))}var hP=6,$z=15,Yz=1,sa=hP;function Rx(n){return Math.floor((n+Math.round(128/sa)/256)*sa)}function Lx(n){return Math.floor((n-5)/sa*100+.5)/100}function My(n){return Math.round((n*sa+5)/sa*256)/256}function $2(n){return My(Lx(Rx(n)))}function Rb(n){var e=Math.abs(n-$2(n)),t=sa;if(e>.005)for(sa=Yz;sa<$z;++sa)Math.abs(n-$2(n))<=e&&(e=Math.abs(n-$2(n)),t=sa);sa=t}function A0(n){n.width?(n.wpx=Rx(n.width),n.wch=Lx(n.wpx),n.MDW=sa):n.wpx?(n.wch=Lx(n.wpx),n.width=My(n.wch),n.MDW=sa):typeof n.wch=="number"&&(n.width=My(n.wch),n.wpx=Rx(n.width),n.MDW=sa),n.customWidth&&delete n.customWidth}var Kz=96,dP=Kz;function pP(n){return n*96/dP}function xm(n){return n*dP/96}var Jz={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function Zz(n,e,t,r){e.Borders=[];var i={},s=!1;(n[0].match(Vs)||[]).forEach(function(a){var o=bn(a);switch(Kl(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":i={},o.diagonalUp&&(i.diagonalUp=Xr(o.diagonalUp)),o.diagonalDown&&(i.diagonalDown=Xr(o.diagonalDown)),e.Borders.push(i);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+o[0]+" in borders")}})}function Qz(n,e,t,r){e.Fills=[];var i={},s=!1;(n[0].match(Vs)||[]).forEach(function(a){var o=bn(a);switch(Kl(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":i={},e.Fills.push(i);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":e.Fills.push(i),i={};break;case"<patternFill":case"<patternFill>":o.patternType&&(i.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":i.bgColor||(i.bgColor={}),o.indexed&&(i.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(i.bgColor.theme=parseInt(o.theme,10)),o.tint&&(i.bgColor.tint=parseFloat(o.tint)),o.rgb&&(i.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":i.fgColor||(i.fgColor={}),o.theme&&(i.fgColor.theme=parseInt(o.theme,10)),o.tint&&(i.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(i.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+o[0]+" in fills")}})}function eH(n,e,t,r){e.Fonts=[];var i={},s=!1;(n[0].match(Vs)||[]).forEach(function(a){var o=bn(a);switch(Kl(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":e.Fonts.push(i),i={};break;case"<name":o.val&&(i.name=Fr(o.val));break;case"<name/>":case"</name>":break;case"<b":i.bold=o.val?Xr(o.val):1;break;case"<b/>":i.bold=1;break;case"<i":i.italic=o.val?Xr(o.val):1;break;case"<i/>":i.italic=1;break;case"<u":switch(o.val){case"none":i.underline=0;break;case"single":i.underline=1;break;case"double":i.underline=2;break;case"singleAccounting":i.underline=33;break;case"doubleAccounting":i.underline=34;break}break;case"<u/>":i.underline=1;break;case"<strike":i.strike=o.val?Xr(o.val):1;break;case"<strike/>":i.strike=1;break;case"<outline":i.outline=o.val?Xr(o.val):1;break;case"<outline/>":i.outline=1;break;case"<shadow":i.shadow=o.val?Xr(o.val):1;break;case"<shadow/>":i.shadow=1;break;case"<condense":i.condense=o.val?Xr(o.val):1;break;case"<condense/>":i.condense=1;break;case"<extend":i.extend=o.val?Xr(o.val):1;break;case"<extend/>":i.extend=1;break;case"<sz":o.val&&(i.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(i.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(i.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(i.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=db[parseInt(o.val,10)];break;case"<color":if(i.color||(i.color={}),o.auto&&(i.color.auto=Xr(o.auto)),o.rgb)i.color.rgb=o.rgb.slice(-6);else if(o.indexed){i.color.index=parseInt(o.indexed,10);var l=kh[i.color.index];i.color.index==81&&(l=kh[1]),l||(l=kh[1]),i.color.rgb=l[0].toString(16)+l[1].toString(16)+l[2].toString(16)}else o.theme&&(i.color.theme=parseInt(o.theme,10),o.tint&&(i.color.tint=parseFloat(o.tint)),o.theme&&t.themeElements&&t.themeElements.clrScheme&&(i.color.rgb=kx(t.themeElements.clrScheme[i.color.theme].rgb,i.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+o[0]+" in fonts")}})}function tH(n,e,t){e.NumberFmt=[];for(var r=Xl(Nn),i=0;i<r.length;++i)e.NumberFmt[r[i]]=Nn[r[i]];var s=n[0].match(Vs);if(s)for(i=0;i<s.length;++i){var a=bn(s[i]);switch(Kl(a[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=tr(Fr(a.formatCode)),l=parseInt(a.numFmtId,10);if(e.NumberFmt[l]=o,l>0){if(l>392){for(l=392;l>60&&e.NumberFmt[l]!=null;--l);e.NumberFmt[l]=o}Ph(o,l)}}break;case"</numFmt>":break;default:if(t.WTF)throw new Error("unrecognized "+a[0]+" in numFmts")}}}var Hg=["numFmtId","fillId","fontId","borderId","xfId"],jg=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function nH(n,e,t){e.CellXf=[];var r,i=!1;(n[0].match(Vs)||[]).forEach(function(s){var a=bn(s),o=0;switch(Kl(a[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(r=a,delete r[0],o=0;o<Hg.length;++o)r[Hg[o]]&&(r[Hg[o]]=parseInt(r[Hg[o]],10));for(o=0;o<jg.length;++o)r[jg[o]]&&(r[jg[o]]=Xr(r[jg[o]]));if(e.NumberFmt&&r.numFmtId>392){for(o=392;o>60;--o)if(e.NumberFmt[r.numFmtId]==e.NumberFmt[o]){r.numFmtId=o;break}}e.CellXf.push(r);break;case"</xf>":break;case"<alignment":case"<alignment/>":var l={};a.vertical&&(l.vertical=a.vertical),a.horizontal&&(l.horizontal=a.horizontal),a.textRotation!=null&&(l.textRotation=a.textRotation),a.indent&&(l.indent=a.indent),a.wrapText&&(l.wrapText=Xr(a.wrapText)),r.alignment=l;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(t&&t.WTF&&!i)throw new Error("unrecognized "+a[0]+" in cellXfs")}})}var rH=function(){var e=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,t=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,r=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,i=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,s=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,l,c){var f={};if(!o)return f;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var d;return(d=o.match(e))&&tH(d,f,c),(d=o.match(i))&&eH(d,f,l,c),(d=o.match(r))&&Qz(d,f,l,c),(d=o.match(s))&&Zz(d,f,l,c),(d=o.match(t))&&nH(d,f,c),f}}();function iH(n,e){var t=n.read_shift(2),r=Bs(n);return[t,r]}function sH(n,e,t){var r={};r.sz=n.read_shift(2)/20;var i=mB(n);i.fItalic&&(r.italic=1),i.fCondense&&(r.condense=1),i.fExtend&&(r.extend=1),i.fShadow&&(r.shadow=1),i.fOutline&&(r.outline=1),i.fStrikeout&&(r.strike=1);var s=n.read_shift(2);switch(s===700&&(r.bold=1),n.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var a=n.read_shift(1);a!=0&&(r.underline=a);var o=n.read_shift(1);o>0&&(r.family=o);var l=n.read_shift(1);switch(l>0&&(r.charset=l),n.l++,r.color=pB(n),n.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=Bs(n),r}var aH=Hs;function oH(n,e){var t=n.l+e,r=n.read_shift(2),i=n.read_shift(2);return n.l=t,{ixfe:r,numFmtId:i}}var lH=Hs;function cH(n,e,t){var r={};r.NumberFmt=[];for(var i in Nn)r.NumberFmt[i]=Nn[i];r.CellXf=[],r.Fonts=[];var s=[],a=!1;return Jc(n,function(l,c,f){switch(f){case 44:r.NumberFmt[l[0]]=l[1],Ph(l[1],l[0]);break;case 43:r.Fonts.push(l),l.color.theme!=null&&e&&e.themeElements&&e.themeElements.clrScheme&&(l.color.rgb=kx(e.themeElements.clrScheme[l.color.theme].rgb,l.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:s[s.length-1]==617&&r.CellXf.push(l);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:s.push(f),a=!0;break;case 38:s.pop(),a=!1;break;default:if(c.T>0)s.push(f);else if(c.T<0)s.pop();else if(!a||t.WTF&&s[s.length-1]!=37)throw new Error("Unexpected record 0x"+f.toString(16))}}),r}var uH=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function fH(n,e,t){e.themeElements.clrScheme=[];var r={};(n[0].match(Vs)||[]).forEach(function(i){var s=bn(i);switch(s[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":r.rgb=s.val;break;case"<a:sysClr":r.rgb=s.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":s[0].charAt(1)==="/"?(e.themeElements.clrScheme[uH.indexOf(s[0])]=r,r={}):r.name=s[0].slice(3,s[0].length-1);break;default:if(t&&t.WTF)throw new Error("Unrecognized "+s[0]+" in clrScheme")}})}function hH(){}function dH(){}var pH=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,mH=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,gH=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function xH(n,e,t){e.themeElements={};var r;[["clrScheme",pH,fH],["fontScheme",mH,hH],["fmtScheme",gH,dH]].forEach(function(i){if(!(r=n.match(i[1])))throw new Error(i[0]+" not found in themeElements");i[2](r,e,t)})}var vH=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function mP(n,e){(!n||n.length===0)&&(n=_H());var t,r={};if(!(t=n.match(vH)))throw new Error("themeElements not found in theme");return xH(t[0],r,e),r.raw=n,r}function _H(n,e){var t=[TC];return t[t.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',t[t.length]="<a:themeElements>",t[t.length]='<a:clrScheme name="Office">',t[t.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',t[t.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',t[t.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',t[t.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',t[t.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',t[t.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',t[t.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',t[t.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',t[t.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',t[t.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',t[t.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',t[t.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',t[t.length]="</a:clrScheme>",t[t.length]='<a:fontScheme name="Office">',t[t.length]="<a:majorFont>",t[t.length]='<a:latin typeface="Cambria"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',t[t.length]='<a:font script="Hang" typeface="맑은 고딕"/>',t[t.length]='<a:font script="Hans" typeface="宋体"/>',t[t.length]='<a:font script="Hant" typeface="新細明體"/>',t[t.length]='<a:font script="Arab" typeface="Times New Roman"/>',t[t.length]='<a:font script="Hebr" typeface="Times New Roman"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="MoolBoran"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Times New Roman"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:majorFont>",t[t.length]="<a:minorFont>",t[t.length]='<a:latin typeface="Calibri"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',t[t.length]='<a:font script="Hang" typeface="맑은 고딕"/>',t[t.length]='<a:font script="Hans" typeface="宋体"/>',t[t.length]='<a:font script="Hant" typeface="新細明體"/>',t[t.length]='<a:font script="Arab" typeface="Arial"/>',t[t.length]='<a:font script="Hebr" typeface="Arial"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="DaunPenh"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Arial"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:minorFont>",t[t.length]="</a:fontScheme>",t[t.length]='<a:fmtScheme name="Office">',t[t.length]="<a:fillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="1"/>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="0"/>',t[t.length]="</a:gradFill>",t[t.length]="</a:fillStyleLst>",t[t.length]="<a:lnStyleLst>",t[t.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]="</a:lnStyleLst>",t[t.length]="<a:effectStyleLst>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',t[t.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',t[t.length]="</a:effectStyle>",t[t.length]="</a:effectStyleLst>",t[t.length]="<a:bgFillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]="</a:bgFillStyleLst>",t[t.length]="</a:fmtScheme>",t[t.length]="</a:themeElements>",t[t.length]="<a:objectDefaults>",t[t.length]="<a:spDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',t[t.length]="</a:spDef>",t[t.length]="<a:lnDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',t[t.length]="</a:lnDef>",t[t.length]="</a:objectDefaults>",t[t.length]="<a:extraClrSchemeLst/>",t[t.length]="</a:theme>",t.join("")}function yH(n,e,t){var r=n.l+e,i=n.read_shift(4);if(i!==124226){if(!t.cellStyles){n.l=r;return}var s=n.slice(n.l);n.l=r;var a;try{a=AC(s,{type:"array"})}catch{return}var o=Ya(a,"theme/theme/theme1.xml",!0);if(o)return mP(o,t)}}function wH(n){return n.read_shift(4)}function bH(n){var e={};switch(e.xclrType=n.read_shift(2),e.nTintShade=n.read_shift(2),e.xclrType){case 0:n.l+=4;break;case 1:e.xclrValue=SH(n,4);break;case 2:e.xclrValue=tP(n);break;case 3:e.xclrValue=wH(n);break;case 4:n.l+=4;break}return n.l+=8,e}function SH(n,e){return Hs(n,e)}function EH(n,e){return Hs(n,e)}function AH(n){var e=n.read_shift(2),t=n.read_shift(2)-4,r=[e];switch(e){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:r[1]=bH(n);break;case 6:r[1]=EH(n,t);break;case 14:case 15:r[1]=n.read_shift(t===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+e+" "+t)}return r}function TH(n,e){var t=n.l+e;n.l+=2;var r=n.read_shift(2);n.l+=2;for(var i=n.read_shift(2),s=[];i-- >0;)s.push(AH(n,t-n.l));return{ixfe:r,ext:s}}function MH(n,e){e.forEach(function(t){t[0]})}function CH(n,e){return{flags:n.read_shift(4),version:n.read_shift(4),name:Bs(n)}}function PH(n){for(var e=[],t=n.read_shift(4);t-- >0;)e.push([n.read_shift(4),n.read_shift(4)]);return e}function kH(n){return n.l+=4,n.read_shift(4)!=0}function RH(n,e,t){var r={Types:[],Cell:[],Value:[]},i=t||{},s=[],a=!1,o=2;return Jc(n,function(l,c,f){switch(f){case 335:r.Types.push({name:l.name});break;case 51:l.forEach(function(d){o==1?r.Cell.push({type:r.Types[d[0]-1].name,index:d[1]}):o==0&&r.Value.push({type:r.Types[d[0]-1].name,index:d[1]})});break;case 337:o=l?1:0;break;case 338:o=2;break;case 35:s.push(f),a=!0;break;case 36:s.pop(),a=!1;break;default:if(!c.T){if(!a||i.WTF&&s[s.length-1]!=35)throw new Error("Unexpected record 0x"+f.toString(16))}}}),r}function LH(n,e,t){var r={Types:[],Cell:[],Value:[]};if(!n)return r;var i=!1,s=2,a;return n.replace(Vs,function(o){var l=bn(o);switch(Kl(l[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":r.Types.push({name:l.name});break;case"</metadataType>":break;case"<futureMetadata":for(var c=0;c<r.Types.length;++c)r.Types[c].name==l.name&&(a=r.Types[c]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":s==1?r.Cell.push({type:r.Types[l.t-1].name,index:+l.v}):s==0&&r.Value.push({type:r.Types[l.t-1].name,index:+l.v});break;case"</rc>":break;case"<cellMetadata":s=1;break;case"</cellMetadata>":s=2;break;case"<valueMetadata":s=0;break;case"</valueMetadata>":s=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;case"<rvb":if(!a)break;a.offsets||(a.offsets=[]),a.offsets.push(+l.i);break;default:if(!i&&t.WTF)throw new Error("unrecognized "+l[0]+" in metadata")}return o}),r}function NH(n){var e=[];if(!n)return e;var t=1;return(n.match(Vs)||[]).forEach(function(r){var i=bn(r);switch(i[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete i[0],i.i?t=i.i:i.i=t,e.push(i);break}}),e}function FH(n){var e={};e.i=n.read_shift(4);var t={};t.r=n.read_shift(4),t.c=n.read_shift(4),e.r=Pn(t);var r=n.read_shift(1);return r&2&&(e.l="1"),r&8&&(e.a="1"),e}function DH(n,e,t){var r=[];return Jc(n,function(s,a,o){switch(o){case 63:r.push(s);break;default:if(!a.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}function IH(n,e,t,r){if(!n)return n;var i=r||{},s=!1;Jc(n,function(o,l,c){switch(c){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:s=!0;break;case 36:s=!1;break;default:if(!l.T){if(!s||i.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}},i)}function OH(n,e){if(!n)return"??";var t=(n.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return e["!id"][t].Target}function gT(n,e,t,r){var i=Array.isArray(n),s;e.forEach(function(a){var o=oa(a.ref);if(i?(n[o.r]||(n[o.r]=[]),s=n[o.r][o.c]):s=n[a.ref],!s){s={t:"z"},i?n[o.r][o.c]=s:n[a.ref]=s;var l=fi(n["!ref"]||"BDWGO1000001:A1");l.s.r>o.r&&(l.s.r=o.r),l.e.r<o.r&&(l.e.r=o.r),l.s.c>o.c&&(l.s.c=o.c),l.e.c<o.c&&(l.e.c=o.c);var c=Zn(l);c!==n["!ref"]&&(n["!ref"]=c)}s.c||(s.c=[]);var f={a:a.author,t:a.t,r:a.r,T:t};a.h&&(f.h=a.h);for(var d=s.c.length-1;d>=0;--d){if(!t&&s.c[d].T)return;t&&!s.c[d].T&&s.c.splice(d,1)}if(t&&r){for(d=0;d<r.length;++d)if(f.a==r[d].id){f.a=r[d].name||f.a;break}}s.c.push(f)})}function UH(n,e){if(n.match(/<(?:\w+:)?comments *\/>/))return[];var t=[],r=[],i=n.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);i&&i[1]&&i[1].split(/<\/\w*:?author>/).forEach(function(a){if(!(a===""||a.trim()==="")){var o=a.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&t.push(o[1])}});var s=n.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return s&&s[1]&&s[1].split(/<\/\w*:?comment>/).forEach(function(a){if(!(a===""||a.trim()==="")){var o=a.match(/<(?:\w+:)?comment[^>]*>/);if(o){var l=bn(o[0]),c={author:l.authorId&&t[l.authorId]||"sheetjsghost",ref:l.ref,guid:l.guid},f=oa(l.ref);if(!(e.sheetRows&&e.sheetRows<=f.r)){var d=a.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),p=!!d&&!!d[1]&&kb(d[1])||{r:"",t:"",h:""};c.r=p.r,p.r=="<t></t>"&&(p.t=p.h=""),c.t=(p.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.cellHTML&&(c.h=p.h),r.push(c)}}}}),r}function BH(n,e){var t=[],r=!1,i={},s=0;return n.replace(Vs,function(o,l){var c=bn(o);switch(Kl(c[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":i={author:c.personId,guid:c.id,ref:c.ref,T:1};break;case"</threadedComment>":i.t!=null&&t.push(i);break;case"<text>":case"<text":s=l+o.length;break;case"</text>":i.t=n.slice(s,l).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":r=!0;break;case"</mentions>":r=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&e.WTF)throw new Error("unrecognized "+c[0]+" in threaded comments")}return o}),t}function zH(n,e){var t=[],r=!1;return n.replace(Vs,function(s){var a=bn(s);switch(Kl(a[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":t.push({name:a.displayname,id:a.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&e.WTF)throw new Error("unrecognized "+a[0]+" in threaded comments")}return s}),t}function HH(n){var e={};e.iauthor=n.read_shift(4);var t=$h(n);return e.rfx=t.s,e.ref=Pn(t.s),n.l+=16,e}var jH=Bs;function VH(n,e){var t=[],r=[],i={},s=!1;return Jc(n,function(o,l,c){switch(c){case 632:r.push(o);break;case 635:i=o;break;case 637:i.t=o.t,i.h=o.h,i.r=o.r;break;case 636:if(i.author=r[i.iauthor],delete i.iauthor,e.sheetRows&&i.rfx&&e.sheetRows<=i.rfx.r)break;i.t||(i.t=""),delete i.rfx,t.push(i);break;case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!l.T){if(!s||e.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}}),t}var WH="application/vnd.ms-office.vbaProject";function GH(n){var e=Jn.utils.cfb_new({root:"R"});return n.FullPaths.forEach(function(t,r){if(!(t.slice(-1)==="/"||!t.match(/_VBA_PROJECT_CUR/))){var i=t.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Jn.utils.cfb_add(e,i,n.FileIndex[r].content)}}),Jn.write(e)}function qH(){return{"!type":"dialog"}}function XH(){return{"!type":"dialog"}}function $H(){return{"!type":"macro"}}function YH(){return{"!type":"macro"}}var l0=function(){var n=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function t(r,i,s,a){var o=!1,l=!1;s.length==0?l=!0:s.charAt(0)=="["&&(l=!0,s=s.slice(1,-1)),a.length==0?o=!0:a.charAt(0)=="["&&(o=!0,a=a.slice(1,-1));var c=s.length>0?parseInt(s,10)|0:0,f=a.length>0?parseInt(a,10)|0:0;return o?f+=e.c:--f,l?c+=e.r:--c,i+(o?"":"$")+Ui(f)+(l?"":"$")+hs(c)}return function(i,s){return e=s,i.replace(n,t)}}(),gP=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,KH=function(){return function(e,t){return e.replace(gP,function(r,i,s,a,o,l){var c=Eb(a)-(s?0:t.c),f=Sb(l)-(o?0:t.r),d=f==0?"":o?f+1:"["+f+"]",p=c==0?"":s?c+1:"["+c+"]";return i+"R"+d+"C"+p})}}();function xP(n,e){return n.replace(gP,function(t,r,i,s,a,o){return r+(i=="$"?i+s:Ui(Eb(s)+e.c))+(a=="$"?a+o:hs(Sb(o)+e.r))})}function JH(n,e,t){var r=O0(e),i=r.s,s=oa(t),a={r:s.r-i.r,c:s.c-i.c};return xP(n,a)}function ZH(n){return n.length!=1}function xT(n){return n.replace(/_xlfn\./g,"")}function Mi(n){n.l+=1}function vf(n,e){var t=n.read_shift(2);return[t&16383,t>>14&1,t>>15&1]}function vP(n,e,t){var r=2;if(t){if(t.biff>=2&&t.biff<=5)return _P(n);t.biff==12&&(r=4)}var i=n.read_shift(r),s=n.read_shift(r),a=vf(n),o=vf(n);return{s:{r:i,c:a[0],cRel:a[1],rRel:a[2]},e:{r:s,c:o[0],cRel:o[1],rRel:o[2]}}}function _P(n){var e=vf(n),t=vf(n),r=n.read_shift(1),i=n.read_shift(1);return{s:{r:e[0],c:r,cRel:e[1],rRel:e[2]},e:{r:t[0],c:i,cRel:t[1],rRel:t[2]}}}function QH(n,e,t){if(t.biff<8)return _P(n);var r=n.read_shift(t.biff==12?4:2),i=n.read_shift(t.biff==12?4:2),s=vf(n),a=vf(n);return{s:{r,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:a[0],cRel:a[1],rRel:a[2]}}}function yP(n,e,t){if(t&&t.biff>=2&&t.biff<=5)return ej(n);var r=n.read_shift(t&&t.biff==12?4:2),i=vf(n);return{r,c:i[0],cRel:i[1],rRel:i[2]}}function ej(n){var e=vf(n),t=n.read_shift(1);return{r:e[0],c:t,cRel:e[1],rRel:e[2]}}function tj(n){var e=n.read_shift(2),t=n.read_shift(2);return{r:e,c:t&255,fQuoted:!!(t&16384),cRel:t>>15,rRel:t>>15}}function nj(n,e,t){var r=t&&t.biff?t.biff:8;if(r>=2&&r<=5)return rj(n);var i=n.read_shift(r>=12?4:2),s=n.read_shift(2),a=(s&16384)>>14,o=(s&32768)>>15;if(s&=16383,o==1)for(;i>524287;)i-=1048576;if(a==1)for(;s>8191;)s=s-16384;return{r:i,c:s,cRel:a,rRel:o}}function rj(n){var e=n.read_shift(2),t=n.read_shift(1),r=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,r==1&&e>=8192&&(e=e-16384),i==1&&t>=128&&(t=t-256),{r:e,c:t,cRel:i,rRel:r}}function ij(n,e,t){var r=(n[n.l++]&96)>>5,i=vP(n,t.biff>=2&&t.biff<=5?6:8,t);return[r,i]}function sj(n,e,t){var r=(n[n.l++]&96)>>5,i=n.read_shift(2,"i"),s=8;if(t)switch(t.biff){case 5:n.l+=12,s=6;break;case 12:s=12;break}var a=vP(n,s,t);return[r,i,a]}function aj(n,e,t){var r=(n[n.l++]&96)>>5;return n.l+=t&&t.biff>8?12:t.biff<8?6:8,[r]}function oj(n,e,t){var r=(n[n.l++]&96)>>5,i=n.read_shift(2),s=8;if(t)switch(t.biff){case 5:n.l+=12,s=6;break;case 12:s=12;break}return n.l+=s,[r,i]}function lj(n,e,t){var r=(n[n.l++]&96)>>5,i=QH(n,e-1,t);return[r,i]}function cj(n,e,t){var r=(n[n.l++]&96)>>5;return n.l+=t.biff==2?6:t.biff==12?14:7,[r]}function vT(n){var e=n[n.l+1]&1,t=1;return n.l+=4,[e,t]}function uj(n,e,t){n.l+=2;for(var r=n.read_shift(t&&t.biff==2?1:2),i=[],s=0;s<=r;++s)i.push(n.read_shift(t&&t.biff==2?1:2));return i}function fj(n,e,t){var r=n[n.l+1]&255?1:0;return n.l+=2,[r,n.read_shift(t&&t.biff==2?1:2)]}function hj(n,e,t){var r=n[n.l+1]&255?1:0;return n.l+=2,[r,n.read_shift(t&&t.biff==2?1:2)]}function dj(n){var e=n[n.l+1]&255?1:0;return n.l+=2,[e,n.read_shift(2)]}function pj(n,e,t){var r=n[n.l+1]&255?1:0;return n.l+=t&&t.biff==2?3:4,[r]}function wP(n){var e=n.read_shift(1),t=n.read_shift(1);return[e,t]}function mj(n){return n.read_shift(2),wP(n)}function gj(n){return n.read_shift(2),wP(n)}function xj(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var i=yP(n,0,t);return[r,i]}function vj(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var i=nj(n,0,t);return[r,i]}function _j(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var i=n.read_shift(2);t&&t.biff==5&&(n.l+=12);var s=yP(n,0,t);return[r,i,s]}function yj(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var i=n.read_shift(t&&t.biff<=3?1:2);return[wV[i],EP[i],r]}function wj(n,e,t){var r=n[n.l++],i=n.read_shift(1),s=t&&t.biff<=3?[r==88?-1:0,n.read_shift(1)]:bj(n);return[i,(s[0]===0?EP:yV)[s[1]]]}function bj(n){return[n[n.l+1]>>7,n.read_shift(2)&32767]}function Sj(n,e,t){n.l+=t&&t.biff==2?3:4}function Ej(n,e,t){if(n.l++,t&&t.biff==12)return[n.read_shift(4,"i"),0];var r=n.read_shift(2),i=n.read_shift(t&&t.biff==2?1:2);return[r,i]}function Aj(n){return n.l++,Yh[n.read_shift(1)]}function Tj(n){return n.l++,n.read_shift(2)}function Mj(n){return n.l++,n.read_shift(1)!==0}function Cj(n){return n.l++,Ds(n)}function Pj(n,e,t){return n.l++,Lm(n,e-1,t)}function kj(n,e){var t=[n.read_shift(1)];if(e==12)switch(t[0]){case 2:t[0]=4;break;case 4:t[0]=16;break;case 0:t[0]=1;break;case 1:t[0]=2;break}switch(t[0]){case 4:t[1]=vi(n,1)?"TRUE":"FALSE",e!=12&&(n.l+=7);break;case 37:case 16:t[1]=Yh[n[n.l]],n.l+=e==12?4:8;break;case 0:n.l+=8;break;case 1:t[1]=Ds(n);break;case 2:t[1]=Kh(n,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+t[0])}return t}function Rj(n,e,t){for(var r=n.read_shift(t.biff==12?4:2),i=[],s=0;s!=r;++s)i.push((t.biff==12?$h:lv)(n));return i}function Lj(n,e,t){var r=0,i=0;t.biff==12?(r=n.read_shift(4),i=n.read_shift(4)):(i=1+n.read_shift(1),r=1+n.read_shift(2)),t.biff>=2&&t.biff<8&&(--r,--i==0&&(i=256));for(var s=0,a=[];s!=r&&(a[s]=[]);++s)for(var o=0;o!=i;++o)a[s][o]=kj(n,t.biff);return a}function Nj(n,e,t){var r=n.read_shift(1)>>>5&3,i=!t||t.biff>=8?4:2,s=n.read_shift(i);switch(t.biff){case 2:n.l+=5;break;case 3:case 4:n.l+=8;break;case 5:n.l+=12;break}return[r,0,s]}function Fj(n,e,t){if(t.biff==5)return Dj(n);var r=n.read_shift(1)>>>5&3,i=n.read_shift(2),s=n.read_shift(4);return[r,i,s]}function Dj(n){var e=n.read_shift(1)>>>5&3,t=n.read_shift(2,"i");n.l+=8;var r=n.read_shift(2);return n.l+=12,[e,t,r]}function Ij(n,e,t){var r=n.read_shift(1)>>>5&3;n.l+=t&&t.biff==2?3:4;var i=n.read_shift(t&&t.biff==2?1:2);return[r,i]}function Oj(n,e,t){var r=n.read_shift(1)>>>5&3,i=n.read_shift(t&&t.biff==2?1:2);return[r,i]}function Uj(n,e,t){var r=n.read_shift(1)>>>5&3;return n.l+=4,t.biff<8&&n.l--,t.biff==12&&(n.l+=2),[r]}function Bj(n,e,t){var r=(n[n.l++]&96)>>5,i=n.read_shift(2),s=4;if(t)switch(t.biff){case 5:s=15;break;case 12:s=6;break}return n.l+=s,[r,i]}var zj=Hs,Hj=Hs,jj=Hs;function Fm(n,e,t){return n.l+=2,[tj(n)]}function Lb(n){return n.l+=6,[]}var Vj=Fm,Wj=Lb,Gj=Lb,qj=Fm;function bP(n){return n.l+=2,[ki(n),n.read_shift(2)&1]}var Xj=Fm,$j=bP,Yj=Lb,Kj=Fm,Jj=Fm,Zj=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function Qj(n){n.l+=2;var e=n.read_shift(2),t=n.read_shift(2),r=n.read_shift(4),i=n.read_shift(2),s=n.read_shift(2),a=Zj[t>>2&31];return{ixti:e,coltype:t&3,rt:a,idx:r,c:i,C:s}}function eV(n){return n.l+=2,[n.read_shift(4)]}function tV(n,e,t){return n.l+=5,n.l+=2,n.l+=t.biff==2?1:4,["PTGSHEET"]}function nV(n,e,t){return n.l+=t.biff==2?4:5,["PTGENDSHEET"]}function rV(n){var e=n.read_shift(1)>>>5&3,t=n.read_shift(2);return[e,t]}function iV(n){var e=n.read_shift(1)>>>5&3,t=n.read_shift(2);return[e,t]}function sV(n){return n.l+=4,[0,0]}var _T={1:{n:"PtgExp",f:Ej},2:{n:"PtgTbl",f:jj},3:{n:"PtgAdd",f:Mi},4:{n:"PtgSub",f:Mi},5:{n:"PtgMul",f:Mi},6:{n:"PtgDiv",f:Mi},7:{n:"PtgPower",f:Mi},8:{n:"PtgConcat",f:Mi},9:{n:"PtgLt",f:Mi},10:{n:"PtgLe",f:Mi},11:{n:"PtgEq",f:Mi},12:{n:"PtgGe",f:Mi},13:{n:"PtgGt",f:Mi},14:{n:"PtgNe",f:Mi},15:{n:"PtgIsect",f:Mi},16:{n:"PtgUnion",f:Mi},17:{n:"PtgRange",f:Mi},18:{n:"PtgUplus",f:Mi},19:{n:"PtgUminus",f:Mi},20:{n:"PtgPercent",f:Mi},21:{n:"PtgParen",f:Mi},22:{n:"PtgMissArg",f:Mi},23:{n:"PtgStr",f:Pj},26:{n:"PtgSheet",f:tV},27:{n:"PtgEndSheet",f:nV},28:{n:"PtgErr",f:Aj},29:{n:"PtgBool",f:Mj},30:{n:"PtgInt",f:Tj},31:{n:"PtgNum",f:Cj},32:{n:"PtgArray",f:cj},33:{n:"PtgFunc",f:yj},34:{n:"PtgFuncVar",f:wj},35:{n:"PtgName",f:Nj},36:{n:"PtgRef",f:xj},37:{n:"PtgArea",f:ij},38:{n:"PtgMemArea",f:Ij},39:{n:"PtgMemErr",f:zj},40:{n:"PtgMemNoMem",f:Hj},41:{n:"PtgMemFunc",f:Oj},42:{n:"PtgRefErr",f:Uj},43:{n:"PtgAreaErr",f:aj},44:{n:"PtgRefN",f:vj},45:{n:"PtgAreaN",f:lj},46:{n:"PtgMemAreaN",f:rV},47:{n:"PtgMemNoMemN",f:iV},57:{n:"PtgNameX",f:Fj},58:{n:"PtgRef3d",f:_j},59:{n:"PtgArea3d",f:sj},60:{n:"PtgRefErr3d",f:Bj},61:{n:"PtgAreaErr3d",f:oj},255:{}},aV={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},oV={1:{n:"PtgElfLel",f:bP},2:{n:"PtgElfRw",f:Kj},3:{n:"PtgElfCol",f:Vj},6:{n:"PtgElfRwV",f:Jj},7:{n:"PtgElfColV",f:qj},10:{n:"PtgElfRadical",f:Xj},11:{n:"PtgElfRadicalS",f:Yj},13:{n:"PtgElfColS",f:Wj},15:{n:"PtgElfColSV",f:Gj},16:{n:"PtgElfRadicalLel",f:$j},25:{n:"PtgList",f:Qj},29:{n:"PtgSxName",f:eV},255:{}},lV={0:{n:"PtgAttrNoop",f:sV},1:{n:"PtgAttrSemi",f:pj},2:{n:"PtgAttrIf",f:hj},4:{n:"PtgAttrChoose",f:uj},8:{n:"PtgAttrGoto",f:fj},16:{n:"PtgAttrSum",f:Sj},32:{n:"PtgAttrBaxcel",f:vT},33:{n:"PtgAttrBaxcel",f:vT},64:{n:"PtgAttrSpace",f:mj},65:{n:"PtgAttrSpaceSemi",f:gj},128:{n:"PtgAttrIfError",f:dj},255:{}};function Dm(n,e,t,r){if(r.biff<8)return Hs(n,e);for(var i=n.l+e,s=[],a=0;a!==t.length;++a)switch(t[a][0]){case"PtgArray":t[a][1]=Lj(n,0,r),s.push(t[a][1]);break;case"PtgMemArea":t[a][2]=Rj(n,t[a][1],r),s.push(t[a][2]);break;case"PtgExp":r&&r.biff==12&&(t[a][1][1]=n.read_shift(4),s.push(t[a][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+t[a][0]}return e=i-n.l,e!==0&&s.push(Hs(n,e)),s}function Im(n,e,t){for(var r=n.l+e,i,s,a=[];r!=n.l;)e=r-n.l,s=n[n.l],i=_T[s]||_T[aV[s]],(s===24||s===25)&&(i=(s===24?oV:lV)[n[n.l+1]]),!i||!i.f?Hs(n,e):a.push([i.n,i.f(n,e,t)]);return a}function cV(n){for(var e=[],t=0;t<n.length;++t){for(var r=n[t],i=[],s=0;s<r.length;++s){var a=r[s];if(a)switch(a[0]){case 2:i.push('"'+a[1].replace(/"/g,'""')+'"');break;default:i.push(a[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var uV={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function fV(n,e){if(!n&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(n)?"'"+n+"'":n}function SP(n,e,t){if(!n)return"SH33TJSERR0";if(t.biff>8&&(!n.XTI||!n.XTI[e]))return n.SheetNames[e];if(!n.XTI)return"SH33TJSERR6";var r=n.XTI[e];if(t.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":n.XTI[e-1];if(!r)return"SH33TJSERR1";var i="";if(t.biff>8)switch(n[r[0]][0]){case 357:return i=r[1]==-1?"#REF":n.SheetNames[r[1]],r[1]==r[2]?i:i+":"+n.SheetNames[r[2]];case 358:return t.SID!=null?n.SheetNames[t.SID]:"SH33TJSSAME"+n[r[0]][0];case 355:default:return"SH33TJSSRC"+n[r[0]][0]}switch(n[r[0]][0][0]){case 1025:return i=r[1]==-1?"#REF":n.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?i:i+":"+n.SheetNames[r[2]];case 14849:return n[r[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return n[r[0]][0][3]?(i=r[1]==-1?"#REF":n[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?i:i+":"+n[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function yT(n,e,t){var r=SP(n,e,t);return r=="#REF"?r:fV(r,t)}function Ns(n,e,t,r,i){var s=i&&i.biff||8,a={s:{c:0,r:0}},o=[],l,c,f,d=0,p=0,m,_="";if(!n[0]||!n[0][0])return"";for(var x=-1,g="",y=0,A=n[0].length;y<A;++y){var E=n[0][y];switch(E[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=o.pop(),c=o.pop(),x>=0){switch(n[0][x][1][0]){case 0:g=li(" ",n[0][x][1][1]);break;case 1:g=li("\r",n[0][x][1][1]);break;default:if(g="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+n[0][x][1][0])}c=c+g,x=-1}o.push(c+uV[E[0]]+l);break;case"PtgIsect":l=o.pop(),c=o.pop(),o.push(c+" "+l);break;case"PtgUnion":l=o.pop(),c=o.pop(),o.push(c+","+l);break;case"PtgRange":l=o.pop(),c=o.pop(),o.push(c+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":f=Wp(E[1][1],a,i),o.push(Gp(f,s));break;case"PtgRefN":f=t?Wp(E[1][1],t,i):E[1][1],o.push(Gp(f,s));break;case"PtgRef3d":d=E[1][1],f=Wp(E[1][2],a,i),_=yT(r,d,i),o.push(_+"!"+Gp(f,s));break;case"PtgFunc":case"PtgFuncVar":var M=E[1][0],D=E[1][1];M||(M=0),M&=127;var U=M==0?[]:o.slice(-M);o.length-=M,D==="User"&&(D=U.shift()),o.push(D+"("+U.join(",")+")");break;case"PtgBool":o.push(E[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(E[1]);break;case"PtgNum":o.push(String(E[1]));break;case"PtgStr":o.push('"'+E[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(E[1]);break;case"PtgAreaN":m=eT(E[1][1],t?{s:t}:a,i),o.push(q2(m,i));break;case"PtgArea":m=eT(E[1][1],a,i),o.push(q2(m,i));break;case"PtgArea3d":d=E[1][1],m=E[1][2],_=yT(r,d,i),o.push(_+"!"+q2(m,i));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":p=E[1][2];var L=(r.names||[])[p-1]||(r[0]||[])[p],I=L?L.Name:"SH33TJSNAME"+String(p);I&&I.slice(0,6)=="_xlfn."&&!i.xlfn&&(I=I.slice(6)),o.push(I);break;case"PtgNameX":var R=E[1][1];p=E[1][2];var O;if(i.biff<=5)R<0&&(R=-R),r[R]&&(O=r[R][p]);else{var N="";if(((r[R]||[])[0]||[])[0]==14849||(((r[R]||[])[0]||[])[0]==1025?r[R][p]&&r[R][p].itab>0&&(N=r.SheetNames[r[R][p].itab-1]+"!"):N=r.SheetNames[p-1]+"!"),r[R]&&r[R][p])N+=r[R][p].Name;else if(r[0]&&r[0][p])N+=r[0][p].Name;else{var k=(SP(r,R,i)||"").split(";;");k[p-1]?N=k[p-1]:N+="SH33TJSERRX"}o.push(N);break}O||(O={Name:"SH33TJSERRY"}),o.push(O.Name);break;case"PtgParen":var j="(",G=")";if(x>=0){switch(g="",n[0][x][1][0]){case 2:j=li(" ",n[0][x][1][1])+j;break;case 3:j=li("\r",n[0][x][1][1])+j;break;case 4:G=li(" ",n[0][x][1][1])+G;break;case 5:G=li("\r",n[0][x][1][1])+G;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+n[0][x][1][0])}x=-1}o.push(j+o.pop()+G);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":f={c:E[1][1],r:E[1][0]};var ae={c:t.c,r:t.r};if(r.sharedf[Pn(f)]){var ie=r.sharedf[Pn(f)];o.push(Ns(ie,a,ae,r,i))}else{var ue=!1;for(l=0;l!=r.arrayf.length;++l)if(c=r.arrayf[l],!(f.c<c[0].s.c||f.c>c[0].e.c)&&!(f.r<c[0].s.r||f.r>c[0].e.r)){o.push(Ns(c[1],a,ae,r,i)),ue=!0;break}ue||o.push(E[1])}break;case"PtgArray":o.push("{"+cV(E[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":x=y;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+E[1].idx+"[#"+E[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(E));default:throw new Error("Unrecognized Formula Token: "+String(E))}var J=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&x>=0&&J.indexOf(n[0][y][0])==-1){E=n[0][x];var X=!0;switch(E[1][0]){case 4:X=!1;case 0:g=li(" ",E[1][1]);break;case 5:X=!1;case 1:g=li("\r",E[1][1]);break;default:if(g="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+E[1][0])}o.push((X?g:"")+o.pop()+(X?"":g)),x=-1}}if(o.length>1&&i.WTF)throw new Error("bad formula stack");return o[0]}function hV(n,e,t){var r=n.l+e,i=t.biff==2?1:2,s,a=n.read_shift(i);if(a==65535)return[[],Hs(n,e-2)];var o=Im(n,a,t);return e!==a+i&&(s=Dm(n,e-a-i,o,t)),n.l=r,[o,s]}function dV(n,e,t){var r=n.l+e,i=t.biff==2?1:2,s,a=n.read_shift(i);if(a==65535)return[[],Hs(n,e-2)];var o=Im(n,a,t);return e!==a+i&&(s=Dm(n,e-a-i,o,t)),n.l=r,[o,s]}function pV(n,e,t,r){var i=n.l+e,s=Im(n,r,t),a;return i!==n.l&&(a=Dm(n,i-n.l,s,t)),[s,a]}function mV(n,e,t){var r=n.l+e,i,s=n.read_shift(2),a=Im(n,s,t);return s==65535?[[],Hs(n,e-2)]:(e!==s+2&&(i=Dm(n,r-s-2,a,t)),[a,i])}function gV(n){var e;if(Hc(n,n.l+6)!==65535)return[Ds(n),"n"];switch(n[n.l]){case 0:return n.l+=8,["String","s"];case 1:return e=n[n.l+2]===1,n.l+=8,[e,"b"];case 2:return e=n[n.l+2],n.l+=8,[e,"e"];case 3:return n.l+=8,["","s"]}return[]}function Y2(n,e,t){var r=n.l+e,i=Jl(n);t.biff==2&&++n.l;var s=gV(n),a=n.read_shift(1);t.biff!=2&&(n.read_shift(1),t.biff>=5&&n.read_shift(4));var o=dV(n,r-n.l,t);return{cell:i,val:s[0],formula:o,shared:a>>3&1,tt:s[1]}}function cv(n,e,t){var r=n.read_shift(4),i=Im(n,r,t),s=n.read_shift(4),a=s>0?Dm(n,s,i,t):null;return[i,a]}var xV=cv,uv=cv,vV=cv,_V=cv,yV={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},EP={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},wV={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function wT(n){return n.slice(0,3)=="of:"&&(n=n.slice(3)),n.charCodeAt(0)==61&&(n=n.slice(1),n.charCodeAt(0)==61&&(n=n.slice(1))),n=n.replace(/COM\.MICROSOFT\./g,""),n=n.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(e,t){return t.replace(/\./g,"")}),n=n.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),n.replace(/[;~]/g,",").replace(/\|/g,";")}function K2(n){var e=n.split(":"),t=e[0].split(".")[0];return[t,e[0].split(".")[1]+(e.length>1?":"+(e[1].split(".")[1]||e[1].split(".")[0]):"")]}var Yp={},c0={};function Kp(n,e){if(n){var t=[.7,.7,.75,.75,.3,.3];e=="xlml"&&(t=[1,1,1,1,.5,.5]),n.left==null&&(n.left=t[0]),n.right==null&&(n.right=t[1]),n.top==null&&(n.top=t[2]),n.bottom==null&&(n.bottom=t[3]),n.header==null&&(n.header=t[4]),n.footer==null&&(n.footer=t[5])}}function AP(n,e,t,r,i,s){try{r.cellNF&&(n.z=Nn[e])}catch(o){if(r.WTF)throw o}if(!(n.t==="z"&&!r.cellStyles)){if(n.t==="d"&&typeof n.v=="string"&&(n.v=es(n.v)),(!r||r.cellText!==!1)&&n.t!=="z")try{if(Nn[e]==null&&Ph(bU[e]||"General",e),n.t==="e")n.w=n.w||Yh[n.v];else if(e===0)if(n.t==="n")(n.v|0)===n.v?n.w=n.v.toString(10):n.w=hm(n.v);else if(n.t==="d"){var a=ua(n.v);(a|0)===a?n.w=a.toString(10):n.w=hm(a)}else{if(n.v===void 0)return"";n.w=Ih(n.v,c0)}else n.t==="d"?n.w=Eo(e,ua(n.v),c0):n.w=Eo(e,n.v,c0)}catch(o){if(r.WTF)throw o}if(r.cellStyles&&t!=null)try{n.s=s.Fills[t],n.s.fgColor&&n.s.fgColor.theme&&!n.s.fgColor.rgb&&(n.s.fgColor.rgb=kx(i.themeElements.clrScheme[n.s.fgColor.theme].rgb,n.s.fgColor.tint||0),r.WTF&&(n.s.fgColor.raw_rgb=i.themeElements.clrScheme[n.s.fgColor.theme].rgb)),n.s.bgColor&&n.s.bgColor.theme&&(n.s.bgColor.rgb=kx(i.themeElements.clrScheme[n.s.bgColor.theme].rgb,n.s.bgColor.tint||0),r.WTF&&(n.s.bgColor.raw_rgb=i.themeElements.clrScheme[n.s.bgColor.theme].rgb))}catch(o){if(r.WTF&&s.Fills)throw o}}}function bV(n,e){var t=fi(e);t.s.r<=t.e.r&&t.s.c<=t.e.c&&t.s.r>=0&&t.s.c>=0&&(n["!ref"]=Zn(t))}var SV=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,EV=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,AV=/<(?:\w:)?hyperlink [^>]*>/mg,TV=/"(\w*:\w*)"/,MV=/<(?:\w:)?col\b[^>]*[\/]?>/g,CV=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,PV=/<(?:\w:)?pageMargins[^>]*\/>/g,TP=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,kV=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,RV=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function LV(n,e,t,r,i,s,a){if(!n)return n;r||(r={"!id":{}});var o=e.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},c="",f="",d=n.match(EV);d?(c=n.slice(0,d.index),f=n.slice(d.index+d[0].length)):c=f=n;var p=c.match(TP);p?Nb(p[0],o,i,t):(p=c.match(kV))&&NV(p[0],p[1]||"",o,i,t);var m=(c.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(m>0){var _=c.slice(m,m+50).match(TV);_&&bV(o,_[1])}var x=c.match(RV);x&&x[1]&&BV(x[1],i);var g=[];if(e.cellStyles){var y=c.match(MV);y&&IV(g,y)}d&&zV(d[1],o,e,l,s,a);var A=f.match(CV);A&&(o["!autofilter"]=OV(A[0]));var E=[],M=f.match(SV);if(M)for(m=0;m!=M.length;++m)E[m]=fi(M[m].slice(M[m].indexOf('"')+1));var D=f.match(AV);D&&FV(o,D,r);var U=f.match(PV);if(U&&(o["!margins"]=DV(bn(U[0]))),!o["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(o["!ref"]=Zn(l)),e.sheetRows>0&&o["!ref"]){var L=fi(o["!ref"]);e.sheetRows<=+L.e.r&&(L.e.r=e.sheetRows-1,L.e.r>l.e.r&&(L.e.r=l.e.r),L.e.r<L.s.r&&(L.s.r=L.e.r),L.e.c>l.e.c&&(L.e.c=l.e.c),L.e.c<L.s.c&&(L.s.c=L.e.c),o["!fullref"]=o["!ref"],o["!ref"]=Zn(L))}return g.length>0&&(o["!cols"]=g),E.length>0&&(o["!merges"]=E),o}function Nb(n,e,t,r){var i=bn(n);t.Sheets[r]||(t.Sheets[r]={}),i.codeName&&(t.Sheets[r].CodeName=tr(Fr(i.codeName)))}function NV(n,e,t,r,i){Nb(n.slice(0,n.indexOf(">")),t,r,i)}function FV(n,e,t){for(var r=Array.isArray(n),i=0;i!=e.length;++i){var s=bn(Fr(e[i]),!0);if(!s.ref)return;var a=((t||{})["!id"]||[])[s.id];a?(s.Target=a.Target,s.location&&(s.Target+="#"+tr(s.location))):(s.Target="#"+tr(s.location),a={Target:s.Target,TargetMode:"Internal"}),s.Rel=a,s.tooltip&&(s.Tooltip=s.tooltip,delete s.tooltip);for(var o=fi(s.ref),l=o.s.r;l<=o.e.r;++l)for(var c=o.s.c;c<=o.e.c;++c){var f=Pn({c,r:l});r?(n[l]||(n[l]=[]),n[l][c]||(n[l][c]={t:"z",v:void 0}),n[l][c].l=s):(n[f]||(n[f]={t:"z",v:void 0}),n[f].l=s)}}}function DV(n){var e={};return["left","right","top","bottom","header","footer"].forEach(function(t){n[t]&&(e[t]=parseFloat(n[t]))}),e}function IV(n,e){for(var t=!1,r=0;r!=e.length;++r){var i=bn(e[r],!0);i.hidden&&(i.hidden=Xr(i.hidden));var s=parseInt(i.min,10)-1,a=parseInt(i.max,10)-1;for(i.outlineLevel&&(i.level=+i.outlineLevel||0),delete i.min,delete i.max,i.width=+i.width,!t&&i.width&&(t=!0,Rb(i.width)),A0(i);s<=a;)n[s++]=fs(i)}}function OV(n){var e={ref:(n.match(/ref="([^"]*)"/)||[])[1]};return e}var UV=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function BV(n,e){e.Views||(e.Views=[{}]),(n.match(UV)||[]).forEach(function(t,r){var i=bn(t);e.Views[r]||(e.Views[r]={}),+i.zoomScale&&(e.Views[r].zoom=+i.zoomScale),Xr(i.rightToLeft)&&(e.Views[r].RTL=!0)})}var zV=function(){var n=/<(?:\w+:)?c[ \/>]/,e=/<\/(?:\w+:)?row>/,t=/r=["']([^"']*)["']/,r=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,i=/ref=["']([^"']*)["']/,s=dm("v"),a=dm("f");return function(l,c,f,d,p,m){for(var _=0,x="",g=[],y=[],A=0,E=0,M=0,D="",U,L,I=0,R=0,O,N,k=0,j=0,G=Array.isArray(m.CellXf),ae,ie=[],ue=[],J=Array.isArray(c),X=[],pe={},oe=!1,C=!!f.sheetStubs,W=l.split(e),z=0,V=W.length;z!=V;++z){x=W[z].trim();var ee=x.length;if(ee!==0){var de=0;e:for(_=0;_<ee;++_)switch(x[_]){case">":if(x[_-1]!="/"){++_;break e}if(f&&f.cellStyles){if(L=bn(x.slice(de,_),!0),I=L.r!=null?parseInt(L.r,10):I+1,R=-1,f.sheetRows&&f.sheetRows<I)continue;pe={},oe=!1,L.ht&&(oe=!0,pe.hpt=parseFloat(L.ht),pe.hpx=xm(pe.hpt)),L.hidden=="1"&&(oe=!0,pe.hidden=!0),L.outlineLevel!=null&&(oe=!0,pe.level=+L.outlineLevel),oe&&(X[I-1]=pe)}break;case"<":de=_;break}if(de>=_)break;if(L=bn(x.slice(de,_),!0),I=L.r!=null?parseInt(L.r,10):I+1,R=-1,!(f.sheetRows&&f.sheetRows<I)){d.s.r>I-1&&(d.s.r=I-1),d.e.r<I-1&&(d.e.r=I-1),f&&f.cellStyles&&(pe={},oe=!1,L.ht&&(oe=!0,pe.hpt=parseFloat(L.ht),pe.hpx=xm(pe.hpt)),L.hidden=="1"&&(oe=!0,pe.hidden=!0),L.outlineLevel!=null&&(oe=!0,pe.level=+L.outlineLevel),oe&&(X[I-1]=pe)),g=x.slice(_).split(n);for(var ve=0;ve!=g.length&&g[ve].trim().charAt(0)=="<";++ve);for(g=g.slice(ve),_=0;_!=g.length;++_)if(x=g[_].trim(),x.length!==0){if(y=x.match(t),A=_,E=0,M=0,x="<c "+(x.slice(0,1)=="<"?">":"")+x,y!=null&&y.length===2){for(A=0,D=y[1],E=0;E!=D.length&&!((M=D.charCodeAt(E)-64)<1||M>26);++E)A=26*A+M;--A,R=A}else++R;for(E=0;E!=x.length&&x.charCodeAt(E)!==62;++E);if(++E,L=bn(x.slice(0,E),!0),L.r||(L.r=Pn({r:I-1,c:R})),D=x.slice(E),U={t:""},(y=D.match(s))!=null&&y[1]!==""&&(U.v=tr(y[1])),f.cellFormula){if((y=D.match(a))!=null&&y[1]!==""){if(U.f=tr(Fr(y[1])).replace(/\r\n/g,`
`),f.xlfn||(U.f=xT(U.f)),y[0].indexOf('t="array"')>-1)U.F=(D.match(i)||[])[1],U.F.indexOf(":")>-1&&ie.push([fi(U.F),U.F]);else if(y[0].indexOf('t="shared"')>-1){N=bn(y[0]);var we=tr(Fr(y[1]));f.xlfn||(we=xT(we)),ue[parseInt(N.si,10)]=[N,we,L.r]}}else(y=D.match(/<f[^>]*\/>/))&&(N=bn(y[0]),ue[N.si]&&(U.f=JH(ue[N.si][1],ue[N.si][2],L.r)));var Ce=oa(L.r);for(E=0;E<ie.length;++E)Ce.r>=ie[E][0].s.r&&Ce.r<=ie[E][0].e.r&&Ce.c>=ie[E][0].s.c&&Ce.c<=ie[E][0].e.c&&(U.F=ie[E][1])}if(L.t==null&&U.v===void 0)if(U.f||U.F)U.v=0,U.t="n";else if(C)U.t="z";else continue;else U.t=L.t||"n";switch(d.s.c>R&&(d.s.c=R),d.e.c<R&&(d.e.c=R),U.t){case"n":if(U.v==""||U.v==null){if(!C)continue;U.t="z"}else U.v=parseFloat(U.v);break;case"s":if(typeof U.v>"u"){if(!C)continue;U.t="z"}else O=Yp[parseInt(U.v,10)],U.v=O.t,U.r=O.r,f.cellHTML&&(U.h=O.h);break;case"str":U.t="s",U.v=U.v!=null?Fr(U.v):"",f.cellHTML&&(U.h=yb(U.v));break;case"inlineStr":y=D.match(r),U.t="s",y!=null&&(O=kb(y[1]))?(U.v=O.t,f.cellHTML&&(U.h=O.h)):U.v="";break;case"b":U.v=Xr(U.v);break;case"d":f.cellDates?U.v=es(U.v,1):(U.v=ua(es(U.v,1)),U.t="n");break;case"e":(!f||f.cellText!==!1)&&(U.w=U.v),U.v=XC[U.v];break}if(k=j=0,ae=null,G&&L.s!==void 0&&(ae=m.CellXf[L.s],ae!=null&&(ae.numFmtId!=null&&(k=ae.numFmtId),f.cellStyles&&ae.fillId!=null&&(j=ae.fillId))),AP(U,k,j,f,p,m),f.cellDates&&G&&U.t=="n"&&I0(Nn[k])&&(U.t="d",U.v=ov(U.v)),L.cm&&f.xlmeta){var lt=(f.xlmeta.Cell||[])[+L.cm-1];lt&&lt.type=="XLDAPR"&&(U.D=!0)}if(J){var he=oa(L.r);c[he.r]||(c[he.r]=[]),c[he.r][he.c]=U}else c[L.r]=U}}}}X.length>0&&(c["!rows"]=X)}}();function HV(n,e){var t={},r=n.l+e;t.r=n.read_shift(4),n.l+=4;var i=n.read_shift(2);n.l+=1;var s=n.read_shift(1);return n.l=r,s&7&&(t.level=s&7),s&16&&(t.hidden=!0),s&32&&(t.hpt=i/20),t}var jV=$h;function VV(){}function WV(n,e){var t={},r=n[n.l];return++n.l,t.above=!(r&64),t.left=!(r&128),n.l+=18,t.name=hB(n),t}function GV(n){var e=Ao(n);return[e]}function qV(n){var e=Xh(n);return[e]}function XV(n){var e=Ao(n),t=n.read_shift(1);return[e,t,"b"]}function $V(n){var e=Xh(n),t=n.read_shift(1);return[e,t,"b"]}function YV(n){var e=Ao(n),t=n.read_shift(1);return[e,t,"e"]}function KV(n){var e=Xh(n),t=n.read_shift(1);return[e,t,"e"]}function JV(n){var e=Ao(n),t=n.read_shift(4);return[e,t,"s"]}function ZV(n){var e=Xh(n),t=n.read_shift(4);return[e,t,"s"]}function QV(n){var e=Ao(n),t=Ds(n);return[e,t,"n"]}function MP(n){var e=Xh(n),t=Ds(n);return[e,t,"n"]}function eW(n){var e=Ao(n),t=Mb(n);return[e,t,"n"]}function tW(n){var e=Xh(n),t=Mb(n);return[e,t,"n"]}function nW(n){var e=Ao(n),t=Ab(n);return[e,t,"is"]}function rW(n){var e=Ao(n),t=Bs(n);return[e,t,"str"]}function iW(n){var e=Xh(n),t=Bs(n);return[e,t,"str"]}function sW(n,e,t){var r=n.l+e,i=Ao(n);i.r=t["!row"];var s=n.read_shift(1),a=[i,s,"b"];if(t.cellFormula){n.l+=2;var o=uv(n,r-n.l,t);a[3]=Ns(o,null,i,t.supbooks,t)}else n.l=r;return a}function aW(n,e,t){var r=n.l+e,i=Ao(n);i.r=t["!row"];var s=n.read_shift(1),a=[i,s,"e"];if(t.cellFormula){n.l+=2;var o=uv(n,r-n.l,t);a[3]=Ns(o,null,i,t.supbooks,t)}else n.l=r;return a}function oW(n,e,t){var r=n.l+e,i=Ao(n);i.r=t["!row"];var s=Ds(n),a=[i,s,"n"];if(t.cellFormula){n.l+=2;var o=uv(n,r-n.l,t);a[3]=Ns(o,null,i,t.supbooks,t)}else n.l=r;return a}function lW(n,e,t){var r=n.l+e,i=Ao(n);i.r=t["!row"];var s=Bs(n),a=[i,s,"str"];if(t.cellFormula){n.l+=2;var o=uv(n,r-n.l,t);a[3]=Ns(o,null,i,t.supbooks,t)}else n.l=r;return a}var cW=$h;function uW(n,e){var t=n.l+e,r=$h(n),i=Tb(n),s=Bs(n),a=Bs(n),o=Bs(n);n.l=t;var l={rfx:r,relId:i,loc:s,display:o};return a&&(l.Tooltip=a),l}function fW(){}function hW(n,e,t){var r=n.l+e,i=WC(n),s=n.read_shift(1),a=[i];if(a[2]=s,t.cellFormula){var o=xV(n,r-n.l,t);a[1]=o}else n.l=r;return a}function dW(n,e,t){var r=n.l+e,i=$h(n),s=[i];if(t.cellFormula){var a=_V(n,r-n.l,t);s[1]=a,n.l=r}else n.l=r;return s}var pW=["left","right","top","bottom","header","footer"];function mW(n){var e={};return pW.forEach(function(t){e[t]=Ds(n)}),e}function gW(n){var e=n.read_shift(2);return n.l+=28,{RTL:e&32}}function xW(){}function vW(){}function _W(n,e,t,r,i,s,a){if(!n)return n;var o=e||{};r||(r={"!id":{}});var l=o.dense?[]:{},c,f={s:{r:2e6,c:2e6},e:{r:0,c:0}},d=!1,p=!1,m,_,x,g,y,A,E,M,D,U=[];o.biff=12,o["!row"]=0;var L=0,I=!1,R=[],O={},N=o.supbooks||i.supbooks||[[]];if(N.sharedf=O,N.arrayf=R,N.SheetNames=i.SheetNames||i.Sheets.map(function(J){return J.name}),!o.supbooks&&(o.supbooks=N,i.Names))for(var k=0;k<i.Names.length;++k)N[0][k+1]=i.Names[k];var j=[],G=[],ae=!1;Nx[16]={n:"BrtShortReal",f:MP};var ie;if(Jc(n,function(X,pe,oe){if(!p)switch(oe){case 148:c=X;break;case 0:m=X,o.sheetRows&&o.sheetRows<=m.r&&(p=!0),M=hs(g=m.r),o["!row"]=m.r,(X.hidden||X.hpt||X.level!=null)&&(X.hpt&&(X.hpx=xm(X.hpt)),G[X.r]=X);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(_={t:X[2]},X[2]){case"n":_.v=X[1];break;case"s":E=Yp[X[1]],_.v=E.t,_.r=E.r;break;case"b":_.v=!!X[1];break;case"e":_.v=X[1],o.cellText!==!1&&(_.w=Yh[_.v]);break;case"str":_.t="s",_.v=X[1];break;case"is":_.t="s",_.v=X[1].t;break}if((x=a.CellXf[X[0].iStyleRef])&&AP(_,x.numFmtId,null,o,s,a),y=X[0].c==-1?y+1:X[0].c,o.dense?(l[g]||(l[g]=[]),l[g][y]=_):l[Ui(y)+M]=_,o.cellFormula){for(I=!1,L=0;L<R.length;++L){var C=R[L];m.r>=C[0].s.r&&m.r<=C[0].e.r&&y>=C[0].s.c&&y<=C[0].e.c&&(_.F=Zn(C[0]),I=!0)}!I&&X.length>3&&(_.f=X[3])}if(f.s.r>m.r&&(f.s.r=m.r),f.s.c>y&&(f.s.c=y),f.e.r<m.r&&(f.e.r=m.r),f.e.c<y&&(f.e.c=y),o.cellDates&&x&&_.t=="n"&&I0(Nn[x.numFmtId])){var W=bh(_.v);W&&(_.t="d",_.v=new Date(W.y,W.m-1,W.d,W.H,W.M,W.S,W.u))}ie&&(ie.type=="XLDAPR"&&(_.D=!0),ie=void 0);break;case 1:case 12:if(!o.sheetStubs||d)break;_={t:"z",v:void 0},y=X[0].c==-1?y+1:X[0].c,o.dense?(l[g]||(l[g]=[]),l[g][y]=_):l[Ui(y)+M]=_,f.s.r>m.r&&(f.s.r=m.r),f.s.c>y&&(f.s.c=y),f.e.r<m.r&&(f.e.r=m.r),f.e.c<y&&(f.e.c=y),ie&&(ie.type=="XLDAPR"&&(_.D=!0),ie=void 0);break;case 176:U.push(X);break;case 49:ie=((o.xlmeta||{}).Cell||[])[X-1];break;case 494:var z=r["!id"][X.relId];for(z?(X.Target=z.Target,X.loc&&(X.Target+="#"+X.loc),X.Rel=z):X.relId==""&&(X.Target="#"+X.loc),g=X.rfx.s.r;g<=X.rfx.e.r;++g)for(y=X.rfx.s.c;y<=X.rfx.e.c;++y)o.dense?(l[g]||(l[g]=[]),l[g][y]||(l[g][y]={t:"z",v:void 0}),l[g][y].l=X):(A=Pn({c:y,r:g}),l[A]||(l[A]={t:"z",v:void 0}),l[A].l=X);break;case 426:if(!o.cellFormula)break;R.push(X),D=o.dense?l[g][y]:l[Ui(y)+M],D.f=Ns(X[1],f,{r:m.r,c:y},N,o),D.F=Zn(X[0]);break;case 427:if(!o.cellFormula)break;O[Pn(X[0].s)]=X[1],D=o.dense?l[g][y]:l[Ui(y)+M],D.f=Ns(X[1],f,{r:m.r,c:y},N,o);break;case 60:if(!o.cellStyles)break;for(;X.e>=X.s;)j[X.e--]={width:X.w/256,hidden:!!(X.flags&1),level:X.level},ae||(ae=!0,Rb(X.w/256)),A0(j[X.e+1]);break;case 161:l["!autofilter"]={ref:Zn(X)};break;case 476:l["!margins"]=X;break;case 147:i.Sheets[t]||(i.Sheets[t]={}),X.name&&(i.Sheets[t].CodeName=X.name),(X.above||X.left)&&(l["!outline"]={above:X.above,left:X.left});break;case 137:i.Views||(i.Views=[{}]),i.Views[0]||(i.Views[0]={}),X.RTL&&(i.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:d=!0;break;case 36:d=!1;break;case 37:d=!0;break;case 38:d=!1;break;default:if(!pe.T){if(!d||o.WTF)throw new Error("Unexpected record 0x"+oe.toString(16))}}},o),delete o.supbooks,delete o["!row"],!l["!ref"]&&(f.s.r<2e6||c&&(c.e.r>0||c.e.c>0||c.s.r>0||c.s.c>0))&&(l["!ref"]=Zn(c||f)),o.sheetRows&&l["!ref"]){var ue=fi(l["!ref"]);o.sheetRows<=+ue.e.r&&(ue.e.r=o.sheetRows-1,ue.e.r>f.e.r&&(ue.e.r=f.e.r),ue.e.r<ue.s.r&&(ue.s.r=ue.e.r),ue.e.c>f.e.c&&(ue.e.c=f.e.c),ue.e.c<ue.s.c&&(ue.s.c=ue.e.c),l["!fullref"]=l["!ref"],l["!ref"]=Zn(ue))}return U.length>0&&(l["!merges"]=U),j.length>0&&(l["!cols"]=j),G.length>0&&(l["!rows"]=G),l}function yW(n){var e=[],t=n.match(/^<c:numCache>/),r;(n.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(s){var a=s.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);a&&(e[+a[1]]=t?+a[2]:a[2])});var i=tr((n.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(n.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(s){r=s.replace(/<.*?>/g,"")}),[e,i,r]}function wW(n,e,t,r,i,s){var a=s||{"!type":"chart"};if(!n)return s;var o=0,l=0,c="A",f={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(n.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(d){var p=yW(d);f.s.r=f.s.c=0,f.e.c=o,c=Ui(o),p[0].forEach(function(m,_){a[c+hs(_)]={t:"n",v:m,z:p[1]},l=_}),f.e.r<l&&(f.e.r=l),++o}),o>0&&(a["!ref"]=Zn(f)),a}function bW(n,e,t,r,i){if(!n)return n;r||(r={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},a,o=n.match(TP);return o&&Nb(o[0],s,i,t),(a=n.match(/drawing r:id="(.*?)"/))&&(s["!rel"]=a[1]),r["!id"][s["!rel"]]&&(s["!drawel"]=r["!id"][s["!rel"]]),s}function SW(n,e){n.l+=10;var t=Bs(n);return{name:t}}function EW(n,e,t,r,i){if(!n)return n;r||(r={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},a=!1;return Jc(n,function(l,c,f){switch(f){case 550:s["!rel"]=l;break;case 651:i.Sheets[t]||(i.Sheets[t]={}),l.name&&(i.Sheets[t].CodeName=l.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:break;case 38:break;default:if(!(c.T>0)){if(!(c.T<0)){if(!a||e.WTF)throw new Error("Unexpected record 0x"+f.toString(16))}}}},e),r["!id"][s["!rel"]]&&(s["!drawel"]=r["!id"][s["!rel"]]),s}var CP=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],AW=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],TW=[],MW=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function bT(n,e){for(var t=0;t!=n.length;++t)for(var r=n[t],i=0;i!=e.length;++i){var s=e[i];if(r[s[0]]==null)r[s[0]]=s[1];else switch(s[2]){case"bool":typeof r[s[0]]=="string"&&(r[s[0]]=Xr(r[s[0]]));break;case"int":typeof r[s[0]]=="string"&&(r[s[0]]=parseInt(r[s[0]],10));break}}}function ST(n,e){for(var t=0;t!=e.length;++t){var r=e[t];if(n[r[0]]==null)n[r[0]]=r[1];else switch(r[2]){case"bool":typeof n[r[0]]=="string"&&(n[r[0]]=Xr(n[r[0]]));break;case"int":typeof n[r[0]]=="string"&&(n[r[0]]=parseInt(n[r[0]],10));break}}}function PP(n){ST(n.WBProps,CP),ST(n.CalcPr,MW),bT(n.WBView,AW),bT(n.Sheets,TW),c0.date1904=Xr(n.WBProps.date1904)}var CW="][*?/\\".split("");function PW(n,e){if(n.length>31)throw new Error("Sheet names cannot exceed 31 chars");var t=!0;return CW.forEach(function(r){if(n.indexOf(r)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),t}var kW=/<\w+:workbook/;function RW(n,e){if(!n)throw new Error("Could not find file");var t={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},r=!1,i="xmlns",s={},a=0;if(n.replace(Vs,function(l,c){var f=bn(l);switch(Kl(f[0])){case"<?xml":break;case"<workbook":l.match(kW)&&(i="xmlns"+l.match(/<(\w+):/)[1]),t.xmlns=f[i];break;case"</workbook>":break;case"<fileVersion":delete f[0],t.AppVersion=f;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":CP.forEach(function(d){if(f[d[0]]!=null)switch(d[2]){case"bool":t.WBProps[d[0]]=Xr(f[d[0]]);break;case"int":t.WBProps[d[0]]=parseInt(f[d[0]],10);break;default:t.WBProps[d[0]]=f[d[0]]}}),f.codeName&&(t.WBProps.CodeName=Fr(f.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete f[0],t.WBView.push(f);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(f.state){case"hidden":f.Hidden=1;break;case"veryHidden":f.Hidden=2;break;default:f.Hidden=0}delete f.state,f.name=tr(Fr(f.name)),delete f[0],t.Sheets.push(f);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":r=!0;break;case"</definedNames>":r=!1;break;case"<definedName":s={},s.Name=Fr(f.name),f.comment&&(s.Comment=f.comment),f.localSheetId&&(s.Sheet=+f.localSheetId),Xr(f.hidden||"0")&&(s.Hidden=!0),a=c+l.length;break;case"</definedName>":s.Ref=tr(Fr(n.slice(a,c))),t.Names.push(s);break;case"<definedName/>":break;case"<calcPr":delete f[0],t.CalcPr=f;break;case"<calcPr/>":delete f[0],t.CalcPr=f;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":r=!0;break;case"</AlternateContent>":r=!1;break;case"<revisionPtr":break;default:if(!r&&e.WTF)throw new Error("unrecognized "+f[0]+" in workbook")}return l}),YU.indexOf(t.xmlns)===-1)throw new Error("Unknown Namespace: "+t.xmlns);return PP(t),t}function LW(n,e){var t={};return t.Hidden=n.read_shift(4),t.iTabID=n.read_shift(4),t.strRelID=Ey(n),t.name=Bs(n),t}function NW(n,e){var t={},r=n.read_shift(4);t.defaultThemeVersion=n.read_shift(4);var i=e>8?Bs(n):"";return i.length>0&&(t.CodeName=i),t.autoCompressPictures=!!(r&65536),t.backupFile=!!(r&64),t.checkCompatibility=!!(r&4096),t.date1904=!!(r&1),t.filterPrivacy=!!(r&8),t.hidePivotFieldList=!!(r&1024),t.promptedSolutions=!!(r&16),t.publishItems=!!(r&2048),t.refreshAllConnections=!!(r&262144),t.saveExternalLinkValues=!!(r&128),t.showBorderUnselectedTables=!!(r&4),t.showInkAnnotation=!!(r&32),t.showObjects=["all","placeholders","none"][r>>13&3],t.showPivotChartFilter=!!(r&32768),t.updateLinks=["userSet","never","always"][r>>8&3],t}function FW(n,e){var t={};return n.read_shift(4),t.ArchID=n.read_shift(4),n.l+=e-8,t}function DW(n,e,t){var r=n.l+e;n.l+=4,n.l+=1;var i=n.read_shift(4),s=dB(n),a=vV(n,0,t),o=Tb(n);n.l=r;var l={Name:s,Ptg:a};return i<268435455&&(l.Sheet=i),o&&(l.Comment=o),l}function IW(n,e){var t={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},r=[],i=!1;e||(e={}),e.biff=12;var s=[],a=[[]];return a.SheetNames=[],a.XTI=[],Nx[16]={n:"BrtFRTArchID$",f:FW},Jc(n,function(l,c,f){switch(f){case 156:a.SheetNames.push(l.name),t.Sheets.push(l);break;case 153:t.WBProps=l;break;case 39:l.Sheet!=null&&(e.SID=l.Sheet),l.Ref=Ns(l.Ptg,null,null,a,e),delete e.SID,delete l.Ptg,s.push(l);break;case 1036:break;case 357:case 358:case 355:case 667:a[0].length?a.push([f,l]):a[0]=[f,l],a[a.length-1].XTI=[];break;case 362:a.length===0&&(a[0]=[],a[0].XTI=[]),a[a.length-1].XTI=a[a.length-1].XTI.concat(l),a.XTI=a.XTI.concat(l);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:r.push(f),i=!0;break;case 36:r.pop(),i=!1;break;case 37:r.push(f),i=!0;break;case 38:r.pop(),i=!1;break;case 16:break;default:if(!c.T){if(!i||e.WTF&&r[r.length-1]!=37&&r[r.length-1]!=35)throw new Error("Unexpected record 0x"+f.toString(16))}}},e),PP(t),t.Names=s,t.supbooks=a,t}function OW(n,e,t){return e.slice(-4)===".bin"?IW(n,t):RW(n,t)}function UW(n,e,t,r,i,s,a,o){return e.slice(-4)===".bin"?_W(n,r,t,i,s,a,o):LV(n,r,t,i,s,a,o)}function BW(n,e,t,r,i,s,a,o){return e.slice(-4)===".bin"?EW(n,r,t,i,s):bW(n,r,t,i,s)}function zW(n,e,t,r,i,s,a,o){return e.slice(-4)===".bin"?$H():YH()}function HW(n,e,t,r,i,s,a,o){return e.slice(-4)===".bin"?qH():XH()}function jW(n,e,t,r){return e.slice(-4)===".bin"?cH(n,t,r):rH(n,t,r)}function VW(n,e,t){return mP(n,t)}function WW(n,e,t){return e.slice(-4)===".bin"?Az(n,t):Sz(n,t)}function GW(n,e,t){return e.slice(-4)===".bin"?VH(n,t):UH(n,t)}function qW(n,e,t){return e.slice(-4)===".bin"?DH(n):NH(n)}function XW(n,e,t,r){return t.slice(-4)===".bin"?IH(n,e,t,r):void 0}function $W(n,e,t){return e.slice(-4)===".bin"?RH(n,e,t):LH(n,e,t)}var kP=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,RP=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Xo(n,e){var t=n.split(/\s+/),r=[];if(r[0]=t[0],t.length===1)return r;var i=n.match(kP),s,a,o,l;if(i)for(l=0;l!=i.length;++l)s=i[l].match(RP),(a=s[1].indexOf(":"))===-1?r[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?o="xmlns"+s[1].slice(6):o=s[1].slice(a+1),r[o]=s[2].slice(1,s[2].length-1));return r}function YW(n){var e=n.split(/\s+/),t={};if(e.length===1)return t;var r=n.match(kP),i,s,a,o;if(r)for(o=0;o!=r.length;++o)i=r[o].match(RP),(s=i[1].indexOf(":"))===-1?t[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?a="xmlns"+i[1].slice(6):a=i[1].slice(s+1),t[a]=i[2].slice(1,i[2].length-1));return t}var Jp;function KW(n,e){var t=Jp[n]||tr(n);return t==="General"?Ih(e):Eo(t,e)}function JW(n,e,t,r){var i=r;switch((t[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":i=Xr(r);break;case"i2":case"int":i=parseInt(r,10);break;case"r4":case"float":i=parseFloat(r);break;case"date":case"dateTime.tz":i=es(r);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+t[0])}n[tr(e)]=i}function ZW(n,e,t){if(n.t!=="z"){if(!t||t.cellText!==!1)try{n.t==="e"?n.w=n.w||Yh[n.v]:e==="General"?n.t==="n"?(n.v|0)===n.v?n.w=n.v.toString(10):n.w=hm(n.v):n.w=Ih(n.v):n.w=KW(e||"General",n.v)}catch(s){if(t.WTF)throw s}try{var r=Jp[e]||e||"General";if(t.cellNF&&(n.z=r),t.cellDates&&n.t=="n"&&I0(r)){var i=bh(n.v);i&&(n.t="d",n.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}catch(s){if(t.WTF)throw s}}}function QW(n,e,t){if(t.cellStyles&&e.Interior){var r=e.Interior;r.Pattern&&(r.patternType=Jz[r.Pattern]||r.Pattern)}n[e.ID]=e}function eG(n,e,t,r,i,s,a,o,l,c){var f="General",d=r.StyleID,p={};c=c||{};var m=[],_=0;for(d===void 0&&o&&(d=o.StyleID),d===void 0&&a&&(d=a.StyleID);s[d]!==void 0&&(s[d].nf&&(f=s[d].nf),s[d].Interior&&m.push(s[d].Interior),!!s[d].Parent);)d=s[d].Parent;switch(t.Type){case"Boolean":r.t="b",r.v=Xr(n);break;case"String":r.t="s",r.r=GA(tr(n)),r.v=n.indexOf("<")>-1?tr(e||n).replace(/<.*?>/g,""):r.r;break;case"DateTime":n.slice(-1)!="Z"&&(n+="Z"),r.v=(es(n)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),r.v!==r.v?r.v=tr(n):r.v<60&&(r.v=r.v-1),(!f||f=="General")&&(f="yyyy-mm-dd");case"Number":r.v===void 0&&(r.v=+n),r.t||(r.t="n");break;case"Error":r.t="e",r.v=XC[n],c.cellText!==!1&&(r.w=n);break;default:n==""&&e==""?r.t="z":(r.t="s",r.v=GA(e||n));break}if(ZW(r,f,c),c.cellFormula!==!1)if(r.Formula){var x=tr(r.Formula);x.charCodeAt(0)==61&&(x=x.slice(1)),r.f=l0(x,i),delete r.Formula,r.ArrayRange=="RC"?r.F=l0("RC:RC",i):r.ArrayRange&&(r.F=l0(r.ArrayRange,i),l.push([fi(r.F),r.F]))}else for(_=0;_<l.length;++_)i.r>=l[_][0].s.r&&i.r<=l[_][0].e.r&&i.c>=l[_][0].s.c&&i.c<=l[_][0].e.c&&(r.F=l[_][1]);c.cellStyles&&(m.forEach(function(g){!p.patternType&&g.patternType&&(p.patternType=g.patternType)}),r.s=p),r.StyleID!==void 0&&(r.ixfe=r.StyleID)}function tG(n){n.t=n.v||"",n.t=n.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),n.v=n.w=n.ixfe=void 0}function J2(n,e){var t=e||{};_C();var r=kp(wb(n));(t.type=="binary"||t.type=="array"||t.type=="base64")&&(r=Fr(r));var i=r.slice(0,1024).toLowerCase(),s=!1;if(i=i.replace(/".*?"/g,""),(i.indexOf(">")&1023)>Math.min(i.indexOf(",")&1023,i.indexOf(";")&1023)){var a=fs(t);return a.type="string",mm.to_workbook(r,a)}if(i.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(je){i.indexOf("<"+je)>=0&&(s=!0)}),s)return uG(r,t);Jp={"General Number":"General","General Date":Nn[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Nn[15],"Short Date":Nn[14],"Long Time":Nn[19],"Medium Time":Nn[18],"Short Time":Nn[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Nn[2],Standard:Nn[4],Percent:Nn[10],Scientific:Nn[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,l=[],c,f={},d=[],p=t.dense?[]:{},m="",_={},x={},g=Xo('<Data ss:Type="String">'),y=0,A=0,E=0,M={s:{r:2e6,c:2e6},e:{r:0,c:0}},D={},U={},L="",I=0,R=[],O={},N={},k=0,j=[],G=[],ae={},ie=[],ue,J=!1,X=[],pe=[],oe={},C=0,W=0,z={Sheets:[],WBProps:{date1904:!1}},V={};pm.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"");for(var ee="";o=pm.exec(r);)switch(o[3]=(ee=o[3]).toLowerCase()){case"data":if(ee=="data"){if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break}if(l[l.length-1][1])break;o[1]==="/"?eG(r.slice(y,o.index),L,g,l[l.length-1][0]=="comment"?ae:_,{c:A,r:E},D,ie[A],x,X,t):(L="",g=Xo(o[0]),y=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(G.length>0&&(_.c=G),(!t.sheetRows||t.sheetRows>E)&&_.v!==void 0&&(t.dense?(p[E]||(p[E]=[]),p[E][A]=_):p[Ui(A)+hs(E)]=_),_.HRef&&(_.l={Target:tr(_.HRef)},_.HRefScreenTip&&(_.l.Tooltip=_.HRefScreenTip),delete _.HRef,delete _.HRefScreenTip),(_.MergeAcross||_.MergeDown)&&(C=A+(parseInt(_.MergeAcross,10)|0),W=E+(parseInt(_.MergeDown,10)|0),R.push({s:{c:A,r:E},e:{c:C,r:W}})),!t.sheetStubs)_.MergeAcross?A=C+1:++A;else if(_.MergeAcross||_.MergeDown){for(var de=A;de<=C;++de)for(var ve=E;ve<=W;++ve)(de>A||ve>E)&&(t.dense?(p[ve]||(p[ve]=[]),p[ve][de]={t:"z"}):p[Ui(de)+hs(ve)]={t:"z"});A=C+1}else++A;else _=YW(o[0]),_.Index&&(A=+_.Index-1),A<M.s.c&&(M.s.c=A),A>M.e.c&&(M.e.c=A),o[0].slice(-2)==="/>"&&++A,G=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(E<M.s.r&&(M.s.r=E),E>M.e.r&&(M.e.r=E),o[0].slice(-2)==="/>"&&(x=Xo(o[0]),x.Index&&(E=+x.Index-1)),A=0,++E):(x=Xo(o[0]),x.Index&&(E=+x.Index-1),oe={},(x.AutoFitHeight=="0"||x.Height)&&(oe.hpx=parseInt(x.Height,10),oe.hpt=pP(oe.hpx),pe[E]=oe),x.Hidden=="1"&&(oe.hidden=!0,pe[E]=oe));break;case"worksheet":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));d.push(m),M.s.r<=M.e.r&&M.s.c<=M.e.c&&(p["!ref"]=Zn(M),t.sheetRows&&t.sheetRows<=M.e.r&&(p["!fullref"]=p["!ref"],M.e.r=t.sheetRows-1,p["!ref"]=Zn(M))),R.length&&(p["!merges"]=R),ie.length>0&&(p["!cols"]=ie),pe.length>0&&(p["!rows"]=pe),f[m]=p}else M={s:{r:2e6,c:2e6},e:{r:0,c:0}},E=A=0,l.push([o[3],!1]),c=Xo(o[0]),m=tr(c.Name),p=t.dense?[]:{},R=[],X=[],pe=[],V={name:m,Hidden:0},z.Sheets.push(V);break;case"table":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else{if(o[0].slice(-2)=="/>")break;l.push([o[3],!1]),ie=[],J=!1}break;case"style":o[1]==="/"?QW(D,U,t):U=Xo(o[0]);break;case"numberformat":U.nf=tr(Xo(o[0]).Format||"General"),Jp[U.nf]&&(U.nf=Jp[U.nf]);for(var we=0;we!=392&&Nn[we]!=U.nf;++we);if(we==392){for(we=57;we!=392;++we)if(Nn[we]==null){Ph(U.nf,we);break}}break;case"column":if(l[l.length-1][0]!=="table")break;if(ue=Xo(o[0]),ue.Hidden&&(ue.hidden=!0,delete ue.Hidden),ue.Width&&(ue.wpx=parseInt(ue.Width,10)),!J&&ue.wpx>10){J=!0,sa=hP;for(var Ce=0;Ce<ie.length;++Ce)ie[Ce]&&A0(ie[Ce])}J&&A0(ue),ie[ue.Index-1||ie.length]=ue;for(var lt=0;lt<+ue.Span;++lt)ie[ie.length]=fs(ue);break;case"namedrange":if(o[1]==="/")break;z.Names||(z.Names=[]);var he=bn(o[0]),mt={Name:he.Name,Ref:l0(he.RefersTo.slice(1),{r:0,c:0})};z.Sheets.length>0&&(mt.Sheet=z.Sheets.length-1),z.Names.push(mt);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?L+=r.slice(I,o.index):I=o.index+o[0].length;break;case"interior":if(!t.cellStyles)break;U.Interior=Xo(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?UB(O,ee,r.slice(k,o.index)):k=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else l.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));tG(ae),G.push(ae)}else l.push([o[3],!1]),c=Xo(o[0]),ae={a:c.Author};break;case"autofilter":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var ye=Xo(o[0]);p["!autofilter"]={ref:l0(ye.Range).replace(/\$/g,"")},l.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"null":break;default:if(l.length==0&&o[3]=="document"||l.length==0&&o[3]=="uof")return PT(r,t);var Je=!0;switch(l[l.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Je=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Je=!1}break;case"excelworkbook":switch(o[3]){case"date1904":z.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Je=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:Je=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(r.slice(k,o.index)){case"SheetHidden":V.Hidden=1;break;case"SheetVeryHidden":V.Hidden=2;break}else k=o.index+o[0].length;break;case"header":p["!margins"]||Kp(p["!margins"]={},"xlml"),isNaN(+bn(o[0]).Margin)||(p["!margins"].header=+bn(o[0]).Margin);break;case"footer":p["!margins"]||Kp(p["!margins"]={},"xlml"),isNaN(+bn(o[0]).Margin)||(p["!margins"].footer=+bn(o[0]).Margin);break;case"pagemargins":var q=bn(o[0]);p["!margins"]||Kp(p["!margins"]={},"xlml"),isNaN(+q.Top)||(p["!margins"].top=+q.Top),isNaN(+q.Left)||(p["!margins"].left=+q.Left),isNaN(+q.Right)||(p["!margins"].right=+q.Right),isNaN(+q.Bottom)||(p["!margins"].bottom=+q.Bottom);break;case"displayrighttoleft":z.Views||(z.Views=[]),z.Views[0]||(z.Views[0]={}),z.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":p["!outline"]||(p["!outline"]={}),p["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":p["!outline"]||(p["!outline"]={}),p["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Je=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Je=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Je=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Je=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Je=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Je=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Je=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Je=!1}break;case"smarttags":break;default:Je=!1;break}if(Je||o[3].match(/!\[CDATA/))break;if(!l[l.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+l.join("|");if(l[l.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?JW(N,ee,j,r.slice(k,o.index)):(j=o,k=o.index+o[0].length);break}if(t.WTF)throw"Unrecognized tag: "+o[3]+"|"+l.join("|")}var Re={};return!t.bookSheets&&!t.bookProps&&(Re.Sheets=f),Re.SheetNames=d,Re.Workbook=z,Re.SSF=fs(Nn),Re.Props=O,Re.Custprops=N,Re}function Cy(n,e){switch(Ib(e=e||{}),e.type||"base64"){case"base64":return J2(Za(n),e);case"binary":case"buffer":case"file":return J2(n,e);case"array":return J2(qh(n),e)}}function nG(n){var e={},t=n.content;if(t.l=28,e.AnsiUserType=t.read_shift(0,"lpstr-ansi"),e.AnsiClipboardFormat=gB(t),t.length-t.l<=4)return e;var r=t.read_shift(4);if(r==0||r>40||(t.l-=4,e.Reserved1=t.read_shift(0,"lpstr-ansi"),t.length-t.l<=4)||(r=t.read_shift(4),r!==1907505652)||(e.UnicodeClipboardFormat=xB(t),r=t.read_shift(4),r==0||r>40))return e;t.l-=4,e.Reserved2=t.read_shift(0,"lpwstr")}var rG=[60,1084,2066,2165,2175];function iG(n,e,t,r,i){var s=r,a=[],o=t.slice(t.l,t.l+s);if(i&&i.enc&&i.enc.insitu&&o.length>0)switch(n){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:i.enc.insitu(o)}a.push(o),t.l+=s;for(var l=Hc(t,t.l),c=Py[l],f=0;c!=null&&rG.indexOf(l)>-1;)s=Hc(t,t.l+2),f=t.l+4,l==2066?f+=4:(l==2165||l==2175)&&(f+=12),o=t.slice(f,t.l+4+s),a.push(o),t.l+=4+s,c=Py[l=Hc(t,t.l)];var d=$u(a);us(d,0);var p=0;d.lens=[];for(var m=0;m<a.length;++m)d.lens.push(p),p+=a[m].length;if(d.length<r)throw"XLS Record 0x"+n.toString(16)+" Truncated: "+d.length+" < "+r;return e.f(d,d.length,i)}function Fl(n,e,t){if(n.t!=="z"&&n.XF){var r=0;try{r=n.z||n.XF.numFmtId||0,e.cellNF&&(n.z=Nn[r])}catch(s){if(e.WTF)throw s}if(!e||e.cellText!==!1)try{n.t==="e"?n.w=n.w||Yh[n.v]:r===0||r=="General"?n.t==="n"?(n.v|0)===n.v?n.w=n.v.toString(10):n.w=hm(n.v):n.w=Ih(n.v):n.w=Eo(r,n.v,{date1904:!!t,dateNF:e&&e.dateNF})}catch(s){if(e.WTF)throw s}if(e.cellDates&&r&&n.t=="n"&&I0(Nn[r]||String(r))){var i=bh(n.v);i&&(n.t="d",n.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}}function Vg(n,e,t){return{v:n,ixfe:e,t}}function sG(n,e){var t={opts:{}},r={},i=e.dense?[]:{},s={},a={},o=null,l=[],c="",f={},d,p="",m,_,x,g,y={},A=[],E,M,D=[],U=[],L={Sheets:[],WBProps:{date1904:!1},Views:[{}]},I={},R=function(Ye){return Ye<8?kh[Ye]:Ye<64&&U[Ye-8]||kh[Ye]},O=function(Ye,Xe,wt){var We=Xe.XF.data;if(!(!We||!We.patternType||!wt||!wt.cellStyles)){Xe.s={},Xe.s.patternType=We.patternType;var Ct;(Ct=gm(R(We.icvFore)))&&(Xe.s.fgColor={rgb:Ct}),(Ct=gm(R(We.icvBack)))&&(Xe.s.bgColor={rgb:Ct})}},N=function(Ye,Xe,wt){if(!(oe>1)&&!(wt.sheetRows&&Ye.r>=wt.sheetRows)){if(wt.cellStyles&&Xe.XF&&Xe.XF.data&&O(Ye,Xe,wt),delete Xe.ixfe,delete Xe.XF,d=Ye,p=Pn(Ye),(!a||!a.s||!a.e)&&(a={s:{r:0,c:0},e:{r:0,c:0}}),Ye.r<a.s.r&&(a.s.r=Ye.r),Ye.c<a.s.c&&(a.s.c=Ye.c),Ye.r+1>a.e.r&&(a.e.r=Ye.r+1),Ye.c+1>a.e.c&&(a.e.c=Ye.c+1),wt.cellFormula&&Xe.f){for(var We=0;We<A.length;++We)if(!(A[We][0].s.c>Ye.c||A[We][0].s.r>Ye.r)&&!(A[We][0].e.c<Ye.c||A[We][0].e.r<Ye.r)){Xe.F=Zn(A[We][0]),(A[We][0].s.c!=Ye.c||A[We][0].s.r!=Ye.r)&&delete Xe.f,Xe.f&&(Xe.f=""+Ns(A[We][1],a,Ye,X,k));break}}wt.dense?(i[Ye.r]||(i[Ye.r]=[]),i[Ye.r][Ye.c]=Xe):i[p]=Xe}},k={enc:!1,sbcch:0,snames:[],sharedf:y,arrayf:A,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!e&&!!e.cellStyles,WTF:!!e&&!!e.wtf};e.password&&(k.password=e.password);var j,G=[],ae=[],ie=[],ue=[],J=!1,X=[];X.SheetNames=k.snames,X.sharedf=k.sharedf,X.arrayf=k.arrayf,X.names=[],X.XTI=[];var pe=0,oe=0,C=0,W=[],z=[],V;k.codepage=1200,il(1200);for(var ee=!1;n.l<n.length-1;){var de=n.l,ve=n.read_shift(2);if(ve===0&&pe===10)break;var we=n.l===n.length?0:n.read_shift(2),Ce=Py[ve];if(Ce&&Ce.f){if(e.bookSheets&&pe===133&&ve!==133)break;if(pe=ve,Ce.r===2||Ce.r==12){var lt=n.read_shift(2);if(we-=2,!k.enc&&lt!==ve&&((lt&255)<<8|lt>>8)!==ve)throw new Error("rt mismatch: "+lt+"!="+ve);Ce.r==12&&(n.l+=10,we-=10)}var he={};if(ve===10?he=Ce.f(n,we,k):he=iG(ve,Ce,n,we,k),oe==0&&[9,521,1033,2057].indexOf(pe)===-1)continue;switch(ve){case 34:t.opts.Date1904=L.WBProps.date1904=he;break;case 134:t.opts.WriteProtect=!0;break;case 47:if(k.enc||(n.l=0),k.enc=he,!e.password)throw new Error("File is password-protected");if(he.valid==null)throw new Error("Encryption scheme unsupported");if(!he.valid)throw new Error("Password is incorrect");break;case 92:k.lastuser=he;break;case 66:var mt=Number(he);switch(mt){case 21010:mt=1200;break;case 32768:mt=1e4;break;case 32769:mt=1252;break}il(k.codepage=mt),ee=!0;break;case 317:k.rrtabid=he;break;case 25:k.winlocked=he;break;case 439:t.opts.RefreshAll=he;break;case 12:t.opts.CalcCount=he;break;case 16:t.opts.CalcDelta=he;break;case 17:t.opts.CalcIter=he;break;case 13:t.opts.CalcMode=he;break;case 14:t.opts.CalcPrecision=he;break;case 95:t.opts.CalcSaveRecalc=he;break;case 15:k.CalcRefMode=he;break;case 2211:t.opts.FullCalc=he;break;case 129:he.fDialog&&(i["!type"]="dialog"),he.fBelow||((i["!outline"]||(i["!outline"]={})).above=!0),he.fRight||((i["!outline"]||(i["!outline"]={})).left=!0);break;case 224:D.push(he);break;case 430:X.push([he]),X[X.length-1].XTI=[];break;case 35:case 547:X[X.length-1].push(he);break;case 24:case 536:V={Name:he.Name,Ref:Ns(he.rgce,a,null,X,k)},he.itab>0&&(V.Sheet=he.itab-1),X.names.push(V),X[0]||(X[0]=[],X[0].XTI=[]),X[X.length-1].push(he),he.Name=="_xlnm._FilterDatabase"&&he.itab>0&&he.rgce&&he.rgce[0]&&he.rgce[0][0]&&he.rgce[0][0][0]=="PtgArea3d"&&(z[he.itab-1]={ref:Zn(he.rgce[0][0][1][2])});break;case 22:k.ExternCount=he;break;case 23:X.length==0&&(X[0]=[],X[0].XTI=[]),X[X.length-1].XTI=X[X.length-1].XTI.concat(he),X.XTI=X.XTI.concat(he);break;case 2196:if(k.biff<8)break;V!=null&&(V.Comment=he[1]);break;case 18:i["!protect"]=he;break;case 19:he!==0&&k.WTF&&console.error("Password verifier: "+he);break;case 133:s[he.pos]=he,k.snames.push(he.name);break;case 10:{if(--oe)break;if(a.e){if(a.e.r>0&&a.e.c>0){if(a.e.r--,a.e.c--,i["!ref"]=Zn(a),e.sheetRows&&e.sheetRows<=a.e.r){var ye=a.e.r;a.e.r=e.sheetRows-1,i["!fullref"]=i["!ref"],i["!ref"]=Zn(a),a.e.r=ye}a.e.r++,a.e.c++}G.length>0&&(i["!merges"]=G),ae.length>0&&(i["!objects"]=ae),ie.length>0&&(i["!cols"]=ie),ue.length>0&&(i["!rows"]=ue),L.Sheets.push(I)}c===""?f=i:r[c]=i,i=e.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(k.biff===8&&(k.biff={9:2,521:3,1033:4}[ve]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[he.BIFFVer]||8),k.biffguess=he.BIFFVer==0,he.BIFFVer==0&&he.dt==4096&&(k.biff=5,ee=!0,il(k.codepage=28591)),k.biff==8&&he.BIFFVer==0&&he.dt==16&&(k.biff=2),oe++)break;if(i=e.dense?[]:{},k.biff<8&&!ee&&(ee=!0,il(k.codepage=e.codepage||1252)),k.biff<5||he.BIFFVer==0&&he.dt==4096){c===""&&(c="Sheet1"),a={s:{r:0,c:0},e:{r:0,c:0}};var Je={pos:n.l-we,name:c};s[Je.pos]=Je,k.snames.push(c)}else c=(s[de]||{name:""}).name;he.dt==32&&(i["!type"]="chart"),he.dt==64&&(i["!type"]="macro"),G=[],ae=[],k.arrayf=A=[],ie=[],ue=[],J=!1,I={Hidden:(s[de]||{hs:0}).hs,name:c}}break;case 515:case 3:case 2:i["!type"]=="chart"&&(e.dense?(i[he.r]||[])[he.c]:i[Pn({c:he.c,r:he.r})])&&++he.c,E={ixfe:he.ixfe,XF:D[he.ixfe]||{},v:he.val,t:"n"},C>0&&(E.z=W[E.ixfe>>8&63]),Fl(E,e,t.opts.Date1904),N({c:he.c,r:he.r},E,e);break;case 5:case 517:E={ixfe:he.ixfe,XF:D[he.ixfe],v:he.val,t:he.t},C>0&&(E.z=W[E.ixfe>>8&63]),Fl(E,e,t.opts.Date1904),N({c:he.c,r:he.r},E,e);break;case 638:E={ixfe:he.ixfe,XF:D[he.ixfe],v:he.rknum,t:"n"},C>0&&(E.z=W[E.ixfe>>8&63]),Fl(E,e,t.opts.Date1904),N({c:he.c,r:he.r},E,e);break;case 189:for(var q=he.c;q<=he.C;++q){var Re=he.rkrec[q-he.c][0];E={ixfe:Re,XF:D[Re],v:he.rkrec[q-he.c][1],t:"n"},C>0&&(E.z=W[E.ixfe>>8&63]),Fl(E,e,t.opts.Date1904),N({c:q,r:he.r},E,e)}break;case 6:case 518:case 1030:{if(he.val=="String"){o=he;break}if(E=Vg(he.val,he.cell.ixfe,he.tt),E.XF=D[E.ixfe],e.cellFormula){var je=he.formula;if(je&&je[0]&&je[0][0]&&je[0][0][0]=="PtgExp"){var Ve=je[0][0][1][0],Ie=je[0][0][1][1],Ke=Pn({r:Ve,c:Ie});y[Ke]?E.f=""+Ns(he.formula,a,he.cell,X,k):E.F=((e.dense?(i[Ve]||[])[Ie]:i[Ke])||{}).F}else E.f=""+Ns(he.formula,a,he.cell,X,k)}C>0&&(E.z=W[E.ixfe>>8&63]),Fl(E,e,t.opts.Date1904),N(he.cell,E,e),o=he}break;case 7:case 519:if(o)o.val=he,E=Vg(he,o.cell.ixfe,"s"),E.XF=D[E.ixfe],e.cellFormula&&(E.f=""+Ns(o.formula,a,o.cell,X,k)),C>0&&(E.z=W[E.ixfe>>8&63]),Fl(E,e,t.opts.Date1904),N(o.cell,E,e),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{A.push(he);var Et=Pn(he[0].s);if(m=e.dense?(i[he[0].s.r]||[])[he[0].s.c]:i[Et],e.cellFormula&&m){if(!o||!Et||!m)break;m.f=""+Ns(he[1],a,he[0],X,k),m.F=Zn(he[0])}}break;case 1212:{if(!e.cellFormula)break;if(p){if(!o)break;y[Pn(o.cell)]=he[0],m=e.dense?(i[o.cell.r]||[])[o.cell.c]:i[Pn(o.cell)],(m||{}).f=""+Ns(he[0],a,d,X,k)}}break;case 253:E=Vg(l[he.isst].t,he.ixfe,"s"),l[he.isst].h&&(E.h=l[he.isst].h),E.XF=D[E.ixfe],C>0&&(E.z=W[E.ixfe>>8&63]),Fl(E,e,t.opts.Date1904),N({c:he.c,r:he.r},E,e);break;case 513:e.sheetStubs&&(E={ixfe:he.ixfe,XF:D[he.ixfe],t:"z"},C>0&&(E.z=W[E.ixfe>>8&63]),Fl(E,e,t.opts.Date1904),N({c:he.c,r:he.r},E,e));break;case 190:if(e.sheetStubs)for(var ce=he.c;ce<=he.C;++ce){var Y=he.ixfe[ce-he.c];E={ixfe:Y,XF:D[Y],t:"z"},C>0&&(E.z=W[E.ixfe>>8&63]),Fl(E,e,t.opts.Date1904),N({c:ce,r:he.r},E,e)}break;case 214:case 516:case 4:E=Vg(he.val,he.ixfe,"s"),E.XF=D[E.ixfe],C>0&&(E.z=W[E.ixfe>>8&63]),Fl(E,e,t.opts.Date1904),N({c:he.c,r:he.r},E,e);break;case 0:case 512:oe===1&&(a=he);break;case 252:l=he;break;case 1054:if(k.biff==4){W[C++]=he[1];for(var Ne=0;Ne<C+163&&Nn[Ne]!=he[1];++Ne);Ne>=163&&Ph(he[1],C+163)}else Ph(he[1],he[0]);break;case 30:{W[C++]=he;for(var $e=0;$e<C+163&&Nn[$e]!=he;++$e);$e>=163&&Ph(he,C+163)}break;case 229:G=G.concat(he);break;case 93:ae[he.cmo[0]]=k.lastobj=he;break;case 438:k.lastobj.TxO=he;break;case 127:k.lastobj.ImData=he;break;case 440:for(g=he[0].s.r;g<=he[0].e.r;++g)for(x=he[0].s.c;x<=he[0].e.c;++x)m=e.dense?(i[g]||[])[x]:i[Pn({c:x,r:g})],m&&(m.l=he[1]);break;case 2048:for(g=he[0].s.r;g<=he[0].e.r;++g)for(x=he[0].s.c;x<=he[0].e.c;++x)m=e.dense?(i[g]||[])[x]:i[Pn({c:x,r:g})],m&&m.l&&(m.l.Tooltip=he[1]);break;case 28:{if(k.biff<=5&&k.biff>=2)break;m=e.dense?(i[he[0].r]||[])[he[0].c]:i[Pn(he[0])];var Qe=ae[he[2]];m||(e.dense?(i[he[0].r]||(i[he[0].r]=[]),m=i[he[0].r][he[0].c]={t:"z"}):m=i[Pn(he[0])]={t:"z"},a.e.r=Math.max(a.e.r,he[0].r),a.s.r=Math.min(a.s.r,he[0].r),a.e.c=Math.max(a.e.c,he[0].c),a.s.c=Math.min(a.s.c,he[0].c)),m.c||(m.c=[]),_={a:he[1],t:Qe.TxO.t},m.c.push(_)}break;case 2173:MH(D[he.ixfe],he.ext);break;case 125:{if(!k.cellStyles)break;for(;he.e>=he.s;)ie[he.e--]={width:he.w/256,level:he.level||0,hidden:!!(he.flags&1)},J||(J=!0,Rb(he.w/256)),A0(ie[he.e+1])}break;case 520:{var He={};he.level!=null&&(ue[he.r]=He,He.level=he.level),he.hidden&&(ue[he.r]=He,He.hidden=!0),he.hpt&&(ue[he.r]=He,He.hpt=he.hpt,He.hpx=xm(he.hpt))}break;case 38:case 39:case 40:case 41:i["!margins"]||Kp(i["!margins"]={}),i["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[ve]]=he;break;case 161:i["!margins"]||Kp(i["!margins"]={}),i["!margins"].header=he.header,i["!margins"].footer=he.footer;break;case 574:he.RTL&&(L.Views[0].RTL=!0);break;case 146:U=he;break;case 2198:j=he;break;case 140:M=he;break;case 442:c?I.CodeName=he||I.name:L.WBProps.CodeName=he||"ThisWorkbook";break}}else Ce||console.error("Missing Info for XLS Record 0x"+ve.toString(16)),n.l+=we}return t.SheetNames=Xl(s).sort(function(ht,Ye){return Number(ht)-Number(Ye)}).map(function(ht){return s[ht].name}),e.bookSheets||(t.Sheets=r),!t.SheetNames.length&&f["!ref"]?(t.SheetNames.push("Sheet1"),t.Sheets&&(t.Sheets.Sheet1=f)):t.Preamble=f,t.Sheets&&z.forEach(function(ht,Ye){t.Sheets[t.SheetNames[Ye]]["!autofilter"]=ht}),t.Strings=l,t.SSF=fs(Nn),k.enc&&(t.Encryption=k.enc),j&&(t.Themes=j),t.Metadata={},M!==void 0&&(t.Metadata.Country=M),X.names.length>0&&(L.Names=X.names),t.Workbook=L,t}var ET={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function aG(n,e,t){var r=Jn.find(n,"/!DocumentSummaryInformation");if(r&&r.size>0)try{var i=oT(r,SB,ET.DSI);for(var s in i)e[s]=i[s]}catch(c){if(t.WTF)throw c}var a=Jn.find(n,"/!SummaryInformation");if(a&&a.size>0)try{var o=oT(a,EB,ET.SI);for(var l in o)e[l]==null&&(e[l]=o[l])}catch(c){if(t.WTF)throw c}e.HeadingPairs&&e.TitlesOfParts&&(YC(e.HeadingPairs,e.TitlesOfParts,e,t),delete e.HeadingPairs,delete e.TitlesOfParts)}function LP(n,e){e||(e={}),Ib(e),oC(),e.codepage&&pb(e.codepage);var t,r;if(n.FullPaths){if(Jn.find(n,"/encryption"))throw new Error("File is password-protected");t=Jn.find(n,"!CompObj"),r=Jn.find(n,"/Workbook")||Jn.find(n,"/Book")}else{switch(e.type){case"base64":n=nl(Za(n));break;case"binary":n=nl(n);break;case"buffer":break;case"array":Array.isArray(n)||(n=Array.prototype.slice.call(n));break}us(n,0),r={content:n}}var i,s;if(t&&nG(t),e.bookProps&&!e.bookSheets)i={};else{var a=$n?"buffer":"array";if(r&&r.content)i=sG(r.content,e);else if((s=Jn.find(n,"PerfectOffice_MAIN"))&&s.content)i=$p.to_workbook(s.content,(e.type=a,e));else if((s=Jn.find(n,"NativeContent_MAIN"))&&s.content)i=$p.to_workbook(s.content,(e.type=a,e));else throw(s=Jn.find(n,"MN0"))&&s.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");e.bookVBA&&n.FullPaths&&Jn.find(n,"/_VBA_PROJECT_CUR/VBA/dir")&&(i.vbaraw=GH(n))}var o={};return n.FullPaths&&aG(n,o,e),i.Props=i.Custprops=o,e.bookFiles&&(i.cfb=n),i}var Nx={0:{f:HV},1:{f:GV},2:{f:eW},3:{f:YV},4:{f:XV},5:{f:QV},6:{f:rW},7:{f:JV},8:{f:lW},9:{f:oW},10:{f:sW},11:{f:aW},12:{f:qV},13:{f:tW},14:{f:KV},15:{f:$V},16:{f:MP},17:{f:iW},18:{f:ZV},19:{f:Ab},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:DW},40:{},42:{},43:{f:sH},44:{f:iH},45:{f:aH},46:{f:lH},47:{f:oH},48:{},49:{f:cB},50:{},51:{f:PH},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:oP},62:{f:nW},63:{f:FH},64:{f:xW},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Hs,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:gW},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:WV},148:{f:jV,p:16},151:{f:fW},152:{},153:{f:NW},154:{},155:{},156:{f:LW},157:{},158:{},159:{T:1,f:Ez},160:{T:-1},161:{T:1,f:$h},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:cW},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:CH},336:{T:-1},337:{f:kH,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Ey},357:{},358:{},359:{},360:{T:1},361:{},362:{f:aP},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:hW},427:{f:dW},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:mW},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:VV},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:uW},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Ey},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:jH},633:{T:1},634:{T:-1},635:{T:1,f:HH},636:{T:-1},637:{f:fB},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:SW},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:vW},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},Py={6:{f:Y2},10:{f:Ou},12:{f:ki},13:{f:ki},14:{f:vi},15:{f:vi},16:{f:Ds},17:{f:vi},18:{f:vi},19:{f:ki},20:{f:fT},21:{f:fT},23:{f:aP},24:{f:dT},25:{f:vi},26:{},27:{},28:{f:B9},29:{},34:{f:vi},35:{f:hT},38:{f:Ds},39:{f:Ds},40:{f:Ds},41:{f:Ds},42:{f:vi},43:{f:vi},47:{f:Vz},49:{f:y9},51:{f:ki},60:{},61:{f:x9},64:{f:vi},65:{f:_9},66:{f:ki},77:{},80:{},81:{},82:{},85:{f:ki},89:{},90:{},91:{},92:{f:c9},93:{f:H9},94:{},95:{f:vi},96:{},97:{},99:{f:vi},125:{f:oP},128:{f:k9},129:{f:u9},130:{f:ki},131:{f:vi},132:{f:vi},133:{f:f9},134:{},140:{f:X9},141:{f:ki},144:{},146:{f:Y9},151:{},152:{},153:{},154:{},155:{},156:{f:ki},157:{},158:{},160:{f:ez},161:{f:J9},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:T9},190:{f:M9},193:{f:Ou},197:{},198:{},199:{},200:{},201:{},202:{f:vi},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:ki},220:{},221:{f:vi},222:{},224:{f:P9},225:{f:l9},226:{f:Ou},227:{},229:{f:z9},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:h9},253:{f:w9},255:{f:d9},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:eP},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:vi},353:{f:Ou},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:L9},431:{f:vi},432:{},433:{},434:{},437:{},438:{f:W9},439:{f:vi},440:{f:G9},441:{},442:{f:Nm},443:{},444:{f:ki},445:{},446:{},448:{f:Ou},449:{f:g9,r:2},450:{f:Ou},512:{f:cT},513:{f:Q9},515:{f:R9},516:{f:b9},517:{f:uT},519:{f:tz},520:{f:p9},523:{},545:{f:pT},549:{f:lT},566:{},574:{f:v9},638:{f:A9},659:{},1048:{},1054:{f:S9},1084:{},1212:{f:I9},2048:{f:q9},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:zg},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Ou},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:K9,r:12},2173:{f:TH,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:vi,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:D9,r:12},2197:{},2198:{f:yH,r:12},2199:{},2200:{},2201:{},2202:{f:O9,r:12},2203:{f:Ou},2204:{},2205:{},2206:{},2207:{},2211:{f:m9},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:ki},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:Z9},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:$9},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:cT},1:{},2:{f:sz},3:{f:iz},4:{f:rz},5:{f:uT},7:{f:az},8:{},9:{f:zg},11:{},22:{f:ki},30:{f:E9},31:{},32:{},33:{f:pT},36:{},37:{f:lT},50:{f:oz},62:{},52:{},67:{},68:{f:ki},69:{},86:{},126:{},127:{f:nz},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:lz},223:{},234:{},354:{},421:{},518:{f:Y2},521:{f:zg},536:{f:dT},547:{f:hT},561:{},579:{},1030:{f:Y2},1033:{f:zg},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function $o(n,e,t,r){var i=e;if(!isNaN(i)){var s=(t||[]).length||0,a=n.next(4);a.write_shift(2,i),a.write_shift(2,s),s>0&&HC(t)&&n.push(t)}}function AT(n,e){var t=e||{},r=t.dense?[]:{};n=n.replace(/<!--.*?-->/g,"");var i=n.match(/<table/i);if(!i)throw new Error("Invalid HTML: could not find <table>");var s=n.match(/<\/table/i),a=i.index,o=s&&s.index||n.length,l=RU(n.slice(a,o),/(:?<tr[^>]*>)/i,"<tr>"),c=-1,f=0,d=0,p=0,m={s:{r:1e7,c:1e7},e:{r:0,c:0}},_=[];for(a=0;a<l.length;++a){var x=l[a].trim(),g=x.slice(0,3).toLowerCase();if(g=="<tr"){if(++c,t.sheetRows&&t.sheetRows<=c){--c;break}f=0;continue}if(!(g!="<td"&&g!="<th")){var y=x.split(/<\/t[dh]>/i);for(o=0;o<y.length;++o){var A=y[o].trim();if(A.match(/<t[dh]/i)){for(var E=A,M=0;E.charAt(0)=="<"&&(M=E.indexOf(">"))>-1;)E=E.slice(M+1);for(var D=0;D<_.length;++D){var U=_[D];U.s.c==f&&U.s.r<c&&c<=U.e.r&&(f=U.e.c+1,D=-1)}var L=bn(A.slice(0,A.indexOf(">")));p=L.colspan?+L.colspan:1,((d=+L.rowspan)>1||p>1)&&_.push({s:{r:c,c:f},e:{r:c+(d||1)-1,c:f+p-1}});var I=L.t||L["data-t"]||"";if(!E.length){f+=p;continue}if(E=CC(E),m.s.r>c&&(m.s.r=c),m.e.r<c&&(m.e.r=c),m.s.c>f&&(m.s.c=f),m.e.c<f&&(m.e.c=f),!E.length){f+=p;continue}var R={t:"s",v:E};t.raw||!E.trim().length||I=="s"||(E==="TRUE"?R={t:"b",v:!0}:E==="FALSE"?R={t:"b",v:!1}:isNaN(ll(E))?isNaN(E0(E).getDate())||(R={t:"d",v:es(E)},t.cellDates||(R={t:"n",v:ua(R.v)}),R.z=t.dateNF||Nn[14]):R={t:"n",v:ll(E)}),t.dense?(r[c]||(r[c]=[]),r[c][f]=R):r[Pn({r:c,c:f})]=R,f+=p}}}}return r["!ref"]=Zn(m),_.length&&(r["!merges"]=_),r}function oG(n,e,t,r){for(var i=n["!merges"]||[],s=[],a=e.s.c;a<=e.e.c;++a){for(var o=0,l=0,c=0;c<i.length;++c)if(!(i[c].s.r>t||i[c].s.c>a)&&!(i[c].e.r<t||i[c].e.c<a)){if(i[c].s.r<t||i[c].s.c<a){o=-1;break}o=i[c].e.r-i[c].s.r+1,l=i[c].e.c-i[c].s.c+1;break}if(!(o<0)){var f=Pn({r:t,c:a}),d=r.dense?(n[t]||[])[a]:n[f],p=d&&d.v!=null&&(d.h||yb(d.w||($c(d),d.w)||""))||"",m={};o>1&&(m.rowspan=o),l>1&&(m.colspan=l),r.editable?p='<span contenteditable="true">'+p+"</span>":d&&(m["data-t"]=d&&d.t||"z",d.v!=null&&(m["data-v"]=d.v),d.z!=null&&(m["data-z"]=d.z),d.l&&(d.l.Target||"#").charAt(0)!="#"&&(p='<a href="'+d.l.Target+'">'+p+"</a>")),m.id=(r.id||"sjs")+"-"+f,s.push(XU("td",p,m))}}var _="<tr>";return _+s.join("")+"</tr>"}var lG='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',cG="</body></html>";function uG(n,e){var t=n.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!t||t.length==0)throw new Error("Invalid HTML: could not find <table>");if(t.length==1)return Tf(AT(t[0],e),e);var r=Ub();return t.forEach(function(i,s){Bb(r,AT(i,e),"Sheet"+(s+1))}),r}function fG(n,e,t){var r=[];return r.join("")+"<table"+(t&&t.id?' id="'+t.id+'"':"")+">"}function hG(n,e){var t=e||{},r=t.header!=null?t.header:lG,i=t.footer!=null?t.footer:cG,s=[r],a=O0(n["!ref"]);t.dense=Array.isArray(n),s.push(fG(n,a,t));for(var o=a.s.r;o<=a.e.r;++o)s.push(oG(n,a,o,t));return s.push("</table>"+i),s.join("")}function NP(n,e,t){var r=t||{},i=0,s=0;if(r.origin!=null)if(typeof r.origin=="number")i=r.origin;else{var a=typeof r.origin=="string"?oa(r.origin):r.origin;i=a.r,s=a.c}var o=e.getElementsByTagName("tr"),l=Math.min(r.sheetRows||1e7,o.length),c={s:{r:0,c:0},e:{r:i,c:s}};if(n["!ref"]){var f=O0(n["!ref"]);c.s.r=Math.min(c.s.r,f.s.r),c.s.c=Math.min(c.s.c,f.s.c),c.e.r=Math.max(c.e.r,f.e.r),c.e.c=Math.max(c.e.c,f.e.c),i==-1&&(c.e.r=i=f.e.r+1)}var d=[],p=0,m=n["!rows"]||(n["!rows"]=[]),_=0,x=0,g=0,y=0,A=0,E=0;for(n["!cols"]||(n["!cols"]=[]);_<o.length&&x<l;++_){var M=o[_];if(TT(M)){if(r.display)continue;m[x]={hidden:!0}}var D=M.children;for(g=y=0;g<D.length;++g){var U=D[g];if(!(r.display&&TT(U))){var L=U.hasAttribute("data-v")?U.getAttribute("data-v"):U.hasAttribute("v")?U.getAttribute("v"):CC(U.innerHTML),I=U.getAttribute("data-z")||U.getAttribute("z");for(p=0;p<d.length;++p){var R=d[p];R.s.c==y+s&&R.s.r<x+i&&x+i<=R.e.r&&(y=R.e.c+1-s,p=-1)}E=+U.getAttribute("colspan")||1,((A=+U.getAttribute("rowspan")||1)>1||E>1)&&d.push({s:{r:x+i,c:y+s},e:{r:x+i+(A||1)-1,c:y+s+(E||1)-1}});var O={t:"s",v:L},N=U.getAttribute("data-t")||U.getAttribute("t")||"";L!=null&&(L.length==0?O.t=N||"z":r.raw||L.trim().length==0||N=="s"||(L==="TRUE"?O={t:"b",v:!0}:L==="FALSE"?O={t:"b",v:!1}:isNaN(ll(L))?isNaN(E0(L).getDate())||(O={t:"d",v:es(L)},r.cellDates||(O={t:"n",v:ua(O.v)}),O.z=r.dateNF||Nn[14]):O={t:"n",v:ll(L)})),O.z===void 0&&I!=null&&(O.z=I);var k="",j=U.getElementsByTagName("A");if(j&&j.length)for(var G=0;G<j.length&&!(j[G].hasAttribute("href")&&(k=j[G].getAttribute("href"),k.charAt(0)!="#"));++G);k&&k.charAt(0)!="#"&&(O.l={Target:k}),r.dense?(n[x+i]||(n[x+i]=[]),n[x+i][y+s]=O):n[Pn({c:y+s,r:x+i})]=O,c.e.c<y+s&&(c.e.c=y+s),y+=E}}++x}return d.length&&(n["!merges"]=(n["!merges"]||[]).concat(d)),c.e.r=Math.max(c.e.r,x-1+i),n["!ref"]=Zn(c),x>=l&&(n["!fullref"]=Zn((c.e.r=o.length-_+x-1+i,c))),n}function FP(n,e){var t=e||{},r=t.dense?[]:{};return NP(r,n,e)}function dG(n,e){return Tf(FP(n,e),e)}function TT(n){var e="",t=pG(n);return t&&(e=t(n).getPropertyValue("display")),e||(e=n.style&&n.style.display),e==="none"}function pG(n){return n.ownerDocument.defaultView&&typeof n.ownerDocument.defaultView.getComputedStyle=="function"?n.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function mG(n){var e=n.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(r,i){return Array(parseInt(i,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),t=tr(e.replace(/<[^>]*>/g,""));return[t]}var MT={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function DP(n,e){var t=e||{},r=wb(n),i=[],s,a,o={name:""},l="",c=0,f,d,p={},m=[],_=t.dense?[]:{},x,g,y={value:""},A="",E=0,M=[],D=-1,U=-1,L={s:{r:1e6,c:1e7},e:{r:0,c:0}},I=0,R={},O=[],N={},k=0,j=0,G=[],ae=1,ie=1,ue=[],J={Names:[]},X={},pe=["",""],oe=[],C={},W="",z=0,V=!1,ee=!1,de=0;for(pm.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");x=pm.exec(r);)switch(x[3]=x[3].replace(/_.*$/,"")){case"table":case"工作表":x[1]==="/"?(L.e.c>=L.s.c&&L.e.r>=L.s.r?_["!ref"]=Zn(L):_["!ref"]="A1:A1",t.sheetRows>0&&t.sheetRows<=L.e.r&&(_["!fullref"]=_["!ref"],L.e.r=t.sheetRows-1,_["!ref"]=Zn(L)),O.length&&(_["!merges"]=O),G.length&&(_["!rows"]=G),f.name=f.名称||f.name,typeof JSON<"u"&&JSON.stringify(f),m.push(f.name),p[f.name]=_,ee=!1):x[0].charAt(x[0].length-2)!=="/"&&(f=bn(x[0],!1),D=U=-1,L.s.r=L.s.c=1e7,L.e.r=L.e.c=0,_=t.dense?[]:{},O=[],G=[],ee=!0);break;case"table-row-group":x[1]==="/"?--I:++I;break;case"table-row":case"行":if(x[1]==="/"){D+=ae,ae=1;break}if(d=bn(x[0],!1),d.行号?D=d.行号-1:D==-1&&(D=0),ae=+d["number-rows-repeated"]||1,ae<10)for(de=0;de<ae;++de)I>0&&(G[D+de]={level:I});U=-1;break;case"covered-table-cell":x[1]!=="/"&&++U,t.sheetStubs&&(t.dense?(_[D]||(_[D]=[]),_[D][U]={t:"z"}):_[Pn({r:D,c:U})]={t:"z"}),A="",M=[];break;case"table-cell":case"数据":if(x[0].charAt(x[0].length-2)==="/")++U,y=bn(x[0],!1),ie=parseInt(y["number-columns-repeated"]||"1",10),g={t:"z",v:null},y.formula&&t.cellFormula!=!1&&(g.f=wT(tr(y.formula))),(y.数据类型||y["value-type"])=="string"&&(g.t="s",g.v=tr(y["string-value"]||""),t.dense?(_[D]||(_[D]=[]),_[D][U]=g):_[Pn({r:D,c:U})]=g),U+=ie-1;else if(x[1]!=="/"){++U,A="",E=0,M=[],ie=1;var ve=ae?D+ae-1:D;if(U>L.e.c&&(L.e.c=U),U<L.s.c&&(L.s.c=U),D<L.s.r&&(L.s.r=D),ve>L.e.r&&(L.e.r=ve),y=bn(x[0],!1),oe=[],C={},g={t:y.数据类型||y["value-type"],v:null},t.cellFormula)if(y.formula&&(y.formula=tr(y.formula)),y["number-matrix-columns-spanned"]&&y["number-matrix-rows-spanned"]&&(k=parseInt(y["number-matrix-rows-spanned"],10)||0,j=parseInt(y["number-matrix-columns-spanned"],10)||0,N={s:{r:D,c:U},e:{r:D+k-1,c:U+j-1}},g.F=Zn(N),ue.push([N,g.F])),y.formula)g.f=wT(y.formula);else for(de=0;de<ue.length;++de)D>=ue[de][0].s.r&&D<=ue[de][0].e.r&&U>=ue[de][0].s.c&&U<=ue[de][0].e.c&&(g.F=ue[de][1]);switch((y["number-columns-spanned"]||y["number-rows-spanned"])&&(k=parseInt(y["number-rows-spanned"],10)||0,j=parseInt(y["number-columns-spanned"],10)||0,N={s:{r:D,c:U},e:{r:D+k-1,c:U+j-1}},O.push(N)),y["number-columns-repeated"]&&(ie=parseInt(y["number-columns-repeated"],10)),g.t){case"boolean":g.t="b",g.v=Xr(y["boolean-value"]);break;case"float":g.t="n",g.v=parseFloat(y.value);break;case"percentage":g.t="n",g.v=parseFloat(y.value);break;case"currency":g.t="n",g.v=parseFloat(y.value);break;case"date":g.t="d",g.v=es(y["date-value"]),t.cellDates||(g.t="n",g.v=ua(g.v)),g.z="m/d/yy";break;case"time":g.t="n",g.v=CU(y["time-value"])/86400,t.cellDates&&(g.t="d",g.v=ov(g.v)),g.z="HH:MM:SS";break;case"number":g.t="n",g.v=parseFloat(y.数据数值);break;default:if(g.t==="string"||g.t==="text"||!g.t)g.t="s",y["string-value"]!=null&&(A=tr(y["string-value"]),M=[]);else throw new Error("Unsupported value type "+g.t)}}else{if(V=!1,g.t==="s"&&(g.v=A||"",M.length&&(g.R=M),V=E==0),X.Target&&(g.l=X),oe.length>0&&(g.c=oe,oe=[]),A&&t.cellText!==!1&&(g.w=A),V&&(g.t="z",delete g.v),(!V||t.sheetStubs)&&!(t.sheetRows&&t.sheetRows<=D))for(var we=0;we<ae;++we){if(ie=parseInt(y["number-columns-repeated"]||"1",10),t.dense)for(_[D+we]||(_[D+we]=[]),_[D+we][U]=we==0?g:fs(g);--ie>0;)_[D+we][U+ie]=fs(g);else for(_[Pn({r:D+we,c:U})]=g;--ie>0;)_[Pn({r:D+we,c:U+ie})]=fs(g);L.e.c<=U&&(L.e.c=U)}ie=parseInt(y["number-columns-repeated"]||"1",10),U+=ie-1,ie=0,g={},A="",M=[]}X={};break;case"document":case"document-content":case"电子表格文档":case"spreadsheet":case"主体":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(x[1]==="/"){if((s=i.pop())[0]!==x[3])throw"Bad state: "+s}else x[0].charAt(x[0].length-2)!=="/"&&i.push([x[3],!0]);break;case"annotation":if(x[1]==="/"){if((s=i.pop())[0]!==x[3])throw"Bad state: "+s;C.t=A,M.length&&(C.R=M),C.a=W,oe.push(C)}else x[0].charAt(x[0].length-2)!=="/"&&i.push([x[3],!1]);W="",z=0,A="",E=0,M=[];break;case"creator":x[1]==="/"?W=r.slice(z,x.index):z=x.index+x[0].length;break;case"meta":case"元数据":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(x[1]==="/"){if((s=i.pop())[0]!==x[3])throw"Bad state: "+s}else x[0].charAt(x[0].length-2)!=="/"&&i.push([x[3],!1]);A="",E=0,M=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(x[1]==="/"){if(R[o.name]=l,(s=i.pop())[0]!==x[3])throw"Bad state: "+s}else x[0].charAt(x[0].length-2)!=="/"&&(l="",o=bn(x[0],!1),i.push([x[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(i[i.length-1][0]){case"time-style":case"date-style":a=bn(x[0],!1),l+=MT[x[3]][a.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(i[i.length-1][0]){case"time-style":case"date-style":a=bn(x[0],!1),l+=MT[x[3]][a.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(x[0].slice(-2)==="/>")break;if(x[1]==="/")switch(i[i.length-1][0]){case"number-style":case"date-style":case"time-style":l+=r.slice(c,x.index);break}else c=x.index+x[0].length;break;case"named-range":a=bn(x[0],!1),pe=K2(a["cell-range-address"]);var Ce={Name:a.name,Ref:pe[0]+"!"+pe[1]};ee&&(Ce.Sheet=m.length),J.Names.push(Ce);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"电子表格":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"文本串":if(["master-styles"].indexOf(i[i.length-1][0])>-1)break;if(x[1]==="/"&&(!y||!y["string-value"])){var lt=mG(r.slice(E,x.index));A=(A.length>0?A+`
`:"")+lt[0]}else bn(x[0],!1),E=x.index+x[0].length;break;case"s":break;case"database-range":if(x[1]==="/")break;try{pe=K2(bn(x[0])["target-range-address"]),p[pe[0]]["!autofilter"]={ref:pe[1]}}catch{}break;case"date":break;case"object":break;case"title":case"标题":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(x[1]!=="/"){if(X=bn(x[0],!1),!X.href)break;X.Target=tr(X.href),delete X.href,X.Target.charAt(0)=="#"&&X.Target.indexOf(".")>-1?(pe=K2(X.Target.slice(1)),X.Target="#"+pe[0]+"!"+pe[1]):X.Target.match(/^\.\.[\\\/]/)&&(X.Target=X.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(x[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case"表:":case"字:":break;default:if(t.WTF)throw new Error(x)}}var he={Sheets:p,SheetNames:m,Workbook:J};return t.bookSheets&&delete he.Sheets,he}function CT(n,e){e=e||{},wo(n,"META-INF/manifest.xml")&&RB(Pi(n,"META-INF/manifest.xml"),e);var t=Ya(n,"content.xml");if(!t)throw new Error("Missing content.xml in ODS / UOF file");var r=DP(Fr(t),e);return wo(n,"meta.xml")&&(r.Props=$C(Pi(n,"meta.xml"))),r}function PT(n,e){return DP(n,e)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Fb(n){return new DataView(n.buffer,n.byteOffset,n.byteLength)}function ky(n){return typeof TextDecoder<"u"?new TextDecoder().decode(n):Fr(qh(n))}function Ry(n){var e=n.reduce(function(i,s){return i+s.length},0),t=new Uint8Array(e),r=0;return n.forEach(function(i){t.set(i,r),r+=i.length}),t}function kT(n){return n-=n>>1&1431655765,n=(n&858993459)+(n>>2&858993459),(n+(n>>4)&252645135)*16843009>>>24}function gG(n,e){for(var t=(n[e+15]&127)<<7|n[e+14]>>1,r=n[e+14]&1,i=e+13;i>=e;--i)r=r*256+n[i];return(n[e+15]&128?-r:r)*Math.pow(10,t-6176)}function vm(n,e){var t=e?e[0]:0,r=n[t]&127;e:if(n[t++]>=128&&(r|=(n[t]&127)<<7,n[t++]<128||(r|=(n[t]&127)<<14,n[t++]<128)||(r|=(n[t]&127)<<21,n[t++]<128)||(r+=(n[t]&127)*Math.pow(2,28),++t,n[t++]<128)||(r+=(n[t]&127)*Math.pow(2,35),++t,n[t++]<128)||(r+=(n[t]&127)*Math.pow(2,42),++t,n[t++]<128)))break e;return e&&(e[0]=t),r}function Bi(n){var e=0,t=n[e]&127;e:if(n[e++]>=128){if(t|=(n[e]&127)<<7,n[e++]<128||(t|=(n[e]&127)<<14,n[e++]<128)||(t|=(n[e]&127)<<21,n[e++]<128))break e;t|=(n[e]&127)<<28}return t}function Us(n){for(var e=[],t=[0];t[0]<n.length;){var r=t[0],i=vm(n,t),s=i&7;i=Math.floor(i/8);var a=0,o;if(i==0)break;switch(s){case 0:{for(var l=t[0];n[t[0]++]>=128;);o=n.slice(l,t[0])}break;case 5:a=4,o=n.slice(t[0],t[0]+a),t[0]+=a;break;case 1:a=8,o=n.slice(t[0],t[0]+a),t[0]+=a;break;case 2:a=vm(n,t),o=n.slice(t[0],t[0]+a),t[0]+=a;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(i," at offset ").concat(r))}var c={data:o,type:s};e[i]==null?e[i]=[c]:e[i].push(c)}return e}function Db(n,e){return(n==null?void 0:n.map(function(t){return e(t.data)}))||[]}function xG(n){for(var e,t=[],r=[0];r[0]<n.length;){var i=vm(n,r),s=Us(n.slice(r[0],r[0]+i));r[0]+=i;var a={id:Bi(s[1][0].data),messages:[]};s[2].forEach(function(o){var l=Us(o.data),c=Bi(l[3][0].data);a.messages.push({meta:l,data:n.slice(r[0],r[0]+c)}),r[0]+=c}),(e=s[3])!=null&&e[0]&&(a.merge=Bi(s[3][0].data)>>>0>0),t.push(a)}return t}function vG(n,e){if(n!=0)throw new Error("Unexpected Snappy chunk type ".concat(n));for(var t=[0],r=vm(e,t),i=[];t[0]<e.length;){var s=e[t[0]]&3;if(s==0){var a=e[t[0]++]>>2;if(a<60)++a;else{var o=a-59;a=e[t[0]],o>1&&(a|=e[t[0]+1]<<8),o>2&&(a|=e[t[0]+2]<<16),o>3&&(a|=e[t[0]+3]<<24),a>>>=0,a++,t[0]+=o}i.push(e.slice(t[0],t[0]+a)),t[0]+=a;continue}else{var l=0,c=0;if(s==1?(c=(e[t[0]]>>2&7)+4,l=(e[t[0]++]&224)<<3,l|=e[t[0]++]):(c=(e[t[0]++]>>2)+1,s==2?(l=e[t[0]]|e[t[0]+1]<<8,t[0]+=2):(l=(e[t[0]]|e[t[0]+1]<<8|e[t[0]+2]<<16|e[t[0]+3]<<24)>>>0,t[0]+=4)),i=[Ry(i)],l==0)throw new Error("Invalid offset 0");if(l>i[0].length)throw new Error("Invalid offset beyond length");if(c>=l)for(i.push(i[0].slice(-l)),c-=l;c>=i[i.length-1].length;)i.push(i[i.length-1]),c-=i[i.length-1].length;i.push(i[0].slice(-l,-l+c))}}var f=Ry(i);if(f.length!=r)throw new Error("Unexpected length: ".concat(f.length," != ").concat(r));return f}function _G(n){for(var e=[],t=0;t<n.length;){var r=n[t++],i=n[t]|n[t+1]<<8|n[t+2]<<16;t+=3,e.push(vG(r,n.slice(t,t+i))),t+=i}if(t!==n.length)throw new Error("data is not a valid framed stream!");return Ry(e)}function yG(n,e,t,r){var i=Fb(n),s=i.getUint32(4,!0),a=(r>1?12:8)+kT(s&(r>1?3470:398))*4,o=-1,l=-1,c=NaN,f=new Date(2001,0,1);s&512&&(o=i.getUint32(a,!0),a+=4),a+=kT(s&(r>1?12288:4096))*4,s&16&&(l=i.getUint32(a,!0),a+=4),s&32&&(c=i.getFloat64(a,!0),a+=8),s&64&&(f.setTime(f.getTime()+i.getFloat64(a,!0)*1e3),a+=8);var d;switch(n[2]){case 0:break;case 2:d={t:"n",v:c};break;case 3:d={t:"s",v:e[l]};break;case 5:d={t:"d",v:f};break;case 6:d={t:"b",v:c>0};break;case 7:d={t:"n",v:c/86400};break;case 8:d={t:"e",v:0};break;case 9:if(o>-1)d={t:"s",v:t[o]};else if(l>-1)d={t:"s",v:e[l]};else if(!isNaN(c))d={t:"n",v:c};else throw new Error("Unsupported cell type ".concat(n.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(n.slice(0,4)))}return d}function wG(n,e,t){var r=Fb(n),i=r.getUint32(8,!0),s=12,a=-1,o=-1,l=NaN,c=NaN,f=new Date(2001,0,1);i&1&&(l=gG(n,s),s+=16),i&2&&(c=r.getFloat64(s,!0),s+=8),i&4&&(f.setTime(f.getTime()+r.getFloat64(s,!0)*1e3),s+=8),i&8&&(o=r.getUint32(s,!0),s+=4),i&16&&(a=r.getUint32(s,!0),s+=4);var d;switch(n[1]){case 0:break;case 2:d={t:"n",v:l};break;case 3:d={t:"s",v:e[o]};break;case 5:d={t:"d",v:f};break;case 6:d={t:"b",v:c>0};break;case 7:d={t:"n",v:c/86400};break;case 8:d={t:"e",v:0};break;case 9:if(a>-1)d={t:"s",v:t[a]};else throw new Error("Unsupported cell type ".concat(n[1]," : ").concat(i&31," : ").concat(n.slice(0,4)));break;case 10:d={t:"n",v:l};break;default:throw new Error("Unsupported cell type ".concat(n[1]," : ").concat(i&31," : ").concat(n.slice(0,4)))}return d}function bG(n,e,t){switch(n[0]){case 0:case 1:case 2:case 3:return yG(n,e,t,n[0]);case 5:return wG(n,e,t);default:throw new Error("Unsupported payload version ".concat(n[0]))}}function cf(n){var e=Us(n);return vm(e[1][0].data)}function RT(n,e){var t=Us(e.data),r=Bi(t[1][0].data),i=t[3],s=[];return(i||[]).forEach(function(a){var o=Us(a.data),l=Bi(o[1][0].data)>>>0;switch(r){case 1:s[l]=ky(o[3][0].data);break;case 8:{var c=n[cf(o[9][0].data)][0],f=Us(c.data),d=n[cf(f[1][0].data)][0],p=Bi(d.meta[1][0].data);if(p!=2001)throw new Error("2000 unexpected reference to ".concat(p));var m=Us(d.data);s[l]=m[3].map(function(_){return ky(_.data)}).join("")}break}}),s}function SG(n,e){var t,r,i,s,a,o,l,c,f,d,p,m,_,x,g=Us(n),y=Bi(g[1][0].data)>>>0,A=Bi(g[2][0].data)>>>0,E=((r=(t=g[8])==null?void 0:t[0])==null?void 0:r.data)&&Bi(g[8][0].data)>0||!1,M,D;if((s=(i=g[7])==null?void 0:i[0])!=null&&s.data&&e!=0)M=(o=(a=g[7])==null?void 0:a[0])==null?void 0:o.data,D=(c=(l=g[6])==null?void 0:l[0])==null?void 0:c.data;else if((d=(f=g[4])==null?void 0:f[0])!=null&&d.data&&e!=1)M=(m=(p=g[4])==null?void 0:p[0])==null?void 0:m.data,D=(x=(_=g[3])==null?void 0:_[0])==null?void 0:x.data;else throw"NUMBERS Tile missing ".concat(e," cell storage");for(var U=E?4:1,L=Fb(M),I=[],R=0;R<M.length/2;++R){var O=L.getUint16(R*2,!0);O<65535&&I.push([R,O])}if(I.length!=A)throw"Expected ".concat(A," cells, found ").concat(I.length);var N=[];for(R=0;R<I.length-1;++R)N[I[R][0]]=D.subarray(I[R][1]*U,I[R+1][1]*U);return I.length>=1&&(N[I[I.length-1][0]]=D.subarray(I[I.length-1][1]*U)),{R:y,cells:N}}function EG(n,e){var t,r=Us(e.data),i=(t=r==null?void 0:r[7])!=null&&t[0]?Bi(r[7][0].data)>>>0>0?1:0:-1,s=Db(r[5],function(a){return SG(a,i)});return{nrows:Bi(r[4][0].data)>>>0,data:s.reduce(function(a,o){return a[o.R]||(a[o.R]=[]),o.cells.forEach(function(l,c){if(a[o.R][c])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(c));a[o.R][c]=l}),a},[])}}function AG(n,e,t){var r,i=Us(e.data),s={s:{r:0,c:0},e:{r:0,c:0}};if(s.e.r=(Bi(i[6][0].data)>>>0)-1,s.e.r<0)throw new Error("Invalid row varint ".concat(i[6][0].data));if(s.e.c=(Bi(i[7][0].data)>>>0)-1,s.e.c<0)throw new Error("Invalid col varint ".concat(i[7][0].data));t["!ref"]=Zn(s);var a=Us(i[4][0].data),o=RT(n,n[cf(a[4][0].data)][0]),l=(r=a[17])!=null&&r[0]?RT(n,n[cf(a[17][0].data)][0]):[],c=Us(a[3][0].data),f=0;c[1].forEach(function(d){var p=Us(d.data),m=n[cf(p[2][0].data)][0],_=Bi(m.meta[1][0].data);if(_!=6002)throw new Error("6001 unexpected reference to ".concat(_));var x=EG(n,m);x.data.forEach(function(g,y){g.forEach(function(A,E){var M=Pn({r:f+y,c:E}),D=bG(A,o,l);D&&(t[M]=D)})}),f+=x.nrows})}function TG(n,e){var t=Us(e.data),r={"!ref":"A1"},i=n[cf(t[2][0].data)],s=Bi(i[0].meta[1][0].data);if(s!=6001)throw new Error("6000 unexpected reference to ".concat(s));return AG(n,i[0],r),r}function MG(n,e){var t,r=Us(e.data),i={name:(t=r[1])!=null&&t[0]?ky(r[1][0].data):"",sheets:[]},s=Db(r[2],cf);return s.forEach(function(a){n[a].forEach(function(o){var l=Bi(o.meta[1][0].data);l==6e3&&i.sheets.push(TG(n,o))})}),i}function CG(n,e){var t=Ub(),r=Us(e.data),i=Db(r[1],cf);if(i.forEach(function(s){n[s].forEach(function(a){var o=Bi(a.meta[1][0].data);if(o==2){var l=MG(n,a);l.sheets.forEach(function(c,f){Bb(t,c,f==0?l.name:l.name+"_"+f,!0)})}})}),t.SheetNames.length==0)throw new Error("Empty NUMBERS file");return t}function Z2(n){var e,t,r,i,s={},a=[];if(n.FullPaths.forEach(function(l){if(l.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),n.FileIndex.forEach(function(l){if(l.name.match(/\.iwa$/)){var c;try{c=_G(l.content)}catch(d){return console.log("?? "+l.content.length+" "+(d.message||d))}var f;try{f=xG(c)}catch(d){return console.log("## "+(d.message||d))}f.forEach(function(d){s[d.id]=d.messages,a.push(d.id)})}}),!a.length)throw new Error("File has no messages");var o=((i=(r=(t=(e=s==null?void 0:s[1])==null?void 0:e[0])==null?void 0:t.meta)==null?void 0:r[1])==null?void 0:i[0].data)&&Bi(s[1][0].meta[1][0].data)==1&&s[1][0];if(o||a.forEach(function(l){s[l].forEach(function(c){var f=Bi(c.meta[1][0].data)>>>0;if(f==1)if(!o)o=c;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return CG(s,o)}function PG(n){return function(t){for(var r=0;r!=n.length;++r){var i=n[r];t[i[0]]===void 0&&(t[i[0]]=i[1]),i[2]==="n"&&(t[i[0]]=Number(t[i[0]]))}}}function Ib(n){PG([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(n)}function kG(n){return Qd.WS.indexOf(n)>-1?"sheet":n==Qd.CS?"chart":n==Qd.DS?"dialog":n==Qd.MS?"macro":n&&n.length?n:"sheet"}function RG(n,e){if(!n)return 0;try{n=e.map(function(r){return r.id||(r.id=r.strRelID),[r.name,n["!id"][r.id].Target,kG(n["!id"][r.id].Type)]})}catch{return null}return!n||n.length===0?null:n}function LG(n,e,t,r,i,s,a,o,l,c,f,d){try{s[r]=qp(Ya(n,t,!0),e);var p=Pi(n,e),m;switch(o){case"sheet":m=UW(p,e,i,l,s[r],c,f,d);break;case"chart":if(m=BW(p,e,i,l,s[r],c,f,d),!m||!m["!drawel"])break;var _=Lp(m["!drawel"].Target,e),x=Ay(_),g=OH(Ya(n,_,!0),qp(Ya(n,x,!0),_)),y=Lp(g,_),A=Ay(y);m=wW(Ya(n,y,!0),y,l,qp(Ya(n,A,!0),y),c,m);break;case"macro":m=zW(p,e,i,l,s[r],c,f,d);break;case"dialog":m=HW(p,e,i,l,s[r],c,f,d);break;default:throw new Error("Unrecognized sheet type "+o)}a[r]=m;var E=[];s&&s[r]&&Xl(s[r]).forEach(function(M){var D="";if(s[r][M].Type==Qd.CMNT){D=Lp(s[r][M].Target,e);var U=GW(Pi(n,D,!0),D,l);if(!U||!U.length)return;gT(m,U,!1)}s[r][M].Type==Qd.TCMNT&&(D=Lp(s[r][M].Target,e),E=E.concat(BH(Pi(n,D,!0),l)))}),E&&E.length&&gT(m,E,!0,l.people||[])}catch(M){if(l.WTF)throw M}}function xo(n){return n.charAt(0)=="/"?n.slice(1):n}function NG(n,e){if(_C(),e=e||{},Ib(e),wo(n,"META-INF/manifest.xml")||wo(n,"objectdata.xml"))return CT(n,e);if(wo(n,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof Z2<"u"){if(n.FileIndex)return Z2(n);var t=Jn.utils.cfb_new();return VA(n).forEach(function(G){FU(t,G,NU(n,G))}),Z2(t)}throw new Error("Unsupported NUMBERS file")}if(!wo(n,"[Content_Types].xml"))throw wo(n,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):wo(n,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var r=VA(n),i=PB(Ya(n,"[Content_Types].xml")),s=!1,a,o;if(i.workbooks.length===0&&(o="xl/workbook.xml",Pi(n,o,!0)&&i.workbooks.push(o)),i.workbooks.length===0){if(o="xl/workbook.bin",!Pi(n,o,!0))throw new Error("Could not find workbook");i.workbooks.push(o),s=!0}i.workbooks[0].slice(-3)=="bin"&&(s=!0);var l={},c={};if(!e.bookSheets&&!e.bookProps){if(Yp=[],i.sst)try{Yp=WW(Pi(n,xo(i.sst)),i.sst,e)}catch(G){if(e.WTF)throw G}e.cellStyles&&i.themes.length&&(l=VW(Ya(n,i.themes[0].replace(/^\//,""),!0)||"",i.themes[0],e)),i.style&&(c=jW(Pi(n,xo(i.style)),i.style,l,e))}i.links.map(function(G){try{var ae=qp(Ya(n,Ay(xo(G))),G);return XW(Pi(n,xo(G)),ae,G,e)}catch{}});var f=OW(Pi(n,xo(i.workbooks[0])),i.workbooks[0],e),d={},p="";i.coreprops.length&&(p=Pi(n,xo(i.coreprops[0]),!0),p&&(d=$C(p)),i.extprops.length!==0&&(p=Pi(n,xo(i.extprops[0]),!0),p&&FB(p,d,e)));var m={};(!e.bookSheets||e.bookProps)&&i.custprops.length!==0&&(p=Ya(n,xo(i.custprops[0]),!0),p&&(m=IB(p,e)));var _={};if((e.bookSheets||e.bookProps)&&(f.Sheets?a=f.Sheets.map(function(ae){return ae.name}):d.Worksheets&&d.SheetNames.length>0&&(a=d.SheetNames),e.bookProps&&(_.Props=d,_.Custprops=m),e.bookSheets&&typeof a<"u"&&(_.SheetNames=a),e.bookSheets?_.SheetNames:e.bookProps))return _;a={};var x={};e.bookDeps&&i.calcchain&&(x=qW(Pi(n,xo(i.calcchain)),i.calcchain));var g=0,y={},A,E;{var M=f.Sheets;d.Worksheets=M.length,d.SheetNames=[];for(var D=0;D!=M.length;++D)d.SheetNames[D]=M[D].name}var U=s?"bin":"xml",L=i.workbooks[0].lastIndexOf("/"),I=(i.workbooks[0].slice(0,L+1)+"_rels/"+i.workbooks[0].slice(L+1)+".rels").replace(/^\//,"");wo(n,I)||(I="xl/_rels/workbook."+U+".rels");var R=qp(Ya(n,I,!0),I.replace(/_rels.*/,"s5s"));(i.metadata||[]).length>=1&&(e.xlmeta=$W(Pi(n,xo(i.metadata[0])),i.metadata[0],e)),(i.people||[]).length>=1&&(e.people=zH(Pi(n,xo(i.people[0])),e)),R&&(R=RG(R,f.Sheets));var O=Pi(n,"xl/worksheets/sheet.xml",!0)?1:0;e:for(g=0;g!=d.Worksheets;++g){var N="sheet";if(R&&R[g]?(A="xl/"+R[g][1].replace(/[\/]?xl\//,""),wo(n,A)||(A=R[g][1]),wo(n,A)||(A=I.replace(/_rels\/.*$/,"")+R[g][1]),N=R[g][2]):(A="xl/worksheets/sheet"+(g+1-O)+"."+U,A=A.replace(/sheet0\./,"sheet.")),E=A.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),e&&e.sheets!=null)switch(typeof e.sheets){case"number":if(g!=e.sheets)continue e;break;case"string":if(d.SheetNames[g].toLowerCase()!=e.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(e.sheets)){for(var k=!1,j=0;j!=e.sheets.length;++j)typeof e.sheets[j]=="number"&&e.sheets[j]==g&&(k=1),typeof e.sheets[j]=="string"&&e.sheets[j].toLowerCase()==d.SheetNames[g].toLowerCase()&&(k=1);if(!k)continue e}}LG(n,A,E,d.SheetNames[g],g,y,a,N,e,f,l,c)}return _={Directory:i,Workbook:f,Props:d,Custprops:m,Deps:x,Sheets:a,SheetNames:d.SheetNames,Strings:Yp,Styles:c,Themes:l,SSF:fs(Nn)},e&&e.bookFiles&&(n.files?(_.keys=r,_.files=n.files):(_.keys=[],_.files={},n.FullPaths.forEach(function(G,ae){G=G.replace(/^Root Entry[\/]/,""),_.keys.push(G),_.files[G]=n.FileIndex[ae]}))),e&&e.bookVBA&&(i.vba.length>0?_.vbaraw=Pi(n,xo(i.vba[0]),!0):i.defaults&&i.defaults.bin===WH&&(_.vbaraw=Pi(n,"xl/vbaProject.bin",!0))),_}function FG(n,e){var t=e||{},r="Workbook",i=Jn.find(n,r);try{if(r="/!DataSpaces/Version",i=Jn.find(n,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(Tz(i.content),r="/!DataSpaces/DataSpaceMap",i=Jn.find(n,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var s=Cz(i.content);if(s.length!==1||s[0].comps.length!==1||s[0].comps[0].t!==0||s[0].name!=="StrongEncryptionDataSpace"||s[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",i=Jn.find(n,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var a=Pz(i.content);if(a.length!=1||a[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",i=Jn.find(n,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);Rz(i.content)}catch{}if(r="/EncryptionInfo",i=Jn.find(n,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var o=Lz(i.content);if(r="/EncryptedPackage",i=Jn.find(n,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],i.content,t.password||"",t);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],i.content,t.password||"",t);throw new Error("File is password-protected")}function Ob(n,e){var t="";switch((e||{}).type||"base64"){case"buffer":return[n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7]];case"base64":t=Za(n.slice(0,12));break;case"binary":t=n;break;case"array":return[n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3),t.charCodeAt(4),t.charCodeAt(5),t.charCodeAt(6),t.charCodeAt(7)]}function DG(n,e){return Jn.find(n,"EncryptedPackage")?FG(n,e):LP(n,e)}function IG(n,e){var t,r=n,i=e||{};return i.type||(i.type=$n&&Buffer.isBuffer(n)?"buffer":"base64"),t=AC(r,i),NG(t,i)}function IP(n,e){var t=0;e:for(;t<n.length;)switch(n.charCodeAt(t)){case 10:case 13:case 32:++t;break;case 60:return Cy(n.slice(t),e);default:break e}return mm.to_workbook(n,e)}function OG(n,e){var t="",r=Ob(n,e);switch(e.type){case"base64":t=Za(n);break;case"binary":t=n;break;case"buffer":t=n.toString("binary");break;case"array":t=Oh(n);break;default:throw new Error("Unrecognized type "+e.type)}return r[0]==239&&r[1]==187&&r[2]==191&&(t=Fr(t)),e.type="binary",IP(t,e)}function UG(n,e){var t=n;return e.type=="base64"&&(t=Za(t)),t=fm.utils.decode(1200,t.slice(2),"str"),e.type="binary",IP(t,e)}function BG(n){return n.match(/[^\x00-\x7F]/)?Np(n):n}function Q2(n,e,t,r){return r?(t.type="string",mm.to_workbook(n,t)):mm.to_workbook(e,t)}function Ly(n,e){oC();var t=e||{};if(typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer)return Ly(new Uint8Array(n),(t=fs(t),t.type="array",t));typeof Uint8Array<"u"&&n instanceof Uint8Array&&!t.type&&(t.type=typeof Deno<"u"?"buffer":"array");var r=n,i=[0,0,0,0],s=!1;if(t.cellStyles&&(t.cellNF=!0,t.sheetStubs=!0),c0={},t.dateNF&&(c0.dateNF=t.dateNF),t.type||(t.type=$n&&Buffer.isBuffer(n)?"buffer":"base64"),t.type=="file"&&(t.type=$n?"buffer":"binary",r=TU(n),typeof Uint8Array<"u"&&!$n&&(t.type="array")),t.type=="string"&&(s=!0,t.type="binary",t.codepage=65001,r=BG(n)),t.type=="array"&&typeof Uint8Array<"u"&&n instanceof Uint8Array&&typeof ArrayBuffer<"u"){var a=new ArrayBuffer(3),o=new Uint8Array(a);if(o.foo="bar",!o.foo)return t=fs(t),t.type="array",Ly(mb(r),t)}switch((i=Ob(r,t))[0]){case 208:if(i[1]===207&&i[2]===17&&i[3]===224&&i[4]===161&&i[5]===177&&i[6]===26&&i[7]===225)return DG(Jn.read(r,t),t);break;case 9:if(i[1]<=8)return LP(r,t);break;case 60:return Cy(r,t);case 73:if(i[1]===73&&i[2]===42&&i[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(i[1]===68)return dz(r,t);break;case 84:if(i[1]===65&&i[2]===66&&i[3]===76)return fz.to_workbook(r,t);break;case 80:return i[1]===75&&i[2]<9&&i[3]<9?IG(r,t):Q2(n,r,t,s);case 239:return i[3]===60?Cy(r,t):Q2(n,r,t,s);case 255:if(i[1]===254)return UG(r,t);if(i[1]===0&&i[2]===2&&i[3]===0)return $p.to_workbook(r,t);break;case 0:if(i[1]===0&&(i[2]>=2&&i[3]===0||i[2]===0&&(i[3]===8||i[3]===9)))return $p.to_workbook(r,t);break;case 3:case 131:case 139:case 140:return mT.to_workbook(r,t);case 123:if(i[1]===92&&i[2]===114&&i[3]===116)return Wz.to_workbook(r,t);break;case 10:case 13:case 32:return OG(r,t);case 137:if(i[1]===80&&i[2]===78&&i[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return cz.indexOf(i[0])>-1&&i[2]<=12&&i[3]<=31?mT.to_workbook(r,t):Q2(n,r,t,s)}function zG(n,e,t,r,i,s,a,o){var l=hs(t),c=o.defval,f=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),d=!0,p=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(p,"__rowNum__",{value:t,enumerable:!1})}catch{p.__rowNum__=t}else p.__rowNum__=t;if(!a||n[t])for(var m=e.s.c;m<=e.e.c;++m){var _=a?n[t][m]:n[r[m]+l];if(_===void 0||_.t===void 0){if(c===void 0)continue;s[m]!=null&&(p[s[m]]=c);continue}var x=_.v;switch(_.t){case"z":if(x==null)break;continue;case"e":x=x==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+_.t)}if(s[m]!=null){if(x==null)if(_.t=="e"&&x===null)p[s[m]]=null;else if(c!==void 0)p[s[m]]=c;else if(f&&x===null)p[s[m]]=null;else continue;else p[s[m]]=f&&(_.t!=="n"||_.t==="n"&&o.rawNumbers!==!1)?x:$c(_,x,o);x!=null&&(d=!1)}}return{row:p,isempty:d}}function Ny(n,e){if(n==null||n["!ref"]==null)return[];var t={t:"n",v:0},r=0,i=1,s=[],a=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},c=e||{},f=c.range!=null?c.range:n["!ref"];switch(c.header===1?r=1:c.header==="A"?r=2:Array.isArray(c.header)?r=3:c.header==null&&(r=0),typeof f){case"string":l=fi(f);break;case"number":l=fi(n["!ref"]),l.s.r=f;break;default:l=f}r>0&&(i=0);var d=hs(l.s.r),p=[],m=[],_=0,x=0,g=Array.isArray(n),y=l.s.r,A=0,E={};g&&!n[y]&&(n[y]=[]);var M=c.skipHidden&&n["!cols"]||[],D=c.skipHidden&&n["!rows"]||[];for(A=l.s.c;A<=l.e.c;++A)if(!(M[A]||{}).hidden)switch(p[A]=Ui(A),t=g?n[y][A]:n[p[A]+d],r){case 1:s[A]=A-l.s.c;break;case 2:s[A]=p[A];break;case 3:s[A]=c.header[A-l.s.c];break;default:if(t==null&&(t={w:"__EMPTY",t:"s"}),o=a=$c(t,null,c),x=E[a]||0,!x)E[a]=1;else{do o=a+"_"+x++;while(E[o]);E[a]=x,E[o]=1}s[A]=o}for(y=l.s.r+i;y<=l.e.r;++y)if(!(D[y]||{}).hidden){var U=zG(n,l,y,p,r,s,g,c);(U.isempty===!1||(r===1?c.blankrows!==!1:c.blankrows))&&(m[_++]=U.row)}return m.length=_,m}var LT=/"/g;function HG(n,e,t,r,i,s,a,o){for(var l=!0,c=[],f="",d=hs(t),p=e.s.c;p<=e.e.c;++p)if(r[p]){var m=o.dense?(n[t]||[])[p]:n[r[p]+d];if(m==null)f="";else if(m.v!=null){l=!1,f=""+(o.rawNumbers&&m.t=="n"?m.v:$c(m,null,o));for(var _=0,x=0;_!==f.length;++_)if((x=f.charCodeAt(_))===i||x===s||x===34||o.forceQuotes){f='"'+f.replace(LT,'""')+'"';break}f=="ID"&&(f='"ID"')}else m.f!=null&&!m.F?(l=!1,f="="+m.f,f.indexOf(",")>=0&&(f='"'+f.replace(LT,'""')+'"')):f="";c.push(f)}return o.blankrows===!1&&l?null:c.join(a)}function OP(n,e){var t=[],r=e??{};if(n==null||n["!ref"]==null)return"";var i=fi(n["!ref"]),s=r.FS!==void 0?r.FS:",",a=s.charCodeAt(0),o=r.RS!==void 0?r.RS:`
`,l=o.charCodeAt(0),c=new RegExp((s=="|"?"\\|":s)+"+$"),f="",d=[];r.dense=Array.isArray(n);for(var p=r.skipHidden&&n["!cols"]||[],m=r.skipHidden&&n["!rows"]||[],_=i.s.c;_<=i.e.c;++_)(p[_]||{}).hidden||(d[_]=Ui(_));for(var x=0,g=i.s.r;g<=i.e.r;++g)(m[g]||{}).hidden||(f=HG(n,i,g,d,a,l,s,r),f!=null&&(r.strip&&(f=f.replace(c,"")),(f||r.blankrows!==!1)&&t.push((x++?o:"")+f)));return delete r.dense,t.join("")}function jG(n,e){e||(e={}),e.FS="	",e.RS=`
`;var t=OP(n,e);return t}function VG(n){var e="",t,r="";if(n==null||n["!ref"]==null)return[];var i=fi(n["!ref"]),s="",a=[],o,l=[],c=Array.isArray(n);for(o=i.s.c;o<=i.e.c;++o)a[o]=Ui(o);for(var f=i.s.r;f<=i.e.r;++f)for(s=hs(f),o=i.s.c;o<=i.e.c;++o)if(e=a[o]+s,t=c?(n[f]||[])[o]:n[e],r="",t!==void 0){if(t.F!=null){if(e=t.F,!t.f)continue;r=t.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(t.f!=null)r=t.f;else{if(t.t=="z")continue;if(t.t=="n"&&t.v!=null)r=""+t.v;else if(t.t=="b")r=t.v?"TRUE":"FALSE";else if(t.w!==void 0)r="'"+t.w;else{if(t.v===void 0)continue;t.t=="s"?r="'"+t.v:r=""+t.v}}l[l.length]=e+"="+r}return l}function UP(n,e,t){var r=t||{},i=+!r.skipHeader,s=n||{},a=0,o=0;if(s&&r.origin!=null)if(typeof r.origin=="number")a=r.origin;else{var l=typeof r.origin=="string"?oa(r.origin):r.origin;a=l.r,o=l.c}var c,f={s:{c:0,r:0},e:{c:o,r:a+e.length-1+i}};if(s["!ref"]){var d=fi(s["!ref"]);f.e.c=Math.max(f.e.c,d.e.c),f.e.r=Math.max(f.e.r,d.e.r),a==-1&&(a=d.e.r+1,f.e.r=a+e.length-1+i)}else a==-1&&(a=0,f.e.r=e.length-1+i);var p=r.header||[],m=0;e.forEach(function(x,g){Xl(x).forEach(function(y){(m=p.indexOf(y))==-1&&(p[m=p.length]=y);var A=x[y],E="z",M="",D=Pn({c:o+m,r:a+g+i});c=_m(s,D),A&&typeof A=="object"&&!(A instanceof Date)?s[D]=A:(typeof A=="number"?E="n":typeof A=="boolean"?E="b":typeof A=="string"?E="s":A instanceof Date?(E="d",r.cellDates||(E="n",A=ua(A)),M=r.dateNF||Nn[14]):A===null&&r.nullError&&(E="e",A=0),c?(c.t=E,c.v=A,delete c.w,delete c.R,M&&(c.z=M)):s[D]=c={t:E,v:A},M&&(c.z=M))})}),f.e.c=Math.max(f.e.c,o+p.length-1);var _=hs(a);if(i)for(m=0;m<p.length;++m)s[Ui(m+o)+_]={t:"s",v:p[m]};return s["!ref"]=Zn(f),s}function WG(n,e){return UP(null,n,e)}function _m(n,e,t){if(typeof e=="string"){if(Array.isArray(n)){var r=oa(e);return n[r.r]||(n[r.r]=[]),n[r.r][r.c]||(n[r.r][r.c]={t:"z"})}return n[e]||(n[e]={t:"z"})}return typeof e!="number"?_m(n,Pn(e)):_m(n,Pn({r:e,c:t||0}))}function GG(n,e){if(typeof e=="number"){if(e>=0&&n.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var t=n.SheetNames.indexOf(e);if(t>-1)return t;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function Ub(){return{SheetNames:[],Sheets:{}}}function Bb(n,e,t,r){var i=1;if(!t)for(;i<=65535&&n.SheetNames.indexOf(t="Sheet"+i)!=-1;++i,t=void 0);if(!t||n.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&n.SheetNames.indexOf(t)>=0){var s=t.match(/(^.*?)(\d+)$/);i=s&&+s[2]||0;var a=s&&s[1]||t;for(++i;i<=65535&&n.SheetNames.indexOf(t=a+i)!=-1;++i);}if(PW(t),n.SheetNames.indexOf(t)>=0)throw new Error("Worksheet with name |"+t+"| already exists!");return n.SheetNames.push(t),n.Sheets[t]=e,t}function qG(n,e,t){n.Workbook||(n.Workbook={}),n.Workbook.Sheets||(n.Workbook.Sheets=[]);var r=GG(n,e);switch(n.Workbook.Sheets[r]||(n.Workbook.Sheets[r]={}),t){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+t)}n.Workbook.Sheets[r].Hidden=t}function XG(n,e){return n.z=e,n}function BP(n,e,t){return e?(n.l={Target:e},t&&(n.l.Tooltip=t)):delete n.l,n}function $G(n,e,t){return BP(n,"#"+e,t)}function YG(n,e,t){n.c||(n.c=[]),n.c.push({t:e,a:t||"SheetJS"})}function KG(n,e,t,r){for(var i=typeof e!="string"?e:fi(e),s=typeof e=="string"?e:Zn(e),a=i.s.r;a<=i.e.r;++a)for(var o=i.s.c;o<=i.e.c;++o){var l=_m(n,a,o);l.t="n",l.F=s,delete l.v,a==i.s.r&&o==i.s.c&&(l.f=t,r&&(l.D=!0))}return n}var JG={encode_col:Ui,encode_row:hs,encode_cell:Pn,encode_range:Zn,decode_col:Eb,decode_row:Sb,split_cell:lB,decode_cell:oa,decode_range:O0,format_cell:$c,sheet_add_aoa:VC,sheet_add_json:UP,sheet_add_dom:NP,aoa_to_sheet:U0,json_to_sheet:WG,table_to_sheet:FP,table_to_book:dG,sheet_to_csv:OP,sheet_to_txt:jG,sheet_to_json:Ny,sheet_to_html:hG,sheet_to_formulae:VG,sheet_to_row_object_array:Ny,sheet_get_cell:_m,book_new:Ub,book_append_sheet:Bb,book_set_sheet_visibility:qG,cell_set_number_format:XG,cell_set_hyperlink:BP,cell_set_internal_link:$G,cell_add_comment:YG,sheet_set_array_formula:KG,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const ZG=()=>{const n=Yc(),e=Cm(),t=Fn(I=>{var R;return((R=I.upload)==null?void 0:R.uploads)||[]}),r=Fn(I=>{var R;return(R=I.upload)==null?void 0:R.loading}),i=Fn(I=>{var R;return(R=I.upload)==null?void 0:R.error}),s=Fn(I=>I.auth),a=Fn(I=>{var R,O;return(O=(R=I.adminSettings)==null?void 0:R.settings)==null?void 0:O.themeMode}),o=Fn(I=>{var R,O;return(O=(R=I.userSettings)==null?void 0:R.settings)==null?void 0:O.themeMode}),l=Fn(I=>I.auth.user),c=l&&l.role==="admin"?a:o||"white",[f,d]=xt.useState(null),[p,m]=xt.useState(null),[_,x]=xt.useState(null),[g,y]=xt.useState(null),[A,E]=xt.useState([]);xt.useEffect(()=>{if(!s.token){e("/login");return}n(Th()),n(Ip())},[n,s.token,e]);const M=I=>{E(R=>R.includes(I)?R.filter(O=>O!==I):[...R,I])},D=()=>{A.length!==0&&(A.forEach(I=>{n(Op(I))}),E([]))},U=I=>{const R=I.target.files[0];if(d(R),R){m({name:R.name,size:(R.size/1024).toFixed(2)+" KB"});const O=new FileReader;O.onload=N=>{const k=N.target.result,j=Ly(k,{type:"binary"}),G=j.SheetNames[0],ae=j.Sheets[G],ie=JG.sheet_to_json(ae,{header:1});if(ie.length>1){const ue=ie[0],X=ie.slice(1).map(pe=>{const oe={};return ue.forEach((C,W)=>{oe[C]=pe[W]}),oe});x(X.slice(0,10))}else x([])},O.readAsBinaryString(R)}else m(null),x(null)},L=()=>{if(!f)return;const I=new FormData;I.append("file",f),n(Dp(I)).then(R=>{Dp.fulfilled.match(R)&&(d(null),R.payload&&R.payload.summary?y(R.payload.summary):y(null))})};return me.jsxs("div",{className:`space-y-6 ${c==="dark"?"bg-gray-900 text-white":c==="creative"?"bg-gradient-to-r from-purple-500 to-pink-500 text-white":"bg-white text-black"}`,children:[me.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Dashboard"}),me.jsxs("div",{className:`mt-8 p-4 rounded shadow ${c==="dark"?"bg-gray-800 text-white":c==="creative"?"bg-purple-700 bg-opacity-80 text-white":"bg-white text-black"}`,children:[me.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Upload Excel File"}),me.jsx("input",{type:"file",accept:".xlsx,.xls",onChange:U,className:"mb-4"}),p&&me.jsxs("div",{className:`mb-4 p-2 border rounded ${c==="dark"?"bg-gray-700 border-gray-600 text-white":c==="creative"?"bg-purple-600 bg-opacity-70 border-purple-500 text-white":"bg-gray-50 border-gray-300 text-black"}`,children:[me.jsxs("p",{children:[me.jsx("strong",{children:"File Name:"})," ",p.name]}),me.jsxs("p",{children:[me.jsx("strong",{children:"File Size:"})," ",p.size]})]}),_&&me.jsx(sC,{data:_,themeMode:c}),g&&me.jsxs("div",{className:`mt-4 p-4 rounded shadow whitespace-pre-wrap ${c==="dark"?"bg-gray-800 text-white font-mono":"bg-gray-100 text-black font-mono"}`,children:[me.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Summary"}),me.jsx("pre",{className:"whitespace-pre-wrap",children:g.replace(/\\n/g,`
`)})]}),me.jsx("button",{onClick:L,disabled:!f||r,className:`px-4 py-2 rounded text-white ${!f||r?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:r?"Uploading...":"Upload"}),i&&me.jsx("p",{className:"text-red-600 mt-2",children:i})]}),me.jsx("div",{className:"mt-6",children:me.jsx(iC,{uploads:t,selectedUploads:A,toggleSelectUpload:M,handleDeleteSelectedUploads:D})})]})},QG={savedCharts:[]},eq=L0({name:"localHistory",initialState:QG,reducers:{addSavedChart:(n,e)=>{n.savedCharts.unshift(e.payload)},clearSavedCharts:n=>{n.savedCharts=[]},deleteSavedCharts:(n,e)=>{n.savedCharts=n.savedCharts.filter(t=>!e.payload.includes(t._id))}}}),{addSavedChart:tq}=eq.actions,zP=()=>{const n=Fn(e=>e.auth.user);return me.jsxs("nav",{className:"w-64 h-screen bg-gray-700 text-white p-4 fixed left-0 top-0 shadow-md overflow-hidden",style:{height:"100vh"},children:[me.jsx("h2",{className:"text-xl font-bold mb-6",children:"Excel Analytics"}),me.jsxs("ul",{className:"flex flex-col space-y-4",children:[me.jsx("li",{children:me.jsx(Td,{to:"/dashboard",className:({isActive:e})=>e?"text-blue-400 font-semibold":"text-gray-300 hover:text-blue-400",children:"Upload File"})}),me.jsx("li",{children:me.jsx(Td,{to:"/charts",className:({isActive:e})=>e?"text-blue-400 font-semibold":"text-gray-300 hover:text-blue-400",children:"Charts"})}),me.jsx("li",{children:me.jsx(Td,{to:"/history",className:({isActive:e})=>e?"text-blue-400 font-semibold":"text-gray-300 hover:text-blue-400",children:"History"})}),n&&n.role!=="admin"&&me.jsx("li",{children:me.jsx(Td,{to:"/user-settings",className:({isActive:e})=>e?"text-blue-400 font-semibold":"text-gray-300 hover:text-blue-400",children:"Settings"})}),n&&n.role==="admin"&&me.jsxs(me.Fragment,{children:[me.jsx("li",{children:me.jsx(Td,{to:"/admin",className:({isActive:e})=>e?"text-blue-400 font-semibold":"text-gray-300 hover:text-blue-400",children:"Admin Panel"})}),me.jsx("li",{children:me.jsx(Td,{to:"/settings",className:({isActive:e})=>e?"text-blue-400 font-semibold":"text-gray-300 hover:text-blue-400",children:"Settings"})})]})]})]})},nq="modulepreload",rq=function(n){return"/Excel/"+n},NT={},Fy=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){let a=function(c){return Promise.all(c.map(f=>Promise.resolve(f).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=a(t.map(c=>{if(c=rq(c),c in NT)return;NT[c]=!0;const f=c.endsWith(".css"),d=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const p=document.createElement("link");if(p.rel=f?"stylesheet":nq,f||(p.as="script"),p.crossOrigin="",p.href=c,l&&p.setAttribute("nonce",l),document.head.appendChild(p),f)return new Promise((m,_)=>{p.addEventListener("load",m),p.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})};var Is=Uint8Array,Ka=Uint16Array,zb=Int32Array,fv=new Is([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),hv=new Is([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Dy=new Is([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),HP=function(n,e){for(var t=new Ka(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var i=new zb(t[30]),r=1;r<30;++r)for(var s=t[r];s<t[r+1];++s)i[s]=s-t[r]<<5|r;return{b:t,r:i}},jP=HP(fv,2),VP=jP.b,Iy=jP.r;VP[28]=258,Iy[258]=28;var WP=HP(hv,0),iq=WP.b,FT=WP.r,Oy=new Ka(32768);for(var zr=0;zr<32768;++zr){var Uu=(zr&43690)>>1|(zr&21845)<<1;Uu=(Uu&52428)>>2|(Uu&13107)<<2,Uu=(Uu&61680)>>4|(Uu&3855)<<4,Oy[zr]=((Uu&65280)>>8|(Uu&255)<<8)>>1}var ql=function(n,e,t){for(var r=n.length,i=0,s=new Ka(e);i<r;++i)n[i]&&++s[n[i]-1];var a=new Ka(e);for(i=1;i<e;++i)a[i]=a[i-1]+s[i-1]<<1;var o;if(t){o=new Ka(1<<e);var l=15-e;for(i=0;i<r;++i)if(n[i])for(var c=i<<4|n[i],f=e-n[i],d=a[n[i]-1]++<<f,p=d|(1<<f)-1;d<=p;++d)o[Oy[d]>>l]=c}else for(o=new Ka(r),i=0;i<r;++i)n[i]&&(o[i]=Oy[a[n[i]-1]++]>>15-n[i]);return o},_f=new Is(288);for(var zr=0;zr<144;++zr)_f[zr]=8;for(var zr=144;zr<256;++zr)_f[zr]=9;for(var zr=256;zr<280;++zr)_f[zr]=7;for(var zr=280;zr<288;++zr)_f[zr]=8;var ym=new Is(32);for(var zr=0;zr<32;++zr)ym[zr]=5;var sq=ql(_f,9,0),aq=ql(_f,9,1),oq=ql(ym,5,0),lq=ql(ym,5,1),e_=function(n){for(var e=n[0],t=1;t<n.length;++t)n[t]>e&&(e=n[t]);return e},Yo=function(n,e,t){var r=e/8|0;return(n[r]|n[r+1]<<8)>>(e&7)&t},t_=function(n,e){var t=e/8|0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>(e&7)},Hb=function(n){return(n+7)/8|0},GP=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new Is(n.subarray(e,t))},cq=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],el=function(n,e,t){var r=new Error(e||cq[n]);if(r.code=n,Error.captureStackTrace&&Error.captureStackTrace(r,el),!t)throw r;return r},uq=function(n,e,t,r){var i=n.length,s=0;if(!i||e.f&&!e.l)return t||new Is(0);var a=!t,o=a||e.i!=2,l=e.i;a&&(t=new Is(i*3));var c=function(lt){var he=t.length;if(lt>he){var mt=new Is(Math.max(he*2,lt));mt.set(t),t=mt}},f=e.f||0,d=e.p||0,p=e.b||0,m=e.l,_=e.d,x=e.m,g=e.n,y=i*8;do{if(!m){f=Yo(n,d,1);var A=Yo(n,d+1,3);if(d+=3,A)if(A==1)m=aq,_=lq,x=9,g=5;else if(A==2){var U=Yo(n,d,31)+257,L=Yo(n,d+10,15)+4,I=U+Yo(n,d+5,31)+1;d+=14;for(var R=new Is(I),O=new Is(19),N=0;N<L;++N)O[Dy[N]]=Yo(n,d+N*3,7);d+=L*3;for(var k=e_(O),j=(1<<k)-1,G=ql(O,k,1),N=0;N<I;){var ae=G[Yo(n,d,j)];d+=ae&15;var E=ae>>4;if(E<16)R[N++]=E;else{var ie=0,ue=0;for(E==16?(ue=3+Yo(n,d,3),d+=2,ie=R[N-1]):E==17?(ue=3+Yo(n,d,7),d+=3):E==18&&(ue=11+Yo(n,d,127),d+=7);ue--;)R[N++]=ie}}var J=R.subarray(0,U),X=R.subarray(U);x=e_(J),g=e_(X),m=ql(J,x,1),_=ql(X,g,1)}else el(1);else{var E=Hb(d)+4,M=n[E-4]|n[E-3]<<8,D=E+M;if(D>i){l&&el(0);break}o&&c(p+M),t.set(n.subarray(E,D),p),e.b=p+=M,e.p=d=D*8,e.f=f;continue}if(d>y){l&&el(0);break}}o&&c(p+131072);for(var pe=(1<<x)-1,oe=(1<<g)-1,C=d;;C=d){var ie=m[t_(n,d)&pe],W=ie>>4;if(d+=ie&15,d>y){l&&el(0);break}if(ie||el(2),W<256)t[p++]=W;else if(W==256){C=d,m=null;break}else{var z=W-254;if(W>264){var N=W-257,V=fv[N];z=Yo(n,d,(1<<V)-1)+VP[N],d+=V}var ee=_[t_(n,d)&oe],de=ee>>4;ee||el(3),d+=ee&15;var X=iq[de];if(de>3){var V=hv[de];X+=t_(n,d)&(1<<V)-1,d+=V}if(d>y){l&&el(0);break}o&&c(p+131072);var ve=p+z;if(p<X){var we=s-X,Ce=Math.min(X,ve);for(we+p<0&&el(3);p<Ce;++p)t[p]=r[we+p]}for(;p<ve;++p)t[p]=t[p-X]}}e.l=m,e.p=C,e.b=p,e.f=f,m&&(f=1,e.m=x,e.d=_,e.n=g)}while(!f);return p!=t.length&&a?GP(t,0,p):t.subarray(0,p)},Tc=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8},hp=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8,n[r+2]|=t>>16},n_=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var i=t.length,s=t.slice();if(!i)return{t:XP,l:0};if(i==1){var a=new Is(t[0].s+1);return a[t[0].s]=1,{t:a,l:1}}t.sort(function(D,U){return D.f-U.f}),t.push({s:-1,f:25001});var o=t[0],l=t[1],c=0,f=1,d=2;for(t[0]={s:-1,f:o.f+l.f,l:o,r:l};f!=i-1;)o=t[t[c].f<t[d].f?c++:d++],l=t[c!=f&&t[c].f<t[d].f?c++:d++],t[f++]={s:-1,f:o.f+l.f,l:o,r:l};for(var p=s[0].s,r=1;r<i;++r)s[r].s>p&&(p=s[r].s);var m=new Ka(p+1),_=Uy(t[f-1],m,0);if(_>e){var r=0,x=0,g=_-e,y=1<<g;for(s.sort(function(U,L){return m[L.s]-m[U.s]||U.f-L.f});r<i;++r){var A=s[r].s;if(m[A]>e)x+=y-(1<<_-m[A]),m[A]=e;else break}for(x>>=g;x>0;){var E=s[r].s;m[E]<e?x-=1<<e-m[E]++-1:++r}for(;r>=0&&x;--r){var M=s[r].s;m[M]==e&&(--m[M],++x)}_=e}return{t:new Is(m),l:_}},Uy=function(n,e,t){return n.s==-1?Math.max(Uy(n.l,e,t+1),Uy(n.r,e,t+1)):e[n.s]=t},DT=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new Ka(++e),r=0,i=n[0],s=1,a=function(l){t[r++]=l},o=1;o<=e;++o)if(n[o]==i&&o!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=n[o]}return{c:t.subarray(0,r),n:e}},dp=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},qP=function(n,e,t){var r=t.length,i=Hb(e+2);n[i]=r&255,n[i+1]=r>>8,n[i+2]=n[i]^255,n[i+3]=n[i+1]^255;for(var s=0;s<r;++s)n[i+s+4]=t[s];return(i+4+r)*8},IT=function(n,e,t,r,i,s,a,o,l,c,f){Tc(e,f++,t),++i[256];for(var d=n_(i,15),p=d.t,m=d.l,_=n_(s,15),x=_.t,g=_.l,y=DT(p),A=y.c,E=y.n,M=DT(x),D=M.c,U=M.n,L=new Ka(19),I=0;I<A.length;++I)++L[A[I]&31];for(var I=0;I<D.length;++I)++L[D[I]&31];for(var R=n_(L,7),O=R.t,N=R.l,k=19;k>4&&!O[Dy[k-1]];--k);var j=c+5<<3,G=dp(i,_f)+dp(s,ym)+a,ae=dp(i,p)+dp(s,x)+a+14+3*k+dp(L,O)+2*L[16]+3*L[17]+7*L[18];if(l>=0&&j<=G&&j<=ae)return qP(e,f,n.subarray(l,l+c));var ie,ue,J,X;if(Tc(e,f,1+(ae<G)),f+=2,ae<G){ie=ql(p,m,0),ue=p,J=ql(x,g,0),X=x;var pe=ql(O,N,0);Tc(e,f,E-257),Tc(e,f+5,U-1),Tc(e,f+10,k-4),f+=14;for(var I=0;I<k;++I)Tc(e,f+3*I,O[Dy[I]]);f+=3*k;for(var oe=[A,D],C=0;C<2;++C)for(var W=oe[C],I=0;I<W.length;++I){var z=W[I]&31;Tc(e,f,pe[z]),f+=O[z],z>15&&(Tc(e,f,W[I]>>5&127),f+=W[I]>>12)}}else ie=sq,ue=_f,J=oq,X=ym;for(var I=0;I<o;++I){var V=r[I];if(V>255){var z=V>>18&31;hp(e,f,ie[z+257]),f+=ue[z+257],z>7&&(Tc(e,f,V>>23&31),f+=fv[z]);var ee=V&31;hp(e,f,J[ee]),f+=X[ee],ee>3&&(hp(e,f,V>>5&8191),f+=hv[ee])}else hp(e,f,ie[V]),f+=ue[V]}return hp(e,f,ie[256]),f+ue[256]},fq=new zb([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),XP=new Is(0),hq=function(n,e,t,r,i,s){var a=s.z||n.length,o=new Is(r+a+5*(1+Math.ceil(a/7e3))+i),l=o.subarray(r,o.length-i),c=s.l,f=(s.r||0)&7;if(e){f&&(l[0]=s.r>>3);for(var d=fq[e-1],p=d>>13,m=d&8191,_=(1<<t)-1,x=s.p||new Ka(32768),g=s.h||new Ka(_+1),y=Math.ceil(t/3),A=2*y,E=function(ye){return(n[ye]^n[ye+1]<<y^n[ye+2]<<A)&_},M=new zb(25e3),D=new Ka(288),U=new Ka(32),L=0,I=0,R=s.i||0,O=0,N=s.w||0,k=0;R+2<a;++R){var j=E(R),G=R&32767,ae=g[j];if(x[G]=ae,g[j]=G,N<=R){var ie=a-R;if((L>7e3||O>24576)&&(ie>423||!c)){f=IT(n,l,0,M,D,U,I,O,k,R-k,f),O=L=I=0,k=R;for(var ue=0;ue<286;++ue)D[ue]=0;for(var ue=0;ue<30;++ue)U[ue]=0}var J=2,X=0,pe=m,oe=G-ae&32767;if(ie>2&&j==E(R-oe))for(var C=Math.min(p,ie)-1,W=Math.min(32767,R),z=Math.min(258,ie);oe<=W&&--pe&&G!=ae;){if(n[R+J]==n[R+J-oe]){for(var V=0;V<z&&n[R+V]==n[R+V-oe];++V);if(V>J){if(J=V,X=oe,V>C)break;for(var ee=Math.min(oe,V-2),de=0,ue=0;ue<ee;++ue){var ve=R-oe+ue&32767,we=x[ve],Ce=ve-we&32767;Ce>de&&(de=Ce,ae=ve)}}}G=ae,ae=x[G],oe+=G-ae&32767}if(X){M[O++]=268435456|Iy[J]<<18|FT[X];var lt=Iy[J]&31,he=FT[X]&31;I+=fv[lt]+hv[he],++D[257+lt],++U[he],N=R+J,++L}else M[O++]=n[R],++D[n[R]]}}for(R=Math.max(R,N);R<a;++R)M[O++]=n[R],++D[n[R]];f=IT(n,l,c,M,D,U,I,O,k,R-k,f),c||(s.r=f&7|l[f/8|0]<<3,f-=7,s.h=g,s.p=x,s.i=R,s.w=N)}else{for(var R=s.w||0;R<a+c;R+=65535){var mt=R+65535;mt>=a&&(l[f/8|0]=c,mt=a),f=qP(l,f+1,n.subarray(R,mt))}s.i=a}return GP(o,0,r+Hb(f)+i)},$P=function(){var n=1,e=0;return{p:function(t){for(var r=n,i=e,s=t.length|0,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=r+=t[a];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}n=r,e=i},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},dq=function(n,e,t,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),a=new Is(s.length+n.length);a.set(s),a.set(n,s.length),n=a,i.w=s.length}return hq(n,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,r,i)},YP=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},pq=function(n,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=r<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var i=$P();i.p(e.dictionary),YP(n,2,i.d())}},mq=function(n,e){return((n[0]&15)!=8||n[0]>>4>7||(n[0]<<8|n[1])%31)&&el(6,"invalid zlib data"),(n[1]>>5&1)==1&&el(6,"invalid zlib data: "+(n[1]&32?"need":"unexpected")+" dictionary"),(n[1]>>3&4)+2};function By(n,e){e||(e={});var t=$P();t.p(n);var r=dq(n,e,e.dictionary?6:2,4);return pq(r,e),YP(r,r.length-4,t.d()),r}function gq(n,e){return uq(n.subarray(mq(n),-4),{i:2},e,e)}var xq=typeof TextDecoder<"u"&&new TextDecoder,vq=0;try{xq.decode(XP,{stream:!0}),vq=1}catch{}var vn=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function r_(){vn.console&&typeof vn.console.log=="function"&&vn.console.log.apply(vn.console,arguments)}var kr={log:r_,warn:function(n){vn.console&&(typeof vn.console.warn=="function"?vn.console.warn.apply(vn.console,arguments):r_.call(null,arguments))},error:function(n){vn.console&&(typeof vn.console.error=="function"?vn.console.error.apply(vn.console,arguments):r_(n))}};function i_(n,e,t){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){ph(r.response,e,t)},r.onerror=function(){kr.error("could not download file")},r.send()}function OT(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Wg(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var Zp,zy,ph=vn.saveAs||((typeof window>"u"?"undefined":lr(window))!=="object"||window!==vn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var r=vn.URL||vn.webkitURL,i=document.createElement("a");e=e||n.name||"download",i.download=e,i.rel="noopener",typeof n=="string"?(i.href=n,i.origin!==location.origin?OT(i.href)?i_(n,e,t):Wg(i,i.target="_blank"):Wg(i)):(i.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Wg(i)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(OT(n))i_(n,e,t);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){Wg(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:lr(s)!=="object"&&(kr.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(n,t),e)}:function(n,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return i_(n,e,t);var i=n.type==="application/octet-stream",s=/constructor/i.test(vn.HTMLElement)||vn.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&s)&&(typeof FileReader>"u"?"undefined":lr(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var f=o.result;f=a?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=f:location=f,r=null},o.readAsDataURL(n)}else{var l=vn.URL||vn.webkitURL,c=l.createObjectURL(n);r?r.location=c:location.href=c,r=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function KP(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],r=0;r<t.length;r++){var i=t[r].re,s=t[r].process,a=i.exec(n);a&&(e=s(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+o+l+c}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function s_(n,e){var t=n[0],r=n[1],i=n[2],s=n[3];t=Es(t,r,i,s,e[0],7,-680876936),s=Es(s,t,r,i,e[1],12,-389564586),i=Es(i,s,t,r,e[2],17,606105819),r=Es(r,i,s,t,e[3],22,-1044525330),t=Es(t,r,i,s,e[4],7,-176418897),s=Es(s,t,r,i,e[5],12,1200080426),i=Es(i,s,t,r,e[6],17,-1473231341),r=Es(r,i,s,t,e[7],22,-45705983),t=Es(t,r,i,s,e[8],7,1770035416),s=Es(s,t,r,i,e[9],12,-1958414417),i=Es(i,s,t,r,e[10],17,-42063),r=Es(r,i,s,t,e[11],22,-1990404162),t=Es(t,r,i,s,e[12],7,1804603682),s=Es(s,t,r,i,e[13],12,-40341101),i=Es(i,s,t,r,e[14],17,-1502002290),t=As(t,r=Es(r,i,s,t,e[15],22,1236535329),i,s,e[1],5,-165796510),s=As(s,t,r,i,e[6],9,-1069501632),i=As(i,s,t,r,e[11],14,643717713),r=As(r,i,s,t,e[0],20,-373897302),t=As(t,r,i,s,e[5],5,-701558691),s=As(s,t,r,i,e[10],9,38016083),i=As(i,s,t,r,e[15],14,-660478335),r=As(r,i,s,t,e[4],20,-405537848),t=As(t,r,i,s,e[9],5,568446438),s=As(s,t,r,i,e[14],9,-1019803690),i=As(i,s,t,r,e[3],14,-187363961),r=As(r,i,s,t,e[8],20,1163531501),t=As(t,r,i,s,e[13],5,-1444681467),s=As(s,t,r,i,e[2],9,-51403784),i=As(i,s,t,r,e[7],14,1735328473),t=Ts(t,r=As(r,i,s,t,e[12],20,-1926607734),i,s,e[5],4,-378558),s=Ts(s,t,r,i,e[8],11,-2022574463),i=Ts(i,s,t,r,e[11],16,1839030562),r=Ts(r,i,s,t,e[14],23,-35309556),t=Ts(t,r,i,s,e[1],4,-1530992060),s=Ts(s,t,r,i,e[4],11,1272893353),i=Ts(i,s,t,r,e[7],16,-155497632),r=Ts(r,i,s,t,e[10],23,-1094730640),t=Ts(t,r,i,s,e[13],4,681279174),s=Ts(s,t,r,i,e[0],11,-358537222),i=Ts(i,s,t,r,e[3],16,-722521979),r=Ts(r,i,s,t,e[6],23,76029189),t=Ts(t,r,i,s,e[9],4,-640364487),s=Ts(s,t,r,i,e[12],11,-421815835),i=Ts(i,s,t,r,e[15],16,530742520),t=Ms(t,r=Ts(r,i,s,t,e[2],23,-995338651),i,s,e[0],6,-198630844),s=Ms(s,t,r,i,e[7],10,1126891415),i=Ms(i,s,t,r,e[14],15,-1416354905),r=Ms(r,i,s,t,e[5],21,-57434055),t=Ms(t,r,i,s,e[12],6,1700485571),s=Ms(s,t,r,i,e[3],10,-1894986606),i=Ms(i,s,t,r,e[10],15,-1051523),r=Ms(r,i,s,t,e[1],21,-2054922799),t=Ms(t,r,i,s,e[8],6,1873313359),s=Ms(s,t,r,i,e[15],10,-30611744),i=Ms(i,s,t,r,e[6],15,-1560198380),r=Ms(r,i,s,t,e[13],21,1309151649),t=Ms(t,r,i,s,e[4],6,-145523070),s=Ms(s,t,r,i,e[11],10,-1120210379),i=Ms(i,s,t,r,e[2],15,718787259),r=Ms(r,i,s,t,e[9],21,-343485551),n[0]=rf(t,n[0]),n[1]=rf(r,n[1]),n[2]=rf(i,n[2]),n[3]=rf(s,n[3])}function dv(n,e,t,r,i,s){return e=rf(rf(e,n),rf(r,s)),rf(e<<i|e>>>32-i,t)}function Es(n,e,t,r,i,s,a){return dv(e&t|~e&r,n,e,i,s,a)}function As(n,e,t,r,i,s,a){return dv(e&r|t&~r,n,e,i,s,a)}function Ts(n,e,t,r,i,s,a){return dv(e^t^r,n,e,i,s,a)}function Ms(n,e,t,r,i,s,a){return dv(t^(e|~r),n,e,i,s,a)}function JP(n){var e,t=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)s_(r,_q(n.substring(e-64,e)));n=n.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)i[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(s_(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*t,s_(r,i),r}function _q(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}Zp=vn.atob.bind(vn),zy=vn.btoa.bind(vn);var UT="0123456789abcdef".split("");function yq(n){for(var e="",t=0;t<4;t++)e+=UT[n>>8*t+4&15]+UT[n>>8*t&15];return e}function wq(n){return String.fromCharCode((255&n)>>0,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function Hy(n){return JP(n).map(wq).join("")}var bq=function(n){for(var e=0;e<n.length;e++)n[e]=yq(n[e]);return n.join("")}(JP("hello"))!="5d41402abc4b2a76b9719d911017c592";function rf(n,e){if(bq){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function jy(n,e){var t,r,i,s;if(n!==t){for(var a=(i=n,s=1+(256/n.length>>0),new Array(s+1).join(i)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var f=o[l];c=(c+f+a.charCodeAt(l))%256,o[l]=o[c],o[c]=f}t=n,r=o}else o=r;var d=e.length,p=0,m=0,_="";for(l=0;l<d;l++)m=(m+(f=o[p=(p+1)%256]))%256,o[p]=o[m],o[m]=f,a=o[(o[p]+o[m])%256],_+=String.fromCharCode(e.charCodeAt(l)^a);return _}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var BT={print:4,modify:8,copy:16,"annot-forms":32};function Jd(n,e,t,r){this.v=1,this.r=2;var i=192;n.forEach(function(o){if(BT.perm!==void 0)throw new Error("Invalid permission: "+o);i+=BT[o]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var s=(e+this.padding).substr(0,32),a=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^i)),this.encryptionKey=Hy(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=jy(this.encryptionKey,this.padding)}function Zd(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,r=0;r<t;r++){var i=n.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=n[r]}return e}function zT(n){if(lr(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,i){if(i=i||!1,typeof t!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var s=Math.random().toString(35);return e[t][s]=[r,!!i],s},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[t]){var a=e[t][s];try{a[0].apply(n,r)}catch(o){vn.console&&kr.error("jsPDF PubSub Error",o.message,o)}a[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Fx(n){if(!(this instanceof Fx))return new Fx(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function ZP(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function xh(n,e,t,r,i){if(!(this instanceof xh))return new xh(n,e,t,r,i);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,ZP.call(this,r,i)}function e0(n,e,t,r,i){if(!(this instanceof e0))return new e0(n,e,t,r,i);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,ZP.call(this,r,i)}function gn(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],a=[],o=1,l=16,c="S",f=null;lr(n=n||{})==="object"&&(t=n.orientation,r=n.unit||r,i=n.format||i,s=n.compress||n.compressPdf||s,(f=n.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),o=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(l=n.floatPrecision),c=n.defaultPathOperation||"S"),a=n.filters||(s===!0?["FlateEncode"]:a),r=r||"mm",t=(""+(t||"P")).toLowerCase();var d=n.putOnlyUsedFonts||!1,p={},m={internal:{},__private__:{}};m.__private__.PubSub=zT;var _="1.3",x=m.__private__.getPdfVersion=function(){return _};m.__private__.setPdfVersion=function(T){_=T};var g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return g};var y=m.__private__.getPageFormat=function(T){return g[T]};i=i||"a4";var A={COMPAT:"compat",ADVANCED:"advanced"},E=A.COMPAT;function M(){this.saveGraphicsState(),q(new Qt(Xe,0,0,-Xe,0,wl()*Xe).toString()+" cm"),this.setFontSize(this.getFontSize()/Xe),c="n",E=A.ADVANCED}function D(){this.restoreGraphicsState(),c="S",E=A.COMPAT}var U=m.__private__.combineFontStyleAndFontWeight=function(T,Z){if(T=="bold"&&Z=="normal"||T=="bold"&&Z==400||T=="normal"&&Z=="italic"||T=="bold"&&Z=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Z&&(T=Z==400||Z==="normal"?T==="italic"?"italic":"normal":Z!=700&&Z!=="bold"||T!=="normal"?(Z==700?"bold":Z)+""+T:"bold"),T};m.advancedAPI=function(T){var Z=E===A.COMPAT;return Z&&M.call(this),typeof T!="function"||(T(this),Z&&D.call(this)),this},m.compatAPI=function(T){var Z=E===A.ADVANCED;return Z&&D.call(this),typeof T!="function"||(T(this),Z&&M.call(this)),this},m.isAdvancedAPI=function(){return E===A.ADVANCED};var L,I=function(T){if(E!==A.ADVANCED)throw new Error(T+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},R=m.roundToPrecision=m.__private__.roundToPrecision=function(T,Z){var Ae=e||Z;if(isNaN(T)||isNaN(Ae))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return T.toFixed(Ae).replace(/0+$/,"")};L=m.hpf=m.__private__.hpf=typeof l=="number"?function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.hpf");return R(T,l)}:l==="smart"?function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.hpf");return R(T,T>-1&&T<1?16:5)}:function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.hpf");return R(T,16)};var O=m.f2=m.__private__.f2=function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.f2");return R(T,2)},N=m.__private__.f3=function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.f3");return R(T,3)},k=m.scale=m.__private__.scale=function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.scale");return E===A.COMPAT?T*Xe:E===A.ADVANCED?T:void 0},j=function(T){return E===A.COMPAT?wl()-T:E===A.ADVANCED?T:void 0},G=function(T){return k(j(T))};m.__private__.setPrecision=m.setPrecision=function(T){typeof parseInt(T,10)=="number"&&(e=parseInt(T,10))};var ae,ie="00000000000000000000000000000000",ue=m.__private__.getFileId=function(){return ie},J=m.__private__.setFileId=function(T){return ie=T!==void 0&&/^[a-fA-F0-9]{32}$/.test(T)?T.toUpperCase():ie.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),f!==null&&(Dr=new Jd(f.userPermissions,f.userPassword,f.ownerPassword,ie)),ie};m.setFileId=function(T){return J(T),this},m.getFileId=function(){return ue()};var X=m.__private__.convertDateToPDFDate=function(T){var Z=T.getTimezoneOffset(),Ae=Z<0?"+":"-",Fe=Math.floor(Math.abs(Z/60)),et=Math.abs(Z%60),vt=[Ae,z(Fe),"'",z(et),"'"].join("");return["D:",T.getFullYear(),z(T.getMonth()+1),z(T.getDate()),z(T.getHours()),z(T.getMinutes()),z(T.getSeconds()),vt].join("")},pe=m.__private__.convertPDFDateToDate=function(T){var Z=parseInt(T.substr(2,4),10),Ae=parseInt(T.substr(6,2),10)-1,Fe=parseInt(T.substr(8,2),10),et=parseInt(T.substr(10,2),10),vt=parseInt(T.substr(12,2),10),Lt=parseInt(T.substr(14,2),10);return new Date(Z,Ae,Fe,et,vt,Lt,0)},oe=m.__private__.setCreationDate=function(T){var Z;if(T===void 0&&(T=new Date),T instanceof Date)Z=X(T);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(T))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Z=T}return ae=Z},C=m.__private__.getCreationDate=function(T){var Z=ae;return T==="jsDate"&&(Z=pe(ae)),Z};m.setCreationDate=function(T){return oe(T),this},m.getCreationDate=function(T){return C(T)};var W,z=m.__private__.padd2=function(T){return("0"+parseInt(T)).slice(-2)},V=m.__private__.padd2Hex=function(T){return("00"+(T=T.toString())).substr(T.length)},ee=0,de=[],ve=[],we=0,Ce=[],lt=[],he=!1,mt=ve,ye=function(){ee=0,we=0,ve=[],de=[],Ce=[],ge=dr(),xe=dr()};m.__private__.setCustomOutputDestination=function(T){he=!0,mt=T};var Je=function(T){he||(mt=T)};m.__private__.resetCustomOutputDestination=function(){he=!1,mt=ve};var q=m.__private__.out=function(T){return T=T.toString(),we+=T.length+1,mt.push(T),mt},Re=m.__private__.write=function(T){return q(arguments.length===1?T.toString():Array.prototype.join.call(arguments," "))},je=m.__private__.getArrayBuffer=function(T){for(var Z=T.length,Ae=new ArrayBuffer(Z),Fe=new Uint8Array(Ae);Z--;)Fe[Z]=T.charCodeAt(Z);return Ae},Ve=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return Ve};var Ie=n.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(T){return Ie=E===A.ADVANCED?T/Xe:T,this};var Ke,Et=m.__private__.getFontSize=m.getFontSize=function(){return E===A.COMPAT?Ie:Ie*Xe},ce=n.R2L||!1;m.__private__.setR2L=m.setR2L=function(T){return ce=T,this},m.__private__.getR2L=m.getR2L=function(){return ce};var Y,Ne=m.__private__.setZoomMode=function(T){var Z=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(T))Ke=T;else if(isNaN(T)){if(Z.indexOf(T)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+T+'" is not recognized.');Ke=T}else Ke=parseInt(T,10)};m.__private__.getZoomMode=function(){return Ke};var $e,Qe=m.__private__.setPageMode=function(T){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(T)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+T+'" is not recognized.');Y=T};m.__private__.getPageMode=function(){return Y};var He=m.__private__.setLayoutMode=function(T){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(T)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+T+'" is not recognized.');$e=T};m.__private__.getLayoutMode=function(){return $e},m.__private__.setDisplayMode=m.setDisplayMode=function(T,Z,Ae){return Ne(T),He(Z),Qe(Ae),this};var ht={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(T){if(Object.keys(ht).indexOf(T)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ht[T]},m.__private__.getDocumentProperties=function(){return ht},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(T){for(var Z in ht)ht.hasOwnProperty(Z)&&T[Z]&&(ht[Z]=T[Z]);return this},m.__private__.setDocumentProperty=function(T,Z){if(Object.keys(ht).indexOf(T)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ht[T]=Z};var Ye,Xe,wt,We,Ct,Pt={},Ht={},It=[],Bt={},Ue={},Ft={},Tt={},Vt=null,At=0,ot=[],Ot=new zT(m),un=n.hotfixes||[],_n={},An={},Cr=[],Qt=function T(Z,Ae,Fe,et,vt,Lt){if(!(this instanceof T))return new T(Z,Ae,Fe,et,vt,Lt);isNaN(Z)&&(Z=1),isNaN(Ae)&&(Ae=0),isNaN(Fe)&&(Fe=0),isNaN(et)&&(et=1),isNaN(vt)&&(vt=0),isNaN(Lt)&&(Lt=0),this._matrix=[Z,Ae,Fe,et,vt,Lt]};Object.defineProperty(Qt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(T){this._matrix[0]=T}}),Object.defineProperty(Qt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(T){this._matrix[1]=T}}),Object.defineProperty(Qt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(T){this._matrix[2]=T}}),Object.defineProperty(Qt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(T){this._matrix[3]=T}}),Object.defineProperty(Qt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(T){this._matrix[4]=T}}),Object.defineProperty(Qt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(T){this._matrix[5]=T}}),Object.defineProperty(Qt.prototype,"a",{get:function(){return this._matrix[0]},set:function(T){this._matrix[0]=T}}),Object.defineProperty(Qt.prototype,"b",{get:function(){return this._matrix[1]},set:function(T){this._matrix[1]=T}}),Object.defineProperty(Qt.prototype,"c",{get:function(){return this._matrix[2]},set:function(T){this._matrix[2]=T}}),Object.defineProperty(Qt.prototype,"d",{get:function(){return this._matrix[3]},set:function(T){this._matrix[3]=T}}),Object.defineProperty(Qt.prototype,"e",{get:function(){return this._matrix[4]},set:function(T){this._matrix[4]=T}}),Object.defineProperty(Qt.prototype,"f",{get:function(){return this._matrix[5]},set:function(T){this._matrix[5]=T}}),Object.defineProperty(Qt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Qt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Qt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Qt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Qt.prototype.join=function(T){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(L).join(T)},Qt.prototype.multiply=function(T){var Z=T.sx*this.sx+T.shy*this.shx,Ae=T.sx*this.shy+T.shy*this.sy,Fe=T.shx*this.sx+T.sy*this.shx,et=T.shx*this.shy+T.sy*this.sy,vt=T.tx*this.sx+T.ty*this.shx+this.tx,Lt=T.tx*this.shy+T.ty*this.sy+this.ty;return new Qt(Z,Ae,Fe,et,vt,Lt)},Qt.prototype.decompose=function(){var T=this.sx,Z=this.shy,Ae=this.shx,Fe=this.sy,et=this.tx,vt=this.ty,Lt=Math.sqrt(T*T+Z*Z),Yt=(T/=Lt)*Ae+(Z/=Lt)*Fe;Ae-=T*Yt,Fe-=Z*Yt;var cn=Math.sqrt(Ae*Ae+Fe*Fe);return Yt/=cn,T*(Fe/=cn)<Z*(Ae/=cn)&&(T=-T,Z=-Z,Yt=-Yt,Lt=-Lt),{scale:new Qt(Lt,0,0,cn,0,0),translate:new Qt(1,0,0,1,et,vt),rotate:new Qt(T,Z,-Z,T,0,0),skew:new Qt(1,0,Yt,1,0,0)}},Qt.prototype.toString=function(T){return this.join(" ")},Qt.prototype.inversed=function(){var T=this.sx,Z=this.shy,Ae=this.shx,Fe=this.sy,et=this.tx,vt=this.ty,Lt=1/(T*Fe-Z*Ae),Yt=Fe*Lt,cn=-Z*Lt,Mn=-Ae*Lt,Tn=T*Lt;return new Qt(Yt,cn,Mn,Tn,-Yt*et-Mn*vt,-cn*et-Tn*vt)},Qt.prototype.applyToPoint=function(T){var Z=T.x*this.sx+T.y*this.shx+this.tx,Ae=T.x*this.shy+T.y*this.sy+this.ty;return new ro(Z,Ae)},Qt.prototype.applyToRectangle=function(T){var Z=this.applyToPoint(T),Ae=this.applyToPoint(new ro(T.x+T.w,T.y+T.h));return new yl(Z.x,Z.y,Ae.x-Z.x,Ae.y-Z.y)},Qt.prototype.clone=function(){var T=this.sx,Z=this.shy,Ae=this.shx,Fe=this.sy,et=this.tx,vt=this.ty;return new Qt(T,Z,Ae,Fe,et,vt)},m.Matrix=Qt;var Si=m.matrixMult=function(T,Z){return Z.multiply(T)},Kr=new Qt(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=Kr;var Rr=function(T,Z){if(!Ue[T]){var Ae=(Z instanceof xh?"Sh":"P")+(Object.keys(Bt).length+1).toString(10);Z.id=Ae,Ue[T]=Ae,Bt[Ae]=Z,Ot.publish("addPattern",Z)}};m.ShadingPattern=xh,m.TilingPattern=e0,m.addShadingPattern=function(T,Z){return I("addShadingPattern()"),Rr(T,Z),this},m.beginTilingPattern=function(T){I("beginTilingPattern()"),id(T.boundingBox[0],T.boundingBox[1],T.boundingBox[2]-T.boundingBox[0],T.boundingBox[3]-T.boundingBox[1],T.matrix)},m.endTilingPattern=function(T,Z){I("endTilingPattern()"),Z.stream=lt[W].join(`
`),Rr(T,Z),Ot.publish("endTilingPattern",Z),Cr.pop().restore()};var cr=m.__private__.newObject=function(){var T=dr();return re(T,!0),T},dr=m.__private__.newObjectDeferred=function(){return ee++,de[ee]=function(){return we},ee},re=function(T,Z){return Z=typeof Z=="boolean"&&Z,de[T]=we,Z&&q(T+" 0 obj"),T},be=m.__private__.newAdditionalObject=function(){var T={objId:dr(),content:""};return Ce.push(T),T},ge=dr(),xe=dr(),Se=m.__private__.decodeColorString=function(T){var Z=T.split(" ");if(Z.length!==2||Z[1]!=="g"&&Z[1]!=="G")Z.length===5&&(Z[4]==="k"||Z[4]==="K")&&(Z=[(1-Z[0])*(1-Z[3]),(1-Z[1])*(1-Z[3]),(1-Z[2])*(1-Z[3]),"r"]);else{var Ae=parseFloat(Z[0]);Z=[Ae,Ae,Ae,"r"]}for(var Fe="#",et=0;et<3;et++)Fe+=("0"+Math.floor(255*parseFloat(Z[et])).toString(16)).slice(-2);return Fe},Ee=m.__private__.encodeColorString=function(T){var Z;typeof T=="string"&&(T={ch1:T});var Ae=T.ch1,Fe=T.ch2,et=T.ch3,vt=T.ch4,Lt=T.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Ae=="string"&&Ae.charAt(0)!=="#"){var Yt=new KP(Ae);if(Yt.ok)Ae=Yt.toHex();else if(!/^\d*\.?\d*$/.test(Ae))throw new Error('Invalid color "'+Ae+'" passed to jsPDF.encodeColorString.')}if(typeof Ae=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Ae)&&(Ae="#"+Ae[1]+Ae[1]+Ae[2]+Ae[2]+Ae[3]+Ae[3]),typeof Ae=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Ae)){var cn=parseInt(Ae.substr(1),16);Ae=cn>>16&255,Fe=cn>>8&255,et=255&cn}if(Fe===void 0||vt===void 0&&Ae===Fe&&Fe===et)if(typeof Ae=="string")Z=Ae+" "+Lt[0];else switch(T.precision){case 2:Z=O(Ae/255)+" "+Lt[0];break;case 3:default:Z=N(Ae/255)+" "+Lt[0]}else if(vt===void 0||lr(vt)==="object"){if(vt&&!isNaN(vt.a)&&vt.a===0)return Z=["1.","1.","1.",Lt[1]].join(" ");if(typeof Ae=="string")Z=[Ae,Fe,et,Lt[1]].join(" ");else switch(T.precision){case 2:Z=[O(Ae/255),O(Fe/255),O(et/255),Lt[1]].join(" ");break;default:case 3:Z=[N(Ae/255),N(Fe/255),N(et/255),Lt[1]].join(" ")}}else if(typeof Ae=="string")Z=[Ae,Fe,et,vt,Lt[2]].join(" ");else switch(T.precision){case 2:Z=[O(Ae),O(Fe),O(et),O(vt),Lt[2]].join(" ");break;case 3:default:Z=[N(Ae),N(Fe),N(et),N(vt),Lt[2]].join(" ")}return Z},it=m.__private__.getFilters=function(){return a},dt=m.__private__.putStream=function(T){var Z=(T=T||{}).data||"",Ae=T.filters||it(),Fe=T.alreadyAppliedFilters||[],et=T.addLength1||!1,vt=Z.length,Lt=T.objectId,Yt=function(ji){return ji};if(f!==null&&Lt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(Yt=Dr.encryptor(Lt,0));var cn={};Ae===!0&&(Ae=["FlateEncode"]);var Mn=T.additionalKeyValues||[],Tn=(cn=gn.API.processDataByFilters!==void 0?gn.API.processDataByFilters(Z,Ae):{data:Z,reverseChain:[]}).reverseChain+(Array.isArray(Fe)?Fe.join(" "):Fe.toString());if(cn.data.length!==0&&(Mn.push({key:"Length",value:cn.data.length}),et===!0&&Mn.push({key:"Length1",value:vt})),Tn.length!=0)if(Tn.split("/").length-1==1)Mn.push({key:"Filter",value:Tn});else{Mn.push({key:"Filter",value:"["+Tn+"]"});for(var Vn=0;Vn<Mn.length;Vn+=1)if(Mn[Vn].key==="DecodeParms"){for(var Ir=[],Vr=0;Vr<cn.reverseChain.split("/").length-1;Vr+=1)Ir.push("null");Ir.push(Mn[Vn].value),Mn[Vn].value="["+Ir.join(" ")+"]"}}q("<<");for(var ni=0;ni<Mn.length;ni++)q("/"+Mn[ni].key+" "+Mn[ni].value);q(">>"),cn.data.length!==0&&(q("stream"),q(Yt(cn.data)),q("endstream"))},rt=m.__private__.putPage=function(T){var Z=T.number,Ae=T.data,Fe=T.objId,et=T.contentsObjId;re(Fe,!0),q("<</Type /Page"),q("/Parent "+T.rootDictionaryObjId+" 0 R"),q("/Resources "+T.resourceDictionaryObjId+" 0 R"),q("/MediaBox ["+parseFloat(L(T.mediaBox.bottomLeftX))+" "+parseFloat(L(T.mediaBox.bottomLeftY))+" "+L(T.mediaBox.topRightX)+" "+L(T.mediaBox.topRightY)+"]"),T.cropBox!==null&&q("/CropBox ["+L(T.cropBox.bottomLeftX)+" "+L(T.cropBox.bottomLeftY)+" "+L(T.cropBox.topRightX)+" "+L(T.cropBox.topRightY)+"]"),T.bleedBox!==null&&q("/BleedBox ["+L(T.bleedBox.bottomLeftX)+" "+L(T.bleedBox.bottomLeftY)+" "+L(T.bleedBox.topRightX)+" "+L(T.bleedBox.topRightY)+"]"),T.trimBox!==null&&q("/TrimBox ["+L(T.trimBox.bottomLeftX)+" "+L(T.trimBox.bottomLeftY)+" "+L(T.trimBox.topRightX)+" "+L(T.trimBox.topRightY)+"]"),T.artBox!==null&&q("/ArtBox ["+L(T.artBox.bottomLeftX)+" "+L(T.artBox.bottomLeftY)+" "+L(T.artBox.topRightX)+" "+L(T.artBox.topRightY)+"]"),typeof T.userUnit=="number"&&T.userUnit!==1&&q("/UserUnit "+T.userUnit),Ot.publish("putPage",{objId:Fe,pageContext:ot[Z],pageNumber:Z,page:Ae}),q("/Contents "+et+" 0 R"),q(">>"),q("endobj");var vt=Ae.join(`
`);return E===A.ADVANCED&&(vt+=`
Q`),re(et,!0),dt({data:vt,filters:it(),objectId:et}),q("endobj"),Fe},at=m.__private__.putPages=function(){var T,Z,Ae=[];for(T=1;T<=At;T++)ot[T].objId=dr(),ot[T].contentsObjId=dr();for(T=1;T<=At;T++)Ae.push(rt({number:T,data:lt[T],objId:ot[T].objId,contentsObjId:ot[T].contentsObjId,mediaBox:ot[T].mediaBox,cropBox:ot[T].cropBox,bleedBox:ot[T].bleedBox,trimBox:ot[T].trimBox,artBox:ot[T].artBox,userUnit:ot[T].userUnit,rootDictionaryObjId:ge,resourceDictionaryObjId:xe}));re(ge,!0),q("<</Type /Pages");var Fe="/Kids [";for(Z=0;Z<At;Z++)Fe+=Ae[Z]+" 0 R ";q(Fe+"]"),q("/Count "+At),q(">>"),q("endobj"),Ot.publish("postPutPages")},ct=function(T){Ot.publish("putFont",{font:T,out:q,newObject:cr,putStream:dt}),T.isAlreadyPutted!==!0&&(T.objectNumber=cr(),q("<<"),q("/Type /Font"),q("/BaseFont /"+Zd(T.postScriptName)),q("/Subtype /Type1"),typeof T.encoding=="string"&&q("/Encoding /"+T.encoding),q("/FirstChar 32"),q("/LastChar 255"),q(">>"),q("endobj"))},kt=function(){for(var T in Pt)Pt.hasOwnProperty(T)&&(d===!1||d===!0&&p.hasOwnProperty(T))&&ct(Pt[T])},Q=function(T){T.objectNumber=cr();var Z=[];Z.push({key:"Type",value:"/XObject"}),Z.push({key:"Subtype",value:"/Form"}),Z.push({key:"BBox",value:"["+[L(T.x),L(T.y),L(T.x+T.width),L(T.y+T.height)].join(" ")+"]"}),Z.push({key:"Matrix",value:"["+T.matrix.toString()+"]"});var Ae=T.pages[1].join(`
`);dt({data:Ae,additionalKeyValues:Z,objectId:T.objectNumber}),q("endobj")},Te=function(){for(var T in _n)_n.hasOwnProperty(T)&&Q(_n[T])},ke=function(T,Z){var Ae,Fe=[],et=1/(Z-1);for(Ae=0;Ae<1;Ae+=et)Fe.push(Ae);if(Fe.push(1),T[0].offset!=0){var vt={offset:0,color:T[0].color};T.unshift(vt)}if(T[T.length-1].offset!=1){var Lt={offset:1,color:T[T.length-1].color};T.push(Lt)}for(var Yt="",cn=0,Mn=0;Mn<Fe.length;Mn++){for(Ae=Fe[Mn];Ae>T[cn+1].offset;)cn++;var Tn=T[cn].offset,Vn=(Ae-Tn)/(T[cn+1].offset-Tn),Ir=T[cn].color,Vr=T[cn+1].color;Yt+=V(Math.round((1-Vn)*Ir[0]+Vn*Vr[0]).toString(16))+V(Math.round((1-Vn)*Ir[1]+Vn*Vr[1]).toString(16))+V(Math.round((1-Vn)*Ir[2]+Vn*Vr[2]).toString(16))}return Yt.trim()},Pe=function(T,Z){Z||(Z=21);var Ae=cr(),Fe=ke(T.colors,Z),et=[];et.push({key:"FunctionType",value:"0"}),et.push({key:"Domain",value:"[0.0 1.0]"}),et.push({key:"Size",value:"["+Z+"]"}),et.push({key:"BitsPerSample",value:"8"}),et.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),et.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),dt({data:Fe,additionalKeyValues:et,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Ae}),q("endobj"),T.objectNumber=cr(),q("<< /ShadingType "+T.type),q("/ColorSpace /DeviceRGB");var vt="/Coords ["+L(parseFloat(T.coords[0]))+" "+L(parseFloat(T.coords[1]))+" ";T.type===2?vt+=L(parseFloat(T.coords[2]))+" "+L(parseFloat(T.coords[3])):vt+=L(parseFloat(T.coords[2]))+" "+L(parseFloat(T.coords[3]))+" "+L(parseFloat(T.coords[4]))+" "+L(parseFloat(T.coords[5])),q(vt+="]"),T.matrix&&q("/Matrix ["+T.matrix.toString()+"]"),q("/Function "+Ae+" 0 R"),q("/Extend [true true]"),q(">>"),q("endobj")},Le=function(T,Z){var Ae=dr(),Fe=cr();Z.push({resourcesOid:Ae,objectOid:Fe}),T.objectNumber=Fe;var et=[];et.push({key:"Type",value:"/Pattern"}),et.push({key:"PatternType",value:"1"}),et.push({key:"PaintType",value:"1"}),et.push({key:"TilingType",value:"1"}),et.push({key:"BBox",value:"["+T.boundingBox.map(L).join(" ")+"]"}),et.push({key:"XStep",value:L(T.xStep)}),et.push({key:"YStep",value:L(T.yStep)}),et.push({key:"Resources",value:Ae+" 0 R"}),T.matrix&&et.push({key:"Matrix",value:"["+T.matrix.toString()+"]"}),dt({data:T.stream,additionalKeyValues:et,objectId:T.objectNumber}),q("endobj")},St=function(T){var Z;for(Z in Bt)Bt.hasOwnProperty(Z)&&(Bt[Z]instanceof xh?Pe(Bt[Z]):Bt[Z]instanceof e0&&Le(Bt[Z],T))},Rt=function(T){for(var Z in T.objectNumber=cr(),q("<<"),T)switch(Z){case"opacity":q("/ca "+O(T[Z]));break;case"stroke-opacity":q("/CA "+O(T[Z]))}q(">>"),q("endobj")},jt=function(){var T;for(T in Ft)Ft.hasOwnProperty(T)&&Rt(Ft[T])},Xt=function(){for(var T in q("/XObject <<"),_n)_n.hasOwnProperty(T)&&_n[T].objectNumber>=0&&q("/"+T+" "+_n[T].objectNumber+" 0 R");Ot.publish("putXobjectDict"),q(">>")},on=function(){Dr.oid=cr(),q("<<"),q("/Filter /Standard"),q("/V "+Dr.v),q("/R "+Dr.r),q("/U <"+Dr.toHexString(Dr.U)+">"),q("/O <"+Dr.toHexString(Dr.O)+">"),q("/P "+Dr.P),q(">>"),q("endobj")},rn=function(){for(var T in q("/Font <<"),Pt)Pt.hasOwnProperty(T)&&(d===!1||d===!0&&p.hasOwnProperty(T))&&q("/"+T+" "+Pt[T].objectNumber+" 0 R");q(">>")},$t=function(){if(Object.keys(Bt).length>0){for(var T in q("/Shading <<"),Bt)Bt.hasOwnProperty(T)&&Bt[T]instanceof xh&&Bt[T].objectNumber>=0&&q("/"+T+" "+Bt[T].objectNumber+" 0 R");Ot.publish("putShadingPatternDict"),q(">>")}},yn=function(T){if(Object.keys(Bt).length>0){for(var Z in q("/Pattern <<"),Bt)Bt.hasOwnProperty(Z)&&Bt[Z]instanceof m.TilingPattern&&Bt[Z].objectNumber>=0&&Bt[Z].objectNumber<T&&q("/"+Z+" "+Bt[Z].objectNumber+" 0 R");Ot.publish("putTilingPatternDict"),q(">>")}},hn=function(){if(Object.keys(Ft).length>0){var T;for(T in q("/ExtGState <<"),Ft)Ft.hasOwnProperty(T)&&Ft[T].objectNumber>=0&&q("/"+T+" "+Ft[T].objectNumber+" 0 R");Ot.publish("putGStateDict"),q(">>")}},Sn=function(T){re(T.resourcesOid,!0),q("<<"),q("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),rn(),$t(),yn(T.objectOid),hn(),Xt(),q(">>"),q("endobj")},_r=function(){var T=[];kt(),jt(),Te(),St(T),Ot.publish("putResources"),T.forEach(Sn),Sn({resourcesOid:xe,objectOid:Number.MAX_SAFE_INTEGER}),Ot.publish("postPutResources")},Bn=function(){Ot.publish("putAdditionalObjects");for(var T=0;T<Ce.length;T++){var Z=Ce[T];re(Z.objId,!0),q(Z.content),q("endobj")}Ot.publish("postPutAdditionalObjects")},an=function(T){Ht[T.fontName]=Ht[T.fontName]||{},Ht[T.fontName][T.fontStyle]=T.id},Sr=function(T,Z,Ae,Fe,et){var vt={id:"F"+(Object.keys(Pt).length+1).toString(10),postScriptName:T,fontName:Z,fontStyle:Ae,encoding:Fe,isStandardFont:et||!1,metadata:{}};return Ot.publish("addFont",{font:vt,instance:this}),Pt[vt.id]=vt,an(vt),vt.id},On=function(T){for(var Z=0,Ae=Ve.length;Z<Ae;Z++){var Fe=Sr.call(this,T[Z][0],T[Z][1],T[Z][2],Ve[Z][3],!0);d===!1&&(p[Fe]=!0);var et=T[Z][0].split("-");an({id:Fe,fontName:et[0],fontStyle:et[1]||""})}Ot.publish("addFonts",{fonts:Pt,dictionary:Ht})},Er=function(T){return T.foo=function(){try{return T.apply(this,arguments)}catch(Fe){var Z=Fe.stack||"";~Z.indexOf(" at ")&&(Z=Z.split(" at ")[1]);var Ae="Error in function "+Z.split(`
`)[0].split("<")[0]+": "+Fe.message;if(!vn.console)throw new Error(Ae);vn.console.error(Ae,Fe),vn.alert&&alert(Ae)}},T.foo.bar=T,T.foo},Ws=function(T,Z){var Ae,Fe,et,vt,Lt,Yt,cn,Mn,Tn;if(et=(Z=Z||{}).sourceEncoding||"Unicode",Lt=Z.outputEncoding,(Z.autoencode||Lt)&&Pt[Ye].metadata&&Pt[Ye].metadata[et]&&Pt[Ye].metadata[et].encoding&&(vt=Pt[Ye].metadata[et].encoding,!Lt&&Pt[Ye].encoding&&(Lt=Pt[Ye].encoding),!Lt&&vt.codePages&&(Lt=vt.codePages[0]),typeof Lt=="string"&&(Lt=vt[Lt]),Lt)){for(cn=!1,Yt=[],Ae=0,Fe=T.length;Ae<Fe;Ae++)(Mn=Lt[T.charCodeAt(Ae)])?Yt.push(String.fromCharCode(Mn)):Yt.push(T[Ae]),Yt[Ae].charCodeAt(0)>>8&&(cn=!0);T=Yt.join("")}for(Ae=T.length;cn===void 0&&Ae!==0;)T.charCodeAt(Ae-1)>>8&&(cn=!0),Ae--;if(!cn)return T;for(Yt=Z.noBOM?[]:[254,255],Ae=0,Fe=T.length;Ae<Fe;Ae++){if((Tn=(Mn=T.charCodeAt(Ae))>>8)>>8)throw new Error("Character at position "+Ae+" of string '"+T+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Yt.push(Tn),Yt.push(Mn-(Tn<<8))}return String.fromCharCode.apply(void 0,Yt)},pr=m.__private__.pdfEscape=m.pdfEscape=function(T,Z){return Ws(T,Z).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Gs=m.__private__.beginPage=function(T){lt[++At]=[],ot[At]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(T[0]),topRightY:Number(T[1])}},Jr(At),Je(lt[W])},nr=function(T,Z){var Ae,Fe,et;switch(t=Z||t,typeof T=="string"&&(Ae=y(T.toLowerCase()),Array.isArray(Ae)&&(Fe=Ae[0],et=Ae[1])),Array.isArray(T)&&(Fe=T[0]*Xe,et=T[1]*Xe),isNaN(Fe)&&(Fe=i[0],et=i[1]),(Fe>14400||et>14400)&&(kr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Fe=Math.min(14400,Fe),et=Math.min(14400,et)),i=[Fe,et],t.substr(0,1)){case"l":et>Fe&&(i=[et,Fe]);break;case"p":Fe>et&&(i=[et,Fe])}Gs(i),rc(Pf),q(ps),Rf!==0&&q(Rf+" J"),sc!==0&&q(sc+" j"),Ot.publish("addPage",{pageNumber:At})},Ei=function(T){T>0&&T<=At&&(lt.splice(T,1),ot.splice(T,1),At--,W>At&&(W=At),this.setPage(W))},Jr=function(T){T>0&&T<=At&&(W=T)},hi=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return lt.length-1},Zr=function(T,Z,Ae){var Fe,et=void 0;return Ae=Ae||{},T=T!==void 0?T:Pt[Ye].fontName,Z=Z!==void 0?Z:Pt[Ye].fontStyle,Fe=T.toLowerCase(),Ht[Fe]!==void 0&&Ht[Fe][Z]!==void 0?et=Ht[Fe][Z]:Ht[T]!==void 0&&Ht[T][Z]!==void 0?et=Ht[T][Z]:Ae.disableWarning===!1&&kr.warn("Unable to look up font label for font '"+T+"', '"+Z+"'. Refer to getFontList() for available fonts."),et||Ae.noFallback||(et=Ht.times[Z])==null&&(et=Ht.times.normal),et},jn=m.__private__.putInfo=function(){var T=cr(),Z=function(Fe){return Fe};for(var Ae in f!==null&&(Z=Dr.encryptor(T,0)),q("<<"),q("/Producer ("+pr(Z("jsPDF "+gn.version))+")"),ht)ht.hasOwnProperty(Ae)&&ht[Ae]&&q("/"+Ae.substr(0,1).toUpperCase()+Ae.substr(1)+" ("+pr(Z(ht[Ae]))+")");q("/CreationDate ("+pr(Z(ae))+")"),q(">>"),q("endobj")},ds=m.__private__.putCatalog=function(T){var Z=(T=T||{}).rootDictionaryObjId||ge;switch(cr(),q("<<"),q("/Type /Catalog"),q("/Pages "+Z+" 0 R"),Ke||(Ke="fullwidth"),Ke){case"fullwidth":q("/OpenAction [3 0 R /FitH null]");break;case"fullheight":q("/OpenAction [3 0 R /FitV null]");break;case"fullpage":q("/OpenAction [3 0 R /Fit]");break;case"original":q("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Ae=""+Ke;Ae.substr(Ae.length-1)==="%"&&(Ke=parseInt(Ke)/100),typeof Ke=="number"&&q("/OpenAction [3 0 R /XYZ null null "+O(Ke)+"]")}switch($e||($e="continuous"),$e){case"continuous":q("/PageLayout /OneColumn");break;case"single":q("/PageLayout /SinglePage");break;case"two":case"twoleft":q("/PageLayout /TwoColumnLeft");break;case"tworight":q("/PageLayout /TwoColumnRight")}Y&&q("/PageMode /"+Y),Ot.publish("putCatalog"),q(">>"),q("endobj")},ed=m.__private__.putTrailer=function(){q("trailer"),q("<<"),q("/Size "+(ee+1)),q("/Root "+ee+" 0 R"),q("/Info "+(ee-1)+" 0 R"),f!==null&&q("/Encrypt "+Dr.oid+" 0 R"),q("/ID [ <"+ie+"> <"+ie+"> ]"),q(">>")},Mf=m.__private__.putHeader=function(){q("%PDF-"+_),q("%ºß¬à")},td=m.__private__.putXRef=function(){var T="0000000000";q("xref"),q("0 "+(ee+1)),q("0000000000 65535 f ");for(var Z=1;Z<=ee;Z++)typeof de[Z]=="function"?q((T+de[Z]()).slice(-10)+" 00000 n "):de[Z]!==void 0?q((T+de[Z]).slice(-10)+" 00000 n "):q("0000000000 00000 n ")},Qa=m.__private__.buildDocument=function(){ye(),Je(ve),Ot.publish("buildDocument"),Mf(),at(),Bn(),_r(),f!==null&&on(),jn(),ds();var T=we;return td(),ed(),q("startxref"),q(""+T),q("%%EOF"),Je(lt[W]),ve.join(`
`)},Ql=m.__private__.getBlob=function(T){return new Blob([je(T)],{type:"application/pdf"})},ml=m.output=m.__private__.output=Er(function(T,Z){switch(typeof(Z=Z||{})=="string"?Z={filename:Z}:Z.filename=Z.filename||"generated.pdf",T){case void 0:return Qa();case"save":m.save(Z.filename);break;case"arraybuffer":return je(Qa());case"blob":return Ql(Qa());case"bloburi":case"bloburl":if(vn.URL!==void 0&&typeof vn.URL.createObjectURL=="function")return vn.URL&&vn.URL.createObjectURL(Ql(Qa()))||void 0;kr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Ae="",Fe=Qa();try{Ae=zy(Fe)}catch{Ae=zy(unescape(encodeURIComponent(Fe)))}return"data:application/pdf;filename="+Z.filename+";base64,"+Ae;case"pdfobjectnewwindow":if(Object.prototype.toString.call(vn)==="[object Window]"){var et="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",vt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Z.pdfObjectUrl&&(et=Z.pdfObjectUrl,vt="");var Lt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+et+'"'+vt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Z)+");<\/script></body></html>",Yt=vn.open();return Yt!==null&&Yt.document.write(Lt),Yt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(vn)==="[object Window]"){var cn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Z.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Z.filename+'" width="500px" height="400px" /></body></html>',Mn=vn.open();if(Mn!==null){Mn.document.write(cn);var Tn=this;Mn.document.documentElement.querySelector("#pdfViewer").onload=function(){Mn.document.title=Z.filename,Mn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Tn.output("bloburl"))}}return Mn}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(vn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Vn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Z)+'"></iframe></body></html>',Ir=vn.open();if(Ir!==null&&(Ir.document.write(Vn),Ir.document.title=Z.filename),Ir||typeof safari>"u")return Ir;break;case"datauri":case"dataurl":return vn.document.location.href=this.output("datauristring",Z);default:return null}}),ec=function(T){return Array.isArray(un)===!0&&un.indexOf(T)>-1};switch(r){case"pt":Xe=1;break;case"mm":Xe=72/25.4;break;case"cm":Xe=72/2.54;break;case"in":Xe=72;break;case"px":Xe=ec("px_scaling")==1?.75:96/72;break;case"pc":case"em":Xe=12;break;case"ex":Xe=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Xe=r}var Dr=null;oe(),J();var eo=function(T){return f!==null?Dr.encryptor(T,0):function(Z){return Z}},Da=m.__private__.getPageInfo=m.getPageInfo=function(T){if(isNaN(T)||T%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ot[T].objId,pageNumber:T,pageContext:ot[T]}},xn=m.__private__.getPageInfoByObjId=function(T){if(isNaN(T)||T%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Z in ot)if(ot[Z].objId===T)break;return Da(Z)},tc=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:ot[W].objId,pageNumber:W,pageContext:ot[W]}};m.addPage=function(){return nr.apply(this,arguments),this},m.setPage=function(){return Jr.apply(this,arguments),Je.call(this,lt[W]),this},m.insertPage=function(T){return this.addPage(),this.movePage(W,T),this},m.movePage=function(T,Z){var Ae,Fe;if(T>Z){Ae=lt[T],Fe=ot[T];for(var et=T;et>Z;et--)lt[et]=lt[et-1],ot[et]=ot[et-1];lt[Z]=Ae,ot[Z]=Fe,this.setPage(Z)}else if(T<Z){Ae=lt[T],Fe=ot[T];for(var vt=T;vt<Z;vt++)lt[vt]=lt[vt+1],ot[vt]=ot[vt+1];lt[Z]=Ae,ot[Z]=Fe,this.setPage(Z)}return this},m.deletePage=function(){return Ei.apply(this,arguments),this},m.__private__.text=m.text=function(T,Z,Ae,Fe,et){var vt,Lt,Yt,cn,Mn,Tn,Vn,Ir,Vr,ni=(Fe=Fe||{}).scope||this;if(typeof T=="number"&&typeof Z=="number"&&(typeof Ae=="string"||Array.isArray(Ae))){var ji=Ae;Ae=Z,Z=T,T=ji}if(arguments[3]instanceof Qt?(I("The transform parameter of text() with a Matrix value"),Vr=et):(Yt=arguments[4],cn=arguments[5],lr(Vn=arguments[3])==="object"&&Vn!==null||(typeof Yt=="string"&&(cn=Yt,Yt=null),typeof Vn=="string"&&(cn=Vn,Vn=null),typeof Vn=="number"&&(Yt=Vn,Vn=null),Fe={flags:Vn,angle:Yt,align:cn})),isNaN(Z)||isNaN(Ae)||T==null)throw new Error("Invalid arguments passed to jsPDF.text");if(T.length===0)return ni;var Ai="",Ba=!1,Xs=typeof Fe.lineHeightFactor=="number"?Fe.lineHeightFactor:nc,da=ni.internal.scaleFactor;function bl(yr){return yr=yr.split("	").join(Array(Fe.TabLen||9).join(" ")),pr(yr,Vn)}function Ff(yr){for(var ur,Gr=yr.concat(),ri=[],ao=Gr.length;ao--;)typeof(ur=Gr.shift())=="string"?ri.push(ur):Array.isArray(yr)&&(ur.length===1||ur[1]===void 0&&ur[2]===void 0)?ri.push(ur[0]):ri.push([ur[0],ur[1],ur[2]]);return ri}function ou(yr,ur){var Gr;if(typeof yr=="string")Gr=ur(yr)[0];else if(Array.isArray(yr)){for(var ri,ao,xu=yr.concat(),dc=[],Of=xu.length;Of--;)typeof(ri=xu.shift())=="string"?dc.push(ur(ri)[0]):Array.isArray(ri)&&typeof ri[0]=="string"&&(ao=ur(ri[0],ri[1],ri[2]),dc.push([ao[0],ao[1],ao[2]]));Gr=dc}return Gr}var ac=!1,lu=!0;if(typeof T=="string")ac=!0;else if(Array.isArray(T)){var cu=T.concat();Lt=[];for(var oc,Wr=cu.length;Wr--;)(typeof(oc=cu.shift())!="string"||Array.isArray(oc)&&typeof oc[0]!="string")&&(lu=!1);ac=lu}if(ac===!1)throw new Error('Type of text must be string or Array. "'+T+'" is not recognized.');typeof T=="string"&&(T=T.match(/[\r?\n]/)?T.split(/\r\n|\r|\n/g):[T]);var uu=Ie/ni.internal.scaleFactor,fu=uu*(Xs-1);switch(Fe.baseline){case"bottom":Ae-=fu;break;case"top":Ae+=uu-fu;break;case"hanging":Ae+=uu-2*fu;break;case"middle":Ae+=uu/2-fu}if((Tn=Fe.maxWidth||0)>0&&(typeof T=="string"?T=ni.splitTextToSize(T,Tn):Object.prototype.toString.call(T)==="[object Array]"&&(T=T.reduce(function(yr,ur){return yr.concat(ni.splitTextToSize(ur,Tn))},[]))),vt={text:T,x:Z,y:Ae,options:Fe,mutex:{pdfEscape:pr,activeFontKey:Ye,fonts:Pt,activeFontSize:Ie}},Ot.publish("preProcessText",vt),T=vt.text,Yt=(Fe=vt.options).angle,!(Vr instanceof Qt)&&Yt&&typeof Yt=="number"){Yt*=Math.PI/180,Fe.rotationDirection===0&&(Yt=-Yt),E===A.ADVANCED&&(Yt=-Yt);var hu=Math.cos(Yt),du=Math.sin(Yt);Vr=new Qt(hu,du,-du,hu,0,0)}else Yt&&Yt instanceof Qt&&(Vr=Yt);E!==A.ADVANCED||Vr||(Vr=Kr),(Mn=Fe.charSpace||_l)!==void 0&&(Ai+=L(k(Mn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Ir=Fe.horizontalScale)!==void 0&&(Ai+=L(100*Ir)+` Tz
`),Fe.lang;var ns=-1,lc=Fe.renderingMode!==void 0?Fe.renderingMode:Fe.stroke,Co=ni.internal.getCurrentPageInfo().pageContext;switch(lc){case 0:case!1:case"fill":ns=0;break;case 1:case!0:case"stroke":ns=1;break;case 2:case"fillThenStroke":ns=2;break;case 3:case"invisible":ns=3;break;case 4:case"fillAndAddForClipping":ns=4;break;case 5:case"strokeAndAddPathForClipping":ns=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ns=6;break;case 7:case"addToPathForClipping":ns=7}var sd=Co.usedRenderingMode!==void 0?Co.usedRenderingMode:-1;ns!==-1?Ai+=ns+` Tr
`:sd!==-1&&(Ai+=`0 Tr
`),ns!==-1&&(Co.usedRenderingMode=ns),cn=Fe.align||"left";var rs,pu=Ie*Xs,Df=ni.internal.pageSize.getWidth(),mu=Pt[Ye];Mn=Fe.charSpace||_l,Tn=Fe.maxWidth||0,Vn=Object.assign({autoencode:!0,noBOM:!0},Fe.flags);var io=[],Sl=function(yr){return ni.getStringUnitWidth(yr,{font:mu,charSpace:Mn,fontSize:Ie,doKerning:!1})*Ie/da};if(Object.prototype.toString.call(T)==="[object Array]"){var is;Lt=Ff(T),cn!=="left"&&(rs=Lt.map(Sl));var Vi,El=0;if(cn==="right"){Z-=rs[0],T=[],Wr=Lt.length;for(var Po=0;Po<Wr;Po++)Po===0?(Vi=fa(Z),is=ha(Ae)):(Vi=k(El-rs[Po]),is=-pu),T.push([Lt[Po],Vi,is]),El=rs[Po]}else if(cn==="center"){Z-=rs[0]/2,T=[],Wr=Lt.length;for(var ko=0;ko<Wr;ko++)ko===0?(Vi=fa(Z),is=ha(Ae)):(Vi=k((El-rs[ko])/2),is=-pu),T.push([Lt[ko],Vi,is]),El=rs[ko]}else if(cn==="left"){T=[],Wr=Lt.length;for(var gu=0;gu<Wr;gu++)T.push(Lt[gu])}else if(cn==="justify"&&mu.encoding==="Identity-H"){T=[],Wr=Lt.length,Tn=Tn!==0?Tn:Df;for(var Ro=0,Qn=0;Qn<Wr;Qn++)if(is=Qn===0?ha(Ae):-pu,Vi=Qn===0?fa(Z):Ro,Qn<Wr-1){var Lo=k((Tn-rs[Qn])/(Lt[Qn].split(" ").length-1)),Wi=Lt[Qn].split(" ");T.push([Wi[0]+" ",Vi,is]),Ro=0;for(var $s=1;$s<Wi.length;$s++){var cc=(Sl(Wi[$s-1]+" "+Wi[$s])-Sl(Wi[$s]))*da+Lo;$s==Wi.length-1?T.push([Wi[$s],cc,0]):T.push([Wi[$s]+" ",cc,0]),Ro-=cc}}else T.push([Lt[Qn],Vi,is]);T.push(["",Ro,0])}else{if(cn!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(T=[],Wr=Lt.length,Tn=Tn!==0?Tn:Df,Qn=0;Qn<Wr;Qn++)is=Qn===0?ha(Ae):-pu,Vi=Qn===0?fa(Z):0,Qn<Wr-1?io.push(L(k((Tn-rs[Qn])/(Lt[Qn].split(" ").length-1)))):io.push(0),T.push([Lt[Qn],Vi,is])}}var If=typeof Fe.R2L=="boolean"?Fe.R2L:ce;If===!0&&(T=ou(T,function(yr,ur,Gr){return[yr.split("").reverse().join(""),ur,Gr]})),vt={text:T,x:Z,y:Ae,options:Fe,mutex:{pdfEscape:pr,activeFontKey:Ye,fonts:Pt,activeFontSize:Ie}},Ot.publish("postProcessText",vt),T=vt.text,Ba=vt.mutex.isHex||!1;var uc=Pt[Ye].encoding;uc!=="WinAnsiEncoding"&&uc!=="StandardEncoding"||(T=ou(T,function(yr,ur,Gr){return[bl(yr),ur,Gr]})),Lt=Ff(T),T=[];for(var fc,hc,Ys,No=0,so=1,Fo=Array.isArray(Lt[0])?so:No,Do="",Al=function(yr,ur,Gr){var ri="";return Gr instanceof Qt?(Gr=typeof Fe.angle=="number"?Si(Gr,new Qt(1,0,0,1,yr,ur)):Si(new Qt(1,0,0,1,yr,ur),Gr),E===A.ADVANCED&&(Gr=Si(new Qt(1,0,0,-1,0,0),Gr)),ri=Gr.join(" ")+` Tm
`):ri=L(yr)+" "+L(ur)+` Td
`,ri},Ri=0;Ri<Lt.length;Ri++){switch(Do="",Fo){case so:Ys=(Ba?"<":"(")+Lt[Ri][0]+(Ba?">":")"),fc=parseFloat(Lt[Ri][1]),hc=parseFloat(Lt[Ri][2]);break;case No:Ys=(Ba?"<":"(")+Lt[Ri]+(Ba?">":")"),fc=fa(Z),hc=ha(Ae)}io!==void 0&&io[Ri]!==void 0&&(Do=io[Ri]+` Tw
`),Ri===0?T.push(Do+Al(fc,hc,Vr)+Ys):Fo===No?T.push(Do+Ys):Fo===so&&T.push(Do+Al(fc,hc,Vr)+Ys)}T=Fo===No?T.join(` Tj
T* `):T.join(` Tj
`),T+=` Tj
`;var ms=`BT
/`;return ms+=Ye+" "+Ie+` Tf
`,ms+=L(Ie*Xs)+` TL
`,ms+=di+`
`,ms+=Ai,ms+=T,q(ms+="ET"),p[Ye]=!0,ni};var to=m.__private__.clip=m.clip=function(T){return q(T==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return to("evenodd")},m.__private__.discardPath=m.discardPath=function(){return q("n"),this};var no=m.__private__.isValidStyle=function(T){var Z=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(T)!==-1&&(Z=!0),Z};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(T){return no(T)&&(c=T),this};var Cf=m.__private__.getStyle=m.getStyle=function(T){var Z=c;switch(T){case"D":case"S":Z="S";break;case"F":Z="f";break;case"FD":case"DF":Z="B";break;case"f":case"f*":case"B":case"B*":Z=T}return Z},gl=m.close=function(){return q("h"),this};m.stroke=function(){return q("S"),this},m.fill=function(T){return Zc("f",T),this},m.fillEvenOdd=function(T){return Zc("f*",T),this},m.fillStroke=function(T){return Zc("B",T),this},m.fillStrokeEvenOdd=function(T){return Zc("B*",T),this};var Zc=function(T,Z){lr(Z)==="object"?nd(Z,T):q(T)},Qc=function(T){T===null||E===A.ADVANCED&&T===void 0||(T=Cf(T),q(T))};function eu(T,Z,Ae,Fe,et){var vt=new e0(Z||this.boundingBox,Ae||this.xStep,Fe||this.yStep,this.gState,et||this.matrix);vt.stream=this.stream;var Lt=T+"$$"+this.cloneIndex+++"$$";return Rr(Lt,vt),vt}var nd=function(T,Z){var Ae=Ue[T.key],Fe=Bt[Ae];if(Fe instanceof xh)q("q"),q(z0(Z)),Fe.gState&&m.setGState(Fe.gState),q(T.matrix.toString()+" cm"),q("/"+Ae+" sh"),q("Q");else if(Fe instanceof e0){var et=new Qt(1,0,0,-1,0,wl());T.matrix&&(et=et.multiply(T.matrix||Kr),Ae=eu.call(Fe,T.key,T.boundingBox,T.xStep,T.yStep,et).id),q("q"),q("/Pattern cs"),q("/"+Ae+" scn"),Fe.gState&&m.setGState(Fe.gState),q(Z),q("Q")}},z0=function(T){switch(T){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},To=m.moveTo=function(T,Z){return q(L(k(T))+" "+L(G(Z))+" m"),this},Ia=m.lineTo=function(T,Z){return q(L(k(T))+" "+L(G(Z))+" l"),this},qs=m.curveTo=function(T,Z,Ae,Fe,et,vt){return q([L(k(T)),L(G(Z)),L(k(Ae)),L(G(Fe)),L(k(et)),L(G(vt)),"c"].join(" ")),this};m.__private__.line=m.line=function(T,Z,Ae,Fe,et){if(isNaN(T)||isNaN(Z)||isNaN(Ae)||isNaN(Fe)||!no(et))throw new Error("Invalid arguments passed to jsPDF.line");return E===A.COMPAT?this.lines([[Ae-T,Fe-Z]],T,Z,[1,1],et||"S"):this.lines([[Ae-T,Fe-Z]],T,Z,[1,1]).stroke()},m.__private__.lines=m.lines=function(T,Z,Ae,Fe,et,vt){var Lt,Yt,cn,Mn,Tn,Vn,Ir,Vr,ni,ji,Ai,Ba;if(typeof T=="number"&&(Ba=Ae,Ae=Z,Z=T,T=Ba),Fe=Fe||[1,1],vt=vt||!1,isNaN(Z)||isNaN(Ae)||!Array.isArray(T)||!Array.isArray(Fe)||!no(et)||typeof vt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(To(Z,Ae),Lt=Fe[0],Yt=Fe[1],Mn=T.length,ji=Z,Ai=Ae,cn=0;cn<Mn;cn++)(Tn=T[cn]).length===2?(ji=Tn[0]*Lt+ji,Ai=Tn[1]*Yt+Ai,Ia(ji,Ai)):(Vn=Tn[0]*Lt+ji,Ir=Tn[1]*Yt+Ai,Vr=Tn[2]*Lt+ji,ni=Tn[3]*Yt+Ai,ji=Tn[4]*Lt+ji,Ai=Tn[5]*Yt+Ai,qs(Vn,Ir,Vr,ni,ji,Ai));return vt&&gl(),Qc(et),this},m.path=function(T){for(var Z=0;Z<T.length;Z++){var Ae=T[Z],Fe=Ae.c;switch(Ae.op){case"m":To(Fe[0],Fe[1]);break;case"l":Ia(Fe[0],Fe[1]);break;case"c":qs.apply(this,Fe);break;case"h":gl()}}return this},m.__private__.rect=m.rect=function(T,Z,Ae,Fe,et){if(isNaN(T)||isNaN(Z)||isNaN(Ae)||isNaN(Fe)||!no(et))throw new Error("Invalid arguments passed to jsPDF.rect");return E===A.COMPAT&&(Fe=-Fe),q([L(k(T)),L(G(Z)),L(k(Ae)),L(k(Fe)),"re"].join(" ")),Qc(et),this},m.__private__.triangle=m.triangle=function(T,Z,Ae,Fe,et,vt,Lt){if(isNaN(T)||isNaN(Z)||isNaN(Ae)||isNaN(Fe)||isNaN(et)||isNaN(vt)||!no(Lt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Ae-T,Fe-Z],[et-Ae,vt-Fe],[T-et,Z-vt]],T,Z,[1,1],Lt,!0),this},m.__private__.roundedRect=m.roundedRect=function(T,Z,Ae,Fe,et,vt,Lt){if(isNaN(T)||isNaN(Z)||isNaN(Ae)||isNaN(Fe)||isNaN(et)||isNaN(vt)||!no(Lt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Yt=4/3*(Math.SQRT2-1);return et=Math.min(et,.5*Ae),vt=Math.min(vt,.5*Fe),this.lines([[Ae-2*et,0],[et*Yt,0,et,vt-vt*Yt,et,vt],[0,Fe-2*vt],[0,vt*Yt,-et*Yt,vt,-et,vt],[2*et-Ae,0],[-et*Yt,0,-et,-vt*Yt,-et,-vt],[0,2*vt-Fe],[0,-vt*Yt,et*Yt,-vt,et,-vt]],T+et,Z,[1,1],Lt,!0),this},m.__private__.ellipse=m.ellipse=function(T,Z,Ae,Fe,et){if(isNaN(T)||isNaN(Z)||isNaN(Ae)||isNaN(Fe)||!no(et))throw new Error("Invalid arguments passed to jsPDF.ellipse");var vt=4/3*(Math.SQRT2-1)*Ae,Lt=4/3*(Math.SQRT2-1)*Fe;return To(T+Ae,Z),qs(T+Ae,Z-Lt,T+vt,Z-Fe,T,Z-Fe),qs(T-vt,Z-Fe,T-Ae,Z-Lt,T-Ae,Z),qs(T-Ae,Z+Lt,T-vt,Z+Fe,T,Z+Fe),qs(T+vt,Z+Fe,T+Ae,Z+Lt,T+Ae,Z),Qc(et),this},m.__private__.circle=m.circle=function(T,Z,Ae,Fe){if(isNaN(T)||isNaN(Z)||isNaN(Ae)||!no(Fe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(T,Z,Ae,Ae,Fe)},m.setFont=function(T,Z,Ae){return Ae&&(Z=U(Z,Ae)),Ye=Zr(T,Z,{disableWarning:!1}),this};var tu=m.__private__.getFont=m.getFont=function(){return Pt[Zr.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var T,Z,Ae={};for(T in Ht)if(Ht.hasOwnProperty(T))for(Z in Ae[T]=[],Ht[T])Ht[T].hasOwnProperty(Z)&&Ae[T].push(Z);return Ae},m.addFont=function(T,Z,Ae,Fe,et){var vt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&vt.indexOf(arguments[3])!==-1?et=arguments[3]:arguments[3]&&vt.indexOf(arguments[3])==-1&&(Ae=U(Ae,Fe)),et=et||"Identity-H",Sr.call(this,T,Z,Ae,et)};var nc,Pf=n.lineWidth||.200025,xl=m.__private__.getLineWidth=m.getLineWidth=function(){return Pf},rc=m.__private__.setLineWidth=m.setLineWidth=function(T){return Pf=T,q(L(k(T))+" w"),this};m.__private__.setLineDash=gn.API.setLineDash=gn.API.setLineDashPattern=function(T,Z){if(T=T||[],Z=Z||0,isNaN(Z)||!Array.isArray(T))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return T=T.map(function(Ae){return L(k(Ae))}).join(" "),Z=L(k(Z)),q("["+T+"] "+Z+" d"),this};var nu=m.__private__.getLineHeight=m.getLineHeight=function(){return Ie*nc};m.__private__.getLineHeight=m.getLineHeight=function(){return Ie*nc};var kf=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(T){return typeof(T=T||1.15)=="number"&&(nc=T),this},Oa=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return nc};kf(n.lineHeight);var fa=m.__private__.getHorizontalCoordinate=function(T){return k(T)},ha=m.__private__.getVerticalCoordinate=function(T){return E===A.ADVANCED?T:ot[W].mediaBox.topRightY-ot[W].mediaBox.bottomLeftY-k(T)},rd=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(T){return L(fa(T))},Ua=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(T){return L(ha(T))},ps=n.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return Se(ps)},m.__private__.setStrokeColor=m.setDrawColor=function(T,Z,Ae,Fe){return ps=Ee({ch1:T,ch2:Z,ch3:Ae,ch4:Fe,pdfColorType:"draw",precision:2}),q(ps),this};var ru=n.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return Se(ru)},m.__private__.setFillColor=m.setFillColor=function(T,Z,Ae,Fe){return ru=Ee({ch1:T,ch2:Z,ch3:Ae,ch4:Fe,pdfColorType:"fill",precision:2}),q(ru),this};var di=n.textColor||"0 g",vl=m.__private__.getTextColor=m.getTextColor=function(){return Se(di)};m.__private__.setTextColor=m.setTextColor=function(T,Z,Ae,Fe){return di=Ee({ch1:T,ch2:Z,ch3:Ae,ch4:Fe,pdfColorType:"text",precision:3}),this};var _l=n.charSpace,ic=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(_l||0)};m.__private__.setCharSpace=m.setCharSpace=function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return _l=T,this};var Rf=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(T){var Z=m.CapJoinStyles[T];if(Z===void 0)throw new Error("Line cap style of '"+T+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Rf=Z,q(Z+" J"),this};var sc=0;m.__private__.setLineJoin=m.setLineJoin=function(T){var Z=m.CapJoinStyles[T];if(Z===void 0)throw new Error("Line join style of '"+T+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return sc=Z,q(Z+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(T){if(T=T||0,isNaN(T))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return q(L(k(T))+" M"),this},m.GState=Fx,m.setGState=function(T){(T=typeof T=="string"?Ft[Tt[T]]:iu(null,T)).equals(Vt)||(q("/"+T.id+" gs"),Vt=T)};var iu=function(T,Z){if(!T||!Tt[T]){var Ae=!1;for(var Fe in Ft)if(Ft.hasOwnProperty(Fe)&&Ft[Fe].equals(Z)){Ae=!0;break}if(Ae)Z=Ft[Fe];else{var et="GS"+(Object.keys(Ft).length+1).toString(10);Ft[et]=Z,Z.id=et}return T&&(Tt[T]=Z.id),Ot.publish("addGState",Z),Z}};m.addGState=function(T,Z){return iu(T,Z),this},m.saveGraphicsState=function(){return q("q"),It.push({key:Ye,size:Ie,color:di}),this},m.restoreGraphicsState=function(){q("Q");var T=It.pop();return Ye=T.key,Ie=T.size,di=T.color,Vt=null,this},m.setCurrentTransformationMatrix=function(T){return q(T.toString()+" cm"),this},m.comment=function(T){return q("#"+T),this};var ro=function(T,Z){var Ae=T||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Ae},set:function(vt){isNaN(vt)||(Ae=parseFloat(vt))}});var Fe=Z||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Fe},set:function(vt){isNaN(vt)||(Fe=parseFloat(vt))}});var et="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return et},set:function(vt){et=vt.toString()}}),this},yl=function(T,Z,Ae,Fe){ro.call(this,T,Z),this.type="rect";var et=Ae||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return et},set:function(Lt){isNaN(Lt)||(et=parseFloat(Lt))}});var vt=Fe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return vt},set:function(Lt){isNaN(Lt)||(vt=parseFloat(Lt))}}),this},su=function(){this.page=At,this.currentPage=W,this.pages=lt.slice(0),this.pagesContext=ot.slice(0),this.x=wt,this.y=We,this.matrix=Ct,this.width=Mo(W),this.height=wl(W),this.outputDestination=mt,this.id="",this.objectNumber=-1};su.prototype.restore=function(){At=this.page,W=this.currentPage,ot=this.pagesContext,lt=this.pages,wt=this.x,We=this.y,Ct=this.matrix,Lf(W,this.width),Nf(W,this.height),mt=this.outputDestination};var id=function(T,Z,Ae,Fe,et){Cr.push(new su),At=W=0,lt=[],wt=T,We=Z,Ct=et,Gs([Ae,Fe])},H0=function(T){if(An[T])Cr.pop().restore();else{var Z=new su,Ae="Xo"+(Object.keys(_n).length+1).toString(10);Z.id=Ae,An[T]=Ae,_n[Ae]=Z,Ot.publish("addFormObject",Z),Cr.pop().restore()}};for(var au in m.beginFormObject=function(T,Z,Ae,Fe,et){return id(T,Z,Ae,Fe,et),this},m.endFormObject=function(T){return H0(T),this},m.doFormObject=function(T,Z){var Ae=_n[An[T]];return q("q"),q(Z.toString()+" cm"),q("/"+Ae.id+" Do"),q("Q"),this},m.getFormObject=function(T){var Z=_n[An[T]];return{x:Z.x,y:Z.y,width:Z.width,height:Z.height,matrix:Z.matrix}},m.save=function(T,Z){return T=T||"generated.pdf",(Z=Z||{}).returnPromise=Z.returnPromise||!1,Z.returnPromise===!1?(ph(Ql(Qa()),T),typeof ph.unload=="function"&&vn.setTimeout&&setTimeout(ph.unload,911),this):new Promise(function(Ae,Fe){try{var et=ph(Ql(Qa()),T);typeof ph.unload=="function"&&vn.setTimeout&&setTimeout(ph.unload,911),Ae(et)}catch(vt){Fe(vt.message)}})},gn.API)gn.API.hasOwnProperty(au)&&(au==="events"&&gn.API.events.length?function(T,Z){var Ae,Fe,et;for(et=Z.length-1;et!==-1;et--)Ae=Z[et][0],Fe=Z[et][1],T.subscribe.apply(T,[Ae].concat(typeof Fe=="function"?[Fe]:Fe))}(Ot,gn.API.events):m[au]=gn.API[au]);var Mo=m.getPageWidth=function(T){return(ot[T=T||W].mediaBox.topRightX-ot[T].mediaBox.bottomLeftX)/Xe},Lf=m.setPageWidth=function(T,Z){ot[T].mediaBox.topRightX=Z*Xe+ot[T].mediaBox.bottomLeftX},wl=m.getPageHeight=function(T){return(ot[T=T||W].mediaBox.topRightY-ot[T].mediaBox.bottomLeftY)/Xe},Nf=m.setPageHeight=function(T,Z){ot[T].mediaBox.topRightY=Z*Xe+ot[T].mediaBox.bottomLeftY};return m.internal={pdfEscape:pr,getStyle:Cf,getFont:tu,getFontSize:Et,getCharSpace:ic,getTextColor:vl,getLineHeight:nu,getLineHeightFactor:Oa,getLineWidth:xl,write:Re,getHorizontalCoordinate:fa,getVerticalCoordinate:ha,getCoordinateString:rd,getVerticalCoordinateString:Ua,collections:{},newObject:cr,newAdditionalObject:be,newObjectDeferred:dr,newObjectDeferredBegin:re,getFilters:it,putStream:dt,events:Ot,scaleFactor:Xe,pageSize:{getWidth:function(){return Mo(W)},setWidth:function(T){Lf(W,T)},getHeight:function(){return wl(W)},setHeight:function(T){Nf(W,T)}},encryptionOptions:f,encryption:Dr,getEncryptor:eo,output:ml,getNumberOfPages:hi,pages:lt,out:q,f2:O,f3:N,getPageInfo:Da,getPageInfoByObjId:xn,getCurrentPageInfo:tc,getPDFVersion:x,Point:ro,Rectangle:yl,Matrix:Qt,hasHotfix:ec},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return Mo(W)},set:function(T){Lf(W,T)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return wl(W)},set:function(T){Nf(W,T)},enumerable:!0,configurable:!0}),On.call(m,Ve),Ye="F1",nr(i,t),Ot.publish("initialized"),m}Jd.prototype.lsbFirstWord=function(n){return String.fromCharCode(n>>0&255,n>>8&255,n>>16&255,n>>24&255)},Jd.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Jd.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},Jd.prototype.processOwnerPassword=function(n,e){return jy(Hy(e).substr(0,5),n)},Jd.prototype.encryptor=function(n,e){var t=Hy(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return jy(t,r)}},Fx.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||lr(n)!==lr(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;r++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return r===0},gn.API={events:[]},gn.version="3.0.1";var oi=gn.API,jb=1,Jh=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},kd=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Cn=function(n){return n.toFixed(2)},Bu=function(n){return n.toFixed(5)};oi.__acroform__={};var Fa=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},HT=function(n){return n*jb},Ol=function(n){var e=new ek,t=nn.internal.getHeight(n)||0,r=nn.internal.getWidth(n)||0;return e.BBox=[0,0,Number(Cn(r)),Number(Cn(t))],e},Sq=oi.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|=1<<e},Eq=oi.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&=~(1<<e)},Aq=oi.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(n&1<<e)==0?0:1},_i=oi.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Aq(n,e-1)},yi=oi.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Sq(n,e-1)},wi=oi.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Eq(n,e-1)},Tq=oi.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=n[0],s=n[1],a=n[2],o=n[3],l={};return l.lowerLeft_X=t(i)||0,l.lowerLeft_Y=r(s+o)||0,l.upperRight_X=t(i+a)||0,l.upperRight_Y=r(s)||0,[Number(Cn(l.lowerLeft_X)),Number(Cn(l.lowerLeft_Y)),Number(Cn(l.upperRight_X)),Number(Cn(l.upperRight_Y))]},Mq=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,r=Vy(n,t),i=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+i+" "+Cn(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=Ol(n);return s.scope=n.scope,s.stream=e.join(`
`),s}},Vy=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=n.multiline?i.map(function(N){return N.split(`
`)}):i.map(function(N){return[N]});var s=t,a=nn.internal.getHeight(n)||0;a=a<0?-a:a;var o=nn.internal.getWidth(n)||0;o=o<0?-o:o;var l=function(N,k,j){if(N+1<i.length){var G=k+" "+i[N+1][0];return Gg(G,n,j).width<=o-4}return!1};s++;e:for(;s>0;){e="",s--;var c,f,d=Gg("3",n,s).height,p=n.multiline?a-s:(a-d)/2,m=p+=2,_=0,x=0,g=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+Gg(e,n,s=12).width+", FieldWidth:"+o+`
`;break}for(var y="",A=0,E=0;E<i.length;E++)if(i.hasOwnProperty(E)){var M=!1;if(i[E].length!==1&&g!==i[E].length-1){if((d+2)*(A+2)+2>a)continue e;y+=i[E][g],M=!0,x=E,E--}else{y=(y+=i[E][g]+" ").substr(y.length-1)==" "?y.substr(0,y.length-1):y;var D=parseInt(E),U=l(D,y,s),L=E>=i.length-1;if(U&&!L){y+=" ",g=0;continue}if(U||L){if(L)x=D;else if(n.multiline&&(d+2)*(A+2)+2>a)continue e}else{if(!n.multiline||(d+2)*(A+2)+2>a)continue e;x=D}}for(var I="",R=_;R<=x;R++){var O=i[R];if(n.multiline){if(R===x){I+=O[g]+" ",g=(g+1)%O.length;continue}if(R===_){I+=O[O.length-1]+" ";continue}}I+=O[0]+" "}switch(I=I.substr(I.length-1)==" "?I.substr(0,I.length-1):I,f=Gg(I,n,s).width,n.textAlign){case"right":c=o-f-2;break;case"center":c=(o-f)/2;break;case"left":default:c=2}e+=Cn(c)+" "+Cn(m)+` Td
`,e+="("+Jh(I)+`) Tj
`,e+=-Cn(c)+` 0 Td
`,m=-(s+2),f=0,_=M?x:x+1,A++,y=""}break}return r.text=e,r.fontSize=s,r},Gg=function(n,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:i}},Cq={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Pq=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},kq=function(n,e){for(var t in n)if(n.hasOwnProperty(t)){var r=t,i=n[t];e.internal.newObjectDeferredBegin(i.objId,!0),lr(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete n[r]}},Rq=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(dl.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(Cq)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");jb=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new tk,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&Pq(s,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(r,i){var s=!r;for(var a in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(a)){var o=r[a],l=[],c=o.Rect;if(o.Rect&&(o.Rect=Tq(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=nn.createDefaultAppearanceStream(o),lr(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=c,o.hasAppearanceStream&&!o.appearanceStreamContent){var f=Mq(o);l.push({key:"AP",value:"<</N "+f+">>"}),i.internal.acroformPlugin.xForms.push(f)}if(o.appearanceStreamContent){var d="";for(var p in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(p)){var m=o.appearanceStreamContent[p];if(d+="/"+p+" ",d+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var a in m)if(m.hasOwnProperty(a)){var _=m[a];typeof _=="function"&&(_=_.call(i,o)),d+="/"+a+" "+_+" ",i.internal.acroformPlugin.xForms.indexOf(_)>=0||i.internal.acroformPlugin.xForms.push(_)}}else typeof(_=m)=="function"&&(_=_.call(i,o)),d+="/"+a+" "+_,i.internal.acroformPlugin.xForms.indexOf(_)>=0||i.internal.acroformPlugin.xForms.push(_);d+=">>"}l.push({key:"AP",value:`<<
`+d+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:o.objId}),i.internal.out("endobj")}s&&kq(i.internal.acroformPlugin.xForms,i)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},QP=oi.__acroform__.arrayToPdfArray=function(n,e,t){var r=function(a){return a};if(Array.isArray(n)){for(var i="[",s=0;s<n.length;s++)switch(s!==0&&(i+=" "),lr(n[s])){case"boolean":case"number":case"object":i+=n[s].toString();break;case"string":n[s].substr(0,1)!=="/"?(e!==void 0&&t&&(r=t.internal.getEncryptor(e)),i+="("+Jh(r(n[s].toString()))+")"):i+=n[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},a_=function(n,e,t){var r=function(i){return i};return e!==void 0&&t&&(r=t.internal.getEncryptor(e)),(n=n||"").toString(),n="("+Jh(r(n))+")"},jl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};jl.prototype.toString=function(){return this.objId+" 0 R"},jl.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},jl.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var r=e[t],i=this[r];i&&(Array.isArray(i)?n.push({key:r,value:QP(i,this.objId,this.scope)}):i instanceof jl?(i.scope=this.scope,n.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&n.push({key:r,value:i}))}return n};var ek=function(){jl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};Fa(ek,jl);var tk=function(){jl.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Jh(t(n))+")"}},set:function(t){n=t}})};Fa(tk,jl);var dl=function n(){jl.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute F supplied.');e=y}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!_i(e,3)},set:function(y){y?this.F=yi(e,3):this.F=wi(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute Ff supplied.');t=y}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(y){r=y!==void 0?y:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(y){r[0]=y}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(y){r[1]=y}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(y){r[2]=y}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(y){r[3]=y}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(y){switch(y){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=y;break;default:throw new Error('Invalid value "'+y+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Dx)return;s="FieldObject"+n.FieldNum++}var y=function(A){return A};return this.scope&&(y=this.scope.internal.getEncryptor(this.objId)),"("+Jh(y(s))+")"},set:function(y){s=y.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(y){s=y}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(y){a=y}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(y){o=y}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(y){l=y}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/jb:c},set:function(y){c=y}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(y){f=y}});var d="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof Dx||this instanceof Rh))return a_(d,this.objId,this.scope)},set:function(y){y=y.toString(),d=y}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Zi?p:a_(p,this.objId,this.scope)},set:function(y){y=y.toString(),p=this instanceof Zi?y:y.substr(0,1)==="("?kd(y.substr(1,y.length-2)):kd(y)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Zi?kd(p.substr(1,p.length-1)):p},set:function(y){y=y.toString(),p=this instanceof Zi?"/"+y:y}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(y){this.V=y}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Zi?m:a_(m,this.objId,this.scope)},set:function(y){y=y.toString(),m=this instanceof Zi?y:y.substr(0,1)==="("?kd(y.substr(1,y.length-2)):kd(y)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Zi?kd(m.substr(1,m.length-1)):m},set:function(y){y=y.toString(),m=this instanceof Zi?"/"+y:y}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var _,x=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return x},set:function(y){y=!!y,x=y}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(_)return _},set:function(y){_=y}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!_i(this.Ff,1)},set:function(y){y?this.Ff=yi(this.Ff,1):this.Ff=wi(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!_i(this.Ff,2)},set:function(y){y?this.Ff=yi(this.Ff,2):this.Ff=wi(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!_i(this.Ff,3)},set:function(y){y?this.Ff=yi(this.Ff,3):this.Ff=wi(this.Ff,3)}});var g=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(g!==null)return g},set:function(y){if([0,1,2].indexOf(y)===-1)throw new Error('Invalid value "'+y+'" for attribute Q supplied.');g=y}}),Object.defineProperty(this,"textAlign",{get:function(){var y;switch(g){case 0:default:y="left";break;case 1:y="center";break;case 2:y="right"}return y},configurable:!0,enumerable:!0,set:function(y){switch(y){case"right":case 2:g=2;break;case"center":case 1:g=1;break;case"left":case 0:default:g=0}}})};Fa(dl,jl);var u0=function(){dl.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return QP(e,this.objId,this.scope)},set:function(t){var r,i;i=[],typeof(r=t)=="string"&&(i=function(s,a,o){o||(o=1);for(var l,c=[];l=a.exec(s);)c.push(l[o]);return c}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!_i(this.Ff,18)},set:function(t){t?this.Ff=yi(this.Ff,18):this.Ff=wi(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!_i(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=yi(this.Ff,19):this.Ff=wi(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!_i(this.Ff,20)},set:function(t){t?(this.Ff=yi(this.Ff,20),e.sort()):this.Ff=wi(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!_i(this.Ff,22)},set:function(t){t?this.Ff=yi(this.Ff,22):this.Ff=wi(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!_i(this.Ff,23)},set:function(t){t?this.Ff=yi(this.Ff,23):this.Ff=wi(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!_i(this.Ff,27)},set:function(t){t?this.Ff=yi(this.Ff,27):this.Ff=wi(this.Ff,27)}}),this.hasAppearanceStream=!1};Fa(u0,dl);var f0=function(){u0.call(this),this.fontName="helvetica",this.combo=!1};Fa(f0,u0);var h0=function(){f0.call(this),this.combo=!0};Fa(h0,f0);var $1=function(){h0.call(this),this.edit=!0};Fa($1,h0);var Zi=function(){dl.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!_i(this.Ff,15)},set:function(t){t?this.Ff=yi(this.Ff,15):this.Ff=wi(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!_i(this.Ff,16)},set:function(t){t?this.Ff=yi(this.Ff,16):this.Ff=wi(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!_i(this.Ff,17)},set:function(t){t?this.Ff=yi(this.Ff,17):this.Ff=wi(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!_i(this.Ff,26)},set:function(t){t?this.Ff=yi(this.Ff,26):this.Ff=wi(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(s){return s};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+Jh(t(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(t){lr(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};Fa(Zi,dl);var Y1=function(){Zi.call(this),this.pushButton=!0};Fa(Y1,Zi);var d0=function(){Zi.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};Fa(d0,Zi);var Dx=function(){var n,e;dl.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),r)a.push("/"+s+" ("+Jh(i(r[s]))+")");return a.push(">>"),a.join(`
`)},set:function(i){lr(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(i){t="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=nn.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Fa(Dx,dl),d0.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},d0.prototype.createOption=function(n){var e=new Dx;return e.Parent=this,e.optionName=n,this.Kids.push(e),Lq.call(this.scope,e),e};var K1=function(){Zi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=nn.CheckBox.createAppearanceStream()};Fa(K1,Zi);var Rh=function(){dl.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!_i(this.Ff,13)},set:function(e){e?this.Ff=yi(this.Ff,13):this.Ff=wi(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!_i(this.Ff,21)},set:function(e){e?this.Ff=yi(this.Ff,21):this.Ff=wi(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!_i(this.Ff,23)},set:function(e){e?this.Ff=yi(this.Ff,23):this.Ff=wi(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!_i(this.Ff,24)},set:function(e){e?this.Ff=yi(this.Ff,24):this.Ff=wi(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!_i(this.Ff,25)},set:function(e){e?this.Ff=yi(this.Ff,25):this.Ff=wi(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!_i(this.Ff,26)},set:function(e){e?this.Ff=yi(this.Ff,26):this.Ff=wi(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Fa(Rh,dl);var J1=function(){Rh.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!_i(this.Ff,14)},set:function(n){n?this.Ff=yi(this.Ff,14):this.Ff=wi(this.Ff,14)}}),this.password=!0};Fa(J1,Rh);var nn={CheckBox:{createAppearanceStream:function(){return{N:{On:nn.CheckBox.YesNormal},D:{On:nn.CheckBox.YesPushDown,Off:nn.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=Ol(n);e.scope=n.scope;var t=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),s=Vy(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+Cn(nn.internal.getWidth(n))+" "+Cn(nn.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+Cn(s.fontSize)+" Tf "+i),t.push("BT"),t.push(s.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=Ol(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),i=[],s=nn.internal.getHeight(n),a=nn.internal.getWidth(n),o=Vy(n,n.caption);return i.push("1 g"),i.push("0 0 "+Cn(a)+" "+Cn(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Cn(a-1)+" "+Cn(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+t+" "+Cn(o.fontSize)+" Tf "+r),i.push(o.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(n){var e=Ol(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Cn(nn.internal.getWidth(n))+" "+Cn(nn.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:nn.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=nn.RadioButton.Circle.YesNormal,e.D[n]=nn.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=Ol(n);e.scope=n.scope;var t=[],r=nn.internal.getWidth(n)<=nn.internal.getHeight(n)?nn.internal.getWidth(n)/4:nn.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=nn.internal.Bezier_C,s=Number((r*i).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+Bu(nn.internal.getWidth(n)/2)+" "+Bu(nn.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),t.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),t.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),t.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Ol(n);e.scope=n.scope;var t=[],r=nn.internal.getWidth(n)<=nn.internal.getHeight(n)?nn.internal.getWidth(n)/4:nn.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*nn.internal.Bezier_C).toFixed(5)),a=Number((r*nn.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Bu(nn.internal.getWidth(n)/2)+" "+Bu(nn.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+Bu(nn.internal.getWidth(n)/2)+" "+Bu(nn.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),t.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),t.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),t.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=Ol(n);e.scope=n.scope;var t=[],r=nn.internal.getWidth(n)<=nn.internal.getHeight(n)?nn.internal.getWidth(n)/4:nn.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*nn.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Bu(nn.internal.getWidth(n)/2)+" "+Bu(nn.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:nn.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=nn.RadioButton.Cross.YesNormal,e.D[n]=nn.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=Ol(n);e.scope=n.scope;var t=[],r=nn.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+Cn(nn.internal.getWidth(n)-2)+" "+Cn(nn.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(Cn(r.x1.x)+" "+Cn(r.x1.y)+" m"),t.push(Cn(r.x2.x)+" "+Cn(r.x2.y)+" l"),t.push(Cn(r.x4.x)+" "+Cn(r.x4.y)+" m"),t.push(Cn(r.x3.x)+" "+Cn(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Ol(n);e.scope=n.scope;var t=nn.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+Cn(nn.internal.getWidth(n))+" "+Cn(nn.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Cn(nn.internal.getWidth(n)-2)+" "+Cn(nn.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(Cn(t.x1.x)+" "+Cn(t.x1.y)+" m"),r.push(Cn(t.x2.x)+" "+Cn(t.x2.y)+" l"),r.push(Cn(t.x4.x)+" "+Cn(t.x4.y)+" m"),r.push(Cn(t.x3.x)+" "+Cn(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=Ol(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Cn(nn.internal.getWidth(n))+" "+Cn(nn.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};nn.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=nn.internal.getWidth(n),t=nn.internal.getHeight(n),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},nn.internal.getWidth=function(n){var e=0;return lr(n)==="object"&&(e=HT(n.Rect[2])),e},nn.internal.getHeight=function(n){var e=0;return lr(n)==="object"&&(e=HT(n.Rect[3])),e};var Lq=oi.addField=function(n){if(Rq(this,n),!(n instanceof dl))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};oi.AcroFormChoiceField=u0,oi.AcroFormListBox=f0,oi.AcroFormComboBox=h0,oi.AcroFormEditBox=$1,oi.AcroFormButton=Zi,oi.AcroFormPushButton=Y1,oi.AcroFormRadioButton=d0,oi.AcroFormCheckBox=K1,oi.AcroFormTextField=Rh,oi.AcroFormPasswordField=J1,oi.AcroFormAppearance=nn,oi.AcroForm={ChoiceField:u0,ListBox:f0,ComboBox:h0,EditBox:$1,Button:Zi,PushButton:Y1,RadioButton:d0,CheckBox:K1,TextField:Rh,PasswordField:J1,Appearance:nn},gn.AcroForm={ChoiceField:u0,ListBox:f0,ComboBox:h0,EditBox:$1,Button:Zi,PushButton:Y1,RadioButton:d0,CheckBox:K1,TextField:Rh,PasswordField:J1,Appearance:nn};gn.AcroForm;function nk(n){return n.reduce(function(e,t,r){return e[t]=r,e},{})}(function(n){n.__addimage__={};var e="UNKNOWN",t={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=n.__addimage__.getImageFileTypeByImageData=function(N,k){var j,G,ae,ie,ue,J=e;if((k=k||e)==="RGBA"||N.data!==void 0&&N.data instanceof Uint8ClampedArray&&"height"in N&&"width"in N)return"RGBA";if(U(N))for(ue in t)for(ae=t[ue],j=0;j<ae.length;j+=1){for(ie=!0,G=0;G<ae[j].length;G+=1)if(ae[j][G]!==void 0&&ae[j][G]!==N[G]){ie=!1;break}if(ie===!0){J=ue;break}}else for(ue in t)for(ae=t[ue],j=0;j<ae.length;j+=1){for(ie=!0,G=0;G<ae[j].length;G+=1)if(ae[j][G]!==void 0&&ae[j][G]!==N.charCodeAt(G)){ie=!1;break}if(ie===!0){J=ue;break}}return J===e&&k!==e&&(J=k),J},i=function N(k){for(var j=this.internal.write,G=this.internal.putStream,ae=(0,this.internal.getFilters)();ae.indexOf("FlateEncode")!==-1;)ae.splice(ae.indexOf("FlateEncode"),1);k.objectId=this.internal.newObject();var ie=[];if(ie.push({key:"Type",value:"/XObject"}),ie.push({key:"Subtype",value:"/Image"}),ie.push({key:"Width",value:k.width}),ie.push({key:"Height",value:k.height}),k.colorSpace===g.INDEXED?ie.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(k.palette.length/3-1)+" "+("sMask"in k&&k.sMask!==void 0?k.objectId+2:k.objectId+1)+" 0 R]"}):(ie.push({key:"ColorSpace",value:"/"+k.colorSpace}),k.colorSpace===g.DEVICE_CMYK&&ie.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ie.push({key:"BitsPerComponent",value:k.bitsPerComponent}),"decodeParameters"in k&&k.decodeParameters!==void 0&&ie.push({key:"DecodeParms",value:"<<"+k.decodeParameters+">>"}),"transparency"in k&&Array.isArray(k.transparency)){for(var ue="",J=0,X=k.transparency.length;J<X;J++)ue+=k.transparency[J]+" "+k.transparency[J]+" ";ie.push({key:"Mask",value:"["+ue+"]"})}k.sMask!==void 0&&ie.push({key:"SMask",value:k.objectId+1+" 0 R"});var pe=k.filter!==void 0?["/"+k.filter]:void 0;if(G({data:k.data,additionalKeyValues:ie,alreadyAppliedFilters:pe,objectId:k.objectId}),j("endobj"),"sMask"in k&&k.sMask!==void 0){var oe="/Predictor "+k.predictor+" /Colors 1 /BitsPerComponent "+k.bitsPerComponent+" /Columns "+k.width,C={width:k.width,height:k.height,colorSpace:"DeviceGray",bitsPerComponent:k.bitsPerComponent,decodeParameters:oe,data:k.sMask};"filter"in k&&(C.filter=k.filter),N.call(this,C)}if(k.colorSpace===g.INDEXED){var W=this.internal.newObject();G({data:I(new Uint8Array(k.palette)),objectId:W}),j("endobj")}},s=function(){var N=this.internal.collections.addImage_images;for(var k in N)i.call(this,N[k])},a=function(){var N,k=this.internal.collections.addImage_images,j=this.internal.write;for(var G in k)j("/I"+(N=k[G]).index,N.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",a))},l=function(){var N=this.internal.collections.addImage_images;return o.call(this),N},c=function(){return Object.keys(this.internal.collections.addImage_images).length},f=function(N){return typeof n["process"+N.toUpperCase()]=="function"},d=function(N){return lr(N)==="object"&&N.nodeType===1},p=function(N,k){if(N.nodeName==="IMG"&&N.hasAttribute("src")){var j=""+N.getAttribute("src");if(j.indexOf("data:image/")===0)return Zp(unescape(j).split("base64,").pop());var G=n.loadFile(j,!0);if(G!==void 0)return G}if(N.nodeName==="CANVAS"){if(N.width===0||N.height===0)throw new Error("Given canvas must have data. Canvas width: "+N.width+", height: "+N.height);var ae;switch(k){case"PNG":ae="image/png";break;case"WEBP":ae="image/webp";break;case"JPEG":case"JPG":default:ae="image/jpeg"}return Zp(N.toDataURL(ae,1).split("base64,").pop())}},m=function(N){var k=this.internal.collections.addImage_images;if(k){for(var j in k)if(N===k[j].alias)return k[j]}},_=function(N,k,j){return N||k||(N=-96,k=-96),N<0&&(N=-1*j.width*72/N/this.internal.scaleFactor),k<0&&(k=-1*j.height*72/k/this.internal.scaleFactor),N===0&&(N=k*j.width/j.height),k===0&&(k=N*j.height/j.width),[N,k]},x=function(N,k,j,G,ae,ie){var ue=_.call(this,j,G,ae),J=this.internal.getCoordinateString,X=this.internal.getVerticalCoordinateString,pe=l.call(this);if(j=ue[0],G=ue[1],pe[ae.index]=ae,ie){ie*=Math.PI/180;var oe=Math.cos(ie),C=Math.sin(ie),W=function(V){return V.toFixed(4)},z=[W(oe),W(C),W(-1*C),W(oe),0,0,"cm"]}this.internal.write("q"),ie?(this.internal.write([1,"0","0",1,J(N),X(k+G),"cm"].join(" ")),this.internal.write(z.join(" ")),this.internal.write([J(j),"0","0",J(G),"0","0","cm"].join(" "))):this.internal.write([J(j),"0","0",J(G),J(N),X(k+G),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ae.index+" Do"),this.internal.write("Q")},g=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var y=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},A=n.__addimage__.sHashCode=function(N){var k,j,G=0;if(typeof N=="string")for(j=N.length,k=0;k<j;k++)G=(G<<5)-G+N.charCodeAt(k),G|=0;else if(U(N))for(j=N.byteLength/2,k=0;k<j;k++)G=(G<<5)-G+N[k],G|=0;return G},E=n.__addimage__.validateStringAsBase64=function(N){(N=N||"").toString().trim();var k=!0;return N.length===0&&(k=!1),N.length%4!=0&&(k=!1),/^[A-Za-z0-9+/]+$/.test(N.substr(0,N.length-2))===!1&&(k=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(N.substr(-2))===!1&&(k=!1),k},M=n.__addimage__.extractImageFromDataUrl=function(N){if(N==null||!(N=N.trim()).startsWith("data:"))return null;var k=N.indexOf(",");return k<0?null:N.substring(0,k).trim().endsWith("base64")?N.substring(k+1):null},D=n.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};n.__addimage__.isArrayBuffer=function(N){return D()&&N instanceof ArrayBuffer};var U=n.__addimage__.isArrayBufferView=function(N){return D()&&typeof Uint32Array<"u"&&(N instanceof Int8Array||N instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&N instanceof Uint8ClampedArray||N instanceof Int16Array||N instanceof Uint16Array||N instanceof Int32Array||N instanceof Uint32Array||N instanceof Float32Array||N instanceof Float64Array)},L=n.__addimage__.binaryStringToUint8Array=function(N){for(var k=N.length,j=new Uint8Array(k),G=0;G<k;G++)j[G]=N.charCodeAt(G);return j},I=n.__addimage__.arrayBufferToBinaryString=function(N){for(var k="",j=U(N)?N:new Uint8Array(N),G=0;G<j.length;G+=8192)k+=String.fromCharCode.apply(null,j.subarray(G,G+8192));return k};n.addImage=function(){var N,k,j,G,ae,ie,ue,J,X;if(typeof arguments[1]=="number"?(k=e,j=arguments[1],G=arguments[2],ae=arguments[3],ie=arguments[4],ue=arguments[5],J=arguments[6],X=arguments[7]):(k=arguments[1],j=arguments[2],G=arguments[3],ae=arguments[4],ie=arguments[5],ue=arguments[6],J=arguments[7],X=arguments[8]),lr(N=arguments[0])==="object"&&!d(N)&&"imageData"in N){var pe=N;N=pe.imageData,k=pe.format||k||e,j=pe.x||j||0,G=pe.y||G||0,ae=pe.w||pe.width||ae,ie=pe.h||pe.height||ie,ue=pe.alias||ue,J=pe.compression||J,X=pe.rotation||pe.angle||X}var oe=this.internal.getFilters();if(J===void 0&&oe.indexOf("FlateEncode")!==-1&&(J="SLOW"),isNaN(j)||isNaN(G))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var C=R.call(this,N,k,ue,J);return x.call(this,j,G,ae,ie,C,X),this};var R=function(N,k,j,G){var ae,ie,ue;if(typeof N=="string"&&r(N)===e){N=unescape(N);var J=O(N,!1);(J!==""||(J=n.loadFile(N,!0))!==void 0)&&(N=J)}if(d(N)&&(N=p(N,k)),k=r(N,k),!f(k))throw new Error("addImage does not support files of type '"+k+"', please ensure that a plugin for '"+k+"' support is added.");if(((ue=j)==null||ue.length===0)&&(j=function(X){return typeof X=="string"||U(X)?A(X):U(X.data)?A(X.data):null}(N)),(ae=m.call(this,j))||(D()&&(N instanceof Uint8Array||k==="RGBA"||(ie=N,N=L(N))),ae=this["process"+k.toUpperCase()](N,c.call(this),j,function(X){return X&&typeof X=="string"&&(X=X.toUpperCase()),X in n.image_compression?X:y.NONE}(G),ie)),!ae)throw new Error("An unknown error occurred whilst processing the image.");return ae},O=n.__addimage__.convertBase64ToBinaryString=function(N,k){k=typeof k!="boolean"||k;var j,G="";if(typeof N=="string"){var ae;j=(ae=M(N))!==null&&ae!==void 0?ae:N;try{G=Zp(j)}catch(ie){if(k)throw E(j)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ie.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return G};n.getImageProperties=function(N){var k,j,G="";if(d(N)&&(N=p(N)),typeof N=="string"&&r(N)===e&&((G=O(N,!1))===""&&(G=n.loadFile(N)||""),N=G),j=r(N),!f(j))throw new Error("addImage does not support files of type '"+j+"', please ensure that a plugin for '"+j+"' support is added.");if(!D()||N instanceof Uint8Array||(N=L(N)),!(k=this["process"+j.toUpperCase()](N)))throw new Error("An unknown error occurred whilst processing the image");return k.fileType=j,k}})(gn.API),function(n){var e=function(t){if(t!==void 0&&t!="")return!0};gn.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var r,i,s,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(t.objId),c=t.pageContext.annotations,f=!1,d=0;d<c.length&&!f;d++)switch((r=c[d]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var p=0;p<c.length;p++){r=c[p];var m=this.internal.pdfEscape,_=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var x=this.internal.newAdditionalObject(),g=this.internal.newAdditionalObject(),y=this.internal.getEncryptor(x.objId),A=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+a(r.bounds.x)+" "+o(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y)+"] ")+"/Contents ("+m(y(r.contents))+")",s+=" /Popup "+g.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+m(y(A))+") >>",x.content=s;var E=x.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+a(r.bounds.x+30)+" "+o(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w+30)+" "+o(r.bounds.y)+"] ")+" /Parent "+E,r.open&&(s+=" /Open true"),s+=" >>",g.content=s,this.internal.write(x.objId,"0 R",g.objId,"0 R");break;case"freetext":i="/Rect ["+a(r.bounds.x)+" "+o(r.bounds.y)+" "+a(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y+r.bounds.h)+"] ";var M=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+m(_(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+M+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var D=this.annotations._nameMap[r.options.name];r.options.pageNumber=D.page,r.options.top=D.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+m(_(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var U=o(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+U+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},n.link=function(t,r,i,s,a){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(t),y:c(r),w:l(t+i),h:c(r+s)},options:a,type:"link"})},n.textWithLink=function(t,r,i,s){var a,o,l=this.getTextWidth(t),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){o=s.maxWidth;var f=this.splitTextToSize(t,o).length;a=Math.ceil(c*f)}else o=l,a=c;return this.text(t,r,i,s),i+=.2*c,s.align==="center"&&(r-=l/2),s.align==="right"&&(r-=l),this.link(r,i-c,o,a,s),l},n.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}}(gn.API),function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];n.__arabicParser__={};var s=n.__arabicParser__.isInArabicSubstitutionA=function(x){return e[x.charCodeAt(0)]!==void 0},a=n.__arabicParser__.isArabicLetter=function(x){return typeof x=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(x)},o=n.__arabicParser__.isArabicEndLetter=function(x){return a(x)&&s(x)&&e[x.charCodeAt(0)].length<=2},l=n.__arabicParser__.isArabicAlfLetter=function(x){return a(x)&&i.indexOf(x.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(x){return a(x)&&s(x)&&e[x.charCodeAt(0)].length>=1};var c=n.__arabicParser__.arabicLetterHasFinalForm=function(x){return a(x)&&s(x)&&e[x.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(x){return a(x)&&s(x)&&e[x.charCodeAt(0)].length>=3};var f=n.__arabicParser__.arabicLetterHasMedialForm=function(x){return a(x)&&s(x)&&e[x.charCodeAt(0)].length==4},d=n.__arabicParser__.resolveLigatures=function(x){var g=0,y=t,A="",E=0;for(g=0;g<x.length;g+=1)y[x.charCodeAt(g)]!==void 0?(E++,typeof(y=y[x.charCodeAt(g)])=="number"&&(A+=String.fromCharCode(y),y=t,E=0),g===x.length-1&&(y=t,A+=x.charAt(g-(E-1)),g-=E-1,E=0)):(y=t,A+=x.charAt(g-E),g-=E,E=0);return A};n.__arabicParser__.isArabicDiacritic=function(x){return x!==void 0&&r[x.charCodeAt(0)]!==void 0};var p=n.__arabicParser__.getCorrectForm=function(x,g,y){return a(x)?s(x)===!1?-1:!c(x)||!a(g)&&!a(y)||!a(y)&&o(g)||o(x)&&!a(g)||o(x)&&l(g)||o(x)&&o(g)?0:f(x)&&a(g)&&!o(g)&&a(y)&&c(y)?3:o(x)||!a(y)?1:2:-1},m=function(x){var g=0,y=0,A=0,E="",M="",D="",U=(x=x||"").split("\\s+"),L=[];for(g=0;g<U.length;g+=1){for(L.push(""),y=0;y<U[g].length;y+=1)E=U[g][y],M=U[g][y-1],D=U[g][y+1],a(E)?(A=p(E,M,D),L[g]+=A!==-1?String.fromCharCode(e[E.charCodeAt(0)][A]):E):L[g]+=E;L[g]=d(L[g])}return L.join(" ")},_=n.__arabicParser__.processArabic=n.processArabic=function(){var x,g=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,y=[];if(Array.isArray(g)){var A=0;for(y=[],A=0;A<g.length;A+=1)Array.isArray(g[A])?y.push([m(g[A][0]),g[A][1],g[A][2]]):y.push([m(g[A])]);x=y}else x=m(g);return typeof arguments[0]=="string"?x:(arguments[0].text=x,arguments[0])};n.events.push(["preProcessText",_])}(gn.API),gn.API.autoPrint=function(n){var e;switch((n=n||{}).variant=n.variant||"non-conform",n.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(o){t=o}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(o){r=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(o){s=o}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var i;if((t=t||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(gn.API),function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(x){l=x}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(x){c=x}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(x){f=x}});var d=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return d},set:function(x){d=x}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(x){p=x}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(x){m=x}});var _=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return _},set:function(x){_=x}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},n.getTextDimensions=function(l,c){r.call(this);var f=(c=c||{}).fontSize||this.getFontSize(),d=c.font||this.getFont(),p=c.scaleFactor||this.internal.scaleFactor,m=0,_=0,x=0,g=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var y=c.maxWidth;y>0?typeof l=="string"?l=this.splitTextToSize(l,y):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(E,M){return E.concat(g.splitTextToSize(M,y))},[])):l=Array.isArray(l)?l:[l];for(var A=0;A<l.length;A++)m<(x=this.getStringUnitWidth(l[A],{font:d})*f)&&(m=x);return m!==0&&(_=l.length),{w:m/=p,h:Math.max((_*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/p,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=n.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var c=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,d=this.internal.__cell__.margins||e,p=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+d.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=d.top,m&&p&&(this.printHeaderRow(l.lineNumber,!0),l.y+=p[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,t===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-f,l.y+f,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+f,{align:"center",baseline:"top",maxWidth:l.width-f-f}):this.text(l.text,l.x+f,l.y+f,{align:"left",baseline:"top",maxWidth:l.width-f-f})),this.internal.__cell__.lastCell=l,this};n.table=function(l,c,f,d,p){if(r.call(this),!f)throw new Error("No data for PDF table.");var m,_,x,g,y=[],A=[],E=[],M={},D={},U=[],L=[],I=(p=p||{}).autoSize||!1,R=p.printHeaders!==!1,O=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,N=p.margins||Object.assign({width:this.getPageWidth()},e),k=typeof p.padding=="number"?p.padding:3,j=p.headerBackgroundColor||"#c8c8c8",G=p.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=R,this.internal.__cell__.margins=N,this.internal.__cell__.table_font_size=O,this.internal.__cell__.padding=k,this.internal.__cell__.headerBackgroundColor=j,this.internal.__cell__.headerTextColor=G,this.setFontSize(O),d==null)A=y=Object.keys(f[0]),E=y.map(function(){return"left"});else if(Array.isArray(d)&&lr(d[0])==="object")for(y=d.map(function(pe){return pe.name}),A=d.map(function(pe){return pe.prompt||pe.name||""}),E=d.map(function(pe){return pe.align||"left"}),m=0;m<d.length;m+=1)D[d[m].name]=d[m].width*(19.049976/25.4);else Array.isArray(d)&&typeof d[0]=="string"&&(A=y=d,E=y.map(function(){return"left"}));if(I||Array.isArray(d)&&typeof d[0]=="string")for(m=0;m<y.length;m+=1){for(M[g=y[m]]=f.map(function(pe){return pe[g]}),this.setFont(void 0,"bold"),U.push(this.getTextDimensions(A[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),_=M[g],this.setFont(void 0,"normal"),x=0;x<_.length;x+=1)U.push(this.getTextDimensions(_[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);D[g]=Math.max.apply(null,U)+k+k,U=[]}if(R){var ae={};for(m=0;m<y.length;m+=1)ae[y[m]]={},ae[y[m]].text=A[m],ae[y[m]].align=E[m];var ie=o.call(this,ae,D);L=y.map(function(pe){return new s(l,c,D[pe],ie,ae[pe].text,void 0,ae[pe].align)}),this.setTableHeaderRow(L),this.printHeaderRow(1,!1)}var ue=d.reduce(function(pe,oe){return pe[oe.name]=oe.align,pe},{});for(m=0;m<f.length;m+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:m,data:f[m]},this);var J=o.call(this,f[m],D);for(x=0;x<y.length;x+=1){var X=f[m][y[x]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:m,col:x,data:X},this),a.call(this,new s(l,c,D[y[x]],J,X,m+2,ue[y[x]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var o=function(l,c){var f=this.internal.__cell__.padding,d=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(l).map(function(m){var _=l[m];return this.splitTextToSize(_.hasOwnProperty("text")?_.text:_,c[m]-f-f)},this).map(function(m){return this.getLineHeightFactor()*m.length*d/p+f+f},this).reduce(function(m,_){return Math.max(m,_)},0)};n.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},n.printHeaderRow=function(l,c){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var d=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(d[0],d[1],d[2],d[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){f=this.internal.__cell__.tableHeaderRow[m].clone(),c&&(f.y=this.internal.__cell__.margins.top||0,p.push(f)),f.lineNumber=l;var _=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,f),this.setTextColor(_)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),t=!1}}(gn.API);var rk={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},ik=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Wy=nk(ik),sk=[100,200,300,400,500,600,700,800,900],Nq=nk(sk);function Gy(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=function(s){return rk[s=s||"normal"]?s:"normal"}(n.style),r=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(n.weight),i=function(s){return typeof Wy[s=s||"normal"]=="number"?s:"normal"}(n.stretch);return{family:e,style:t,weight:r,stretch:i,src:n.src||[],ref:n.ref||{name:e,style:[i,t,r].join(" ")}}}function jT(n,e,t,r){var i;for(i=t;i>=0&&i<e.length;i+=r)if(n[e[i]])return n[e[i]];for(i=t;i>=0&&i<e.length;i-=r)if(n[e[i]])return n[e[i]]}var Fq={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},VT={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function WT(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function Dq(n,e,t){for(var r=(t=t||{}).defaultFontFamily||"times",i=Object.assign({},Fq,t.genericFontFamilies||{}),s=null,a=null,o=0;o<e.length;++o)if(i[(s=Gy(e[o])).family]&&(s.family=i[s.family]),n.hasOwnProperty(s.family)){a=n[s.family];break}if(!(a=a||n[r]))throw new Error("Could not find a font-family for the rule '"+WT(s)+"' and default family '"+r+"'.");if(a=function(l,c){if(c[l])return c[l];var f=Wy[l],d=f<=Wy.normal?-1:1,p=jT(c,ik,f,d);if(!p)throw new Error("Could not find a matching font-stretch value for "+l);return p}(s.stretch,a),a=function(l,c){if(c[l])return c[l];for(var f=rk[l],d=0;d<f.length;++d)if(c[f[d]])return c[f[d]];throw new Error("Could not find a matching font-style for "+l)}(s.style,a),!(a=function(l,c){if(c[l])return c[l];if(l===400&&c[500])return c[500];if(l===500&&c[400])return c[400];var f=Nq[l],d=jT(c,sk,f,l<400?-1:1);if(!d)throw new Error("Could not find a matching font-weight for value "+l);return d}(s.weight,a)))throw new Error("Failed to resolve a font for the rule '"+WT(s)+"'.");return a}function GT(n){return n.trimLeft()}function Iq(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function Oq(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var qg,qT,XT,o_=["times"];(function(n){var e,t,r,i,s,a,o,l,c,f=function(C){return C=C||{},this.isStrokeTransparent=C.isStrokeTransparent||!1,this.strokeOpacity=C.strokeOpacity||1,this.strokeStyle=C.strokeStyle||"#000000",this.fillStyle=C.fillStyle||"#000000",this.isFillTransparent=C.isFillTransparent||!1,this.fillOpacity=C.fillOpacity||1,this.font=C.font||"10px sans-serif",this.textBaseline=C.textBaseline||"alphabetic",this.textAlign=C.textAlign||"left",this.lineWidth=C.lineWidth||1,this.lineJoin=C.lineJoin||"miter",this.lineCap=C.lineCap||"butt",this.path=C.path||[],this.transform=C.transform!==void 0?C.transform.clone():new l,this.globalCompositeOperation=C.globalCompositeOperation||"normal",this.globalAlpha=C.globalAlpha||1,this.clip_path=C.clip_path||[],this.currentPoint=C.currentPoint||new a,this.miterLimit=C.miterLimit||10,this.lastPoint=C.lastPoint||new a,this.lineDashOffset=C.lineDashOffset||0,this.lineDash=C.lineDash||[],this.margin=C.margin||[0,0,0,0],this.prevPageLastElemOffset=C.prevPageLastElemOffset||0,this.ignoreClearRect=typeof C.ignoreClearRect!="boolean"||C.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new d(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,c=new f}]);var d=function(C){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var W=C;Object.defineProperty(this,"pdf",{get:function(){return W}});var z=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return z},set:function(Je){z=!!Je}});var V=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return V},set:function(Je){V=!!Je}});var ee=0;Object.defineProperty(this,"posX",{get:function(){return ee},set:function(Je){isNaN(Je)||(ee=Je)}});var de=0;Object.defineProperty(this,"posY",{get:function(){return de},set:function(Je){isNaN(Je)||(de=Je)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(Je){var q;typeof Je=="number"?q=[Je,Je,Je,Je]:((q=new Array(4))[0]=Je[0],q[1]=Je.length>=2?Je[1]:q[0],q[2]=Je.length>=3?Je[2]:q[0],q[3]=Je.length>=4?Je[3]:q[1]),c.margin=q}});var ve=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ve},set:function(Je){ve=Je}});var we=0;Object.defineProperty(this,"lastBreak",{get:function(){return we},set:function(Je){we=Je}});var Ce=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ce},set:function(Je){Ce=Je}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(Je){Je instanceof f&&(c=Je)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(Je){c.path=Je}});var lt=[];Object.defineProperty(this,"ctxStack",{get:function(){return lt},set:function(Je){lt=Je}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Je){var q;q=p(Je),this.ctx.fillStyle=q.style,this.ctx.isFillTransparent=q.a===0,this.ctx.fillOpacity=q.a,this.pdf.setFillColor(q.r,q.g,q.b,{a:q.a}),this.pdf.setTextColor(q.r,q.g,q.b,{a:q.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Je){var q=p(Je);this.ctx.strokeStyle=q.style,this.ctx.isStrokeTransparent=q.a===0,this.ctx.strokeOpacity=q.a,q.a===0?this.pdf.setDrawColor(255,255,255):(q.a,this.pdf.setDrawColor(q.r,q.g,q.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Je){["butt","round","square"].indexOf(Je)!==-1&&(this.ctx.lineCap=Je,this.pdf.setLineCap(Je))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Je){isNaN(Je)||(this.ctx.lineWidth=Je,this.pdf.setLineWidth(Je))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Je){["bevel","round","miter"].indexOf(Je)!==-1&&(this.ctx.lineJoin=Je,this.pdf.setLineJoin(Je))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Je){isNaN(Je)||(this.ctx.miterLimit=Je,this.pdf.setMiterLimit(Je))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Je){this.ctx.textBaseline=Je}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Je){["right","end","center","left","start"].indexOf(Je)!==-1&&(this.ctx.textAlign=Je)}});var he=null;function mt(Je,q){if(he===null){var Re=function(je){var Ve=[];return Object.keys(je).forEach(function(Ie){je[Ie].forEach(function(Ke){var Et=null;switch(Ke){case"bold":Et={family:Ie,weight:"bold"};break;case"italic":Et={family:Ie,style:"italic"};break;case"bolditalic":Et={family:Ie,weight:"bold",style:"italic"};break;case"":case"normal":Et={family:Ie}}Et!==null&&(Et.ref={name:Ie,style:Ke},Ve.push(Et))})}),Ve}(Je.getFontList());he=function(je){for(var Ve={},Ie=0;Ie<je.length;++Ie){var Ke=Gy(je[Ie]),Et=Ke.family,ce=Ke.stretch,Y=Ke.style,Ne=Ke.weight;Ve[Et]=Ve[Et]||{},Ve[Et][ce]=Ve[Et][ce]||{},Ve[Et][ce][Y]=Ve[Et][ce][Y]||{},Ve[Et][ce][Y][Ne]=Ke}return Ve}(Re.concat(q))}return he}var ye=null;Object.defineProperty(this,"fontFaces",{get:function(){return ye},set:function(Je){he=null,ye=Je}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Je){var q;if(this.ctx.font=Je,(q=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Je))!==null){var Re=q[1];q[2];var je=q[3],Ve=q[4];q[5];var Ie=q[6],Ke=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ve)[2];Ve=Math.floor(Ke==="px"?parseFloat(Ve)*this.pdf.internal.scaleFactor:Ke==="em"?parseFloat(Ve)*this.pdf.getFontSize():parseFloat(Ve)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ve);var Et=function(ht){var Ye,Xe,wt=[],We=ht.trim();if(We==="")return o_;if(We in VT)return[VT[We]];for(;We!=="";){switch(Xe=null,Ye=(We=GT(We)).charAt(0)){case'"':case"'":Xe=Iq(We.substring(1),Ye);break;default:Xe=Oq(We)}if(Xe===null||(wt.push(Xe[0]),(We=GT(Xe[1]))!==""&&We.charAt(0)!==","))return o_;We=We.replace(/^,/,"")}return wt}(Ie);if(this.fontFaces){var ce=Dq(mt(this.pdf,this.fontFaces),Et.map(function(ht){return{family:ht,stretch:"normal",weight:je,style:Re}}));this.pdf.setFont(ce.ref.name,ce.ref.style)}else{var Y="";(je==="bold"||parseInt(je,10)>=700||Re==="bold")&&(Y="bold"),Re==="italic"&&(Y+="italic"),Y.length===0&&(Y="normal");for(var Ne="",$e={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Qe=0;Qe<Et.length;Qe++){if(this.pdf.internal.getFont(Et[Qe],Y,{noFallback:!0,disableWarning:!0})!==void 0){Ne=Et[Qe];break}if(Y==="bolditalic"&&this.pdf.internal.getFont(Et[Qe],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ne=Et[Qe],Y="bold";else if(this.pdf.internal.getFont(Et[Qe],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ne=Et[Qe],Y="normal";break}}if(Ne===""){for(var He=0;He<Et.length;He++)if($e[Et[He]]){Ne=$e[Et[He]];break}}Ne=Ne===""?"Times":Ne,this.pdf.setFont(Ne,Y)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Je){this.ctx.globalCompositeOperation=Je}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Je){this.ctx.globalAlpha=Je}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Je){this.ctx.lineDashOffset=Je,oe.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Je){this.ctx.lineDash=Je,oe.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Je){this.ctx.ignoreClearRect=!!Je}})};d.prototype.setLineDash=function(C){this.lineDash=C},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){M.call(this,"fill",!1)},d.prototype.stroke=function(){M.call(this,"stroke",!1)},d.prototype.beginPath=function(){this.path=[{type:"begin"}]},d.prototype.moveTo=function(C,W){if(isNaN(C)||isNaN(W))throw kr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var z=this.ctx.transform.applyToPoint(new a(C,W));this.path.push({type:"mt",x:z.x,y:z.y}),this.ctx.lastPoint=new a(C,W)},d.prototype.closePath=function(){var C=new a(0,0),W=0;for(W=this.path.length-1;W!==-1;W--)if(this.path[W].type==="begin"&&lr(this.path[W+1])==="object"&&typeof this.path[W+1].x=="number"){C=new a(this.path[W+1].x,this.path[W+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(C.x,C.y)},d.prototype.lineTo=function(C,W){if(isNaN(C)||isNaN(W))throw kr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var z=this.ctx.transform.applyToPoint(new a(C,W));this.path.push({type:"lt",x:z.x,y:z.y}),this.ctx.lastPoint=new a(z.x,z.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),M.call(this,null,!0)},d.prototype.quadraticCurveTo=function(C,W,z,V){if(isNaN(z)||isNaN(V)||isNaN(C)||isNaN(W))throw kr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ee=this.ctx.transform.applyToPoint(new a(z,V)),de=this.ctx.transform.applyToPoint(new a(C,W));this.path.push({type:"qct",x1:de.x,y1:de.y,x:ee.x,y:ee.y}),this.ctx.lastPoint=new a(ee.x,ee.y)},d.prototype.bezierCurveTo=function(C,W,z,V,ee,de){if(isNaN(ee)||isNaN(de)||isNaN(C)||isNaN(W)||isNaN(z)||isNaN(V))throw kr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ve=this.ctx.transform.applyToPoint(new a(ee,de)),we=this.ctx.transform.applyToPoint(new a(C,W)),Ce=this.ctx.transform.applyToPoint(new a(z,V));this.path.push({type:"bct",x1:we.x,y1:we.y,x2:Ce.x,y2:Ce.y,x:ve.x,y:ve.y}),this.ctx.lastPoint=new a(ve.x,ve.y)},d.prototype.arc=function(C,W,z,V,ee,de){if(isNaN(C)||isNaN(W)||isNaN(z)||isNaN(V)||isNaN(ee))throw kr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(de=!!de,!this.ctx.transform.isIdentity){var ve=this.ctx.transform.applyToPoint(new a(C,W));C=ve.x,W=ve.y;var we=this.ctx.transform.applyToPoint(new a(0,z)),Ce=this.ctx.transform.applyToPoint(new a(0,0));z=Math.sqrt(Math.pow(we.x-Ce.x,2)+Math.pow(we.y-Ce.y,2))}Math.abs(ee-V)>=2*Math.PI&&(V=0,ee=2*Math.PI),this.path.push({type:"arc",x:C,y:W,radius:z,startAngle:V,endAngle:ee,counterclockwise:de})},d.prototype.arcTo=function(C,W,z,V,ee){throw new Error("arcTo not implemented.")},d.prototype.rect=function(C,W,z,V){if(isNaN(C)||isNaN(W)||isNaN(z)||isNaN(V))throw kr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(C,W),this.lineTo(C+z,W),this.lineTo(C+z,W+V),this.lineTo(C,W+V),this.lineTo(C,W),this.lineTo(C+z,W),this.lineTo(C,W)},d.prototype.fillRect=function(C,W,z,V){if(isNaN(C)||isNaN(W)||isNaN(z)||isNaN(V))throw kr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var ee={};this.lineCap!=="butt"&&(ee.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ee.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(C,W,z,V),this.fill(),ee.hasOwnProperty("lineCap")&&(this.lineCap=ee.lineCap),ee.hasOwnProperty("lineJoin")&&(this.lineJoin=ee.lineJoin)}},d.prototype.strokeRect=function(C,W,z,V){if(isNaN(C)||isNaN(W)||isNaN(z)||isNaN(V))throw kr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");_.call(this)||(this.beginPath(),this.rect(C,W,z,V),this.stroke())},d.prototype.clearRect=function(C,W,z,V){if(isNaN(C)||isNaN(W)||isNaN(z)||isNaN(V))throw kr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(C,W,z,V))},d.prototype.save=function(C){C=typeof C!="boolean"||C;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,z=0;z<this.pdf.internal.getNumberOfPages();z++)this.pdf.setPage(z+1),this.pdf.internal.out("q");if(this.pdf.setPage(W),C){this.ctx.fontSize=this.pdf.internal.getFontSize();var V=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=V}},d.prototype.restore=function(C){C=typeof C!="boolean"||C;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,z=0;z<this.pdf.internal.getNumberOfPages();z++)this.pdf.setPage(z+1),this.pdf.internal.out("Q");this.pdf.setPage(W),C&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(C){var W,z,V,ee;if(C.isCanvasGradient===!0&&(C=C.getColor()),!C)return{r:0,g:0,b:0,a:0,style:C};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(C))W=0,z=0,V=0,ee=0;else{var de=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(C);if(de!==null)W=parseInt(de[1]),z=parseInt(de[2]),V=parseInt(de[3]),ee=1;else if((de=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(C))!==null)W=parseInt(de[1]),z=parseInt(de[2]),V=parseInt(de[3]),ee=parseFloat(de[4]);else{if(ee=1,typeof C=="string"&&C.charAt(0)!=="#"){var ve=new KP(C);C=ve.ok?ve.toHex():"#000000"}C.length===4?(W=C.substring(1,2),W+=W,z=C.substring(2,3),z+=z,V=C.substring(3,4),V+=V):(W=C.substring(1,3),z=C.substring(3,5),V=C.substring(5,7)),W=parseInt(W,16),z=parseInt(z,16),V=parseInt(V,16)}}return{r:W,g:z,b:V,a:ee,style:C}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},_=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};d.prototype.fillText=function(C,W,z,V){if(isNaN(W)||isNaN(z)||typeof C!="string")throw kr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(V=isNaN(V)?void 0:V,!m.call(this)){var ee=J(this.ctx.transform.rotation),de=this.ctx.transform.scaleX;k.call(this,{text:C,x:W,y:z,scale:de,angle:ee,align:this.textAlign,maxWidth:V})}},d.prototype.strokeText=function(C,W,z,V){if(isNaN(W)||isNaN(z)||typeof C!="string")throw kr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!_.call(this)){V=isNaN(V)?void 0:V;var ee=J(this.ctx.transform.rotation),de=this.ctx.transform.scaleX;k.call(this,{text:C,x:W,y:z,scale:de,renderingMode:"stroke",angle:ee,align:this.textAlign,maxWidth:V})}},d.prototype.measureText=function(C){if(typeof C!="string")throw kr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var W=this.pdf,z=this.pdf.internal.scaleFactor,V=W.internal.getFontSize(),ee=W.getStringUnitWidth(C)*V/W.internal.scaleFactor,de=function(ve){var we=(ve=ve||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return we}}),this};return new de({width:ee*=Math.round(96*z/72*1e4)/1e4})},d.prototype.scale=function(C,W){if(isNaN(C)||isNaN(W))throw kr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var z=new l(C,0,0,W,0,0);this.ctx.transform=this.ctx.transform.multiply(z)},d.prototype.rotate=function(C){if(isNaN(C))throw kr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var W=new l(Math.cos(C),Math.sin(C),-Math.sin(C),Math.cos(C),0,0);this.ctx.transform=this.ctx.transform.multiply(W)},d.prototype.translate=function(C,W){if(isNaN(C)||isNaN(W))throw kr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var z=new l(1,0,0,1,C,W);this.ctx.transform=this.ctx.transform.multiply(z)},d.prototype.transform=function(C,W,z,V,ee,de){if(isNaN(C)||isNaN(W)||isNaN(z)||isNaN(V)||isNaN(ee)||isNaN(de))throw kr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ve=new l(C,W,z,V,ee,de);this.ctx.transform=this.ctx.transform.multiply(ve)},d.prototype.setTransform=function(C,W,z,V,ee,de){C=isNaN(C)?1:C,W=isNaN(W)?0:W,z=isNaN(z)?0:z,V=isNaN(V)?1:V,ee=isNaN(ee)?0:ee,de=isNaN(de)?0:de,this.ctx.transform=new l(C,W,z,V,ee,de)};var x=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function(C,W,z,V,ee,de,ve,we,Ce){var lt=this.pdf.getImageProperties(C),he=1,mt=1,ye=1,Je=1;V!==void 0&&we!==void 0&&(ye=we/V,Je=Ce/ee,he=lt.width/V*we/V,mt=lt.height/ee*Ce/ee),de===void 0&&(de=W,ve=z,W=0,z=0),V!==void 0&&we===void 0&&(we=V,Ce=ee),V===void 0&&we===void 0&&(we=lt.width,Ce=lt.height);for(var q,Re=this.ctx.transform.decompose(),je=J(Re.rotate.shx),Ve=new l,Ie=(Ve=(Ve=(Ve=Ve.multiply(Re.translate)).multiply(Re.skew)).multiply(Re.scale)).applyToRectangle(new o(de-W*ye,ve-z*Je,V*he,ee*mt)),Ke=g.call(this,Ie),Et=[],ce=0;ce<Ke.length;ce+=1)Et.indexOf(Ke[ce])===-1&&Et.push(Ke[ce]);if(E(Et),this.autoPaging)for(var Y=Et[0],Ne=Et[Et.length-1],$e=Y;$e<Ne+1;$e++){this.pdf.setPage($e);var Qe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],He=$e===1?this.posY+this.margin[0]:this.margin[0],ht=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ye=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Xe=$e===1?0:ht+($e-2)*Ye;if(this.ctx.clip_path.length!==0){var wt=this.path;q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=A(q,this.posX+this.margin[3],-Xe+He+this.ctx.prevPageLastElemOffset),D.call(this,"fill",!0),this.path=wt}var We=JSON.parse(JSON.stringify(Ie));We=A([We],this.posX+this.margin[3],-Xe+He+this.ctx.prevPageLastElemOffset)[0];var Ct=($e>Y||$e<Ne)&&x.call(this);Ct&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Qe,Ye,null).clip().discardPath()),this.pdf.addImage(C,"JPEG",We.x,We.y,We.w,We.h,null,null,je),Ct&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(C,"JPEG",Ie.x,Ie.y,Ie.w,Ie.h,null,null,je)};var g=function(C,W,z){var V=[];W=W||this.pdf.internal.pageSize.width,z=z||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ee=this.posY+this.ctx.prevPageLastElemOffset;switch(C.type){default:case"mt":case"lt":V.push(Math.floor((C.y+ee)/z)+1);break;case"arc":V.push(Math.floor((C.y+ee-C.radius)/z)+1),V.push(Math.floor((C.y+ee+C.radius)/z)+1);break;case"qct":var de=X(this.ctx.lastPoint.x,this.ctx.lastPoint.y,C.x1,C.y1,C.x,C.y);V.push(Math.floor((de.y+ee)/z)+1),V.push(Math.floor((de.y+de.h+ee)/z)+1);break;case"bct":var ve=pe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,C.x1,C.y1,C.x2,C.y2,C.x,C.y);V.push(Math.floor((ve.y+ee)/z)+1),V.push(Math.floor((ve.y+ve.h+ee)/z)+1);break;case"rect":V.push(Math.floor((C.y+ee)/z)+1),V.push(Math.floor((C.y+C.h+ee)/z)+1)}for(var we=0;we<V.length;we+=1)for(;this.pdf.internal.getNumberOfPages()<V[we];)y.call(this);return V},y=function(){var C=this.fillStyle,W=this.strokeStyle,z=this.font,V=this.lineCap,ee=this.lineWidth,de=this.lineJoin;this.pdf.addPage(),this.fillStyle=C,this.strokeStyle=W,this.font=z,this.lineCap=V,this.lineWidth=ee,this.lineJoin=de},A=function(C,W,z){for(var V=0;V<C.length;V++)switch(C[V].type){case"bct":C[V].x2+=W,C[V].y2+=z;case"qct":C[V].x1+=W,C[V].y1+=z;case"mt":case"lt":case"arc":default:C[V].x+=W,C[V].y+=z}return C},E=function(C){return C.sort(function(W,z){return W-z})},M=function(C,W){for(var z,V,ee=this.fillStyle,de=this.strokeStyle,ve=this.lineCap,we=this.lineWidth,Ce=Math.abs(we*this.ctx.transform.scaleX),lt=this.lineJoin,he=JSON.parse(JSON.stringify(this.path)),mt=JSON.parse(JSON.stringify(this.path)),ye=[],Je=0;Je<mt.length;Je++)if(mt[Je].x!==void 0)for(var q=g.call(this,mt[Je]),Re=0;Re<q.length;Re+=1)ye.indexOf(q[Re])===-1&&ye.push(q[Re]);for(var je=0;je<ye.length;je++)for(;this.pdf.internal.getNumberOfPages()<ye[je];)y.call(this);if(E(ye),this.autoPaging)for(var Ve=ye[0],Ie=ye[ye.length-1],Ke=Ve;Ke<Ie+1;Ke++){this.pdf.setPage(Ke),this.fillStyle=ee,this.strokeStyle=de,this.lineCap=ve,this.lineWidth=Ce,this.lineJoin=lt;var Et=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ce=Ke===1?this.posY+this.margin[0]:this.margin[0],Y=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ne=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],$e=Ke===1?0:Y+(Ke-2)*Ne;if(this.ctx.clip_path.length!==0){var Qe=this.path;z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=A(z,this.posX+this.margin[3],-$e+ce+this.ctx.prevPageLastElemOffset),D.call(this,C,!0),this.path=Qe}if(V=JSON.parse(JSON.stringify(he)),this.path=A(V,this.posX+this.margin[3],-$e+ce+this.ctx.prevPageLastElemOffset),W===!1||Ke===0){var He=(Ke>Ve||Ke<Ie)&&x.call(this);He&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Et,Ne,null).clip().discardPath()),D.call(this,C,W),He&&this.pdf.restoreGraphicsState()}this.lineWidth=we}else this.lineWidth=Ce,D.call(this,C,W),this.lineWidth=we;this.path=he},D=function(C,W){if((C!=="stroke"||W||!_.call(this))&&(C==="stroke"||W||!m.call(this))){for(var z,V,ee=[],de=this.path,ve=0;ve<de.length;ve++){var we=de[ve];switch(we.type){case"begin":ee.push({begin:!0});break;case"close":ee.push({close:!0});break;case"mt":ee.push({start:we,deltas:[],abs:[]});break;case"lt":var Ce=ee.length;if(de[ve-1]&&!isNaN(de[ve-1].x)&&(z=[we.x-de[ve-1].x,we.y-de[ve-1].y],Ce>0)){for(;Ce>=0;Ce--)if(ee[Ce-1].close!==!0&&ee[Ce-1].begin!==!0){ee[Ce-1].deltas.push(z),ee[Ce-1].abs.push(we);break}}break;case"bct":z=[we.x1-de[ve-1].x,we.y1-de[ve-1].y,we.x2-de[ve-1].x,we.y2-de[ve-1].y,we.x-de[ve-1].x,we.y-de[ve-1].y],ee[ee.length-1].deltas.push(z);break;case"qct":var lt=de[ve-1].x+2/3*(we.x1-de[ve-1].x),he=de[ve-1].y+2/3*(we.y1-de[ve-1].y),mt=we.x+2/3*(we.x1-we.x),ye=we.y+2/3*(we.y1-we.y),Je=we.x,q=we.y;z=[lt-de[ve-1].x,he-de[ve-1].y,mt-de[ve-1].x,ye-de[ve-1].y,Je-de[ve-1].x,q-de[ve-1].y],ee[ee.length-1].deltas.push(z);break;case"arc":ee.push({deltas:[],abs:[],arc:!0}),Array.isArray(ee[ee.length-1].abs)&&ee[ee.length-1].abs.push(we)}}V=W?null:C==="stroke"?"stroke":"fill";for(var Re=!1,je=0;je<ee.length;je++)if(ee[je].arc)for(var Ve=ee[je].abs,Ie=0;Ie<Ve.length;Ie++){var Ke=Ve[Ie];Ke.type==="arc"?I.call(this,Ke.x,Ke.y,Ke.radius,Ke.startAngle,Ke.endAngle,Ke.counterclockwise,void 0,W,!Re):j.call(this,Ke.x,Ke.y),Re=!0}else if(ee[je].close===!0)this.pdf.internal.out("h"),Re=!1;else if(ee[je].begin!==!0){var Et=ee[je].start.x,ce=ee[je].start.y;G.call(this,ee[je].deltas,Et,ce),Re=!0}V&&R.call(this,V),W&&O.call(this)}},U=function(C){var W=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,z=W*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return C-z;case"top":return C+W-z;case"hanging":return C+W-2*z;case"middle":return C+W/2-z;case"ideographic":return C;case"alphabetic":default:return C}},L=function(C){return C+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var C=function(){};return C.colorStops=[],C.addColorStop=function(W,z){this.colorStops.push([W,z])},C.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},C.isCanvasGradient=!0,C},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var I=function(C,W,z,V,ee,de,ve,we,Ce){for(var lt=ie.call(this,z,V,ee,de),he=0;he<lt.length;he++){var mt=lt[he];he===0&&(Ce?N.call(this,mt.x1+C,mt.y1+W):j.call(this,mt.x1+C,mt.y1+W)),ae.call(this,C,W,mt.x2,mt.y2,mt.x3,mt.y3,mt.x4,mt.y4)}we?O.call(this):R.call(this,ve)},R=function(C){switch(C){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},O=function(){this.pdf.clip(),this.pdf.discardPath()},N=function(C,W){this.pdf.internal.out(t(C)+" "+r(W)+" m")},k=function(C){var W;switch(C.align){case"right":case"end":W="right";break;case"center":W="center";break;case"left":case"start":default:W="left"}var z=this.pdf.getTextDimensions(C.text),V=U.call(this,C.y),ee=L.call(this,V)-z.h,de=this.ctx.transform.applyToPoint(new a(C.x,V)),ve=this.ctx.transform.decompose(),we=new l;we=(we=(we=we.multiply(ve.translate)).multiply(ve.skew)).multiply(ve.scale);for(var Ce,lt,he,mt=this.ctx.transform.applyToRectangle(new o(C.x,V,z.w,z.h)),ye=we.applyToRectangle(new o(C.x,ee,z.w,z.h)),Je=g.call(this,ye),q=[],Re=0;Re<Je.length;Re+=1)q.indexOf(Je[Re])===-1&&q.push(Je[Re]);if(E(q),this.autoPaging)for(var je=q[0],Ve=q[q.length-1],Ie=je;Ie<Ve+1;Ie++){this.pdf.setPage(Ie);var Ke=Ie===1?this.posY+this.margin[0]:this.margin[0],Et=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ce=this.pdf.internal.pageSize.height-this.margin[2],Y=ce-this.margin[0],Ne=this.pdf.internal.pageSize.width-this.margin[1],$e=Ne-this.margin[3],Qe=Ie===1?0:Et+(Ie-2)*Y;if(this.ctx.clip_path.length!==0){var He=this.path;Ce=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=A(Ce,this.posX+this.margin[3],-1*Qe+Ke),D.call(this,"fill",!0),this.path=He}var ht=A([JSON.parse(JSON.stringify(ye))],this.posX+this.margin[3],-Qe+Ke+this.ctx.prevPageLastElemOffset)[0];C.scale>=.01&&(lt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(lt*C.scale),he=this.lineWidth,this.lineWidth=he*C.scale);var Ye=this.autoPaging!=="text";if(Ye||ht.y+ht.h<=ce){if(Ye||ht.y>=Ke&&ht.x<=Ne){var Xe=Ye?C.text:this.pdf.splitTextToSize(C.text,C.maxWidth||Ne-ht.x)[0],wt=A([JSON.parse(JSON.stringify(mt))],this.posX+this.margin[3],-Qe+Ke+this.ctx.prevPageLastElemOffset)[0],We=Ye&&(Ie>je||Ie<Ve)&&x.call(this);We&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],$e,Y,null).clip().discardPath()),this.pdf.text(Xe,wt.x,wt.y,{angle:C.angle,align:W,renderingMode:C.renderingMode}),We&&this.pdf.restoreGraphicsState()}}else ht.y<ce&&(this.ctx.prevPageLastElemOffset+=ce-ht.y);C.scale>=.01&&(this.pdf.setFontSize(lt),this.lineWidth=he)}else C.scale>=.01&&(lt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(lt*C.scale),he=this.lineWidth,this.lineWidth=he*C.scale),this.pdf.text(C.text,de.x+this.posX,de.y+this.posY,{angle:C.angle,align:W,renderingMode:C.renderingMode,maxWidth:C.maxWidth}),C.scale>=.01&&(this.pdf.setFontSize(lt),this.lineWidth=he)},j=function(C,W,z,V){z=z||0,V=V||0,this.pdf.internal.out(t(C+z)+" "+r(W+V)+" l")},G=function(C,W,z){return this.pdf.lines(C,W,z,null,null)},ae=function(C,W,z,V,ee,de,ve,we){this.pdf.internal.out([e(i(z+C)),e(s(V+W)),e(i(ee+C)),e(s(de+W)),e(i(ve+C)),e(s(we+W)),"c"].join(" "))},ie=function(C,W,z,V){for(var ee=2*Math.PI,de=Math.PI/2;W>z;)W-=ee;var ve=Math.abs(z-W);ve<ee&&V&&(ve=ee-ve);for(var we=[],Ce=V?-1:1,lt=W;ve>1e-5;){var he=lt+Ce*Math.min(ve,de);we.push(ue.call(this,C,lt,he)),ve-=Math.abs(he-lt),lt=he}return we},ue=function(C,W,z){var V=(z-W)/2,ee=C*Math.cos(V),de=C*Math.sin(V),ve=ee,we=-de,Ce=ve*ve+we*we,lt=Ce+ve*ee+we*de,he=4/3*(Math.sqrt(2*Ce*lt)-lt)/(ve*de-we*ee),mt=ve-he*we,ye=we+he*ve,Je=mt,q=-ye,Re=V+W,je=Math.cos(Re),Ve=Math.sin(Re);return{x1:C*Math.cos(W),y1:C*Math.sin(W),x2:mt*je-ye*Ve,y2:mt*Ve+ye*je,x3:Je*je-q*Ve,y3:Je*Ve+q*je,x4:C*Math.cos(z),y4:C*Math.sin(z)}},J=function(C){return 180*C/Math.PI},X=function(C,W,z,V,ee,de){var ve=C+.5*(z-C),we=W+.5*(V-W),Ce=ee+.5*(z-ee),lt=de+.5*(V-de),he=Math.min(C,ee,ve,Ce),mt=Math.max(C,ee,ve,Ce),ye=Math.min(W,de,we,lt),Je=Math.max(W,de,we,lt);return new o(he,ye,mt-he,Je-ye)},pe=function(C,W,z,V,ee,de,ve,we){var Ce,lt,he,mt,ye,Je,q,Re,je,Ve,Ie,Ke,Et,ce,Y=z-C,Ne=V-W,$e=ee-z,Qe=de-V,He=ve-ee,ht=we-de;for(lt=0;lt<41;lt++)je=(q=(he=C+(Ce=lt/40)*Y)+Ce*((ye=z+Ce*$e)-he))+Ce*(ye+Ce*(ee+Ce*He-ye)-q),Ve=(Re=(mt=W+Ce*Ne)+Ce*((Je=V+Ce*Qe)-mt))+Ce*(Je+Ce*(de+Ce*ht-Je)-Re),lt==0?(Ie=je,Ke=Ve,Et=je,ce=Ve):(Ie=Math.min(Ie,je),Ke=Math.min(Ke,Ve),Et=Math.max(Et,je),ce=Math.max(ce,Ve));return new o(Math.round(Ie),Math.round(Ke),Math.round(Et-Ie),Math.round(ce-Ke))},oe=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var C,W,z=(C=this.ctx.lineDash,W=this.ctx.lineDashOffset,JSON.stringify({lineDash:C,lineDashOffset:W}));this.prevLineDash!==z&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=z)}}})(gn.API),function(n){var e=function(s){var a,o,l,c,f,d,p,m,_,x;for(o=[],l=0,c=(s+=a="\0\0\0\0".slice(s.length%4||4)).length;c>l;l+=4)(f=(s.charCodeAt(l)<<24)+(s.charCodeAt(l+1)<<16)+(s.charCodeAt(l+2)<<8)+s.charCodeAt(l+3))!==0?(d=(f=((f=((f=((f=(f-(x=f%85))/85)-(_=f%85))/85)-(m=f%85))/85)-(p=f%85))/85)%85,o.push(d+33,p+33,m+33,_+33,x+33)):o.push(122);return function(g,y){for(var A=y;A>0;A--)g.pop()}(o,a.length),String.fromCharCode.apply(String,o)+"~>"},t=function(s){var a,o,l,c,f,d=String,p="length",m=255,_="charCodeAt",x="slice",g="replace";for(s[x](-2),s=s[x](0,-2)[g](/\s/g,"")[g]("z","!!!!!"),l=[],c=0,f=(s+=a="uuuuu"[x](s[p]%5||5))[p];f>c;c+=5)o=52200625*(s[_](c)-33)+614125*(s[_](c+1)-33)+7225*(s[_](c+2)-33)+85*(s[_](c+3)-33)+(s[_](c+4)-33),l.push(m&o>>24,m&o>>16,m&o>>8,m&o);return function(y,A){for(var E=A;E>0;E--)y.pop()}(l,a[p]),d.fromCharCode.apply(d,l)},r=function(s){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),a.test(s)===!1)return"";for(var o="",l=0;l<s.length;l+=2)o+=String.fromCharCode("0x"+(s[l]+s[l+1]));return o},i=function(s){for(var a=new Uint8Array(s.length),o=s.length;o--;)a[o]=s.charCodeAt(o);return s=(a=By(a)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};n.processDataByFilters=function(s,a){var o=0,l=s||"",c=[];for(typeof(a=a||[])=="string"&&(a=[a]),o=0;o<a.length;o+=1)switch(a[o]){case"ASCII85Decode":case"/ASCII85Decode":l=t(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=r(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(f){return("0"+f.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[o]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(gn.API),function(n){n.loadFile=function(e,t,r){return function(i,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var o=void 0;try{o=function(l,c,f){var d=new XMLHttpRequest,p=0,m=function(_){var x=_.length,g=[],y=String.fromCharCode;for(p=0;p<x;p+=1)g.push(y(255&_.charCodeAt(p)));return g.join("")};if(d.open("GET",l,!c),d.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(d.onload=function(){d.status===200?f(m(this.responseText)):f(void 0)}),d.send(null),c&&d.status===200)return m(d.responseText)}(i,s,a)}catch{}return o}(e,t,r)},n.loadImageFile=n.loadFile}(gn.API),function(n){function e(){return(vn.html2canvas?Promise.resolve(vn.html2canvas):Fy(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function t(){return(vn.DOMPurify?Promise.resolve(vn.DOMPurify):Fy(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var r=function(a){var o=lr(a);return o==="undefined"?"undefined":o==="string"||a instanceof String?"string":o==="number"||a instanceof Number?"number":o==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":o==="object"?"object":"unknown"},i=function(a,o){var l=document.createElement(a);for(var c in o.className&&(l.className=o.className),o.innerHTML&&o.dompurify&&(l.innerHTML=o.dompurify.sanitize(o.innerHTML)),o.style)l.style[c]=o.style[c];return l},s=function a(o){var l=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),c=a.convert(Promise.resolve(),l);return c=(c=c.setProgress(1,a,1,[a])).set(o)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(a,o){return a.__proto__=o||s.prototype,a},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(a,o){return this.then(function(){switch(o=o||function(l){switch(r(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a)){case"string":return this.then(t).then(function(l){return this.set({src:i("div",{innerHTML:a,dompurify:l})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},s.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},o=function l(c,f){for(var d=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),p=c.firstChild;p;p=p.nextSibling)f!==!0&&p.nodeType===1&&p.nodeName==="SCRIPT"||d.appendChild(l(p,f));return c.nodeType===1&&(c.nodeName==="CANVAS"?(d.width=c.width,d.height=c.height,d.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(d.value=c.value),d.addEventListener("load",function(){d.scrollTop=c.scrollTop,d.scrollLeft=c.scrollLeft},!0)),d}(this.prop.src,this.opt.html2canvas.javascriptEnabled);o.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(o),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(o){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,o(this.prop.container,l)}).then(function(o){(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(o){var l=this.opt.jsPDF,c=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,d=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete d.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var p=0;p<c.length;++p){var m=c[p],_=m.src.find(function(x){return x.format==="truetype"});_&&l.addFont(_.url,m.ref.name,m.ref.style)}return d.windowHeight=d.windowHeight||0,d.windowHeight=d.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):d.windowHeight,l.context2d.save(!0),o(this.prop.container,d)}).then(function(o){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(a,o,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(a,o):this.outputPdf(a,o)},s.prototype.outputPdf=function(a,o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,o)})},s.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},s.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(a){if(r(a)!=="object")return this;var o=Object.keys(a||{}).map(function(l){if(l in s.template.prop)return function(){this.prop[l]=a[l]};switch(l){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[l]=a[l]}}},this);return this.then(function(){return this.thenList(o)})},s.prototype.get=function(a,o){return this.then(function(){var l=a in s.template.prop?this.prop[a]:this.opt[a];return o?o(l):l})},s.prototype.setMargin=function(a){return this.then(function(){switch(r(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},s.prototype.setPageSize=function(a){function o(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(a=a||gn.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:o(a.inner.width,a.k),height:o(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},s.prototype.setProgress=function(a,o,l,c){return a!=null&&(this.progress.val=a),o!=null&&(this.progress.state=o),l!=null&&(this.progress.n=l),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(a,o,l,c){return this.setProgress(a?this.progress.val+a:null,o||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},s.prototype.then=function(a,o){var l=this;return this.thenCore(a,o,function(c,f){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(d){return l.updateProgress(null,c),d}).then(c,f).then(function(d){return l.updateProgress(1),d})})},s.prototype.thenCore=function(a,o,l){l=l||Promise.prototype.then,a&&(a=a.bind(this)),o&&(o=o.bind(this));var c=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),f=l.call(c,a,o);return s.convert(f,this.__proto__)},s.prototype.thenExternal=function(a,o){return Promise.prototype.then.call(this,a,o)},s.prototype.thenList=function(a){var o=this;return a.forEach(function(l){o=o.thenCore(l)}),o},s.prototype.catch=function(a){a&&(a=a.bind(this));var o=Promise.prototype.catch.call(this,a);return s.convert(o,this)},s.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},s.prototype.error=function(a){return this.then(function(){throw new Error(a)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,gn.getPageSize=function(a,o,l){if(lr(a)==="object"){var c=a;a=c.orientation,o=c.unit||o,l=c.format||l}o=o||"mm",l=l||"a4",a=(""+(a||"P")).toLowerCase();var f,d=(""+l).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(o){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+o}var m,_=0,x=0;if(p.hasOwnProperty(d))_=p[d][1]/f,x=p[d][0]/f;else try{_=l[1],x=l[0]}catch{throw new Error("Invalid format: "+l)}if(a==="p"||a==="portrait")a="p",x>_&&(m=x,x=_,_=m);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",_>x&&(m=x,x=_,_=m)}return{width:x,height:_,unit:o,k:f,orientation:a}},n.html=function(a,o){(o=o||{}).callback=o.callback||function(){},o.html2canvas=o.html2canvas||{},o.html2canvas.canvas=o.html2canvas.canvas||this.canvas,o.jsPDF=o.jsPDF||this,o.fontFaces=o.fontFaces?o.fontFaces.map(Gy):null;var l=new s(o);return o.worker?l:l.from(a).doCallback()}}(gn.API),gn.API.addJS=function(n){return XT=n,this.internal.events.subscribe("postPutResources",function(){qg=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(qg+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),qT=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+XT+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){qg!==void 0&&qT!==void 0&&this.internal.out("/Names <</JavaScript "+qg+" 0 R>>")}),this},function(n){var e;n.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=t.outline.render().split(/\r\n/),s=0;s<i.length;s++){var a=i[s],o=r.exec(a);if(o!=null){var l=o[1];t.internal.newObjectDeferredBegin(l,!1)}t.internal.write(a)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,f=[];for(s=0;s<c;s++){var d=t.internal.newObject();f.push(d);var p=t.internal.getPageInfo(s+1);t.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var m=t.internal.newObject();for(t.internal.write("<< /Names [ "),s=0;s<f.length;s++)t.internal.write("(page_"+(s+1)+")"+f[s]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+m+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,i,s){var a={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(a),a},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var a=r.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var o=this.count=this.count_r({count:0},a);if(o>0&&this.line("/Count "+o),a.options&&a.options.pageNumber){var l=t.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<r.children.length;c++)this.renderItems(r.children[c])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(gn.API),function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,r,i,s,a,o){var l,c=this.decode.DCT_DECODE,f=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=a||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,(l=function(d){for(var p,m=256*d.charCodeAt(4)+d.charCodeAt(5),_=d.length,x={width:0,height:0,numcomponents:1},g=4;g<_;g+=2){if(g+=m,e.indexOf(d.charCodeAt(g+1))!==-1){p=256*d.charCodeAt(g+5)+d.charCodeAt(g+6),x={width:256*d.charCodeAt(g+7)+d.charCodeAt(g+8),height:p,numcomponents:d.charCodeAt(g+9)};break}m=256*d.charCodeAt(g+2)+d.charCodeAt(g+3)}return x}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}f={data:t,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:c,index:r,alias:i}}return f}}(gn.API);var Rd,Xg,$T,YT,KT,Uq=function(){var n,e,t;function r(s){var a,o,l,c,f,d,p,m,_,x,g,y,A,E;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},d=null;;){switch(a=this.readUInt32(),_=(function(){var M,D;for(D=[],M=0;M<4;++M)D.push(String.fromCharCode(this.data[this.pos++]));return D}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(a);break;case"fcTL":d&&this.animation.frames.push(d),this.pos+=4,d={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},f=this.readUInt16(),c=this.readUInt16()||100,d.delay=1e3*f/c,d.disposeOp=this.data[this.pos++],d.blendOp=this.data[this.pos++],d.data=[];break;case"IDAT":case"fdAT":for(_==="fdAT"&&(this.pos+=4,a-=4),s=(d!=null?d.data:void 0)||this.imgData,y=0;0<=a?y<a:y>a;0<=a?++y:--y)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(a),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((x=l-this.transparency.indexed.length)>0)for(A=0;0<=x?A<x:A>x;0<=x?++A:--A)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(a)[0];break;case 2:this.transparency.rgb=this.read(a)}break;case"tEXt":p=(g=this.read(a)).indexOf(0),m=String.fromCharCode.apply(String,g.slice(0,p)),this.text[m]=String.fromCharCode.apply(String,g.slice(p+1));break;case"IEND":return d&&this.animation.frames.push(d),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(E=this.colorType)===4||E===6,o=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*o,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=a}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(s){var a,o;for(o=[],a=0;0<=s?a<s:a>s;0<=s?++a:--a)o.push(this.data[this.pos++]);return o},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(s){var a=this.pixelBitlength/8,o=new Uint8Array(this.width*this.height*a),l=0,c=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function f(d,p,m,_){var x,g,y,A,E,M,D,U,L,I,R,O,N,k,j,G,ae,ie,ue,J,X,pe=Math.ceil((c.width-d)/m),oe=Math.ceil((c.height-p)/_),C=c.width==pe&&c.height==oe;for(k=a*pe,O=C?o:new Uint8Array(k*oe),M=s.length,N=0,g=0;N<oe&&l<M;){switch(s[l++]){case 0:for(A=ae=0;ae<k;A=ae+=1)O[g++]=s[l++];break;case 1:for(A=ie=0;ie<k;A=ie+=1)x=s[l++],E=A<a?0:O[g-a],O[g++]=(x+E)%256;break;case 2:for(A=ue=0;ue<k;A=ue+=1)x=s[l++],y=(A-A%a)/a,j=N&&O[(N-1)*k+y*a+A%a],O[g++]=(j+x)%256;break;case 3:for(A=J=0;J<k;A=J+=1)x=s[l++],y=(A-A%a)/a,E=A<a?0:O[g-a],j=N&&O[(N-1)*k+y*a+A%a],O[g++]=(x+Math.floor((E+j)/2))%256;break;case 4:for(A=X=0;X<k;A=X+=1)x=s[l++],y=(A-A%a)/a,E=A<a?0:O[g-a],N===0?j=G=0:(j=O[(N-1)*k+y*a+A%a],G=y&&O[(N-1)*k+(y-1)*a+A%a]),D=E+j-G,U=Math.abs(D-E),I=Math.abs(D-j),R=Math.abs(D-G),L=U<=I&&U<=R?E:I<=R?j:G,O[g++]=(x+L)%256;break;default:throw new Error("Invalid filter algorithm: "+s[l-1])}if(!C){var W=((p+N*_)*c.width+d)*a,z=N*k;for(A=0;A<pe;A+=1){for(var V=0;V<a;V+=1)o[W++]=O[z++];W+=(m-1)*a}}N++}}return s=gq(s),c.interlaceMethod==1?(f(0,0,8,8),f(4,0,8,8),f(0,4,4,8),f(2,0,4,4),f(0,2,2,4),f(1,0,2,2),f(0,1,1,2)):f(0,0,1,1),o},r.prototype.decodePalette=function(){var s,a,o,l,c,f,d,p,m;for(o=this.palette,f=this.transparency.indexed||[],c=new Uint8Array((f.length||0)+o.length),l=0,s=0,a=d=0,p=o.length;d<p;a=d+=3)c[l++]=o[a],c[l++]=o[a+1],c[l++]=o[a+2],c[l++]=(m=f[s++])!=null?m:255;return c},r.prototype.copyToImageData=function(s,a){var o,l,c,f,d,p,m,_,x,g,y;if(l=this.colors,x=null,o=this.hasAlphaChannel,this.palette.length&&(x=(y=this._decodedPalette)!=null?y:this._decodedPalette=this.decodePalette(),l=4,o=!0),_=(c=s.data||s).length,d=x||a,f=p=0,l===1)for(;f<_;)m=x?4*a[f/4]:p,g=d[m++],c[f++]=g,c[f++]=g,c[f++]=g,c[f++]=o?d[m++]:255,p=m;else for(;f<_;)m=x?4*a[f/4]:p,c[f++]=d[m++],c[f++]=d[m++],c[f++]=d[m++],c[f++]=o?d[m++]:255,p=m},r.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(vn)==="[object Window]"){try{e=vn.document.createElement("canvas"),t=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),n=function(s){var a;if(i()===!0)return t.width=s.width,t.height=s.height,t.clearRect(0,0,s.width,s.height),t.putImageData(s,0,0),(a=new Image).src=e.toDataURL(),a;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(s){var a,o,l,c,f,d,p,m;if(this.animation){for(m=[],o=f=0,d=(p=this.animation.frames).length;f<d;o=++f)a=p[o],l=s.createImageData(a.width,a.height),c=this.decodePixels(new Uint8Array(a.data)),this.copyToImageData(l,c),a.imageData=l,m.push(a.image=n(l));return m}},r.prototype.renderFrame=function(s,a){var o,l,c;return o=(l=this.animation.frames)[a],c=l[a-1],a===0&&s.clearRect(0,0,this.width,this.height),(c!=null?c.disposeOp:void 0)===1?s.clearRect(c.xOffset,c.yOffset,c.width,c.height):(c!=null?c.disposeOp:void 0)===2&&s.putImageData(c.imageData,c.xOffset,c.yOffset),o.blendOp===0&&s.clearRect(o.xOffset,o.yOffset,o.width,o.height),s.drawImage(o.image,o.xOffset,o.yOffset)},r.prototype.animate=function(s){var a,o,l,c,f,d,p=this;return o=0,d=this.animation,c=d.numFrames,l=d.frames,f=d.numPlays,(a=function(){var m,_;if(m=o++%c,_=l[m],p.renderFrame(s,m),c>1&&o/c<f)return p.animation._timeout=setTimeout(a,_.delay)})()},r.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},r.prototype.render=function(s){var a,o;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,a=s.getContext("2d"),this.animation?(this.decodeFrames(a),this.animate(a)):(o=a.createImageData(this.width,this.height),this.copyToImageData(o,this.decodePixels()),a.putImageData(o,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Bq(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,r=n[e++]|n[e++]<<8,i=n[e++],s=i>>7,a=1<<(7&i)+1;n[e++],n[e++];var o=null,l=null;s&&(o=e,l=a,e+=3*a);var c=!0,f=[],d=0,p=null,m=0,_=null;for(this.width=t,this.height=r;c&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,_=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((N=n[e++])>=0))throw Error("Invalid block size");if(N===0)break;e+=N}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var x=n[e++];d=n[e++]|n[e++]<<8,p=n[e++],(1&x)==0&&(p=null),m=x>>2&7,e++;break;case 254:for(;;){if(!((N=n[e++])>=0))throw Error("Invalid block size");if(N===0)break;e+=N}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var g=n[e++]|n[e++]<<8,y=n[e++]|n[e++]<<8,A=n[e++]|n[e++]<<8,E=n[e++]|n[e++]<<8,M=n[e++],D=M>>6&1,U=1<<(7&M)+1,L=o,I=l,R=!1;M>>7&&(R=!0,L=e,I=U,e+=3*U);var O=e;for(e++;;){var N;if(!((N=n[e++])>=0))throw Error("Invalid block size");if(N===0)break;e+=N}f.push({x:g,y,width:A,height:E,has_local_palette:R,palette_offset:L,palette_size:I,data_offset:O,data_length:e-O,transparent_index:p,interlaced:!!D,delay:d,disposal:m});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return _},this.frameInfo=function(k){if(k<0||k>=f.length)throw new Error("Frame index out of range.");return f[k]},this.decodeAndBlitFrameBGRA=function(k,j){var G=this.frameInfo(k),ae=G.width*G.height,ie=new Uint8Array(ae);JT(n,G.data_offset,ie,ae);var ue=G.palette_offset,J=G.transparent_index;J===null&&(J=256);var X=G.width,pe=t-X,oe=X,C=4*(G.y*t+G.x),W=4*((G.y+G.height)*t+G.x),z=C,V=4*pe;G.interlaced===!0&&(V+=4*t*7);for(var ee=8,de=0,ve=ie.length;de<ve;++de){var we=ie[de];if(oe===0&&(oe=X,(z+=V)>=W&&(V=4*pe+4*t*(ee-1),z=C+(X+pe)*(ee<<1),ee>>=1)),we===J)z+=4;else{var Ce=n[ue+3*we],lt=n[ue+3*we+1],he=n[ue+3*we+2];j[z++]=he,j[z++]=lt,j[z++]=Ce,j[z++]=255}--oe}},this.decodeAndBlitFrameRGBA=function(k,j){var G=this.frameInfo(k),ae=G.width*G.height,ie=new Uint8Array(ae);JT(n,G.data_offset,ie,ae);var ue=G.palette_offset,J=G.transparent_index;J===null&&(J=256);var X=G.width,pe=t-X,oe=X,C=4*(G.y*t+G.x),W=4*((G.y+G.height)*t+G.x),z=C,V=4*pe;G.interlaced===!0&&(V+=4*t*7);for(var ee=8,de=0,ve=ie.length;de<ve;++de){var we=ie[de];if(oe===0&&(oe=X,(z+=V)>=W&&(V=4*pe+4*t*(ee-1),z=C+(X+pe)*(ee<<1),ee>>=1)),we===J)z+=4;else{var Ce=n[ue+3*we],lt=n[ue+3*we+1],he=n[ue+3*we+2];j[z++]=Ce,j[z++]=lt,j[z++]=he,j[z++]=255}--oe}}}function JT(n,e,t,r){for(var i=n[e++],s=1<<i,a=s+1,o=a+1,l=i+1,c=(1<<l)-1,f=0,d=0,p=0,m=n[e++],_=new Int32Array(4096),x=null;;){for(;f<16&&m!==0;)d|=n[e++]<<f,f+=8,m===1?m=n[e++]:--m;if(f<l)break;var g=d&c;if(d>>=l,f-=l,g!==s){if(g===a)break;for(var y=g<o?g:x,A=0,E=y;E>s;)E=_[E]>>8,++A;var M=E;if(p+A+(y!==g?1:0)>r)return void kr.log("Warning, gif stream longer than expected.");t[p++]=M;var D=p+=A;for(y!==g&&(t[p++]=M),E=y;A--;)E=_[E],t[--D]=255&E,E>>=8;x!==null&&o<4096&&(_[o++]=x<<8|M,o>=c+1&&l<12&&(++l,c=c<<1|1)),x=g}else o=a+1,c=(1<<(l=i+1))-1,x=null}return p!==r&&kr.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function l_(n){var e,t,r,i,s,a=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),f=new Array(64),d=new Array(65535),p=new Array(65535),m=new Array(64),_=new Array(64),x=[],g=0,y=7,A=new Array(64),E=new Array(64),M=new Array(64),D=new Array(256),U=new Array(2048),L=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],I=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],R=[0,1,2,3,4,5,6,7,8,9,10,11],O=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],N=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],k=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],j=[0,1,2,3,4,5,6,7,8,9,10,11],G=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ae=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ie(C,W){for(var z=0,V=0,ee=new Array,de=1;de<=16;de++){for(var ve=1;ve<=C[de];ve++)ee[W[V]]=[],ee[W[V]][0]=z,ee[W[V]][1]=de,V++,z++;z*=2}return ee}function ue(C){for(var W=C[0],z=C[1]-1;z>=0;)W&1<<z&&(g|=1<<y),z--,--y<0&&(g==255?(J(255),J(0)):J(g),y=7,g=0)}function J(C){x.push(C)}function X(C){J(C>>8&255),J(255&C)}function pe(C,W,z,V,ee){for(var de,ve=ee[0],we=ee[240],Ce=function(Ve,Ie){var Ke,Et,ce,Y,Ne,$e,Qe,He,ht,Ye,Xe=0;for(ht=0;ht<8;++ht){Ke=Ve[Xe],Et=Ve[Xe+1],ce=Ve[Xe+2],Y=Ve[Xe+3],Ne=Ve[Xe+4],$e=Ve[Xe+5],Qe=Ve[Xe+6];var wt=Ke+(He=Ve[Xe+7]),We=Ke-He,Ct=Et+Qe,Pt=Et-Qe,Ht=ce+$e,It=ce-$e,Bt=Y+Ne,Ue=Y-Ne,Ft=wt+Bt,Tt=wt-Bt,Vt=Ct+Ht,At=Ct-Ht;Ve[Xe]=Ft+Vt,Ve[Xe+4]=Ft-Vt;var ot=.707106781*(At+Tt);Ve[Xe+2]=Tt+ot,Ve[Xe+6]=Tt-ot;var Ot=.382683433*((Ft=Ue+It)-(At=Pt+We)),un=.5411961*Ft+Ot,_n=1.306562965*At+Ot,An=.707106781*(Vt=It+Pt),Cr=We+An,Qt=We-An;Ve[Xe+5]=Qt+un,Ve[Xe+3]=Qt-un,Ve[Xe+1]=Cr+_n,Ve[Xe+7]=Cr-_n,Xe+=8}for(Xe=0,ht=0;ht<8;++ht){Ke=Ve[Xe],Et=Ve[Xe+8],ce=Ve[Xe+16],Y=Ve[Xe+24],Ne=Ve[Xe+32],$e=Ve[Xe+40],Qe=Ve[Xe+48];var Si=Ke+(He=Ve[Xe+56]),Kr=Ke-He,Rr=Et+Qe,cr=Et-Qe,dr=ce+$e,re=ce-$e,be=Y+Ne,ge=Y-Ne,xe=Si+be,Se=Si-be,Ee=Rr+dr,it=Rr-dr;Ve[Xe]=xe+Ee,Ve[Xe+32]=xe-Ee;var dt=.707106781*(it+Se);Ve[Xe+16]=Se+dt,Ve[Xe+48]=Se-dt;var rt=.382683433*((xe=ge+re)-(it=cr+Kr)),at=.5411961*xe+rt,ct=1.306562965*it+rt,kt=.707106781*(Ee=re+cr),Q=Kr+kt,Te=Kr-kt;Ve[Xe+40]=Te+at,Ve[Xe+24]=Te-at,Ve[Xe+8]=Q+ct,Ve[Xe+56]=Q-ct,Xe++}for(ht=0;ht<64;++ht)Ye=Ve[ht]*Ie[ht],m[ht]=Ye>0?Ye+.5|0:Ye-.5|0;return m}(C,W),lt=0;lt<64;++lt)_[L[lt]]=Ce[lt];var he=_[0]-z;z=_[0],he==0?ue(V[0]):(ue(V[p[de=32767+he]]),ue(d[de]));for(var mt=63;mt>0&&_[mt]==0;)mt--;if(mt==0)return ue(ve),z;for(var ye,Je=1;Je<=mt;){for(var q=Je;_[Je]==0&&Je<=mt;)++Je;var Re=Je-q;if(Re>=16){ye=Re>>4;for(var je=1;je<=ye;++je)ue(we);Re&=15}de=32767+_[Je],ue(ee[(Re<<4)+p[de]]),ue(d[de]),Je++}return mt!=63&&ue(ve),z}function oe(C){C=Math.min(Math.max(C,1),100),s!=C&&(function(W){for(var z=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],V=0;V<64;V++){var ee=a((z[V]*W+50)/100);ee=Math.min(Math.max(ee,1),255),o[L[V]]=ee}for(var de=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ve=0;ve<64;ve++){var we=a((de[ve]*W+50)/100);we=Math.min(Math.max(we,1),255),l[L[ve]]=we}for(var Ce=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],lt=0,he=0;he<8;he++)for(var mt=0;mt<8;mt++)c[lt]=1/(o[L[lt]]*Ce[he]*Ce[mt]*8),f[lt]=1/(l[L[lt]]*Ce[he]*Ce[mt]*8),lt++}(C<50?Math.floor(5e3/C):Math.floor(200-2*C)),s=C)}this.encode=function(C,W){W&&oe(W),x=new Array,g=0,y=7,X(65496),X(65504),X(16),J(74),J(70),J(73),J(70),J(0),J(1),J(1),J(0),X(1),X(1),J(0),J(0),function(){X(65499),X(132),J(0);for(var Et=0;Et<64;Et++)J(o[Et]);J(1);for(var ce=0;ce<64;ce++)J(l[ce])}(),function(Et,ce){X(65472),X(17),J(8),X(ce),X(Et),J(3),J(1),J(17),J(0),J(2),J(17),J(1),J(3),J(17),J(1)}(C.width,C.height),function(){X(65476),X(418),J(0);for(var Et=0;Et<16;Et++)J(I[Et+1]);for(var ce=0;ce<=11;ce++)J(R[ce]);J(16);for(var Y=0;Y<16;Y++)J(O[Y+1]);for(var Ne=0;Ne<=161;Ne++)J(N[Ne]);J(1);for(var $e=0;$e<16;$e++)J(k[$e+1]);for(var Qe=0;Qe<=11;Qe++)J(j[Qe]);J(17);for(var He=0;He<16;He++)J(G[He+1]);for(var ht=0;ht<=161;ht++)J(ae[ht])}(),X(65498),X(12),J(3),J(1),J(0),J(2),J(17),J(3),J(17),J(0),J(63),J(0);var z=0,V=0,ee=0;g=0,y=7,this.encode.displayName="_encode_";for(var de,ve,we,Ce,lt,he,mt,ye,Je,q=C.data,Re=C.width,je=C.height,Ve=4*Re,Ie=0;Ie<je;){for(de=0;de<Ve;){for(lt=Ve*Ie+de,mt=-1,ye=0,Je=0;Je<64;Je++)he=lt+(ye=Je>>3)*Ve+(mt=4*(7&Je)),Ie+ye>=je&&(he-=Ve*(Ie+1+ye-je)),de+mt>=Ve&&(he-=de+mt-Ve+4),ve=q[he++],we=q[he++],Ce=q[he++],A[Je]=(U[ve]+U[we+256>>0]+U[Ce+512>>0]>>16)-128,E[Je]=(U[ve+768>>0]+U[we+1024>>0]+U[Ce+1280>>0]>>16)-128,M[Je]=(U[ve+1280>>0]+U[we+1536>>0]+U[Ce+1792>>0]>>16)-128;z=pe(A,c,z,e,r),V=pe(E,f,V,t,i),ee=pe(M,f,ee,t,i),de+=32}Ie+=8}if(y>=0){var Ke=[];Ke[1]=y+1,Ke[0]=(1<<y+1)-1,ue(Ke)}return X(65497),new Uint8Array(x)},n=n||50,function(){for(var C=String.fromCharCode,W=0;W<256;W++)D[W]=C(W)}(),e=ie(I,R),t=ie(k,j),r=ie(O,N),i=ie(G,ae),function(){for(var C=1,W=2,z=1;z<=15;z++){for(var V=C;V<W;V++)p[32767+V]=z,d[32767+V]=[],d[32767+V][1]=z,d[32767+V][0]=V;for(var ee=-(W-1);ee<=-C;ee++)p[32767+ee]=z,d[32767+ee]=[],d[32767+ee][1]=z,d[32767+ee][0]=W-1+ee;C<<=1,W<<=1}}(),function(){for(var C=0;C<256;C++)U[C]=19595*C,U[C+256>>0]=38470*C,U[C+512>>0]=7471*C+32768,U[C+768>>0]=-11059*C,U[C+1024>>0]=-21709*C,U[C+1280>>0]=32768*C+8421375,U[C+1536>>0]=-27439*C,U[C+1792>>0]=-5329*C}(),oe(n)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ko(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function ZT(n){function e(I){if(!I)throw Error("assert :P")}function t(I,R,O){for(var N=0;4>N;N++)if(I[R+N]!=O.charCodeAt(N))return!0;return!1}function r(I,R,O,N,k){for(var j=0;j<k;j++)I[R+j]=O[N+j]}function i(I,R,O,N){for(var k=0;k<N;k++)I[R+k]=O}function s(I){return new Int32Array(I)}function a(I,R){for(var O=[],N=0;N<I;N++)O.push(new R);return O}function o(I,R){var O=[];return function N(k,j,G){for(var ae=G[j],ie=0;ie<ae&&(k.push(G.length>j+1?[]:new R),!(G.length<j+1));ie++)N(k[ie],j+1,G)}(O,0,I),O}var l=function(){var I=this;function R(w,S){for(var F=1<<S-1>>>0;w&F;)F>>>=1;return F?(w&F-1)+F:w}function O(w,S,F,H,K){e(!(H%F));do w[S+(H-=F)]=K;while(0<H)}function N(w,S,F,H,K){if(e(2328>=K),512>=K)var te=s(512);else if((te=s(K))==null)return 0;return function(se,le,fe,_e,De,tt){var nt,qe,Mt=le,pt=1<<fe,Be=s(16),ze=s(16);for(e(De!=0),e(_e!=null),e(se!=null),e(0<fe),qe=0;qe<De;++qe){if(15<_e[qe])return 0;++Be[_e[qe]]}if(Be[0]==De)return 0;for(ze[1]=0,nt=1;15>nt;++nt){if(Be[nt]>1<<nt)return 0;ze[nt+1]=ze[nt]+Be[nt]}for(qe=0;qe<De;++qe)nt=_e[qe],0<_e[qe]&&(tt[ze[nt]++]=qe);if(ze[15]==1)return(_e=new k).g=0,_e.value=tt[0],O(se,Mt,1,pt,_e),pt;var yt,_t=-1,bt=pt-1,Jt=0,Wt=1,fn=1,qt=1<<fe;for(qe=0,nt=1,De=2;nt<=fe;++nt,De<<=1){if(Wt+=fn<<=1,0>(fn-=Be[nt]))return 0;for(;0<Be[nt];--Be[nt])(_e=new k).g=nt,_e.value=tt[qe++],O(se,Mt+Jt,De,qt,_e),Jt=R(Jt,nt)}for(nt=fe+1,De=2;15>=nt;++nt,De<<=1){if(Wt+=fn<<=1,0>(fn-=Be[nt]))return 0;for(;0<Be[nt];--Be[nt]){if(_e=new k,(Jt&bt)!=_t){for(Mt+=qt,yt=1<<(_t=nt)-fe;15>_t&&!(0>=(yt-=Be[_t]));)++_t,yt<<=1;pt+=qt=1<<(yt=_t-fe),se[le+(_t=Jt&bt)].g=yt+fe,se[le+_t].value=Mt-le-_t}_e.g=nt-fe,_e.value=tt[qe++],O(se,Mt+(Jt>>fe),De,qt,_e),Jt=R(Jt,nt)}}return Wt!=2*ze[15]-1?0:pt}(w,S,F,H,K,te)}function k(){this.value=this.g=0}function j(){this.value=this.g=0}function G(){this.G=a(5,k),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(Wr,j)}function ae(w,S,F,H){e(w!=null),e(S!=null),e(2147483648>H),w.Ca=254,w.I=0,w.b=-8,w.Ka=0,w.oa=S,w.pa=F,w.Jd=S,w.Yc=F+H,w.Zc=4<=H?F+H-4+1:F,de(w)}function ie(w,S){for(var F=0;0<S--;)F|=we(w,128)<<S;return F}function ue(w,S){var F=ie(w,S);return ve(w)?-F:F}function J(w,S,F,H){var K,te=0;for(e(w!=null),e(S!=null),e(4294967288>H),w.Sb=H,w.Ra=0,w.u=0,w.h=0,4<H&&(H=4),K=0;K<H;++K)te+=S[F+K]<<8*K;w.Ra=te,w.bb=H,w.oa=S,w.pa=F}function X(w){for(;8<=w.u&&w.bb<w.Sb;)w.Ra>>>=8,w.Ra+=w.oa[w.pa+w.bb]<<hu-8>>>0,++w.bb,w.u-=8;z(w)&&(w.h=1,w.u=0)}function pe(w,S){if(e(0<=S),!w.h&&S<=fu){var F=W(w)&uu[S];return w.u+=S,X(w),F}return w.h=1,w.u=0}function oe(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function C(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function W(w){return w.Ra>>>(w.u&hu-1)>>>0}function z(w){return e(w.bb<=w.Sb),w.h||w.bb==w.Sb&&w.u>hu}function V(w,S){w.u=S,w.h=z(w)}function ee(w){w.u>=du&&(e(w.u>=du),X(w))}function de(w){e(w!=null&&w.oa!=null),w.pa<w.Zc?(w.I=(w.oa[w.pa++]|w.I<<8)>>>0,w.b+=8):(e(w!=null&&w.oa!=null),w.pa<w.Yc?(w.b+=8,w.I=w.oa[w.pa++]|w.I<<8):w.Ka?w.b=0:(w.I<<=8,w.b+=8,w.Ka=1))}function ve(w){return ie(w,1)}function we(w,S){var F=w.Ca;0>w.b&&de(w);var H=w.b,K=F*S>>>8,te=(w.I>>>H>K)+0;for(te?(F-=K,w.I-=K+1<<H>>>0):F=K+1,H=F,K=0;256<=H;)K+=8,H>>=8;return H=7^K+ns[H],w.b-=H,w.Ca=(F<<H)-1,te}function Ce(w,S,F){w[S+0]=F>>24&255,w[S+1]=F>>16&255,w[S+2]=F>>8&255,w[S+3]=F>>0&255}function lt(w,S){return w[S+0]<<0|w[S+1]<<8}function he(w,S){return lt(w,S)|w[S+2]<<16}function mt(w,S){return lt(w,S)|lt(w,S+2)<<16}function ye(w,S){var F=1<<S;return e(w!=null),e(0<S),w.X=s(F),w.X==null?0:(w.Mb=32-S,w.Xa=S,1)}function Je(w,S){e(w!=null),e(S!=null),e(w.Xa==S.Xa),r(S.X,0,w.X,0,1<<S.Xa)}function q(){this.X=[],this.Xa=this.Mb=0}function Re(w,S,F,H){e(F!=null),e(H!=null);var K=F[0],te=H[0];return K==0&&(K=(w*te+S/2)/S),te==0&&(te=(S*K+w/2)/w),0>=K||0>=te?0:(F[0]=K,H[0]=te,1)}function je(w,S){return w+(1<<S)-1>>>S}function Ve(w,S){return((4278255360&w)+(4278255360&S)>>>0&4278255360)+((16711935&w)+(16711935&S)>>>0&16711935)>>>0}function Ie(w,S){I[S]=function(F,H,K,te,se,le,fe){var _e;for(_e=0;_e<se;++_e){var De=I[w](le[fe+_e-1],K,te+_e);le[fe+_e]=Ve(F[H+_e],De)}}}function Ke(){this.ud=this.hd=this.jd=0}function Et(w,S){return((4278124286&(w^S))>>>1)+(w&S)>>>0}function ce(w){return 0<=w&&256>w?w:0>w?0:255<w?255:void 0}function Y(w,S){return ce(w+(w-S+.5>>1))}function Ne(w,S,F){return Math.abs(S-F)-Math.abs(w-F)}function $e(w,S,F,H,K,te,se){for(H=te[se-1],F=0;F<K;++F)te[se+F]=H=Ve(w[S+F],H)}function Qe(w,S,F,H,K){var te;for(te=0;te<F;++te){var se=w[S+te],le=se>>8&255,fe=16711935&(fe=(fe=16711935&se)+((le<<16)+le));H[K+te]=(4278255360&se)+fe>>>0}}function He(w,S){S.jd=w>>0&255,S.hd=w>>8&255,S.ud=w>>16&255}function ht(w,S,F,H,K,te){var se;for(se=0;se<H;++se){var le=S[F+se],fe=le>>>8,_e=le,De=255&(De=(De=le>>>16)+((w.jd<<24>>24)*(fe<<24>>24)>>>5));_e=255&(_e=(_e=_e+((w.hd<<24>>24)*(fe<<24>>24)>>>5))+((w.ud<<24>>24)*(De<<24>>24)>>>5)),K[te+se]=(4278255360&le)+(De<<16)+_e}}function Ye(w,S,F,H,K){I[S]=function(te,se,le,fe,_e,De,tt,nt,qe){for(fe=tt;fe<nt;++fe)for(tt=0;tt<qe;++tt)_e[De++]=K(le[H(te[se++])])},I[w]=function(te,se,le,fe,_e,De,tt){var nt=8>>te.b,qe=te.Ea,Mt=te.K[0],pt=te.w;if(8>nt)for(te=(1<<te.b)-1,pt=(1<<nt)-1;se<le;++se){var Be,ze=0;for(Be=0;Be<qe;++Be)Be&te||(ze=H(fe[_e++])),De[tt++]=K(Mt[ze&pt]),ze>>=nt}else I["VP8LMapColor"+F](fe,_e,Mt,pt,De,tt,se,le,qe)}}function Xe(w,S,F,H,K){for(F=S+F;S<F;){var te=w[S++];H[K++]=te>>16&255,H[K++]=te>>8&255,H[K++]=te>>0&255}}function wt(w,S,F,H,K){for(F=S+F;S<F;){var te=w[S++];H[K++]=te>>16&255,H[K++]=te>>8&255,H[K++]=te>>0&255,H[K++]=te>>24&255}}function We(w,S,F,H,K){for(F=S+F;S<F;){var te=(se=w[S++])>>16&240|se>>12&15,se=se>>0&240|se>>28&15;H[K++]=te,H[K++]=se}}function Ct(w,S,F,H,K){for(F=S+F;S<F;){var te=(se=w[S++])>>16&248|se>>13&7,se=se>>5&224|se>>3&31;H[K++]=te,H[K++]=se}}function Pt(w,S,F,H,K){for(F=S+F;S<F;){var te=w[S++];H[K++]=te>>0&255,H[K++]=te>>8&255,H[K++]=te>>16&255}}function Ht(w,S,F,H,K,te){if(te==0)for(F=S+F;S<F;)Ce(H,((te=w[S++])[0]>>24|te[1]>>8&65280|te[2]<<8&16711680|te[3]<<24)>>>0),K+=32;else r(H,K,w,S,F)}function It(w,S){I[S][0]=I[w+"0"],I[S][1]=I[w+"1"],I[S][2]=I[w+"2"],I[S][3]=I[w+"3"],I[S][4]=I[w+"4"],I[S][5]=I[w+"5"],I[S][6]=I[w+"6"],I[S][7]=I[w+"7"],I[S][8]=I[w+"8"],I[S][9]=I[w+"9"],I[S][10]=I[w+"10"],I[S][11]=I[w+"11"],I[S][12]=I[w+"12"],I[S][13]=I[w+"13"],I[S][14]=I[w+"0"],I[S][15]=I[w+"0"]}function Bt(w){return w==_u||w==pc||w==zf||w==Hf}function Ue(){this.eb=[],this.size=this.A=this.fb=0}function Ft(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Tt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ue,this.f.kb=new Ft,this.sd=null}function Vt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function At(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ot(w){return alert("todo:WebPSamplerProcessPlane"),w.T}function Ot(w,S){var F=w.T,H=S.ba.f.RGBA,K=H.eb,te=H.fb+w.ka*H.A,se=xs[S.ba.S],le=w.y,fe=w.O,_e=w.f,De=w.N,tt=w.ea,nt=w.W,qe=S.cc,Mt=S.dc,pt=S.Mc,Be=S.Nc,ze=w.ka,yt=w.ka+w.T,_t=w.U,bt=_t+1>>1;for(ze==0?se(le,fe,null,null,_e,De,tt,nt,_e,De,tt,nt,K,te,null,null,_t):(se(S.ec,S.fc,le,fe,qe,Mt,pt,Be,_e,De,tt,nt,K,te-H.A,K,te,_t),++F);ze+2<yt;ze+=2)qe=_e,Mt=De,pt=tt,Be=nt,De+=w.Rc,nt+=w.Rc,te+=2*H.A,se(le,(fe+=2*w.fa)-w.fa,le,fe,qe,Mt,pt,Be,_e,De,tt,nt,K,te-H.A,K,te,_t);return fe+=w.fa,w.j+yt<w.o?(r(S.ec,S.fc,le,fe,_t),r(S.cc,S.dc,_e,De,bt),r(S.Mc,S.Nc,tt,nt,bt),F--):1&yt||se(le,fe,null,null,_e,De,tt,nt,_e,De,tt,nt,K,te+H.A,null,null,_t),F}function un(w,S,F){var H=w.F,K=[w.J];if(H!=null){var te=w.U,se=S.ba.S,le=se==Bf||se==zf;S=S.ba.f.RGBA;var fe=[0],_e=w.ka;fe[0]=w.T,w.Kb&&(_e==0?--fe[0]:(--_e,K[0]-=w.width),w.j+w.ka+w.T==w.o&&(fe[0]=w.o-w.j-_e));var De=S.eb;_e=S.fb+_e*S.A,w=ur(H,K[0],w.width,te,fe,De,_e+(le?0:3),S.A),e(F==fe),w&&Bt(se)&&ms(De,_e,le,te,fe,S.A)}return 0}function _n(w){var S=w.ma,F=S.ba.S,H=11>F,K=F==Tl||F==Uf||F==Bf||F==wr||F==12||Bt(F);if(S.memory=null,S.Ib=null,S.Jb=null,S.Nd=null,!lu(S.Oa,w,K?11:12))return 0;if(K&&Bt(F)&&Lt(),w.da)alert("todo:use_scaling");else{if(H){if(S.Ib=ot,w.Kb){if(F=w.U+1>>1,S.memory=s(w.U+2*F),S.memory==null)return 0;S.ec=S.memory,S.fc=0,S.cc=S.ec,S.dc=S.fc+w.U,S.Mc=S.cc,S.Nc=S.dc+F,S.Ib=Ot,Lt()}}else alert("todo:EmitYUV");K&&(S.Jb=un,H&&et())}if(H&&!Li){for(w=0;256>w;++w)vs[w]=89858*(w-128)+za>>Io,_s[w]=-22014*(w-128)+za,Su[w]=-45773*(w-128),vc[w]=113618*(w-128)+za>>Io;for(w=fr;w<mr;++w)S=76283*(w-16)+za>>Io,ud[w-fr]=Xs(S,255),Gm[w-fr]=Xs(S+8>>4,15);Li=1}return 1}function An(w){var S=w.ma,F=w.U,H=w.T;return e(!(1&w.ka)),0>=F||0>=H?0:(F=S.Ib(w,S),S.Jb!=null&&S.Jb(w,S,F),S.Dc+=F,1)}function Cr(w){w.ma.memory=null}function Qt(w,S,F,H){return pe(w,8)!=47?0:(S[0]=pe(w,14)+1,F[0]=pe(w,14)+1,H[0]=pe(w,1),pe(w,3)!=0?0:!w.h)}function Si(w,S){if(4>w)return w+1;var F=w-2>>1;return(2+(1&w)<<F)+pe(S,F)+1}function Kr(w,S){return 120<S?S-120:1<=(F=((F=_v[S-1])>>4)*w+(8-(15&F)))?F:1;var F}function Rr(w,S,F){var H=W(F),K=w[S+=255&H].g-8;return 0<K&&(V(F,F.u+8),H=W(F),S+=w[S].value,S+=H&(1<<K)-1),V(F,F.u+w[S].g),w[S].value}function cr(w,S,F){return F.g+=w.g,F.value+=w.value<<S>>>0,e(8>=F.g),w.g}function dr(w,S,F){var H=w.xc;return e((S=H==0?0:w.vc[w.md*(F>>H)+(S>>H)])<w.Wb),w.Ya[S]}function re(w,S,F,H){var K=w.ab,te=w.c*S,se=w.C;S=se+S;var le=F,fe=H;for(H=w.Ta,F=w.Ua;0<K--;){var _e=w.gc[K],De=se,tt=S,nt=le,qe=fe,Mt=(fe=H,le=F,_e.Ea);switch(e(De<tt),e(tt<=_e.nc),_e.hc){case 2:sd(nt,qe,(tt-De)*Mt,fe,le);break;case 0:var pt=De,Be=tt,ze=fe,yt=le,_t=(qt=_e).Ea;pt==0&&(lc(nt,qe,null,null,1,ze,yt),$e(nt,qe+1,0,0,_t-1,ze,yt+1),qe+=_t,yt+=_t,++pt);for(var bt=1<<qt.b,Jt=bt-1,Wt=je(_t,qt.b),fn=qt.K,qt=qt.w+(pt>>qt.b)*Wt;pt<Be;){var Yn=fn,Kn=qt,qn=1;for(Co(nt,qe,ze,yt-_t,1,ze,yt);qn<_t;){var Ln=(qn&~Jt)+bt;Ln>_t&&(Ln=_t),(0,io[Yn[Kn++]>>8&15])(nt,qe+ +qn,ze,yt+qn-_t,Ln-qn,ze,yt+qn),qn=Ln}qe+=_t,yt+=_t,++pt&Jt||(qt+=Wt)}tt!=_e.nc&&r(fe,le-Mt,fe,le+(tt-De-1)*Mt,Mt);break;case 1:for(Mt=nt,Be=qe,_t=(nt=_e.Ea)-(yt=nt&~(ze=(qe=1<<_e.b)-1)),pt=je(nt,_e.b),bt=_e.K,_e=_e.w+(De>>_e.b)*pt;De<tt;){for(Jt=bt,Wt=_e,fn=new Ke,qt=Be+yt,Yn=Be+nt;Be<qt;)He(Jt[Wt++],fn),Sl(fn,Mt,Be,qe,fe,le),Be+=qe,le+=qe;Be<Yn&&(He(Jt[Wt++],fn),Sl(fn,Mt,Be,_t,fe,le),Be+=_t,le+=_t),++De&ze||(_e+=pt)}break;case 3:if(nt==fe&&qe==le&&0<_e.b){for(Be=fe,nt=Mt=le+(tt-De)*Mt-(yt=(tt-De)*je(_e.Ea,_e.b)),qe=fe,ze=le,pt=[],yt=(_t=yt)-1;0<=yt;--yt)pt[yt]=qe[ze+yt];for(yt=_t-1;0<=yt;--yt)Be[nt+yt]=pt[yt];rs(_e,De,tt,fe,Mt,fe,le)}else rs(_e,De,tt,nt,qe,fe,le)}le=H,fe=F}fe!=F&&r(H,F,le,fe,te)}function be(w,S){var F=w.V,H=w.Ba+w.c*w.C,K=S-w.C;if(e(S<=w.l.o),e(16>=K),0<K){var te=w.l,se=w.Ta,le=w.Ua,fe=te.width;if(re(w,K,F,H),K=le=[le],e((F=w.C)<(H=S)),e(te.v<te.va),H>te.o&&(H=te.o),F<te.j){var _e=te.j-F;F=te.j,K[0]+=_e*fe}if(F>=H?F=0:(K[0]+=4*te.v,te.ka=F-te.j,te.U=te.va-te.v,te.T=H-F,F=1),F){if(le=le[0],11>(F=w.ca).S){var De=F.f.RGBA,tt=(H=F.S,K=te.U,te=te.T,_e=De.eb,De.A),nt=te;for(De=De.fb+w.Ma*De.A;0<nt--;){var qe=se,Mt=le,pt=K,Be=_e,ze=De;switch(H){case ad:is(qe,Mt,pt,Be,ze);break;case Tl:Vi(qe,Mt,pt,Be,ze);break;case _u:Vi(qe,Mt,pt,Be,ze),ms(Be,ze,0,pt,1,0);break;case zm:ko(qe,Mt,pt,Be,ze);break;case Uf:Ht(qe,Mt,pt,Be,ze,1);break;case pc:Ht(qe,Mt,pt,Be,ze,1),ms(Be,ze,0,pt,1,0);break;case Bf:Ht(qe,Mt,pt,Be,ze,0);break;case zf:Ht(qe,Mt,pt,Be,ze,0),ms(Be,ze,1,pt,1,0);break;case wr:El(qe,Mt,pt,Be,ze);break;case Hf:El(qe,Mt,pt,Be,ze),yr(Be,ze,pt,1,0);break;case od:Po(qe,Mt,pt,Be,ze);break;default:e(0)}le+=fe,De+=tt}w.Ma+=te}else alert("todo:EmitRescaledRowsYUVA");e(w.Ma<=F.height)}}w.C=S,e(w.C<=w.i)}function ge(w){var S;if(0<w.ua)return 0;for(S=0;S<w.Wb;++S){var F=w.Ya[S].G,H=w.Ya[S].H;if(0<F[1][H[1]+0].g||0<F[2][H[2]+0].g||0<F[3][H[3]+0].g)return 0}return 1}function xe(w,S,F,H,K,te){if(w.Z!=0){var se=w.qd,le=w.rd;for(e(Gi[w.Z]!=null);S<F;++S)Gi[w.Z](se,le,H,K,H,K,te),se=H,le=K,K+=te;w.qd=se,w.rd=le}}function Se(w,S){var F=w.l.ma,H=F.Z==0||F.Z==1?w.l.j:w.C;if(H=w.C<H?H:w.C,e(S<=w.l.o),S>H){var K=w.l.width,te=F.ca,se=F.tb+K*H,le=w.V,fe=w.Ba+w.c*H,_e=w.gc;e(w.ab==1),e(_e[0].hc==3),Df(_e[0],H,S,le,fe,te,se),xe(F,H,S,te,se,K)}w.C=w.Ma=S}function Ee(w,S,F,H,K,te,se){var le=w.$/H,fe=w.$%H,_e=w.m,De=w.s,tt=F+w.$,nt=tt;K=F+H*K;var qe=F+H*te,Mt=280+De.ua,pt=w.Pb?le:16777216,Be=0<De.ua?De.Wa:null,ze=De.wc,yt=tt<qe?dr(De,fe,le):null;e(w.C<te),e(qe<=K);var _t=!1;e:for(;;){for(;_t||tt<qe;){var bt=0;if(le>=pt){var Jt=tt-F;e((pt=w).Pb),pt.wd=pt.m,pt.xd=Jt,0<pt.s.ua&&Je(pt.s.Wa,pt.s.vb),pt=le+cd}if(fe&ze||(yt=dr(De,fe,le)),e(yt!=null),yt.Qb&&(S[tt]=yt.qb,_t=!0),!_t)if(ee(_e),yt.jc){bt=_e,Jt=S;var Wt=tt,fn=yt.pd[W(bt)&Wr-1];e(yt.jc),256>fn.g?(V(bt,bt.u+fn.g),Jt[Wt]=fn.value,bt=0):(V(bt,bt.u+fn.g-256),e(256<=fn.value),bt=fn.value),bt==0&&(_t=!0)}else bt=Rr(yt.G[0],yt.H[0],_e);if(_e.h)break;if(_t||256>bt){if(!_t)if(yt.nd)S[tt]=(yt.qb|bt<<8)>>>0;else{if(ee(_e),_t=Rr(yt.G[1],yt.H[1],_e),ee(_e),Jt=Rr(yt.G[2],yt.H[2],_e),Wt=Rr(yt.G[3],yt.H[3],_e),_e.h)break;S[tt]=(Wt<<24|_t<<16|bt<<8|Jt)>>>0}if(_t=!1,++tt,++fe>=H&&(fe=0,++le,se!=null&&le<=te&&!(le%16)&&se(w,le),Be!=null))for(;nt<tt;)bt=S[nt++],Be.X[(506832829*bt&4294967295)>>>Be.Mb]=bt}else if(280>bt){if(bt=Si(bt-256,_e),Jt=Rr(yt.G[4],yt.H[4],_e),ee(_e),Jt=Kr(H,Jt=Si(Jt,_e)),_e.h)break;if(tt-F<Jt||K-tt<bt)break e;for(Wt=0;Wt<bt;++Wt)S[tt+Wt]=S[tt+Wt-Jt];for(tt+=bt,fe+=bt;fe>=H;)fe-=H,++le,se!=null&&le<=te&&!(le%16)&&se(w,le);if(e(tt<=K),fe&ze&&(yt=dr(De,fe,le)),Be!=null)for(;nt<tt;)bt=S[nt++],Be.X[(506832829*bt&4294967295)>>>Be.Mb]=bt}else{if(!(bt<Mt))break e;for(_t=bt-280,e(Be!=null);nt<tt;)bt=S[nt++],Be.X[(506832829*bt&4294967295)>>>Be.Mb]=bt;bt=tt,e(!(_t>>>(Jt=Be).Xa)),S[bt]=Jt.X[_t],_t=!0}_t||e(_e.h==z(_e))}if(w.Pb&&_e.h&&tt<K)e(w.m.h),w.a=5,w.m=w.wd,w.$=w.xd,0<w.s.ua&&Je(w.s.vb,w.s.Wa);else{if(_e.h)break e;se!=null&&se(w,le>te?te:le),w.a=0,w.$=tt-F}return 1}return w.a=3,0}function it(w){e(w!=null),w.vc=null,w.yc=null,w.Ya=null;var S=w.Wa;S!=null&&(S.X=null),w.vb=null,e(w!=null)}function dt(){var w=new H0;return w==null?null:(w.a=0,w.xb=wu,It("Predictor","VP8LPredictors"),It("Predictor","VP8LPredictors_C"),It("PredictorAdd","VP8LPredictorsAdd"),It("PredictorAdd","VP8LPredictorsAdd_C"),sd=Qe,Sl=ht,is=Xe,Vi=wt,El=We,Po=Ct,ko=Pt,I.VP8LMapColor32b=pu,I.VP8LMapColor8b=mu,w)}function rt(w,S,F,H,K){var te=1,se=[w],le=[S],fe=H.m,_e=H.s,De=null,tt=0;e:for(;;){if(F)for(;te&&pe(fe,1);){var nt=se,qe=le,Mt=H,pt=1,Be=Mt.m,ze=Mt.gc[Mt.ab],yt=pe(Be,2);if(Mt.Oc&1<<yt)te=0;else{switch(Mt.Oc|=1<<yt,ze.hc=yt,ze.Ea=nt[0],ze.nc=qe[0],ze.K=[null],++Mt.ab,e(4>=Mt.ab),yt){case 0:case 1:ze.b=pe(Be,3)+2,pt=rt(je(ze.Ea,ze.b),je(ze.nc,ze.b),0,Mt,ze.K),ze.K=ze.K[0];break;case 3:var _t,bt=pe(Be,8)+1,Jt=16<bt?0:4<bt?1:2<bt?2:3;if(nt[0]=je(ze.Ea,Jt),ze.b=Jt,_t=pt=rt(bt,1,0,Mt,ze.K)){var Wt,fn=bt,qt=ze,Yn=1<<(8>>qt.b),Kn=s(Yn);if(Kn==null)_t=0;else{var qn=qt.K[0],Ln=qt.w;for(Kn[0]=qt.K[0][0],Wt=1;Wt<1*fn;++Wt)Kn[Wt]=Ve(qn[Ln+Wt],Kn[Wt-1]);for(;Wt<4*Yn;++Wt)Kn[Wt]=0;qt.K[0]=null,qt.K[0]=Kn,_t=1}}pt=_t;break;case 2:break;default:e(0)}te=pt}}if(se=se[0],le=le[0],te&&pe(fe,1)&&!(te=1<=(tt=pe(fe,4))&&11>=tt)){H.a=3;break e}var hr;if(hr=te)t:{var gr,wn,Or,os=H,Qr=se,pi=le,rr=tt,qi=F,Xi=os.m,Ur=os.s,mi=[null],Ni=1,ys=0,ga=jm[rr];n:for(;;){if(qi&&pe(Xi,1)){var Br=pe(Xi,3)+2,ii=je(Qr,Br),Ks=je(pi,Br),Pl=ii*Ks;if(!rt(ii,Ks,0,os,mi))break n;for(mi=mi[0],Ur.xc=Br,gr=0;gr<Pl;++gr){var Uo=mi[gr]>>8&65535;mi[gr]=Uo,Uo>=Ni&&(Ni=Uo+1)}}if(Xi.h)break n;for(wn=0;5>wn;++wn){var ir=mc[wn];!wn&&0<rr&&(ir+=1<<rr),ys<ir&&(ys=ir)}var co=a(Ni*ga,k),fd=Ni,X0=a(fd,G);if(X0==null)var xa=null;else e(65536>=fd),xa=X0;var va=s(ys);if(xa==null||va==null||co==null){os.a=1;break n}var yc=co;for(gr=Or=0;gr<Ni;++gr){var _a=xa[gr],Bo=_a.G,wc=_a.H,Eu=0,Js=1,Au=0;for(wn=0;5>wn;++wn){ir=mc[wn],Bo[wn]=yc,wc[wn]=Or,!wn&&0<rr&&(ir+=1<<rr);i:{var kl,zo=ir,Tu=os,uo=va,Xm=yc,$0=Or,Pr=0,Ha=Tu.m,Y0=pe(Ha,1);if(i(uo,0,0,zo),Y0){var K0=pe(Ha,1)+1,hd=pe(Ha,1),dd=pe(Ha,hd==0?1:8);uo[dd]=1,K0==2&&(uo[dd=pe(Ha,8)]=1);var fo=1}else{var Lr=s(19),si=pe(Ha,4)+4;if(19<si){Tu.a=3;var ei=0;break i}for(kl=0;kl<si;++kl)Lr[vv[kl]]=pe(Ha,3);var Mu=void 0,Ho=void 0,Cu=Tu,Ev=Lr,gi=zo,pd=uo,qf=0,ho=Cu.m,ja=8,Zs=a(128,k);r:for(;N(Zs,0,7,Ev,19);){if(pe(ho,1)){var Xf=2+2*pe(ho,3);if((Mu=2+pe(ho,Xf))>gi)break r}else Mu=gi;for(Ho=0;Ho<gi&&Mu--;){ee(ho);var md=Zs[0+(127&W(ho))];V(ho,ho.u+md.g);var Rl=md.value;if(16>Rl)pd[Ho++]=Rl,Rl!=0&&(ja=Rl);else{var $m=Rl==16,J0=Rl-16,Ym=ld[J0],Z0=pe(ho,jf[J0])+Ym;if(Ho+Z0>gi)break r;for(var Km=$m?ja:0;0<Z0--;)pd[Ho++]=Km}}qf=1;break r}qf||(Cu.a=3),fo=qf}(fo=fo&&!Ha.h)&&(Pr=N(Xm,$0,8,uo,zo)),fo&&Pr!=0?ei=Pr:(Tu.a=3,ei=0)}if(ei==0)break n;if(Js&&Hm[wn]==1&&(Js=yc[Or].g==0),Eu+=yc[Or].g,Or+=ei,3>=wn){var Pu,gd=va[0];for(Pu=1;Pu<ir;++Pu)va[Pu]>gd&&(gd=va[Pu]);Au+=gd}}if(_a.nd=Js,_a.Qb=0,Js&&(_a.qb=(Bo[3][wc[3]+0].value<<24|Bo[1][wc[1]+0].value<<16|Bo[2][wc[2]+0].value)>>>0,Eu==0&&256>Bo[0][wc[0]+0].value&&(_a.Qb=1,_a.qb+=Bo[0][wc[0]+0].value<<8)),_a.jc=!_a.Qb&&6>Au,_a.jc){var $f,Qs=_a;for($f=0;$f<Wr;++$f){var jo=$f,Va=Qs.pd[jo],bc=Qs.G[0][Qs.H[0]+jo];256<=bc.value?(Va.g=bc.g+256,Va.value=bc.value):(Va.g=0,Va.value=0,jo>>=cr(bc,8,Va),jo>>=cr(Qs.G[1][Qs.H[1]+jo],16,Va),jo>>=cr(Qs.G[2][Qs.H[2]+jo],0,Va),cr(Qs.G[3][Qs.H[3]+jo],24,Va))}}}Ur.vc=mi,Ur.Wb=Ni,Ur.Ya=xa,Ur.yc=co,hr=1;break t}hr=0}if(!(te=hr)){H.a=3;break e}if(0<tt){if(_e.ua=1<<tt,!ye(_e.Wa,tt)){H.a=1,te=0;break e}}else _e.ua=0;var xd=H,vd=se,Jm=le,_d=xd.s,yd=_d.xc;if(xd.c=vd,xd.i=Jm,_d.md=je(vd,yd),_d.wc=yd==0?-1:(1<<yd)-1,F){H.xb=lo;break e}if((De=s(se*le))==null){H.a=1,te=0;break e}te=(te=Ee(H,De,0,se,le,le,null))&&!fe.h;break e}return te?(K!=null?K[0]=De:(e(De==null),e(F)),H.$=0,F||it(_e)):it(_e),te}function at(w,S){var F=w.c*w.i,H=F+S+16*S;return e(w.c<=S),w.V=s(H),w.V==null?(w.Ta=null,w.Ua=0,w.a=1,0):(w.Ta=w.V,w.Ua=w.Ba+F+S,1)}function ct(w,S){var F=w.C,H=S-F,K=w.V,te=w.Ba+w.c*F;for(e(S<=w.l.o);0<H;){var se=16<H?16:H,le=w.l.ma,fe=w.l.width,_e=fe*se,De=le.ca,tt=le.tb+fe*F,nt=w.Ta,qe=w.Ua;re(w,se,K,te),Gr(nt,qe,De,tt,_e),xe(le,F,F+se,De,tt,fe),H-=se,K+=se*w.c,F+=se}e(F==S),w.C=w.Ma=S}function kt(){this.ub=this.yd=this.td=this.Rb=0}function Q(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Te(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function ke(){this.Yb=function(){var w=[];return function S(F,H,K){for(var te=K[H],se=0;se<te&&(F.push(K.length>H+1?[]:0),!(K.length<H+1));se++)S(F[se],H+1,K)}(w,0,[3,11]),w}()}function Pe(){this.jb=s(3),this.Wc=o([4,8],ke),this.Xc=o([4,17],ke)}function Le(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function St(){this.ld=this.La=this.dd=this.tc=0}function Rt(){this.Na=this.la=0}function jt(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Xt(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function on(){this.uc=this.M=this.Nb=0,this.wa=Array(new St),this.Y=0,this.ya=Array(new Xt),this.aa=0,this.l=new yn}function rn(){this.y=s(16),this.f=s(8),this.ea=s(8)}function $t(){this.cb=this.a=0,this.sc="",this.m=new oe,this.Od=new kt,this.Kc=new Q,this.ed=new Le,this.Qa=new Te,this.Ic=this.$c=this.Aa=0,this.D=new on,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,oe),this.ia=0,this.pb=a(4,jt),this.Pa=new Pe,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new rn),this.Hd=0,this.rb=Array(new Rt),this.sb=0,this.wa=Array(new St),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Xt),this.L=this.aa=0,this.gd=o([4,2],St),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function yn(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function hn(){var w=new $t;return w!=null&&(w.a=0,w.sc="OK",w.cb=0,w.Xb=0,gc||(gc=an)),w}function Sn(w,S,F){return w.a==0&&(w.a=S,w.sc=F,w.cb=0),0}function _r(w,S,F){return 3<=F&&w[S+0]==157&&w[S+1]==1&&w[S+2]==42}function Bn(w,S){if(w==null)return 0;if(w.a=0,w.sc="OK",S==null)return Sn(w,2,"null VP8Io passed to VP8GetHeaders()");var F=S.data,H=S.w,K=S.ha;if(4>K)return Sn(w,7,"Truncated header.");var te=F[H+0]|F[H+1]<<8|F[H+2]<<16,se=w.Od;if(se.Rb=!(1&te),se.td=te>>1&7,se.yd=te>>4&1,se.ub=te>>5,3<se.td)return Sn(w,3,"Incorrect keyframe parameters.");if(!se.yd)return Sn(w,4,"Frame not displayable.");H+=3,K-=3;var le=w.Kc;if(se.Rb){if(7>K)return Sn(w,7,"cannot parse picture header");if(!_r(F,H,K))return Sn(w,3,"Bad code word");le.c=16383&(F[H+4]<<8|F[H+3]),le.Td=F[H+4]>>6,le.i=16383&(F[H+6]<<8|F[H+5]),le.Ud=F[H+6]>>6,H+=7,K-=7,w.za=le.c+15>>4,w.Ub=le.i+15>>4,S.width=le.c,S.height=le.i,S.Da=0,S.j=0,S.v=0,S.va=S.width,S.o=S.height,S.da=0,S.ib=S.width,S.hb=S.height,S.U=S.width,S.T=S.height,i((te=w.Pa).jb,0,255,te.jb.length),e((te=w.Qa)!=null),te.Cb=0,te.Bb=0,te.Fb=1,i(te.Zb,0,0,te.Zb.length),i(te.Lb,0,0,te.Lb)}if(se.ub>K)return Sn(w,7,"bad partition length");ae(te=w.m,F,H,se.ub),H+=se.ub,K-=se.ub,se.Rb&&(le.Ld=ve(te),le.Kd=ve(te)),le=w.Qa;var fe,_e=w.Pa;if(e(te!=null),e(le!=null),le.Cb=ve(te),le.Cb){if(le.Bb=ve(te),ve(te)){for(le.Fb=ve(te),fe=0;4>fe;++fe)le.Zb[fe]=ve(te)?ue(te,7):0;for(fe=0;4>fe;++fe)le.Lb[fe]=ve(te)?ue(te,6):0}if(le.Bb)for(fe=0;3>fe;++fe)_e.jb[fe]=ve(te)?ie(te,8):255}else le.Bb=0;if(te.Ka)return Sn(w,3,"cannot parse segment header");if((le=w.ed).zd=ve(te),le.Tb=ie(te,6),le.wb=ie(te,3),le.Pc=ve(te),le.Pc&&ve(te)){for(_e=0;4>_e;++_e)ve(te)&&(le.vd[_e]=ue(te,6));for(_e=0;4>_e;++_e)ve(te)&&(le.od[_e]=ue(te,6))}if(w.L=le.Tb==0?0:le.zd?1:2,te.Ka)return Sn(w,3,"cannot parse filter header");var De=K;if(K=fe=H,H=fe+De,le=De,w.Xb=(1<<ie(w.m,2))-1,De<3*(_e=w.Xb))F=7;else{for(fe+=3*_e,le-=3*_e,De=0;De<_e;++De){var tt=F[K+0]|F[K+1]<<8|F[K+2]<<16;tt>le&&(tt=le),ae(w.Jc[+De],F,fe,tt),fe+=tt,le-=tt,K+=3}ae(w.Jc[+_e],F,fe,le),F=fe<H?0:5}if(F!=0)return Sn(w,F,"cannot parse partitions");for(F=ie(fe=w.m,7),K=ve(fe)?ue(fe,4):0,H=ve(fe)?ue(fe,4):0,le=ve(fe)?ue(fe,4):0,_e=ve(fe)?ue(fe,4):0,fe=ve(fe)?ue(fe,4):0,De=w.Qa,tt=0;4>tt;++tt){if(De.Cb){var nt=De.Zb[tt];De.Fb||(nt+=F)}else{if(0<tt){w.pb[tt]=w.pb[0];continue}nt=F}var qe=w.pb[tt];qe.Sc[0]=yu[Xs(nt+K,127)],qe.Sc[1]=Vf[Xs(nt+0,127)],qe.Eb[0]=2*yu[Xs(nt+H,127)],qe.Eb[1]=101581*Vf[Xs(nt+le,127)]>>16,8>qe.Eb[1]&&(qe.Eb[1]=8),qe.Qc[0]=yu[Xs(nt+_e,117)],qe.Qc[1]=Vf[Xs(nt+fe,127)],qe.lc=nt+fe}if(!se.Rb)return Sn(w,4,"Not a key frame.");for(ve(te),se=w.Pa,F=0;4>F;++F){for(K=0;8>K;++K)for(H=0;3>H;++H)for(le=0;11>le;++le)_e=we(te,wv[F][K][H][le])?ie(te,8):Wm[F][K][H][le],se.Wc[F][K].Yb[H][le]=_e;for(K=0;17>K;++K)se.Xc[F][K]=se.Wc[F][W0[K]]}return w.kc=ve(te),w.kc&&(w.Bd=ie(te,8)),w.cb=1}function an(w,S,F,H,K,te,se){var le=S[K].Yb[F];for(F=0;16>K;++K){if(!we(w,le[F+0]))return K;for(;!we(w,le[F+1]);)if(le=S[++K].Yb[0],F=0,K==16)return 16;var fe=S[K+1].Yb;if(we(w,le[F+2])){var _e=w,De=0;if(we(_e,(nt=le)[(tt=F)+3]))if(we(_e,nt[tt+6])){for(le=0,tt=2*(De=we(_e,nt[tt+8]))+(nt=we(_e,nt[tt+9+De])),De=0,nt=j0[tt];nt[le];++le)De+=De+we(_e,nt[le]);De+=3+(8<<tt)}else we(_e,nt[tt+7])?(De=7+2*we(_e,165),De+=we(_e,145)):De=5+we(_e,159);else De=we(_e,nt[tt+4])?3+we(_e,nt[tt+5]):2;le=fe[2]}else De=1,le=fe[1];fe=se+V0[K],0>(_e=w).b&&de(_e);var tt,nt=_e.b,qe=(tt=_e.Ca>>1)-(_e.I>>nt)>>31;--_e.b,_e.Ca+=qe,_e.Ca|=1,_e.I-=(tt+1&qe)<<nt,te[fe]=((De^qe)-qe)*H[(0<K)+0]}return 16}function Sr(w){var S=w.rb[w.sb-1];S.la=0,S.Na=0,i(w.zc,0,0,w.zc.length),w.ja=0}function On(w,S){if(w==null)return 0;if(S==null)return Sn(w,2,"NULL VP8Io parameter in VP8Decode().");if(!w.cb&&!Bn(w,S))return 0;if(e(w.cb),S.ac==null||S.ac(S)){S.ob&&(w.L=0);var F=_c[w.L];if(w.L==2?(w.yb=0,w.zb=0):(w.yb=S.v-F>>4,w.zb=S.j-F>>4,0>w.yb&&(w.yb=0),0>w.zb&&(w.zb=0)),w.Va=S.o+15+F>>4,w.Hb=S.va+15+F>>4,w.Hb>w.za&&(w.Hb=w.za),w.Va>w.Ub&&(w.Va=w.Ub),0<w.L){var H=w.ed;for(F=0;4>F;++F){var K;if(w.Qa.Cb){var te=w.Qa.Lb[F];w.Qa.Fb||(te+=H.Tb)}else te=H.Tb;for(K=0;1>=K;++K){var se=w.gd[F][K],le=te;if(H.Pc&&(le+=H.vd[0],K&&(le+=H.od[0])),0<(le=0>le?0:63<le?63:le)){var fe=le;0<H.wb&&(fe=4<H.wb?fe>>2:fe>>1)>9-H.wb&&(fe=9-H.wb),1>fe&&(fe=1),se.dd=fe,se.tc=2*le+fe,se.ld=40<=le?2:15<=le?1:0}else se.tc=0;se.La=K}}}F=0}else Sn(w,6,"Frame setup failed"),F=w.a;if(F=F==0){if(F){w.$c=0,0<w.Aa||(w.Ic=Oo);e:{F=w.Ic,H=4*(fe=w.za);var _e=32*fe,De=fe+1,tt=0<w.L?fe*(0<w.Aa?2:1):0,nt=(w.Aa==2?2:1)*fe;if((se=H+832+(K=3*(16*F+_c[w.L])/2*_e)+(te=w.Fa!=null&&0<w.Fa.length?w.Kc.c*w.Kc.i:0))!=se)F=0;else{if(se>w.Vb){if(w.Vb=0,w.Ec=s(se),w.Fc=0,w.Ec==null){F=Sn(w,1,"no memory during frame initialization.");break e}w.Vb=se}se=w.Ec,le=w.Fc,w.Ac=se,w.Bc=le,le+=H,w.Gd=a(_e,rn),w.Hd=0,w.rb=a(De+1,Rt),w.sb=1,w.wa=tt?a(tt,St):null,w.Y=0,w.D.Nb=0,w.D.wa=w.wa,w.D.Y=w.Y,0<w.Aa&&(w.D.Y+=fe),e(!0),w.oc=se,w.pc=le,le+=832,w.ya=a(nt,Xt),w.aa=0,w.D.ya=w.ya,w.D.aa=w.aa,w.Aa==2&&(w.D.aa+=fe),w.R=16*fe,w.B=8*fe,fe=(_e=_c[w.L])*w.R,_e=_e/2*w.B,w.sa=se,w.ta=le+fe,w.qa=w.sa,w.ra=w.ta+16*F*w.R+_e,w.Ha=w.qa,w.Ia=w.ra+8*F*w.B+_e,w.$c=0,le+=K,w.mb=te?se:null,w.nb=te?le:null,e(le+te<=w.Fc+w.Vb),Sr(w),i(w.Ac,w.Bc,0,H),F=1}}if(F){if(S.ka=0,S.y=w.sa,S.O=w.ta,S.f=w.qa,S.N=w.ra,S.ea=w.Ha,S.Vd=w.Ia,S.fa=w.R,S.Rc=w.B,S.F=null,S.J=0,!Of){for(F=-255;255>=F;++F)ri[255+F]=0>F?-F:F;for(F=-1020;1020>=F;++F)ao[1020+F]=-128>F?-128:127<F?127:F;for(F=-112;112>=F;++F)xu[112+F]=-16>F?-16:15<F?15:F;for(F=-255;510>=F;++F)dc[255+F]=0>F?0:255<F?255:F;Of=1}gu=jn,Ro=Ei,Lo=Jr,Wi=hi,$s=Zr,Qn=nr,cc=ru,If=di,uc=ic,fc=Rf,hc=vl,Ys=_l,No=sc,so=iu,Fo=Oa,Do=fa,Al=ha,Ri=rd,ma[0]=no,ma[1]=ed,ma[2]=tc,ma[3]=to,ma[4]=Cf,ma[5]=Zc,ma[6]=gl,ma[7]=Qc,ma[8]=nd,ma[9]=eu,as[0]=ec,as[1]=td,as[2]=Qa,as[3]=Ql,as[4]=Dr,as[5]=eo,as[6]=Da,gs[0]=qs,gs[1]=Mf,gs[2]=z0,gs[3]=To,gs[4]=nc,gs[5]=tu,gs[6]=Pf,F=1}else F=0}F&&(F=function(qe,Mt){for(qe.M=0;qe.M<qe.Va;++qe.M){var pt,Be=qe.Jc[qe.M&qe.Xb],ze=qe.m,yt=qe;for(pt=0;pt<yt.za;++pt){var _t=ze,bt=yt,Jt=bt.Ac,Wt=bt.Bc+4*pt,fn=bt.zc,qt=bt.ya[bt.aa+pt];if(bt.Qa.Bb?qt.$b=we(_t,bt.Pa.jb[0])?2+we(_t,bt.Pa.jb[2]):we(_t,bt.Pa.jb[1]):qt.$b=0,bt.kc&&(qt.Ad=we(_t,bt.Bd)),qt.Za=!we(_t,145)+0,qt.Za){var Yn=qt.Ob,Kn=0;for(bt=0;4>bt;++bt){var qn,Ln=fn[0+bt];for(qn=0;4>qn;++qn){Ln=yv[Jt[Wt+qn]][Ln];for(var hr=Vm[we(_t,Ln[0])];0<hr;)hr=Vm[2*hr+we(_t,Ln[hr])];Ln=-hr,Jt[Wt+qn]=Ln}r(Yn,Kn,Jt,Wt,4),Kn+=4,fn[0+bt]=Ln}}else Ln=we(_t,156)?we(_t,128)?1:3:we(_t,163)?2:0,qt.Ob[0]=Ln,i(Jt,Wt,Ln,4),i(fn,0,Ln,4);qt.Dd=we(_t,142)?we(_t,114)?we(_t,183)?1:3:2:0}if(yt.m.Ka)return Sn(qe,7,"Premature end-of-partition0 encountered.");for(;qe.ja<qe.za;++qe.ja){if(yt=Be,_t=(ze=qe).rb[ze.sb-1],Jt=ze.rb[ze.sb+ze.ja],pt=ze.ya[ze.aa+ze.ja],Wt=ze.kc?pt.Ad:0)_t.la=Jt.la=0,pt.Za||(_t.Na=Jt.Na=0),pt.Hc=0,pt.Gc=0,pt.ia=0;else{var gr,wn;if(_t=Jt,Jt=yt,Wt=ze.Pa.Xc,fn=ze.ya[ze.aa+ze.ja],qt=ze.pb[fn.$b],bt=fn.ad,Yn=0,Kn=ze.rb[ze.sb-1],Ln=qn=0,i(bt,Yn,0,384),fn.Za)var Or=0,os=Wt[3];else{hr=s(16);var Qr=_t.Na+Kn.Na;if(Qr=gc(Jt,Wt[1],Qr,qt.Eb,0,hr,0),_t.Na=Kn.Na=(0<Qr)+0,1<Qr)gu(hr,0,bt,Yn);else{var pi=hr[0]+3>>3;for(hr=0;256>hr;hr+=16)bt[Yn+hr]=pi}Or=1,os=Wt[0]}var rr=15&_t.la,qi=15&Kn.la;for(hr=0;4>hr;++hr){var Xi=1&qi;for(pi=wn=0;4>pi;++pi)rr=rr>>1|(Xi=(Qr=gc(Jt,os,Qr=Xi+(1&rr),qt.Sc,Or,bt,Yn))>Or)<<7,wn=wn<<2|(3<Qr?3:1<Qr?2:bt[Yn+0]!=0),Yn+=16;rr>>=4,qi=qi>>1|Xi<<7,qn=(qn<<8|wn)>>>0}for(os=rr,Or=qi>>4,gr=0;4>gr;gr+=2){for(wn=0,rr=_t.la>>4+gr,qi=Kn.la>>4+gr,hr=0;2>hr;++hr){for(Xi=1&qi,pi=0;2>pi;++pi)Qr=Xi+(1&rr),rr=rr>>1|(Xi=0<(Qr=gc(Jt,Wt[2],Qr,qt.Qc,0,bt,Yn)))<<3,wn=wn<<2|(3<Qr?3:1<Qr?2:bt[Yn+0]!=0),Yn+=16;rr>>=2,qi=qi>>1|Xi<<5}Ln|=wn<<4*gr,os|=rr<<4<<gr,Or|=(240&qi)<<gr}_t.la=os,Kn.la=Or,fn.Hc=qn,fn.Gc=Ln,fn.ia=43690&Ln?0:qt.ia,Wt=!(qn|Ln)}if(0<ze.L&&(ze.wa[ze.Y+ze.ja]=ze.gd[pt.$b][pt.Za],ze.wa[ze.Y+ze.ja].La|=!Wt),yt.Ka)return Sn(qe,7,"Premature end-of-file encountered.")}if(Sr(qe),ze=Mt,yt=1,pt=(Be=qe).D,_t=0<Be.L&&Be.M>=Be.zb&&Be.M<=Be.Va,Be.Aa==0)e:{if(pt.M=Be.M,pt.uc=_t,ou(Be,pt),yt=1,pt=(wn=Be.D).Nb,_t=(Ln=_c[Be.L])*Be.R,Jt=Ln/2*Be.B,hr=16*pt*Be.R,pi=8*pt*Be.B,Wt=Be.sa,fn=Be.ta-_t+hr,qt=Be.qa,bt=Be.ra-Jt+pi,Yn=Be.Ha,Kn=Be.Ia-Jt+pi,qi=(rr=wn.M)==0,qn=rr>=Be.Va-1,Be.Aa==2&&ou(Be,wn),wn.uc)for(Xi=(Qr=Be).D.M,e(Qr.D.uc),wn=Qr.yb;wn<Qr.Hb;++wn){Or=wn,os=Xi;var Ur=(mi=(ir=Qr).D).Nb;gr=ir.R;var mi=mi.wa[mi.Y+Or],Ni=ir.sa,ys=ir.ta+16*Ur*gr+16*Or,ga=mi.dd,Br=mi.tc;if(Br!=0)if(e(3<=Br),ir.L==1)0<Or&&Do(Ni,ys,gr,Br+4),mi.La&&Ri(Ni,ys,gr,Br),0<os&&Fo(Ni,ys,gr,Br+4),mi.La&&Al(Ni,ys,gr,Br);else{var ii=ir.B,Ks=ir.qa,Pl=ir.ra+8*Ur*ii+8*Or,Uo=ir.Ha,ir=ir.Ia+8*Ur*ii+8*Or;Ur=mi.ld,0<Or&&(If(Ni,ys,gr,Br+4,ga,Ur),fc(Ks,Pl,Uo,ir,ii,Br+4,ga,Ur)),mi.La&&(Ys(Ni,ys,gr,Br,ga,Ur),so(Ks,Pl,Uo,ir,ii,Br,ga,Ur)),0<os&&(cc(Ni,ys,gr,Br+4,ga,Ur),uc(Ks,Pl,Uo,ir,ii,Br+4,ga,Ur)),mi.La&&(hc(Ni,ys,gr,Br,ga,Ur),No(Ks,Pl,Uo,ir,ii,Br,ga,Ur))}}if(Be.ia&&alert("todo:DitherRow"),ze.put!=null){if(wn=16*rr,rr=16*(rr+1),qi?(ze.y=Be.sa,ze.O=Be.ta+hr,ze.f=Be.qa,ze.N=Be.ra+pi,ze.ea=Be.Ha,ze.W=Be.Ia+pi):(wn-=Ln,ze.y=Wt,ze.O=fn,ze.f=qt,ze.N=bt,ze.ea=Yn,ze.W=Kn),qn||(rr-=Ln),rr>ze.o&&(rr=ze.o),ze.F=null,ze.J=null,Be.Fa!=null&&0<Be.Fa.length&&wn<rr&&(ze.J=Nf(Be,ze,wn,rr-wn),ze.F=Be.mb,ze.F==null&&ze.F.length==0)){yt=Sn(Be,3,"Could not decode alpha data.");break e}wn<ze.j&&(Ln=ze.j-wn,wn=ze.j,e(!(1&Ln)),ze.O+=Be.R*Ln,ze.N+=Be.B*(Ln>>1),ze.W+=Be.B*(Ln>>1),ze.F!=null&&(ze.J+=ze.width*Ln)),wn<rr&&(ze.O+=ze.v,ze.N+=ze.v>>1,ze.W+=ze.v>>1,ze.F!=null&&(ze.J+=ze.v),ze.ka=wn-ze.j,ze.U=ze.va-ze.v,ze.T=rr-wn,yt=ze.put(ze))}pt+1!=Be.Ic||qn||(r(Be.sa,Be.ta-_t,Wt,fn+16*Be.R,_t),r(Be.qa,Be.ra-Jt,qt,bt+8*Be.B,Jt),r(Be.Ha,Be.Ia-Jt,Yn,Kn+8*Be.B,Jt))}if(!yt)return Sn(qe,6,"Output aborted.")}return 1}(w,S)),S.bc!=null&&S.bc(S),F&=1}return F?(w.cb=0,F):0}function Er(w,S,F,H,K){K=w[S+F+32*H]+(K>>3),w[S+F+32*H]=-256&K?0>K?0:255:K}function Ws(w,S,F,H,K,te){Er(w,S,0,F,H+K),Er(w,S,1,F,H+te),Er(w,S,2,F,H-te),Er(w,S,3,F,H-K)}function pr(w){return(20091*w>>16)+w}function Gs(w,S,F,H){var K,te=0,se=s(16);for(K=0;4>K;++K){var le=w[S+0]+w[S+8],fe=w[S+0]-w[S+8],_e=(35468*w[S+4]>>16)-pr(w[S+12]),De=pr(w[S+4])+(35468*w[S+12]>>16);se[te+0]=le+De,se[te+1]=fe+_e,se[te+2]=fe-_e,se[te+3]=le-De,te+=4,S++}for(K=te=0;4>K;++K)le=(w=se[te+0]+4)+se[te+8],fe=w-se[te+8],_e=(35468*se[te+4]>>16)-pr(se[te+12]),Er(F,H,0,0,le+(De=pr(se[te+4])+(35468*se[te+12]>>16))),Er(F,H,1,0,fe+_e),Er(F,H,2,0,fe-_e),Er(F,H,3,0,le-De),te++,H+=32}function nr(w,S,F,H){var K=w[S+0]+4,te=35468*w[S+4]>>16,se=pr(w[S+4]),le=35468*w[S+1]>>16;Ws(F,H,0,K+se,w=pr(w[S+1]),le),Ws(F,H,1,K+te,w,le),Ws(F,H,2,K-te,w,le),Ws(F,H,3,K-se,w,le)}function Ei(w,S,F,H,K){Gs(w,S,F,H),K&&Gs(w,S+16,F,H+4)}function Jr(w,S,F,H){Ro(w,S+0,F,H,1),Ro(w,S+32,F,H+128,1)}function hi(w,S,F,H){var K;for(w=w[S+0]+4,K=0;4>K;++K)for(S=0;4>S;++S)Er(F,H,S,K,w)}function Zr(w,S,F,H){w[S+0]&&Wi(w,S+0,F,H),w[S+16]&&Wi(w,S+16,F,H+4),w[S+32]&&Wi(w,S+32,F,H+128),w[S+48]&&Wi(w,S+48,F,H+128+4)}function jn(w,S,F,H){var K,te=s(16);for(K=0;4>K;++K){var se=w[S+0+K]+w[S+12+K],le=w[S+4+K]+w[S+8+K],fe=w[S+4+K]-w[S+8+K],_e=w[S+0+K]-w[S+12+K];te[0+K]=se+le,te[8+K]=se-le,te[4+K]=_e+fe,te[12+K]=_e-fe}for(K=0;4>K;++K)se=(w=te[0+4*K]+3)+te[3+4*K],le=te[1+4*K]+te[2+4*K],fe=te[1+4*K]-te[2+4*K],_e=w-te[3+4*K],F[H+0]=se+le>>3,F[H+16]=_e+fe>>3,F[H+32]=se-le>>3,F[H+48]=_e-fe>>3,H+=64}function ds(w,S,F){var H,K=S-32,te=ss,se=255-w[K-1];for(H=0;H<F;++H){var le,fe=te,_e=se+w[S-1];for(le=0;le<F;++le)w[S+le]=fe[_e+w[K+le]];S+=32}}function ed(w,S){ds(w,S,4)}function Mf(w,S){ds(w,S,8)}function td(w,S){ds(w,S,16)}function Qa(w,S){var F;for(F=0;16>F;++F)r(w,S+32*F,w,S-32,16)}function Ql(w,S){var F;for(F=16;0<F;--F)i(w,S,w[S-1],16),S+=32}function ml(w,S,F){var H;for(H=0;16>H;++H)i(S,F+32*H,w,16)}function ec(w,S){var F,H=16;for(F=0;16>F;++F)H+=w[S-1+32*F]+w[S+F-32];ml(H>>5,w,S)}function Dr(w,S){var F,H=8;for(F=0;16>F;++F)H+=w[S-1+32*F];ml(H>>4,w,S)}function eo(w,S){var F,H=8;for(F=0;16>F;++F)H+=w[S+F-32];ml(H>>4,w,S)}function Da(w,S){ml(128,w,S)}function xn(w,S,F){return w+2*S+F+2>>2}function tc(w,S){var F,H=S-32;for(H=new Uint8Array([xn(w[H-1],w[H+0],w[H+1]),xn(w[H+0],w[H+1],w[H+2]),xn(w[H+1],w[H+2],w[H+3]),xn(w[H+2],w[H+3],w[H+4])]),F=0;4>F;++F)r(w,S+32*F,H,0,H.length)}function to(w,S){var F=w[S-1],H=w[S-1+32],K=w[S-1+64],te=w[S-1+96];Ce(w,S+0,16843009*xn(w[S-1-32],F,H)),Ce(w,S+32,16843009*xn(F,H,K)),Ce(w,S+64,16843009*xn(H,K,te)),Ce(w,S+96,16843009*xn(K,te,te))}function no(w,S){var F,H=4;for(F=0;4>F;++F)H+=w[S+F-32]+w[S-1+32*F];for(H>>=3,F=0;4>F;++F)i(w,S+32*F,H,4)}function Cf(w,S){var F=w[S-1+0],H=w[S-1+32],K=w[S-1+64],te=w[S-1-32],se=w[S+0-32],le=w[S+1-32],fe=w[S+2-32],_e=w[S+3-32];w[S+0+96]=xn(H,K,w[S-1+96]),w[S+1+96]=w[S+0+64]=xn(F,H,K),w[S+2+96]=w[S+1+64]=w[S+0+32]=xn(te,F,H),w[S+3+96]=w[S+2+64]=w[S+1+32]=w[S+0+0]=xn(se,te,F),w[S+3+64]=w[S+2+32]=w[S+1+0]=xn(le,se,te),w[S+3+32]=w[S+2+0]=xn(fe,le,se),w[S+3+0]=xn(_e,fe,le)}function gl(w,S){var F=w[S+1-32],H=w[S+2-32],K=w[S+3-32],te=w[S+4-32],se=w[S+5-32],le=w[S+6-32],fe=w[S+7-32];w[S+0+0]=xn(w[S+0-32],F,H),w[S+1+0]=w[S+0+32]=xn(F,H,K),w[S+2+0]=w[S+1+32]=w[S+0+64]=xn(H,K,te),w[S+3+0]=w[S+2+32]=w[S+1+64]=w[S+0+96]=xn(K,te,se),w[S+3+32]=w[S+2+64]=w[S+1+96]=xn(te,se,le),w[S+3+64]=w[S+2+96]=xn(se,le,fe),w[S+3+96]=xn(le,fe,fe)}function Zc(w,S){var F=w[S-1+0],H=w[S-1+32],K=w[S-1+64],te=w[S-1-32],se=w[S+0-32],le=w[S+1-32],fe=w[S+2-32],_e=w[S+3-32];w[S+0+0]=w[S+1+64]=te+se+1>>1,w[S+1+0]=w[S+2+64]=se+le+1>>1,w[S+2+0]=w[S+3+64]=le+fe+1>>1,w[S+3+0]=fe+_e+1>>1,w[S+0+96]=xn(K,H,F),w[S+0+64]=xn(H,F,te),w[S+0+32]=w[S+1+96]=xn(F,te,se),w[S+1+32]=w[S+2+96]=xn(te,se,le),w[S+2+32]=w[S+3+96]=xn(se,le,fe),w[S+3+32]=xn(le,fe,_e)}function Qc(w,S){var F=w[S+0-32],H=w[S+1-32],K=w[S+2-32],te=w[S+3-32],se=w[S+4-32],le=w[S+5-32],fe=w[S+6-32],_e=w[S+7-32];w[S+0+0]=F+H+1>>1,w[S+1+0]=w[S+0+64]=H+K+1>>1,w[S+2+0]=w[S+1+64]=K+te+1>>1,w[S+3+0]=w[S+2+64]=te+se+1>>1,w[S+0+32]=xn(F,H,K),w[S+1+32]=w[S+0+96]=xn(H,K,te),w[S+2+32]=w[S+1+96]=xn(K,te,se),w[S+3+32]=w[S+2+96]=xn(te,se,le),w[S+3+64]=xn(se,le,fe),w[S+3+96]=xn(le,fe,_e)}function eu(w,S){var F=w[S-1+0],H=w[S-1+32],K=w[S-1+64],te=w[S-1+96];w[S+0+0]=F+H+1>>1,w[S+2+0]=w[S+0+32]=H+K+1>>1,w[S+2+32]=w[S+0+64]=K+te+1>>1,w[S+1+0]=xn(F,H,K),w[S+3+0]=w[S+1+32]=xn(H,K,te),w[S+3+32]=w[S+1+64]=xn(K,te,te),w[S+3+64]=w[S+2+64]=w[S+0+96]=w[S+1+96]=w[S+2+96]=w[S+3+96]=te}function nd(w,S){var F=w[S-1+0],H=w[S-1+32],K=w[S-1+64],te=w[S-1+96],se=w[S-1-32],le=w[S+0-32],fe=w[S+1-32],_e=w[S+2-32];w[S+0+0]=w[S+2+32]=F+se+1>>1,w[S+0+32]=w[S+2+64]=H+F+1>>1,w[S+0+64]=w[S+2+96]=K+H+1>>1,w[S+0+96]=te+K+1>>1,w[S+3+0]=xn(le,fe,_e),w[S+2+0]=xn(se,le,fe),w[S+1+0]=w[S+3+32]=xn(F,se,le),w[S+1+32]=w[S+3+64]=xn(H,F,se),w[S+1+64]=w[S+3+96]=xn(K,H,F),w[S+1+96]=xn(te,K,H)}function z0(w,S){var F;for(F=0;8>F;++F)r(w,S+32*F,w,S-32,8)}function To(w,S){var F;for(F=0;8>F;++F)i(w,S,w[S-1],8),S+=32}function Ia(w,S,F){var H;for(H=0;8>H;++H)i(S,F+32*H,w,8)}function qs(w,S){var F,H=8;for(F=0;8>F;++F)H+=w[S+F-32]+w[S-1+32*F];Ia(H>>4,w,S)}function tu(w,S){var F,H=4;for(F=0;8>F;++F)H+=w[S+F-32];Ia(H>>3,w,S)}function nc(w,S){var F,H=4;for(F=0;8>F;++F)H+=w[S-1+32*F];Ia(H>>3,w,S)}function Pf(w,S){Ia(128,w,S)}function xl(w,S,F){var H=w[S-F],K=w[S+0],te=3*(K-H)+oo[1020+w[S-2*F]-w[S+F]],se=vu[112+(te+4>>3)];w[S-F]=ss[255+H+vu[112+(te+3>>3)]],w[S+0]=ss[255+K-se]}function rc(w,S,F,H){var K=w[S+0],te=w[S+F];return pa[255+w[S-2*F]-w[S-F]]>H||pa[255+te-K]>H}function nu(w,S,F,H){return 4*pa[255+w[S-F]-w[S+0]]+pa[255+w[S-2*F]-w[S+F]]<=H}function kf(w,S,F,H,K){var te=w[S-3*F],se=w[S-2*F],le=w[S-F],fe=w[S+0],_e=w[S+F],De=w[S+2*F],tt=w[S+3*F];return 4*pa[255+le-fe]+pa[255+se-_e]>H?0:pa[255+w[S-4*F]-te]<=K&&pa[255+te-se]<=K&&pa[255+se-le]<=K&&pa[255+tt-De]<=K&&pa[255+De-_e]<=K&&pa[255+_e-fe]<=K}function Oa(w,S,F,H){var K=2*H+1;for(H=0;16>H;++H)nu(w,S+H,F,K)&&xl(w,S+H,F)}function fa(w,S,F,H){var K=2*H+1;for(H=0;16>H;++H)nu(w,S+H*F,1,K)&&xl(w,S+H*F,1)}function ha(w,S,F,H){var K;for(K=3;0<K;--K)Oa(w,S+=4*F,F,H)}function rd(w,S,F,H){var K;for(K=3;0<K;--K)fa(w,S+=4,F,H)}function Ua(w,S,F,H,K,te,se,le){for(te=2*te+1;0<K--;){if(kf(w,S,F,te,se))if(rc(w,S,F,le))xl(w,S,F);else{var fe=w,_e=S,De=F,tt=fe[_e-2*De],nt=fe[_e-De],qe=fe[_e+0],Mt=fe[_e+De],pt=fe[_e+2*De],Be=27*(yt=oo[1020+3*(qe-nt)+oo[1020+tt-Mt]])+63>>7,ze=18*yt+63>>7,yt=9*yt+63>>7;fe[_e-3*De]=ss[255+fe[_e-3*De]+yt],fe[_e-2*De]=ss[255+tt+ze],fe[_e-De]=ss[255+nt+Be],fe[_e+0]=ss[255+qe-Be],fe[_e+De]=ss[255+Mt-ze],fe[_e+2*De]=ss[255+pt-yt]}S+=H}}function ps(w,S,F,H,K,te,se,le){for(te=2*te+1;0<K--;){if(kf(w,S,F,te,se))if(rc(w,S,F,le))xl(w,S,F);else{var fe=w,_e=S,De=F,tt=fe[_e-De],nt=fe[_e+0],qe=fe[_e+De],Mt=vu[112+((pt=3*(nt-tt))+4>>3)],pt=vu[112+(pt+3>>3)],Be=Mt+1>>1;fe[_e-2*De]=ss[255+fe[_e-2*De]+Be],fe[_e-De]=ss[255+tt+pt],fe[_e+0]=ss[255+nt-Mt],fe[_e+De]=ss[255+qe-Be]}S+=H}}function ru(w,S,F,H,K,te){Ua(w,S,F,1,16,H,K,te)}function di(w,S,F,H,K,te){Ua(w,S,1,F,16,H,K,te)}function vl(w,S,F,H,K,te){var se;for(se=3;0<se;--se)ps(w,S+=4*F,F,1,16,H,K,te)}function _l(w,S,F,H,K,te){var se;for(se=3;0<se;--se)ps(w,S+=4,1,F,16,H,K,te)}function ic(w,S,F,H,K,te,se,le){Ua(w,S,K,1,8,te,se,le),Ua(F,H,K,1,8,te,se,le)}function Rf(w,S,F,H,K,te,se,le){Ua(w,S,1,K,8,te,se,le),Ua(F,H,1,K,8,te,se,le)}function sc(w,S,F,H,K,te,se,le){ps(w,S+4*K,K,1,8,te,se,le),ps(F,H+4*K,K,1,8,te,se,le)}function iu(w,S,F,H,K,te,se,le){ps(w,S+4,1,K,8,te,se,le),ps(F,H+4,1,K,8,te,se,le)}function ro(){this.ba=new Tt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new At,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function yl(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function su(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function id(){this.ua=0,this.Wa=new q,this.vb=new q,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new G,this.yc=new k}function H0(){this.xb=this.a=0,this.l=new yn,this.ca=new Tt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new C,this.Pb=0,this.wd=new C,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new id,this.ab=0,this.gc=a(4,su),this.Oc=0}function au(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new yn,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Mo(w,S,F,H,K,te,se){for(w=w==null?0:w[S+0],S=0;S<se;++S)K[te+S]=w+F[H+S]&255,w=K[te+S]}function Lf(w,S,F,H,K,te,se){var le;if(w==null)Mo(null,null,F,H,K,te,se);else for(le=0;le<se;++le)K[te+le]=w[S+le]+F[H+le]&255}function wl(w,S,F,H,K,te,se){if(w==null)Mo(null,null,F,H,K,te,se);else{var le,fe=w[S+0],_e=fe,De=fe;for(le=0;le<se;++le)_e=De+(fe=w[S+le])-_e,De=F[H+le]+(-256&_e?0>_e?0:255:_e)&255,_e=fe,K[te+le]=De}}function Nf(w,S,F,H){var K=S.width,te=S.o;if(e(w!=null&&S!=null),0>F||0>=H||F+H>te)return null;if(!w.Cc){if(w.ga==null){var se;if(w.ga=new au,(se=w.ga==null)||(se=S.width*S.o,e(w.Gb.length==0),w.Gb=s(se),w.Uc=0,w.Gb==null?se=0:(w.mb=w.Gb,w.nb=w.Uc,w.rc=null,se=1),se=!se),!se){se=w.ga;var le=w.Fa,fe=w.P,_e=w.qc,De=w.mb,tt=w.nb,nt=fe+1,qe=_e-1,Mt=se.l;if(e(le!=null&&De!=null&&S!=null),Gi[0]=null,Gi[1]=Mo,Gi[2]=Lf,Gi[3]=wl,se.ca=De,se.tb=tt,se.c=S.width,se.i=S.height,e(0<se.c&&0<se.i),1>=_e)S=0;else if(se.$a=le[fe+0]>>0&3,se.Z=le[fe+0]>>2&3,se.Lc=le[fe+0]>>4&3,fe=le[fe+0]>>6&3,0>se.$a||1<se.$a||4<=se.Z||1<se.Lc||fe)S=0;else if(Mt.put=An,Mt.ac=_n,Mt.bc=Cr,Mt.ma=se,Mt.width=S.width,Mt.height=S.height,Mt.Da=S.Da,Mt.v=S.v,Mt.va=S.va,Mt.j=S.j,Mt.o=S.o,se.$a)e:{e(se.$a==1),S=dt();t:for(;;){if(S==null){S=0;break e}if(e(se!=null),se.mc=S,S.c=se.c,S.i=se.i,S.l=se.l,S.l.ma=se,S.l.width=se.c,S.l.height=se.i,S.a=0,J(S.m,le,nt,qe),!rt(se.c,se.i,1,S,null)||(S.ab==1&&S.gc[0].hc==3&&ge(S.s)?(se.ic=1,le=S.c*S.i,S.Ta=null,S.Ua=0,S.V=s(le),S.Ba=0,S.V==null?(S.a=1,S=0):S=1):(se.ic=0,S=at(S,se.c)),!S))break t;S=1;break e}se.mc=null,S=0}else S=qe>=se.c*se.i;se=!S}if(se)return null;w.ga.Lc!=1?w.Ga=0:H=te-F}e(w.ga!=null),e(F+H<=te);e:{if(S=(le=w.ga).c,te=le.l.o,le.$a==0){if(nt=w.rc,qe=w.Vc,Mt=w.Fa,fe=w.P+1+F*S,_e=w.mb,De=w.nb+F*S,e(fe<=w.P+w.qc),le.Z!=0)for(e(Gi[le.Z]!=null),se=0;se<H;++se)Gi[le.Z](nt,qe,Mt,fe,_e,De,S),nt=_e,qe=De,De+=S,fe+=S;else for(se=0;se<H;++se)r(_e,De,Mt,fe,S),nt=_e,qe=De,De+=S,fe+=S;w.rc=nt,w.Vc=qe}else{if(e(le.mc!=null),S=F+H,e((se=le.mc)!=null),e(S<=se.i),se.C>=S)S=1;else if(le.ic||et(),le.ic){le=se.V,nt=se.Ba,qe=se.c;var pt=se.i,Be=(Mt=1,fe=se.$/qe,_e=se.$%qe,De=se.m,tt=se.s,se.$),ze=qe*pt,yt=qe*S,_t=tt.wc,bt=Be<yt?dr(tt,_e,fe):null;e(Be<=ze),e(S<=pt),e(ge(tt));t:for(;;){for(;!De.h&&Be<yt;){if(_e&_t||(bt=dr(tt,_e,fe)),e(bt!=null),ee(De),256>(pt=Rr(bt.G[0],bt.H[0],De)))le[nt+Be]=pt,++Be,++_e>=qe&&(_e=0,++fe<=S&&!(fe%16)&&Se(se,fe));else{if(!(280>pt)){Mt=0;break t}pt=Si(pt-256,De);var Jt,Wt=Rr(bt.G[4],bt.H[4],De);if(ee(De),!(Be>=(Wt=Kr(qe,Wt=Si(Wt,De)))&&ze-Be>=pt)){Mt=0;break t}for(Jt=0;Jt<pt;++Jt)le[nt+Be+Jt]=le[nt+Be+Jt-Wt];for(Be+=pt,_e+=pt;_e>=qe;)_e-=qe,++fe<=S&&!(fe%16)&&Se(se,fe);Be<yt&&_e&_t&&(bt=dr(tt,_e,fe))}e(De.h==z(De))}Se(se,fe>S?S:fe);break t}!Mt||De.h&&Be<ze?(Mt=0,se.a=De.h?5:3):se.$=Be,S=Mt}else S=Ee(se,se.V,se.Ba,se.c,se.i,S,ct);if(!S){H=0;break e}}F+H>=te&&(w.Cc=1),H=1}if(!H)return null;if(w.Cc&&((H=w.ga)!=null&&(H.mc=null),w.ga=null,0<w.Ga))return alert("todo:WebPDequantizeLevels"),null}return w.nb+F*K}function T(w,S,F,H,K,te){for(;0<K--;){var se,le=w,fe=S+(F?1:0),_e=w,De=S+(F?0:3);for(se=0;se<H;++se){var tt=_e[De+4*se];tt!=255&&(tt*=32897,le[fe+4*se+0]=le[fe+4*se+0]*tt>>23,le[fe+4*se+1]=le[fe+4*se+1]*tt>>23,le[fe+4*se+2]=le[fe+4*se+2]*tt>>23)}S+=te}}function Z(w,S,F,H,K){for(;0<H--;){var te;for(te=0;te<F;++te){var se=w[S+2*te+0],le=15&(_e=w[S+2*te+1]),fe=4369*le,_e=(240&_e|_e>>4)*fe>>16;w[S+2*te+0]=(240&se|se>>4)*fe>>16&240|(15&se|se<<4)*fe>>16>>4&15,w[S+2*te+1]=240&_e|le}S+=K}}function Ae(w,S,F,H,K,te,se,le){var fe,_e,De=255;for(_e=0;_e<K;++_e){for(fe=0;fe<H;++fe){var tt=w[S+fe];te[se+4*fe]=tt,De&=tt}S+=F,se+=le}return De!=255}function Fe(w,S,F,H,K){var te;for(te=0;te<K;++te)F[H+te]=w[S+te]>>8}function et(){ms=T,yr=Z,ur=Ae,Gr=Fe}function vt(w,S,F){I[w]=function(H,K,te,se,le,fe,_e,De,tt,nt,qe,Mt,pt,Be,ze,yt,_t){var bt,Jt=_t-1>>1,Wt=le[fe+0]|_e[De+0]<<16,fn=tt[nt+0]|qe[Mt+0]<<16;e(H!=null);var qt=3*Wt+fn+131074>>2;for(S(H[K+0],255&qt,qt>>16,pt,Be),te!=null&&(qt=3*fn+Wt+131074>>2,S(te[se+0],255&qt,qt>>16,ze,yt)),bt=1;bt<=Jt;++bt){var Yn=le[fe+bt]|_e[De+bt]<<16,Kn=tt[nt+bt]|qe[Mt+bt]<<16,qn=Wt+Yn+fn+Kn+524296,Ln=qn+2*(Yn+fn)>>3;qt=Ln+Wt>>1,Wt=(qn=qn+2*(Wt+Kn)>>3)+Yn>>1,S(H[K+2*bt-1],255&qt,qt>>16,pt,Be+(2*bt-1)*F),S(H[K+2*bt-0],255&Wt,Wt>>16,pt,Be+(2*bt-0)*F),te!=null&&(qt=qn+fn>>1,Wt=Ln+Kn>>1,S(te[se+2*bt-1],255&qt,qt>>16,ze,yt+(2*bt-1)*F),S(te[se+2*bt+0],255&Wt,Wt>>16,ze,yt+(2*bt+0)*F)),Wt=Yn,fn=Kn}1&_t||(qt=3*Wt+fn+131074>>2,S(H[K+_t-1],255&qt,qt>>16,pt,Be+(_t-1)*F),te!=null&&(qt=3*fn+Wt+131074>>2,S(te[se+_t-1],255&qt,qt>>16,ze,yt+(_t-1)*F)))}}function Lt(){xs[ad]=bv,xs[Tl]=Ml,xs[zm]=Sv,xs[Uf]=bu,xs[Bf]=xc,xs[wr]=Wf,xs[od]=G0,xs[_u]=Ml,xs[pc]=bu,xs[zf]=xc,xs[Hf]=Wf}function Yt(w){return w&-16384?0>w?0:255:w>>Cl}function cn(w,S){return Yt((19077*w>>8)+(26149*S>>8)-14234)}function Mn(w,S,F){return Yt((19077*w>>8)-(6419*S>>8)-(13320*F>>8)+8708)}function Tn(w,S){return Yt((19077*w>>8)+(33050*S>>8)-17685)}function Vn(w,S,F,H,K){H[K+0]=cn(w,F),H[K+1]=Mn(w,S,F),H[K+2]=Tn(w,S)}function Ir(w,S,F,H,K){H[K+0]=Tn(w,S),H[K+1]=Mn(w,S,F),H[K+2]=cn(w,F)}function Vr(w,S,F,H,K){var te=Mn(w,S,F);S=te<<3&224|Tn(w,S)>>3,H[K+0]=248&cn(w,F)|te>>5,H[K+1]=S}function ni(w,S,F,H,K){var te=240&Tn(w,S)|15;H[K+0]=240&cn(w,F)|Mn(w,S,F)>>4,H[K+1]=te}function ji(w,S,F,H,K){H[K+0]=255,Vn(w,S,F,H,K+1)}function Ai(w,S,F,H,K){Ir(w,S,F,H,K),H[K+3]=255}function Ba(w,S,F,H,K){Vn(w,S,F,H,K),H[K+3]=255}function Xs(w,S){return 0>w?0:w>S?S:w}function da(w,S,F){I[w]=function(H,K,te,se,le,fe,_e,De,tt){for(var nt=De+(-2&tt)*F;De!=nt;)S(H[K+0],te[se+0],le[fe+0],_e,De),S(H[K+1],te[se+0],le[fe+0],_e,De+F),K+=2,++se,++fe,De+=2*F;1&tt&&S(H[K+0],te[se+0],le[fe+0],_e,De)}}function bl(w,S,F){return F==0?w==0?S==0?6:5:S==0?4:0:F}function Ff(w,S,F,H,K){switch(w>>>30){case 3:Ro(S,F,H,K,0);break;case 2:Qn(S,F,H,K);break;case 1:Wi(S,F,H,K)}}function ou(w,S){var F,H,K=S.M,te=S.Nb,se=w.oc,le=w.pc+40,fe=w.oc,_e=w.pc+584,De=w.oc,tt=w.pc+600;for(F=0;16>F;++F)se[le+32*F-1]=129;for(F=0;8>F;++F)fe[_e+32*F-1]=129,De[tt+32*F-1]=129;for(0<K?se[le-1-32]=fe[_e-1-32]=De[tt-1-32]=129:(i(se,le-32-1,127,21),i(fe,_e-32-1,127,9),i(De,tt-32-1,127,9)),H=0;H<w.za;++H){var nt=S.ya[S.aa+H];if(0<H){for(F=-1;16>F;++F)r(se,le+32*F-4,se,le+32*F+12,4);for(F=-1;8>F;++F)r(fe,_e+32*F-4,fe,_e+32*F+4,4),r(De,tt+32*F-4,De,tt+32*F+4,4)}var qe=w.Gd,Mt=w.Hd+H,pt=nt.ad,Be=nt.Hc;if(0<K&&(r(se,le-32,qe[Mt].y,0,16),r(fe,_e-32,qe[Mt].f,0,8),r(De,tt-32,qe[Mt].ea,0,8)),nt.Za){var ze=se,yt=le-32+16;for(0<K&&(H>=w.za-1?i(ze,yt,qe[Mt].y[15],4):r(ze,yt,qe[Mt+1].y,0,4)),F=0;4>F;F++)ze[yt+128+F]=ze[yt+256+F]=ze[yt+384+F]=ze[yt+0+F];for(F=0;16>F;++F,Be<<=2)ze=se,yt=le+q0[F],ma[nt.Ob[F]](ze,yt),Ff(Be,pt,16*+F,ze,yt)}else if(ze=bl(H,K,nt.Ob[0]),as[ze](se,le),Be!=0)for(F=0;16>F;++F,Be<<=2)Ff(Be,pt,16*+F,se,le+q0[F]);for(F=nt.Gc,ze=bl(H,K,nt.Dd),gs[ze](fe,_e),gs[ze](De,tt),Be=pt,ze=fe,yt=_e,255&(nt=F>>0)&&(170&nt?Lo(Be,256,ze,yt):$s(Be,256,ze,yt)),nt=De,Be=tt,255&(F>>=8)&&(170&F?Lo(pt,320,nt,Be):$s(pt,320,nt,Be)),K<w.Ub-1&&(r(qe[Mt].y,0,se,le+480,16),r(qe[Mt].f,0,fe,_e+224,8),r(qe[Mt].ea,0,De,tt+224,8)),F=8*te*w.B,qe=w.sa,Mt=w.ta+16*H+16*te*w.R,pt=w.qa,nt=w.ra+8*H+F,Be=w.Ha,ze=w.Ia+8*H+F,F=0;16>F;++F)r(qe,Mt+F*w.R,se,le+32*F,16);for(F=0;8>F;++F)r(pt,nt+F*w.B,fe,_e+32*F,8),r(Be,ze+F*w.B,De,tt+32*F,8)}}function ac(w,S,F,H,K,te,se,le,fe){var _e=[0],De=[0],tt=0,nt=fe!=null?fe.kd:0,qe=fe??new yl;if(w==null||12>F)return 7;qe.data=w,qe.w=S,qe.ha=F,S=[S],F=[F],qe.gb=[qe.gb];e:{var Mt=S,pt=F,Be=qe.gb;if(e(w!=null),e(pt!=null),e(Be!=null),Be[0]=0,12<=pt[0]&&!t(w,Mt[0],"RIFF")){if(t(w,Mt[0]+8,"WEBP")){Be=3;break e}var ze=mt(w,Mt[0]+4);if(12>ze||4294967286<ze){Be=3;break e}if(nt&&ze>pt[0]-8){Be=7;break e}Be[0]=ze,Mt[0]+=12,pt[0]-=12}Be=0}if(Be!=0)return Be;for(ze=0<qe.gb[0],F=F[0];;){e:{var yt=w;pt=S,Be=F;var _t=_e,bt=De,Jt=Mt=[0];if((qt=tt=[tt])[0]=0,8>Be[0])Be=7;else{if(!t(yt,pt[0],"VP8X")){if(mt(yt,pt[0]+4)!=10){Be=3;break e}if(18>Be[0]){Be=7;break e}var Wt=mt(yt,pt[0]+8),fn=1+he(yt,pt[0]+12);if(2147483648<=fn*(yt=1+he(yt,pt[0]+15))){Be=3;break e}Jt!=null&&(Jt[0]=Wt),_t!=null&&(_t[0]=fn),bt!=null&&(bt[0]=yt),pt[0]+=18,Be[0]-=18,qt[0]=1}Be=0}}if(tt=tt[0],Mt=Mt[0],Be!=0)return Be;if(pt=!!(2&Mt),!ze&&tt)return 3;if(te!=null&&(te[0]=!!(16&Mt)),se!=null&&(se[0]=pt),le!=null&&(le[0]=0),se=_e[0],Mt=De[0],tt&&pt&&fe==null){Be=0;break}if(4>F){Be=7;break}if(ze&&tt||!ze&&!tt&&!t(w,S[0],"ALPH")){F=[F],qe.na=[qe.na],qe.P=[qe.P],qe.Sa=[qe.Sa];e:{Wt=w,Be=S,ze=F;var qt=qe.gb;_t=qe.na,bt=qe.P,Jt=qe.Sa,fn=22,e(Wt!=null),e(ze!=null),yt=Be[0];var Yn=ze[0];for(e(_t!=null),e(Jt!=null),_t[0]=null,bt[0]=null,Jt[0]=0;;){if(Be[0]=yt,ze[0]=Yn,8>Yn){Be=7;break e}var Kn=mt(Wt,yt+4);if(4294967286<Kn){Be=3;break e}var qn=8+Kn+1&-2;if(fn+=qn,0<qt&&fn>qt){Be=3;break e}if(!t(Wt,yt,"VP8 ")||!t(Wt,yt,"VP8L")){Be=0;break e}if(Yn[0]<qn){Be=7;break e}t(Wt,yt,"ALPH")||(_t[0]=Wt,bt[0]=yt+8,Jt[0]=Kn),yt+=qn,Yn-=qn}}if(F=F[0],qe.na=qe.na[0],qe.P=qe.P[0],qe.Sa=qe.Sa[0],Be!=0)break}F=[F],qe.Ja=[qe.Ja],qe.xa=[qe.xa];e:if(qt=w,Be=S,ze=F,_t=qe.gb[0],bt=qe.Ja,Jt=qe.xa,Wt=Be[0],yt=!t(qt,Wt,"VP8 "),fn=!t(qt,Wt,"VP8L"),e(qt!=null),e(ze!=null),e(bt!=null),e(Jt!=null),8>ze[0])Be=7;else{if(yt||fn){if(qt=mt(qt,Wt+4),12<=_t&&qt>_t-12){Be=3;break e}if(nt&&qt>ze[0]-8){Be=7;break e}bt[0]=qt,Be[0]+=8,ze[0]-=8,Jt[0]=fn}else Jt[0]=5<=ze[0]&&qt[Wt+0]==47&&!(qt[Wt+4]>>5),bt[0]=ze[0];Be=0}if(F=F[0],qe.Ja=qe.Ja[0],qe.xa=qe.xa[0],S=S[0],Be!=0)break;if(4294967286<qe.Ja)return 3;if(le==null||pt||(le[0]=qe.xa?2:1),se=[se],Mt=[Mt],qe.xa){if(5>F){Be=7;break}le=se,nt=Mt,pt=te,w==null||5>F?w=0:5<=F&&w[S+0]==47&&!(w[S+4]>>5)?(ze=[0],qt=[0],_t=[0],J(bt=new C,w,S,F),Qt(bt,ze,qt,_t)?(le!=null&&(le[0]=ze[0]),nt!=null&&(nt[0]=qt[0]),pt!=null&&(pt[0]=_t[0]),w=1):w=0):w=0}else{if(10>F){Be=7;break}le=Mt,w==null||10>F||!_r(w,S+3,F-3)?w=0:(nt=w[S+0]|w[S+1]<<8|w[S+2]<<16,pt=16383&(w[S+7]<<8|w[S+6]),w=16383&(w[S+9]<<8|w[S+8]),1&nt||3<(nt>>1&7)||!(nt>>4&1)||nt>>5>=qe.Ja||!pt||!w?w=0:(se&&(se[0]=pt),le&&(le[0]=w),w=1))}if(!w||(se=se[0],Mt=Mt[0],tt&&(_e[0]!=se||De[0]!=Mt)))return 3;fe!=null&&(fe[0]=qe,fe.offset=S-fe.w,e(4294967286>S-fe.w),e(fe.offset==fe.ha-F));break}return Be==0||Be==7&&tt&&fe==null?(te!=null&&(te[0]|=qe.na!=null&&0<qe.na.length),H!=null&&(H[0]=se),K!=null&&(K[0]=Mt),0):Be}function lu(w,S,F){var H=S.width,K=S.height,te=0,se=0,le=H,fe=K;if(S.Da=w!=null&&0<w.Da,S.Da&&(le=w.cd,fe=w.bd,te=w.v,se=w.j,11>F||(te&=-2,se&=-2),0>te||0>se||0>=le||0>=fe||te+le>H||se+fe>K))return 0;if(S.v=te,S.j=se,S.va=te+le,S.o=se+fe,S.U=le,S.T=fe,S.da=w!=null&&0<w.da,S.da){if(!Re(le,fe,F=[w.ib],te=[w.hb]))return 0;S.ib=F[0],S.hb=te[0]}return S.ob=w!=null&&w.ob,S.Kb=w==null||!w.Sd,S.da&&(S.ob=S.ib<3*H/4&&S.hb<3*K/4,S.Kb=0),1}function cu(w){if(w==null)return 2;if(11>w.S){var S=w.f.RGBA;S.fb+=(w.height-1)*S.A,S.A=-S.A}else S=w.f.kb,w=w.height,S.O+=(w-1)*S.fa,S.fa=-S.fa,S.N+=(w-1>>1)*S.Ab,S.Ab=-S.Ab,S.W+=(w-1>>1)*S.Db,S.Db=-S.Db,S.F!=null&&(S.J+=(w-1)*S.lb,S.lb=-S.lb);return 0}function oc(w,S,F,H){if(H==null||0>=w||0>=S)return 2;if(F!=null){if(F.Da){var K=F.cd,te=F.bd,se=-2&F.v,le=-2&F.j;if(0>se||0>le||0>=K||0>=te||se+K>w||le+te>S)return 2;w=K,S=te}if(F.da){if(!Re(w,S,K=[F.ib],te=[F.hb]))return 2;w=K[0],S=te[0]}}H.width=w,H.height=S;e:{var fe=H.width,_e=H.height;if(w=H.S,0>=fe||0>=_e||!(w>=ad&&13>w))w=2;else{if(0>=H.Rd&&H.sd==null){se=te=K=S=0;var De=(le=fe*Gf[w])*_e;if(11>w||(te=(_e+1)/2*(S=(fe+1)/2),w==12&&(se=(K=fe)*_e)),(_e=s(De+2*te+se))==null){w=1;break e}H.sd=_e,11>w?((fe=H.f.RGBA).eb=_e,fe.fb=0,fe.A=le,fe.size=De):((fe=H.f.kb).y=_e,fe.O=0,fe.fa=le,fe.Fd=De,fe.f=_e,fe.N=0+De,fe.Ab=S,fe.Cd=te,fe.ea=_e,fe.W=0+De+te,fe.Db=S,fe.Ed=te,w==12&&(fe.F=_e,fe.J=0+De+2*te),fe.Tc=se,fe.lb=K)}if(S=1,K=H.S,te=H.width,se=H.height,K>=ad&&13>K)if(11>K)w=H.f.RGBA,S&=(le=Math.abs(w.A))*(se-1)+te<=w.size,S&=le>=te*Gf[K],S&=w.eb!=null;else{w=H.f.kb,le=(te+1)/2,De=(se+1)/2,fe=Math.abs(w.fa),_e=Math.abs(w.Ab);var tt=Math.abs(w.Db),nt=Math.abs(w.lb),qe=nt*(se-1)+te;S&=fe*(se-1)+te<=w.Fd,S&=_e*(De-1)+le<=w.Cd,S=(S&=tt*(De-1)+le<=w.Ed)&fe>=te&_e>=le&tt>=le,S&=w.y!=null,S&=w.f!=null,S&=w.ea!=null,K==12&&(S&=nt>=te,S&=qe<=w.Tc,S&=w.F!=null)}else S=0;w=S?0:2}}return w!=0||F!=null&&F.fd&&(w=cu(H)),w}var Wr=64,uu=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],fu=24,hu=32,du=8,ns=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ie("Predictor0","PredictorAdd0"),I.Predictor0=function(){return 4278190080},I.Predictor1=function(w){return w},I.Predictor2=function(w,S,F){return S[F+0]},I.Predictor3=function(w,S,F){return S[F+1]},I.Predictor4=function(w,S,F){return S[F-1]},I.Predictor5=function(w,S,F){return Et(Et(w,S[F+1]),S[F+0])},I.Predictor6=function(w,S,F){return Et(w,S[F-1])},I.Predictor7=function(w,S,F){return Et(w,S[F+0])},I.Predictor8=function(w,S,F){return Et(S[F-1],S[F+0])},I.Predictor9=function(w,S,F){return Et(S[F+0],S[F+1])},I.Predictor10=function(w,S,F){return Et(Et(w,S[F-1]),Et(S[F+0],S[F+1]))},I.Predictor11=function(w,S,F){var H=S[F+0];return 0>=Ne(H>>24&255,w>>24&255,(S=S[F-1])>>24&255)+Ne(H>>16&255,w>>16&255,S>>16&255)+Ne(H>>8&255,w>>8&255,S>>8&255)+Ne(255&H,255&w,255&S)?H:w},I.Predictor12=function(w,S,F){var H=S[F+0];return(ce((w>>24&255)+(H>>24&255)-((S=S[F-1])>>24&255))<<24|ce((w>>16&255)+(H>>16&255)-(S>>16&255))<<16|ce((w>>8&255)+(H>>8&255)-(S>>8&255))<<8|ce((255&w)+(255&H)-(255&S)))>>>0},I.Predictor13=function(w,S,F){var H=S[F-1];return(Y((w=Et(w,S[F+0]))>>24&255,H>>24&255)<<24|Y(w>>16&255,H>>16&255)<<16|Y(w>>8&255,H>>8&255)<<8|Y(w>>0&255,H>>0&255))>>>0};var lc=I.PredictorAdd0;I.PredictorAdd1=$e,Ie("Predictor2","PredictorAdd2"),Ie("Predictor3","PredictorAdd3"),Ie("Predictor4","PredictorAdd4"),Ie("Predictor5","PredictorAdd5"),Ie("Predictor6","PredictorAdd6"),Ie("Predictor7","PredictorAdd7"),Ie("Predictor8","PredictorAdd8"),Ie("Predictor9","PredictorAdd9"),Ie("Predictor10","PredictorAdd10"),Ie("Predictor11","PredictorAdd11"),Ie("Predictor12","PredictorAdd12"),Ie("Predictor13","PredictorAdd13");var Co=I.PredictorAdd2;Ye("ColorIndexInverseTransform","MapARGB","32b",function(w){return w>>8&255},function(w){return w}),Ye("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(w){return w},function(w){return w>>8&255});var sd,rs=I.ColorIndexInverseTransform,pu=I.MapARGB,Df=I.VP8LColorIndexInverseTransformAlpha,mu=I.MapAlpha,io=I.VP8LPredictorsAdd=[];io.length=16,(I.VP8LPredictors=[]).length=16,(I.VP8LPredictorsAdd_C=[]).length=16,(I.VP8LPredictors_C=[]).length=16;var Sl,is,Vi,El,Po,ko,gu,Ro,Qn,Lo,Wi,$s,cc,If,uc,fc,hc,Ys,No,so,Fo,Do,Al,Ri,ms,yr,ur,Gr,ri=s(511),ao=s(2041),xu=s(225),dc=s(767),Of=0,oo=ao,vu=xu,ss=dc,pa=ri,ad=0,Tl=1,zm=2,Uf=3,Bf=4,wr=5,od=6,_u=7,pc=8,zf=9,Hf=10,jf=[2,3,7],ld=[3,3,11],mc=[280,256,256,256,40],Hm=[0,1,1,1,0],vv=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],_v=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],jm=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],cd=8,yu=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Vf=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],gc=null,j0=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],V0=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Vm=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Wm=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],yv=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],wv=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],W0=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],as=[],ma=[],gs=[],lo=1,wu=2,Gi=[],xs=[];vt("UpsampleRgbLinePair",Vn,3),vt("UpsampleBgrLinePair",Ir,3),vt("UpsampleRgbaLinePair",Ba,4),vt("UpsampleBgraLinePair",Ai,4),vt("UpsampleArgbLinePair",ji,4),vt("UpsampleRgba4444LinePair",ni,2),vt("UpsampleRgb565LinePair",Vr,2);var bv=I.UpsampleRgbLinePair,Sv=I.UpsampleBgrLinePair,Ml=I.UpsampleRgbaLinePair,bu=I.UpsampleBgraLinePair,xc=I.UpsampleArgbLinePair,Wf=I.UpsampleRgba4444LinePair,G0=I.UpsampleRgb565LinePair,Io=16,za=1<<Io-1,fr=-227,mr=482,Cl=6,Li=0,vs=s(256),vc=s(256),Su=s(256),_s=s(256),ud=s(mr-fr),Gm=s(mr-fr);da("YuvToRgbRow",Vn,3),da("YuvToBgrRow",Ir,3),da("YuvToRgbaRow",Ba,4),da("YuvToBgraRow",Ai,4),da("YuvToArgbRow",ji,4),da("YuvToRgba4444Row",ni,2),da("YuvToRgb565Row",Vr,2);var q0=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],_c=[0,2,8],qm=[8,7,6,4,4,2,2,2,1,1,1,1],Oo=1;this.WebPDecodeRGBA=function(w,S,F,H,K){var te=Tl,se=new ro,le=new Tt;se.ba=le,le.S=te,le.width=[le.width],le.height=[le.height];var fe=le.width,_e=le.height,De=new Vt;if(De==null||w==null)var tt=2;else e(De!=null),tt=ac(w,S,F,De.width,De.height,De.Pd,De.Qd,De.format,null);if(tt!=0?fe=0:(fe!=null&&(fe[0]=De.width[0]),_e!=null&&(_e[0]=De.height[0]),fe=1),fe){le.width=le.width[0],le.height=le.height[0],H!=null&&(H[0]=le.width),K!=null&&(K[0]=le.height);e:{if(H=new yn,(K=new yl).data=w,K.w=S,K.ha=F,K.kd=1,S=[0],e(K!=null),((w=ac(K.data,K.w,K.ha,null,null,null,S,null,K))==0||w==7)&&S[0]&&(w=4),(S=w)==0){if(e(se!=null),H.data=K.data,H.w=K.w+K.offset,H.ha=K.ha-K.offset,H.put=An,H.ac=_n,H.bc=Cr,H.ma=se,K.xa){if((w=dt())==null){se=1;break e}if(function(nt,qe){var Mt=[0],pt=[0],Be=[0];t:for(;;){if(nt==null)return 0;if(qe==null)return nt.a=2,0;if(nt.l=qe,nt.a=0,J(nt.m,qe.data,qe.w,qe.ha),!Qt(nt.m,Mt,pt,Be)){nt.a=3;break t}if(nt.xb=wu,qe.width=Mt[0],qe.height=pt[0],!rt(Mt[0],pt[0],1,nt,null))break t;return 1}return e(nt.a!=0),0}(w,H)){if(H=(S=oc(H.width,H.height,se.Oa,se.ba))==0){t:{H=w;n:for(;;){if(H==null){H=0;break t}if(e(H.s.yc!=null),e(H.s.Ya!=null),e(0<H.s.Wb),e((F=H.l)!=null),e((K=F.ma)!=null),H.xb!=0){if(H.ca=K.ba,H.tb=K.tb,e(H.ca!=null),!lu(K.Oa,F,Uf)){H.a=2;break n}if(!at(H,F.width)||F.da)break n;if((F.da||Bt(H.ca.S))&&et(),11>H.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),H.ca.f.kb.F!=null&&et()),H.Pb&&0<H.s.ua&&H.s.vb.X==null&&!ye(H.s.vb,H.s.Wa.Xa)){H.a=1;break n}H.xb=0}if(!Ee(H,H.V,H.Ba,H.c,H.i,F.o,be))break n;K.Dc=H.Ma,H=1;break t}e(H.a!=0),H=0}H=!H}H&&(S=w.a)}else S=w.a}else{if((w=new hn)==null){se=1;break e}if(w.Fa=K.na,w.P=K.P,w.qc=K.Sa,Bn(w,H)){if((S=oc(H.width,H.height,se.Oa,se.ba))==0){if(w.Aa=0,F=se.Oa,e((K=w)!=null),F!=null){if(0<(fe=0>(fe=F.Md)?0:100<fe?255:255*fe/100)){for(_e=De=0;4>_e;++_e)12>(tt=K.pb[_e]).lc&&(tt.ia=fe*qm[0>tt.lc?0:tt.lc]>>3),De|=tt.ia;De&&(alert("todo:VP8InitRandom"),K.ia=1)}K.Ga=F.Id,100<K.Ga?K.Ga=100:0>K.Ga&&(K.Ga=0)}On(w,H)||(S=w.a)}}else S=w.a}S==0&&se.Oa!=null&&se.Oa.fd&&(S=cu(se.ba))}se=S}te=se!=0?null:11>te?le.f.RGBA.eb:le.f.kb.y}else te=null;return te};var Gf=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(I,R){for(var O="",N=0;N<4;N++)O+=String.fromCharCode(I[R++]);return O}function f(I,R){return(I[R+0]<<0|I[R+1]<<8|I[R+2]<<16)>>>0}function d(I,R){return(I[R+0]<<0|I[R+1]<<8|I[R+2]<<16|I[R+3]<<24)>>>0}new l;var p=[0],m=[0],_=[],x=new l,g=n,y=function(I,R){var O={},N=0,k=!1,j=0,G=0;if(O.frames=[],!function(W,z,V,ee){for(var de=0;de<ee;de++)if(W[z+de]!=V.charCodeAt(de))return!0;return!1}(I,R,"RIFF",4)){for(d(I,R+=4),R+=8;R<I.length;){var ae=c(I,R),ie=d(I,R+=4);R+=4;var ue=ie+(1&ie);switch(ae){case"VP8 ":case"VP8L":O.frames[N]===void 0&&(O.frames[N]={}),(pe=O.frames[N]).src_off=k?G:R-8,pe.src_size=j+ie+8,N++,k&&(k=!1,j=0,G=0);break;case"VP8X":(pe=O.header={}).feature_flags=I[R];var J=R+4;pe.canvas_width=1+f(I,J),J+=3,pe.canvas_height=1+f(I,J),J+=3;break;case"ALPH":k=!0,j=ue+8,G=R-8;break;case"ANIM":(pe=O.header).bgcolor=d(I,R),J=R+4,pe.loop_count=(oe=I)[(C=J)+0]<<0|oe[C+1]<<8,J+=2;break;case"ANMF":var X,pe;(pe=O.frames[N]={}).offset_x=2*f(I,R),R+=3,pe.offset_y=2*f(I,R),R+=3,pe.width=1+f(I,R),R+=3,pe.height=1+f(I,R),R+=3,pe.duration=f(I,R),R+=3,X=I[R++],pe.dispose=1&X,pe.blend=X>>1&1}ae!="ANMF"&&(R+=ue)}var oe,C;return O}}(g,0);y.response=g,y.rgbaoutput=!0,y.dataurl=!1;var A=y.header?y.header:null,E=y.frames?y.frames:null;if(A){A.loop_counter=A.loop_count,p=[A.canvas_height],m=[A.canvas_width];for(var M=0;M<E.length&&E[M].blend!=0;M++);}var D=E[0],U=x.WebPDecodeRGBA(g,D.src_off,D.src_size,m,p);D.rgba=U,D.imgwidth=m[0],D.imgheight=p[0];for(var L=0;L<m[0]*p[0]*4;L++)_[L]=U[L];return this.width=m,this.height=p,this.data=_,this}(function(n){var e=function(){return typeof By=="function"},t=function(p,m,_,x){var g=4,y=a;switch(x){case n.image_compression.FAST:g=1,y=s;break;case n.image_compression.MEDIUM:g=6,y=o;break;case n.image_compression.SLOW:g=9,y=l}p=r(p,m,_,y);var A=By(p,{level:g});return n.__addimage__.arrayBufferToBinaryString(A)},r=function(p,m,_,x){for(var g,y,A,E=p.length/m,M=new Uint8Array(p.length+E),D=f(),U=0;U<E;U+=1){if(A=U*m,g=p.subarray(A,A+m),x)M.set(x(g,_,y),A+U);else{for(var L,I=D.length,R=[];L<I;L+=1)R[L]=D[L](g,_,y);var O=d(R.concat());M.set(R[O],A+U)}y=g}return M},i=function(p){var m=Array.apply([],p);return m.unshift(0),m},s=function(p,m){var _,x=[],g=p.length;x[0]=1;for(var y=0;y<g;y+=1)_=p[y-m]||0,x[y+1]=p[y]-_+256&255;return x},a=function(p,m,_){var x,g=[],y=p.length;g[0]=2;for(var A=0;A<y;A+=1)x=_&&_[A]||0,g[A+1]=p[A]-x+256&255;return g},o=function(p,m,_){var x,g,y=[],A=p.length;y[0]=3;for(var E=0;E<A;E+=1)x=p[E-m]||0,g=_&&_[E]||0,y[E+1]=p[E]+256-(x+g>>>1)&255;return y},l=function(p,m,_){var x,g,y,A,E=[],M=p.length;E[0]=4;for(var D=0;D<M;D+=1)x=p[D-m]||0,g=_&&_[D]||0,y=_&&_[D-m]||0,A=c(x,g,y),E[D+1]=p[D]-A+256&255;return E},c=function(p,m,_){if(p===m&&m===_)return p;var x=Math.abs(m-_),g=Math.abs(p-_),y=Math.abs(p+m-_-_);return x<=g&&x<=y?p:g<=y?m:_},f=function(){return[i,s,a,o,l]},d=function(p){var m=p.map(function(_){return _.reduce(function(x,g){return x+Math.abs(g)},0)});return m.indexOf(Math.min.apply(null,m))};n.processPNG=function(p,m,_,x){var g,y,A,E,M,D,U,L,I,R,O,N,k,j,G,ae=this.decode.FLATE_DECODE,ie="";if(this.__addimage__.isArrayBuffer(p)&&(p=new Uint8Array(p)),this.__addimage__.isArrayBufferView(p)){if(p=(A=new Uq(p)).imgData,y=A.bits,g=A.colorSpace,M=A.colors,[4,6].indexOf(A.colorType)!==-1){if(A.bits===8){I=(L=A.pixelBitlength==32?new Uint32Array(A.decodePixels().buffer):A.pixelBitlength==16?new Uint16Array(A.decodePixels().buffer):new Uint8Array(A.decodePixels().buffer)).length,O=new Uint8Array(I*A.colors),R=new Uint8Array(I);var ue,J=A.pixelBitlength-A.bits;for(j=0,G=0;j<I;j++){for(k=L[j],ue=0;ue<J;)O[G++]=k>>>ue&255,ue+=A.bits;R[j]=k>>>ue&255}}if(A.bits===16){I=(L=new Uint32Array(A.decodePixels().buffer)).length,O=new Uint8Array(I*(32/A.pixelBitlength)*A.colors),R=new Uint8Array(I*(32/A.pixelBitlength)),N=A.colors>1,j=0,G=0;for(var X=0;j<I;)k=L[j++],O[G++]=k>>>0&255,N&&(O[G++]=k>>>16&255,k=L[j++],O[G++]=k>>>0&255),R[X++]=k>>>16&255;y=8}x!==n.image_compression.NONE&&e()?(p=t(O,A.width*A.colors,A.colors,x),U=t(R,A.width,1,x)):(p=O,U=R,ae=void 0)}if(A.colorType===3&&(g=this.color_spaces.INDEXED,D=A.palette,A.transparency.indexed)){var pe=A.transparency.indexed,oe=0;for(j=0,I=pe.length;j<I;++j)oe+=pe[j];if((oe/=255)===I-1&&pe.indexOf(0)!==-1)E=[pe.indexOf(0)];else if(oe!==I){for(L=A.decodePixels(),R=new Uint8Array(L.length),j=0,I=L.length;j<I;j++)R[j]=pe[L[j]];U=t(R,A.width,1)}}var C=function(W){var z;switch(W){case n.image_compression.FAST:z=11;break;case n.image_compression.MEDIUM:z=13;break;case n.image_compression.SLOW:z=14;break;default:z=12}return z}(x);return ae===this.decode.FLATE_DECODE&&(ie="/Predictor "+C+" "),ie+="/Colors "+M+" /BitsPerComponent "+y+" /Columns "+A.width,(this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),(U&&this.__addimage__.isArrayBuffer(U)||this.__addimage__.isArrayBufferView(U))&&(U=this.__addimage__.arrayBufferToBinaryString(U)),{alias:_,data:p,index:m,filter:ae,decodeParameters:ie,transparency:E,palette:D,sMask:U,predictor:C,width:A.width,height:A.height,bitsPerComponent:y,colorSpace:g}}}})(gn.API),function(n){n.processGIF89A=function(e,t,r,i){var s=new Bq(e),a=s.width,o=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:a,height:o},f=new l_(100).encode(c,100);return n.processJPEG.call(this,f,t,r,i)},n.processGIF87A=n.processGIF89A}(gn.API),Ko.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:t,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ko.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(t){kr.log("bit decode error:"+t)}},Ko.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var l=this.palette[s>>7-o&1];this.data[a+4*o]=l.blue,this.data[a+4*o+1]=l.green,this.data[a+4*o+2]=l.red,this.data[a+4*o+3]=255}t!==0&&(this.pos+=4-t)}},Ko.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<n;i++){var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+2*i*4,o=s>>4,l=15&s,c=this.palette[o];if(this.data[a]=c.blue,this.data[a+1]=c.green,this.data[a+2]=c.red,this.data[a+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[a+4]=c.blue,this.data[a+4+1]=c.green,this.data[a+4+2]=c.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},Ko.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;if(i<this.palette.length){var a=this.palette[i];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}n!==0&&(this.pos+=4-n)}},Ko.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,o=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,c=s>>15?255:0,f=r*this.width*4+4*i;this.data[f]=l,this.data[f+1]=o,this.data[f+2]=a,this.data[f+3]=c}this.pos+=n}},Ko.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,l=(a>>5&t)/t*255|0,c=(a>>11)/e*255|0,f=i*this.width*4+4*s;this.data[f]=c,this.data[f+1]=l,this.data[f+2]=o,this.data[f+3]=255}this.pos+=n}},Ko.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*t;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=255}this.pos+=this.width%4}},Ko.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*t;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=a}},Ko.prototype.getData=function(){return this.data},function(n){n.processBMP=function(e,t,r,i){var s=new Ko(e,!1),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},c=new l_(100).encode(l,100);return n.processJPEG.call(this,c,t,r,i)}}(gn.API),ZT.prototype.getData=function(){return this.data},function(n){n.processWEBP=function(e,t,r,i){var s=new ZT(e),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},c=new l_(100).encode(l,100);return n.processJPEG.call(this,c,t,r,i)}}(gn.API),gn.API.processRGBA=function(n,e,t){for(var r=n.data,i=r.length,s=new Uint8Array(i/4*3),a=new Uint8Array(i/4),o=0,l=0,c=0;c<i;c+=4){var f=r[c],d=r[c+1],p=r[c+2],m=r[c+3];s[o++]=f,s[o++]=d,s[o++]=p,a[l++]=m}var _=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:_,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},gn.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Rd=gn.API,Xg=Rd.getCharWidthsArray=function(n,e){var t,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:i.metadata.Unicode.widths,l=o.fof?o.fof:1,c=e.kerning?e.kerning:i.metadata.Unicode.kerning,f=c.fof?c.fof:1,d=e.doKerning!==!1,p=0,m=n.length,_=0,x=o[0]||l,g=[];for(t=0;t<m;t++)r=n.charCodeAt(t),typeof i.metadata.widthOfString=="function"?g.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+a*(1e3/s)||0)/1e3):(p=d&&lr(c[r])==="object"&&!isNaN(parseInt(c[r][_],10))?c[r][_]/f:0,g.push((o[r]||x)/l+p)),_=r;return g},$T=Rd.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Rd.processArabic&&(n=Rd.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,t,i)/t:Xg.apply(this,arguments).reduce(function(s,a){return s+a},0)},YT=function(n,e,t,r){for(var i=[],s=0,a=n.length,o=0;s!==a&&o+e[s]<t;)o+=e[s],s++;i.push(n.slice(0,s));var l=s;for(o=0;s!==a;)o+e[s]>r&&(i.push(n.slice(l,s)),o=0,l=s),o+=e[s],s++;return l!==s&&i.push(n.slice(l,s)),i},KT=function(n,e,t){t||(t={});var r,i,s,a,o,l,c,f=[],d=[f],p=t.textIndent||0,m=0,_=0,x=n.split(" "),g=Xg.apply(this,[" ",t])[0];if(l=t.lineIndent===-1?x[0].length+2:t.lineIndent||0){var y=Array(l).join(" "),A=[];x.map(function(M){(M=M.split(/\s*\n/)).length>1?A=A.concat(M.map(function(D,U){return(U&&D.length?`
`:"")+D})):A.push(M[0])}),x=A,l=$T.apply(this,[y,t])}for(s=0,a=x.length;s<a;s++){var E=0;if(r=x[s],l&&r[0]==`
`&&(r=r.substr(1),E=1),p+m+(_=(i=Xg.apply(this,[r,t])).reduce(function(M,D){return M+D},0))>e||E){if(_>e){for(o=YT.apply(this,[r,i,e-(p+m),e]),f.push(o.shift()),f=[o.pop()];o.length;)d.push([o.shift()]);_=i.slice(r.length-(f[0]?f[0].length:0)).reduce(function(M,D){return M+D},0)}else f=[r];d.push(f),p=_+l,m=g}else f.push(r),p+=m+_,m=g}return c=l?function(M,D){return(D?y:"")+M.join(" ")}:function(M){return M.join(" ")},d.map(c)},Rd.splitTextToSize=function(n,e,t){var r,i=(t=t||{}).fontSize||this.internal.getFontSize(),s=(function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var d=this.internal.getFont(f.fontName,f.fontStyle);return d.metadata.Unicode?{widths:d.metadata.Unicode.widths||{0:1},kerning:d.metadata.Unicode.kerning||{}}:{font:d.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/i;s.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=t.lineIndent;var o,l,c=[];for(o=0,l=r.length;o<l;o++)c=c.concat(KT.apply(this,[r[o],a,s]));return c},function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",t={},r={},i=0;i<e.length;i++)t[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var s=function(d){return"0x"+parseInt(d,10).toString(16)},a=n.__fontmetrics__.compress=function(d){var p,m,_,x,g=["{"];for(var y in d){if(p=d[y],isNaN(parseInt(y,10))?m="'"+y+"'":(y=parseInt(y,10),m=(m=s(y).slice(2)).slice(0,-1)+r[m.slice(-1)]),typeof p=="number")p<0?(_=s(p).slice(3),x="-"):(_=s(p).slice(2),x=""),_=x+_.slice(0,-1)+r[_.slice(-1)];else{if(lr(p)!=="object")throw new Error("Don't know what to do with value type "+lr(p)+".");_=a(p)}g.push(m+_)}return g.push("}"),g.join("")},o=n.__fontmetrics__.uncompress=function(d){if(typeof d!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,m,_,x,g={},y=1,A=g,E=[],M="",D="",U=d.length-1,L=1;L<U;L+=1)(x=d[L])=="'"?p?(_=p.join(""),p=void 0):p=[]:p?p.push(x):x=="{"?(E.push([A,_]),A={},_=void 0):x=="}"?((m=E.pop())[0][m[1]]=A,_=void 0,A=m[0]):x=="-"?y=-1:_===void 0?t.hasOwnProperty(x)?(M+=t[x],_=parseInt(M,16)*y,y=1,M=""):M+=x:t.hasOwnProperty(x)?(D+=t[x],A[_]=parseInt(D,16)*y,y=1,_=void 0,D=""):D+=x;return g},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},f={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(d){var p=d.font,m=f.Unicode[p.postScriptName];m&&(p.metadata.Unicode={},p.metadata.Unicode.widths=m.widths,p.metadata.Unicode.kerning=m.kerning);var _=c.Unicode[p.postScriptName];_&&(p.metadata.Unicode.encoding=_,p.encoding=_.codePages[0])}])}(gn.API),function(n){var e=function(t){for(var r=t.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=t.charCodeAt(s);return i};n.API.events.push(["addFont",function(t){var r=void 0,i=t.font,s=t.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(a,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(Zp(o)),a.metadata=n.API.TTFFont.open(o),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(i,r)}}])}(gn),function(n){function e(){return(vn.canvg?Promise.resolve(vn.canvg):Fy(()=>import("./index.es-BY8bO01X.js"),[])).catch(function(t){return Promise.reject(new Error("Could not load canvg: "+t))}).then(function(t){return t.default?t.default:t})}gn.API.addSvgAsImage=function(t,r,i,s,a,o,l,c){if(isNaN(r)||isNaN(i))throw kr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(a))throw kr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=s,f.height=a;var d=f.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,f.width,f.height);var p={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return e().then(function(_){return _.fromString(d,t,p)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(_){return _.render(p)}).then(function(){m.addImage(f.toDataURL("image/jpeg",1),r,i,s,a,l,c)})}}(),gn.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,t);return this},gn.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var r,i,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),l=[],c=0,f=0,d=0;function p(_,x){var g,y=!1;for(g=0;g<_.length;g+=1)_[g]===x&&(y=!0);return y}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var m=o.length;for(d=0;d<m;d+=1)t[o[d]].value=t[o[d]].defaultValue,t[o[d]].explicitSet=!1}if(lr(n)==="object"){for(i in n)if(s=n[i],p(o,i)&&s!==void 0){if(t[i].type==="boolean"&&typeof s=="boolean")t[i].value=s;else if(t[i].type==="name"&&p(t[i].valueSet,s))t[i].value=s;else if(t[i].type==="integer"&&Number.isInteger(s))t[i].value=s;else if(t[i].type==="array"){for(c=0;c<s.length;c+=1)if(r=!0,s[c].length===1&&typeof s[c][0]=="number")l.push(String(s[c]-1));else if(s[c].length>1){for(f=0;f<s[c].length;f+=1)typeof s[c][f]!="number"&&(r=!1);r===!0&&l.push([s[c][0]-1,s[c][1]-1].join(" "))}t[i].value="["+l.join(" ")+"]"}else t[i].value=t[i].defaultValue;t[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var _,x=[];for(_ in t)t[_].explicitSet===!0&&(t[_].type==="name"?x.push("/"+_+" /"+t[_].value):x.push("/"+_+" "+t[_].value));x.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+x.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},function(n){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=s.length+a.length+o.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+s+a+o+l),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}}(gn.API),function(n){var e=n.API,t=e.pdfEscape16=function(s,a){for(var o,l=a.metadata.Unicode.widths,c=["","0","00","000","0000"],f=[""],d=0,p=s.length;d<p;++d){if(o=a.metadata.characterToGlyph(s.charCodeAt(d)),a.metadata.glyIdsUsed.push(o),a.metadata.toUnicode[o]=s.charCodeAt(d),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(a.metadata.widthOfGlyph(o),10)])),o=="0")return f.join("");o=o.toString(16),f.push(c[4-o.length],o)}return f.join("")},r=function(s){var a,o,l,c,f,d,p;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],d=0,p=(o=Object.keys(s).sort(function(m,_){return m-_})).length;d<p;d++)a=o[d],l.length>=100&&(f+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(c=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),l.push("<"+a+"><"+c+">"));return l.length&&(f+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),f+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,c=a.newObject,f=a.putStream;if(o.metadata instanceof n.API.TTFFont&&o.encoding==="Identity-H"){for(var d=o.metadata.Unicode.widths,p=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),m="",_=0;_<p.length;_++)m+=String.fromCharCode(p[_]);var x=c();f({data:m,addLength1:!0,objectId:x}),l("endobj");var g=c();f({data:r(o.metadata.toUnicode),addLength1:!0,objectId:g}),l("endobj");var y=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Zd(o.fontName)),l("/FontFile2 "+x+" 0 R"),l("/FontBBox "+n.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var A=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+Zd(o.fontName)),l("/FontDescriptor "+y+" 0 R"),l("/W "+n.API.PDFObject.convert(d)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+g+" 0 R"),l("/BaseFont /"+Zd(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+A+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,c=a.newObject,f=a.putStream;if(o.metadata instanceof n.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var d=o.metadata.rawData,p="",m=0;m<d.length;m++)p+=String.fromCharCode(d[m]);var _=c();f({data:p,addLength1:!0,objectId:_}),l("endobj");var x=c();f({data:r(o.metadata.toUnicode),addLength1:!0,objectId:x}),l("endobj");var g=c();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+_+" 0 R"),l("/Flags 96"),l("/FontBBox "+n.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+Zd(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=c();for(var y=0;y<o.metadata.hmtx.widths.length;y++)o.metadata.hmtx.widths[y]=parseInt(o.metadata.hmtx.widths[y]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+x+" 0 R/BaseFont/"+Zd(o.fontName)+"/FontDescriptor "+g+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]);var i=function(s){var a,o=s.text||"",l=s.x,c=s.y,f=s.options||{},d=s.mutex||{},p=d.pdfEscape,m=d.activeFontKey,_=d.fonts,x=m,g="",y=0,A="",E=_[x].encoding;if(_[x].encoding!=="Identity-H")return{text:o,x:l,y:c,options:f,mutex:d};for(A=o,x=m,Array.isArray(o)&&(A=o[0]),y=0;y<A.length;y+=1)_[x].metadata.hasOwnProperty("cmap")&&(a=_[x].metadata.cmap.unicode.codeMap[A[y].charCodeAt(0)]),a||A[y].charCodeAt(0)<256&&_[x].metadata.hasOwnProperty("Unicode")?g+=A[y]:g+="";var M="";return parseInt(x.slice(1))<14||E==="WinAnsiEncoding"?M=p(g,x).split("").map(function(D){return D.charCodeAt(0).toString(16)}).join(""):E==="Identity-H"&&(M=t(g,_[x])),d.isHex=!0,{text:M,x:l,y:c,options:f,mutex:d}};e.events.push(["postProcessText",function(s){var a=s.text||"",o=[],l={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var c=0;for(c=0;c<a.length;c+=1)Array.isArray(a[c])&&a[c].length===3?o.push([i(Object.assign({},l,{text:a[c][0]})).text,a[c][1],a[c][2]]):o.push(i(Object.assign({},l,{text:a[c]})).text);s.text=o}else s.text=i(Object.assign({},l,{text:a})).text}])}(gn),function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}}(gn.API),function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var i,s,a,o,l,c,f,d=e,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],_={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},x={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},g=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],y=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),A=!1,E=0;this.__bidiEngine__={};var M=function(N){var k=N.charCodeAt(),j=k>>8,G=x[j];return G!==void 0?d[256*G+(255&k)]:j===252||j===253?"AL":y.test(j)?"L":j===8?"R":"N"},D=function(N){for(var k,j=0;j<N.length;j++){if((k=M(N.charAt(j)))==="L")return!1;if(k==="R")return!0}return!1},U=function(N,k,j,G){var ae,ie,ue,J,X=k[G];switch(X){case"L":case"R":A=!1;break;case"N":case"AN":break;case"EN":A&&(X="AN");break;case"AL":A=!0,X="R";break;case"WS":X="N";break;case"CS":G<1||G+1>=k.length||(ae=j[G-1])!=="EN"&&ae!=="AN"||(ie=k[G+1])!=="EN"&&ie!=="AN"?X="N":A&&(ie="AN"),X=ie===ae?ie:"N";break;case"ES":X=(ae=G>0?j[G-1]:"B")==="EN"&&G+1<k.length&&k[G+1]==="EN"?"EN":"N";break;case"ET":if(G>0&&j[G-1]==="EN"){X="EN";break}if(A){X="N";break}for(ue=G+1,J=k.length;ue<J&&k[ue]==="ET";)ue++;X=ue<J&&k[ue]==="EN"?"EN":"N";break;case"NSM":if(a&&!o){for(J=k.length,ue=G+1;ue<J&&k[ue]==="NSM";)ue++;if(ue<J){var pe=N[G],oe=pe>=1425&&pe<=2303||pe===64286;if(ae=k[ue],oe&&(ae==="R"||ae==="AL")){X="R";break}}}X=G<1||(ae=k[G-1])==="B"?"N":j[G-1];break;case"B":A=!1,i=!0,X=E;break;case"S":s=!0,X="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":A=!1;break;case"BN":X="N"}return X},L=function(N,k,j){var G=N.split("");return j&&I(G,j,{hiLevel:E}),G.reverse(),k&&k.reverse(),G.join("")},I=function(N,k,j){var G,ae,ie,ue,J,X=-1,pe=N.length,oe=0,C=[],W=E?m:p,z=[];for(A=!1,i=!1,s=!1,ae=0;ae<pe;ae++)z[ae]=M(N[ae]);for(ie=0;ie<pe;ie++){if(J=oe,C[ie]=U(N,z,C,ie),G=240&(oe=W[J][_[C[ie]]]),oe&=15,k[ie]=ue=W[oe][5],G>0)if(G===16){for(ae=X;ae<ie;ae++)k[ae]=1;X=-1}else X=-1;if(W[oe][6])X===-1&&(X=ie);else if(X>-1){for(ae=X;ae<ie;ae++)k[ae]=ue;X=-1}z[ie]==="B"&&(k[ie]=0),j.hiLevel|=ue}s&&function(V,ee,de){for(var ve=0;ve<de;ve++)if(V[ve]==="S"){ee[ve]=E;for(var we=ve-1;we>=0&&V[we]==="WS";we--)ee[we]=E}}(z,k,pe)},R=function(N,k,j,G,ae){if(!(ae.hiLevel<N)){if(N===1&&E===1&&!i)return k.reverse(),void(j&&j.reverse());for(var ie,ue,J,X,pe=k.length,oe=0;oe<pe;){if(G[oe]>=N){for(J=oe+1;J<pe&&G[J]>=N;)J++;for(X=oe,ue=J-1;X<ue;X++,ue--)ie=k[X],k[X]=k[ue],k[ue]=ie,j&&(ie=j[X],j[X]=j[ue],j[ue]=ie);oe=J}oe++}}},O=function(N,k,j){var G=N.split(""),ae={hiLevel:E};return j||(j=[]),I(G,j,ae),function(ie,ue,J){if(J.hiLevel!==0&&f)for(var X,pe=0;pe<ie.length;pe++)ue[pe]===1&&(X=g.indexOf(ie[pe]))>=0&&(ie[pe]=g[X+1])}(G,j,ae),R(2,G,k,j,ae),R(1,G,k,j,ae),G.join("")};return this.__bidiEngine__.doBidiReorder=function(N,k,j){if(function(ae,ie){if(ie)for(var ue=0;ue<ae.length;ue++)ie[ue]=ue;o===void 0&&(o=D(ae)),c===void 0&&(c=D(ae))}(N,k),a||!l||c)if(a&&l&&o^c)E=o?1:0,N=L(N,k,j);else if(!a&&l&&c)E=o?1:0,N=O(N,k,j),N=L(N,k);else if(!a||o||l||c){if(a&&!l&&o^c)N=L(N,k),o?(E=0,N=O(N,k,j)):(E=1,N=O(N,k,j),N=L(N,k));else if(a&&o&&!l&&c)E=1,N=O(N,k,j),N=L(N,k);else if(!a&&!l&&o^c){var G=f;o?(E=1,N=O(N,k,j),E=0,f=!1,N=O(N,k,j),f=G):(E=0,N=O(N,k,j),N=L(N,k),E=1,f=!1,N=O(N,k,j),f=G,N=L(N,k))}}else E=0,N=O(N,k,j);else E=o?1:0,N=O(N,k,j);return N},this.__bidiEngine__.setOptions=function(N){N&&(a=N.isInputVisual,l=N.isOutputVisual,o=N.isInputRtl,c=N.isOutputRtl,f=N.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var a=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,t.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(a=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?a.push([t.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):a.push([t.doBidiReorder(i[o])]);r.text=a}else r.text=t.doBidiReorder(i);t.setOptions({isInputVisual:!0})}])}(gn),gn.API.TTFFont=function(){function n(e){var t;if(this.rawData=e,t=this.contents=new yf(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new eX(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new zq(this.contents),this.head=new jq(this),this.name=new Xq(this),this.cmap=new ak(this),this.toUnicode={},this.hhea=new Vq(this),this.maxp=new $q(this),this.hmtx=new Yq(this),this.post=new Gq(this),this.os2=new Wq(this),this.loca=new Qq(this),this.glyf=new Kq(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,o,l,c;for(c=[],a=0,o=(l=this.bbox).length;a<o;a++)e=l[a],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),(32768&(t=i>>16))!=0&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,r){var i,s,a,o;for(a=0,s=0,o=(e=""+e).length;0<=o?s<o:s>o;s=0<=o?++s:--s)i=e.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/t)||0;return a*(t/1e3)},n.prototype.lineHeight=function(e,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},n}();var pl,yf=function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(e){var t,r,i;for(i=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)i.push(this.writeByte(e.charCodeAt(t)));return i},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,r,i,s,a,o,l;return e=this.readByte(),t=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^a)+256*(255^o)+(255^l)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*i+16777216*s+65536*a+256*o+l},n.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},n.prototype.write=function(e){var t,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)t=e[r],s.push(this.writeByte(t));return s},n}(),zq=function(){var n;function e(t){var r,i,s;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,i,s,a,o,l,c,f,d,p,m,_,x;for(x in m=Object.keys(t).length,l=Math.log(2),d=16*Math.floor(Math.log(m)/l),a=Math.floor(d/l),f=16*m-d,(i=new yf).writeInt(this.scalarType),i.writeShort(m),i.writeShort(d),i.writeShort(a),i.writeShort(f),s=16*m,c=i.pos+s,o=null,_=[],t)for(p=t[x],i.writeString(x),i.writeInt(n(p)),i.writeInt(c),i.writeInt(p.length),_=_.concat(p),x==="head"&&(o=c),c+=p.length;c%4;)_.push(0),c++;return i.write(_),r=2981146554-n(i.data),i.pos=o+8,i.writeUInt32(r),i.data},n=function(t){var r,i,s,a;for(t=ok.call(t);t.length%4;)t.push(0);for(s=new yf(t),i=0,r=0,a=t.length;r<a;r=r+=4)i+=s.readUInt32();return 4294967295&i},e}(),Hq={}.hasOwnProperty,Zl=function(n,e){for(var t in e)Hq.call(e,t)&&(n[t]=e[t]);function r(){this.constructor=n}return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n};pl=function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n}();var jq=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Zl(e,pl),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new yf).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),QT=function(){function n(e,t){var r,i,s,a,o,l,c,f,d,p,m,_,x,g,y,A,E;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),d=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(m=e.readUInt16(),p=m/2,e.pos+=6,s=function(){var M,D;for(D=[],l=M=0;0<=p?M<p:M>p;l=0<=p?++M:--M)D.push(e.readUInt16());return D}(),e.pos+=2,x=function(){var M,D;for(D=[],l=M=0;0<=p?M<p:M>p;l=0<=p?++M:--M)D.push(e.readUInt16());return D}(),c=function(){var M,D;for(D=[],l=M=0;0<=p?M<p:M>p;l=0<=p?++M:--M)D.push(e.readUInt16());return D}(),f=function(){var M,D;for(D=[],l=M=0;0<=p?M<p:M>p;l=0<=p?++M:--M)D.push(e.readUInt16());return D}(),i=(this.length-e.pos+this.offset)/2,o=function(){var M,D;for(D=[],l=M=0;0<=i?M<i:M>i;l=0<=i?++M:--M)D.push(e.readUInt16());return D}(),l=y=0,E=s.length;y<E;l=++y)for(g=s[l],r=A=_=x[l];_<=g?A<=g:A>=g;r=_<=g?++A:--A)f[l]===0?a=r+c[l]:(a=o[f[l]/2+(r-_)-(p-l)]||0)!==0&&(a+=c[l]),this.codeMap[r]=65535&a}e.pos=d}return n.encode=function(e,t){var r,i,s,a,o,l,c,f,d,p,m,_,x,g,y,A,E,M,D,U,L,I,R,O,N,k,j,G,ae,ie,ue,J,X,pe,oe,C,W,z,V,ee,de,ve,we,Ce,lt,he;switch(G=new yf,a=Object.keys(e).sort(function(mt,ye){return mt-ye}),t){case"macroman":for(x=0,g=function(){var mt=[];for(_=0;_<256;++_)mt.push(0);return mt}(),A={0:0},s={},ae=0,X=a.length;ae<X;ae++)A[we=e[i=a[ae]]]==null&&(A[we]=++x),s[i]={old:e[i],new:A[e[i]]},g[i]=A[e[i]];return G.writeUInt16(1),G.writeUInt16(0),G.writeUInt32(12),G.writeUInt16(0),G.writeUInt16(262),G.writeUInt16(0),G.write(g),{charMap:s,subtable:G.data,maxGlyphID:x+1};case"unicode":for(k=[],d=[],E=0,A={},r={},y=c=null,ie=0,pe=a.length;ie<pe;ie++)A[D=e[i=a[ie]]]==null&&(A[D]=++E),r[i]={old:D,new:A[D]},o=A[D]-i,y!=null&&o===c||(y&&d.push(y),k.push(i),c=o),y=i;for(y&&d.push(y),d.push(65535),k.push(65535),O=2*(R=k.length),I=2*Math.pow(Math.log(R)/Math.LN2,2),p=Math.log(I/2)/Math.LN2,L=2*R-I,l=[],U=[],m=[],_=ue=0,oe=k.length;ue<oe;_=++ue){if(N=k[_],f=d[_],N===65535){l.push(0),U.push(0);break}if(N-(j=r[N].new)>=32768)for(l.push(0),U.push(2*(m.length+R-_)),i=J=N;N<=f?J<=f:J>=f;i=N<=f?++J:--J)m.push(r[i].new);else l.push(j-N),U.push(0)}for(G.writeUInt16(3),G.writeUInt16(1),G.writeUInt32(12),G.writeUInt16(4),G.writeUInt16(16+8*R+2*m.length),G.writeUInt16(0),G.writeUInt16(O),G.writeUInt16(I),G.writeUInt16(p),G.writeUInt16(L),de=0,C=d.length;de<C;de++)i=d[de],G.writeUInt16(i);for(G.writeUInt16(0),ve=0,W=k.length;ve<W;ve++)i=k[ve],G.writeUInt16(i);for(Ce=0,z=l.length;Ce<z;Ce++)o=l[Ce],G.writeUInt16(o);for(lt=0,V=U.length;lt<V;lt++)M=U[lt],G.writeUInt16(M);for(he=0,ee=m.length;he<ee;he++)x=m[he],G.writeUInt16(x);return{charMap:r,subtable:G.data,maxGlyphID:E+1}}},n}(),ak=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Zl(e,pl),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,i,s;for(t.pos=this.offset,this.version=t.readUInt16(),s=t.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)r=new QT(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var i,s;return r==null&&(r="macroman"),i=QT.encode(t,r),(s=new yf).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},e}(),Vq=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Zl(e,pl),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),Wq=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Zl(e,pl),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(t.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(t.readInt());return i}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(t.readInt());return i}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),Gq=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Zl(e,pl),e.prototype.tag="post",e.prototype.parse=function(t){var r,i,s;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:break;case 131072:var a;for(i=t.readUInt16(),this.glyphNameIndex=[],a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],s=[];t.pos<this.offset+this.length;)r=t.readByte(),s.push(this.names.push(t.readString(r)));return s;case 151552:return i=t.readUInt16(),this.offsets=t.read(i);case 196608:break;case 262144:return this.map=(function(){var o,l,c;for(c=[],a=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;a=0<=l?++o:--o)c.push(t.readUInt32());return c}).call(this)}},e}(),qq=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},Xq=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Zl(e,pl),e.prototype.tag="name",e.prototype.parse=function(t){var r,i,s,a,o,l,c,f,d,p,m;for(t.pos=this.offset,t.readShort(),r=t.readShort(),l=t.readShort(),i=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)i.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+l+t.readShort()});for(c={},a=d=0,p=i.length;d<p;a=++d)s=i[a],t.pos=s.offset,f=t.readString(s.length),o=new qq(f,s),c[m=s.nameID]==null&&(c[m]=[]),c[s.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),$q=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Zl(e,pl),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),Yq=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Zl(e,pl),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,i,s,a,o,l,c;for(t.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var f,d;for(d=[],r=f=0;0<=s?f<s:f>s;r=0<=s?++f:--f)d.push(t.readInt16());return d}(),this.widths=(function(){var f,d,p,m;for(m=[],f=0,d=(p=this.metrics).length;f<d;f++)a=p[f],m.push(a.advance);return m}).call(this),i=this.widths[this.widths.length-1],c=[],r=o=0;0<=s?o<s:o>s;r=0<=s?++o:--o)c.push(this.widths.push(i));return c},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),ok=[].slice,Kq=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Zl(e,pl),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,i,s,a,o,l,c,f,d,p;return t in this.cache?this.cache[t]:(a=this.file.loca,r=this.file.contents,i=a.indexOf(t),(s=a.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+i,o=(l=new yf(r.read(s))).readShort(),f=l.readShort(),p=l.readShort(),c=l.readShort(),d=l.readShort(),this.cache[t]=o===-1?new Zq(l,f,p,c,d):new Jq(l,o,f,p,c,d),this.cache[t]))},e.prototype.encode=function(t,r,i){var s,a,o,l,c;for(o=[],a=[],l=0,c=r.length;l<c;l++)s=t[r[l]],a.push(o.length),s&&(o=o.concat(s.encode(i)));return a.push(o.length),{table:o,offsets:a}},e}(),Jq=function(){function n(e,t,r,i,s,a){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=a,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n}(),Zq=function(){function n(e,t,r,i,s){var a,o;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return n.prototype.encode=function(){var e,t,r;for(t=new yf(ok.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},n}(),Qq=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Zl(e,pl),e.prototype.tag="loca",e.prototype.parse=function(t){var r,i;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,a;for(a=[],i=0,s=this.length;i<s;i+=2)a.push(2*t.readUInt16());return a}).call(this):(function(){var s,a;for(a=[],i=0,s=this.length;i<s;i+=4)a.push(t.readUInt32());return a}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var i=new Uint32Array(this.offsets.length),s=0,a=0,o=0;o<i.length;++o)if(i[o]=s,a<r.length&&r[a]==o){++a,i[o]=s;var l=this.offsets[o],c=this.offsets[o+1]-l;c>0&&(s+=c)}for(var f=new Array(4*i.length),d=0;d<i.length;++d)f[4*d+3]=255&i[d],f[4*d+2]=(65280&i[d])>>8,f[4*d+1]=(16711680&i[d])>>16,f[4*d]=(4278190080&i[d])>>24;return f},e}(),eX=function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,r,i,s;for(t in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[t],e[t]=i[r];return e},n.prototype.glyphsFor=function(e){var t,r,i,s,a,o,l;for(i={},a=0,o=e.length;a<o;a++)i[s=e[a]]=this.font.glyf.glyphFor(s);for(s in t=[],i)(r=i[s])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(s in l=this.glyphsFor(t))r=l[s],i[s]=r;return i},n.prototype.encode=function(e,t){var r,i,s,a,o,l,c,f,d,p,m,_,x,g,y;for(i in r=ak.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),m={0:0},y=r.charMap)m[(l=y[i]).old]=l.new;for(_ in p=r.maxGlyphID,a)_ in m||(m[_]=p++);return f=function(A){var E,M;for(E in M={},A)M[A[E]]=E;return M}(m),d=Object.keys(f).sort(function(A,E){return A-E}),x=function(){var A,E,M;for(M=[],A=0,E=d.length;A<E;A++)o=d[A],M.push(f[o]);return M}(),s=this.font.glyf.encode(a,x,m),c=this.font.loca.encode(s.offsets,x),g={cmap:this.font.cmap.raw(),glyf:s.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(g["OS/2"]=this.font.os2.raw()),this.font.directory.encode(g)},n}();gn.API.PDFObject=function(){var n;function e(){}return n=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var r,i,s,a;if(Array.isArray(t))return"["+function(){var o,l,c;for(c=[],o=0,l=t.length;o<l;o++)r=t[o],c.push(e.convert(r));return c}().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(i in s=["<<"],t)a=t[i],s.push("/"+i+" "+e.convert(a));return s.push(">>"),s.join(`
`)}return""+t},e}();/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Vb="177",p0={ROTATE:0,DOLLY:1,PAN:2},t0={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},tX=0,e3=1,nX=2,lk=1,rX=2,Fc=3,wf=0,Ra=1,zl=2,uf=0,m0=1,t3=2,n3=3,r3=4,iX=5,vh=100,sX=101,aX=102,oX=103,lX=104,cX=200,uX=201,fX=202,hX=203,qy=204,Xy=205,dX=206,pX=207,mX=208,gX=209,xX=210,vX=211,_X=212,yX=213,wX=214,$y=0,Yy=1,Ky=2,T0=3,Jy=4,Zy=5,Qy=6,ew=7,Wb=0,bX=1,SX=2,ff=0,EX=1,AX=2,TX=3,MX=4,CX=5,PX=6,kX=7,ck=300,M0=301,C0=302,tw=303,nw=304,pv=306,rw=1e3,Sh=1001,iw=1002,cl=1003,RX=1004,$g=1005,Vl=1006,c_=1007,Eh=1008,$l=1009,uk=1010,fk=1011,wm=1012,Gb=1013,Bh=1014,jc=1015,Om=1016,qb=1017,Xb=1018,bm=1020,hk=35902,dk=1021,pk=1022,al=1023,Sm=1026,Em=1027,mk=1028,$b=1029,gk=1030,Yb=1031,Kb=1033,Z1=33776,Q1=33777,ex=33778,tx=33779,sw=35840,aw=35841,ow=35842,lw=35843,cw=36196,uw=37492,fw=37496,hw=37808,dw=37809,pw=37810,mw=37811,gw=37812,xw=37813,vw=37814,_w=37815,yw=37816,ww=37817,bw=37818,Sw=37819,Ew=37820,Aw=37821,nx=36492,Tw=36494,Mw=36495,xk=36283,Cw=36284,Pw=36285,kw=36286,LX=3200,NX=3201,vk=0,FX=1,Yu="",bo="srgb",P0="srgb-linear",Ix="linear",Ar="srgb",Ld=7680,i3=519,DX=512,IX=513,OX=514,_k=515,UX=516,BX=517,zX=518,HX=519,Rw=35044,s3="300 es",Vc=2e3,Ox=2001;class Zh{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){const r=this._listeners;return r===void 0?!1:r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){const r=this._listeners;if(r===void 0)return;const i=r[e];if(i!==void 0){const s=i.indexOf(t);s!==-1&&i.splice(s,1)}}dispatchEvent(e){const t=this._listeners;if(t===void 0)return;const r=t[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,a=i.length;s<a;s++)i[s].call(this,e);e.target=null}}}const Cs=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],rx=Math.PI/180,Lw=180/Math.PI;function hf(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Cs[n&255]+Cs[n>>8&255]+Cs[n>>16&255]+Cs[n>>24&255]+"-"+Cs[e&255]+Cs[e>>8&255]+"-"+Cs[e>>16&15|64]+Cs[e>>24&255]+"-"+Cs[t&63|128]+Cs[t>>8&255]+"-"+Cs[t>>16&255]+Cs[t>>24&255]+Cs[r&255]+Cs[r>>8&255]+Cs[r>>16&255]+Cs[r>>24&255]).toLowerCase()}function Wn(n,e,t){return Math.max(e,Math.min(t,n))}function jX(n,e){return(n%e+e)%e}function u_(n,e,t){return(1-t)*n+t*e}function Hl(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function Tr(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const VX={DEG2RAD:rx};class dn{constructor(e=0,t=0){dn.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6],this.y=i[1]*t+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Wn(this.x,e.x,t.x),this.y=Wn(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=Wn(this.x,e,t),this.y=Wn(this.y,e,t),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Wn(r,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(Wn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),i=Math.sin(t),s=this.x-e.x,a=this.y-e.y;return this.x=s*r-a*i+e.x,this.y=s*i+a*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class zh{constructor(e=0,t=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=r,this._w=i}static slerpFlat(e,t,r,i,s,a,o){let l=r[i+0],c=r[i+1],f=r[i+2],d=r[i+3];const p=s[a+0],m=s[a+1],_=s[a+2],x=s[a+3];if(o===0){e[t+0]=l,e[t+1]=c,e[t+2]=f,e[t+3]=d;return}if(o===1){e[t+0]=p,e[t+1]=m,e[t+2]=_,e[t+3]=x;return}if(d!==x||l!==p||c!==m||f!==_){let g=1-o;const y=l*p+c*m+f*_+d*x,A=y>=0?1:-1,E=1-y*y;if(E>Number.EPSILON){const D=Math.sqrt(E),U=Math.atan2(D,y*A);g=Math.sin(g*U)/D,o=Math.sin(o*U)/D}const M=o*A;if(l=l*g+p*M,c=c*g+m*M,f=f*g+_*M,d=d*g+x*M,g===1-o){const D=1/Math.sqrt(l*l+c*c+f*f+d*d);l*=D,c*=D,f*=D,d*=D}}e[t]=l,e[t+1]=c,e[t+2]=f,e[t+3]=d}static multiplyQuaternionsFlat(e,t,r,i,s,a){const o=r[i],l=r[i+1],c=r[i+2],f=r[i+3],d=s[a],p=s[a+1],m=s[a+2],_=s[a+3];return e[t]=o*_+f*d+l*m-c*p,e[t+1]=l*_+f*p+c*d-o*m,e[t+2]=c*_+f*m+o*p-l*d,e[t+3]=f*_-o*d-l*p-c*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const r=e._x,i=e._y,s=e._z,a=e._order,o=Math.cos,l=Math.sin,c=o(r/2),f=o(i/2),d=o(s/2),p=l(r/2),m=l(i/2),_=l(s/2);switch(a){case"XYZ":this._x=p*f*d+c*m*_,this._y=c*m*d-p*f*_,this._z=c*f*_+p*m*d,this._w=c*f*d-p*m*_;break;case"YXZ":this._x=p*f*d+c*m*_,this._y=c*m*d-p*f*_,this._z=c*f*_-p*m*d,this._w=c*f*d+p*m*_;break;case"ZXY":this._x=p*f*d-c*m*_,this._y=c*m*d+p*f*_,this._z=c*f*_+p*m*d,this._w=c*f*d-p*m*_;break;case"ZYX":this._x=p*f*d-c*m*_,this._y=c*m*d+p*f*_,this._z=c*f*_-p*m*d,this._w=c*f*d+p*m*_;break;case"YZX":this._x=p*f*d+c*m*_,this._y=c*m*d+p*f*_,this._z=c*f*_-p*m*d,this._w=c*f*d-p*m*_;break;case"XZY":this._x=p*f*d-c*m*_,this._y=c*m*d-p*f*_,this._z=c*f*_+p*m*d,this._w=c*f*d+p*m*_;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],i=t[4],s=t[8],a=t[1],o=t[5],l=t[9],c=t[2],f=t[6],d=t[10],p=r+o+d;if(p>0){const m=.5/Math.sqrt(p+1);this._w=.25/m,this._x=(f-l)*m,this._y=(s-c)*m,this._z=(a-i)*m}else if(r>o&&r>d){const m=2*Math.sqrt(1+r-o-d);this._w=(f-l)/m,this._x=.25*m,this._y=(i+a)/m,this._z=(s+c)/m}else if(o>d){const m=2*Math.sqrt(1+o-r-d);this._w=(s-c)/m,this._x=(i+a)/m,this._y=.25*m,this._z=(l+f)/m}else{const m=2*Math.sqrt(1+d-r-o);this._w=(a-i)/m,this._x=(s+c)/m,this._y=(l+f)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Wn(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,t/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,i=e._y,s=e._z,a=e._w,o=t._x,l=t._y,c=t._z,f=t._w;return this._x=r*f+a*o+i*c-s*l,this._y=i*f+a*l+s*o-r*c,this._z=s*f+a*c+r*l-i*o,this._w=a*f-r*o-i*l-s*c,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,a=this._w;let o=a*e._w+r*e._x+i*e._y+s*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=a,this._x=r,this._y=i,this._z=s,this;const l=1-o*o;if(l<=Number.EPSILON){const m=1-t;return this._w=m*a+t*this._w,this._x=m*r+t*this._x,this._y=m*i+t*this._y,this._z=m*s+t*this._z,this.normalize(),this}const c=Math.sqrt(l),f=Math.atan2(c,o),d=Math.sin((1-t)*f)/c,p=Math.sin(t*f)/c;return this._w=a*d+this._w*p,this._x=r*d+this._x*p,this._y=i*d+this._y*p,this._z=s*d+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),r=Math.random(),i=Math.sqrt(1-r),s=Math.sqrt(r);return this.set(i*Math.sin(e),i*Math.cos(e),s*Math.sin(t),s*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Ze{constructor(e=0,t=0,r=0){Ze.prototype.isVector3=!0,this.x=e,this.y=t,this.z=r}set(e,t,r){return r===void 0&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(a3.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(a3.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[3]*r+s[6]*i,this.y=s[1]*t+s[4]*r+s[7]*i,this.z=s[2]*t+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=e.elements,a=1/(s[3]*t+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*t+s[4]*r+s[8]*i+s[12])*a,this.y=(s[1]*t+s[5]*r+s[9]*i+s[13])*a,this.z=(s[2]*t+s[6]*r+s[10]*i+s[14])*a,this}applyQuaternion(e){const t=this.x,r=this.y,i=this.z,s=e.x,a=e.y,o=e.z,l=e.w,c=2*(a*i-o*r),f=2*(o*t-s*i),d=2*(s*r-a*t);return this.x=t+l*c+a*d-o*f,this.y=r+l*f+o*c-s*d,this.z=i+l*d+s*f-a*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[4]*r+s[8]*i,this.y=s[1]*t+s[5]*r+s[9]*i,this.z=s[2]*t+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Wn(this.x,e.x,t.x),this.y=Wn(this.y,e.y,t.y),this.z=Wn(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=Wn(this.x,e,t),this.y=Wn(this.y,e,t),this.z=Wn(this.z,e,t),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Wn(r,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,i=e.y,s=e.z,a=t.x,o=t.y,l=t.z;return this.x=i*l-s*o,this.y=s*a-r*l,this.z=r*o-i*a,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return f_.copy(this).projectOnVector(e),this.sub(f_)}reflect(e){return this.sub(f_.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(Wn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return t*t+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const i=Math.sin(t)*e;return this.x=i*Math.sin(r),this.y=Math.cos(t)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,r=Math.sqrt(1-t*t);return this.x=r*Math.cos(e),this.y=t,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const f_=new Ze,a3=new zh;class In{constructor(e,t,r,i,s,a,o,l,c){In.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,r,i,s,a,o,l,c)}set(e,t,r,i,s,a,o,l,c){const f=this.elements;return f[0]=e,f[1]=i,f[2]=o,f[3]=t,f[4]=s,f[5]=l,f[6]=r,f[7]=a,f[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,a=r[0],o=r[3],l=r[6],c=r[1],f=r[4],d=r[7],p=r[2],m=r[5],_=r[8],x=i[0],g=i[3],y=i[6],A=i[1],E=i[4],M=i[7],D=i[2],U=i[5],L=i[8];return s[0]=a*x+o*A+l*D,s[3]=a*g+o*E+l*U,s[6]=a*y+o*M+l*L,s[1]=c*x+f*A+d*D,s[4]=c*g+f*E+d*U,s[7]=c*y+f*M+d*L,s[2]=p*x+m*A+_*D,s[5]=p*g+m*E+_*U,s[8]=p*y+m*M+_*L,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],a=e[4],o=e[5],l=e[6],c=e[7],f=e[8];return t*a*f-t*o*c-r*s*f+r*o*l+i*s*c-i*a*l}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],a=e[4],o=e[5],l=e[6],c=e[7],f=e[8],d=f*a-o*c,p=o*l-f*s,m=c*s-a*l,_=t*d+r*p+i*m;if(_===0)return this.set(0,0,0,0,0,0,0,0,0);const x=1/_;return e[0]=d*x,e[1]=(i*c-f*r)*x,e[2]=(o*r-i*a)*x,e[3]=p*x,e[4]=(f*t-i*l)*x,e[5]=(i*s-o*t)*x,e[6]=m*x,e[7]=(r*l-c*t)*x,e[8]=(a*t-r*s)*x,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,i,s,a,o){const l=Math.cos(s),c=Math.sin(s);return this.set(r*l,r*c,-r*(l*a+c*o)+a+e,-i*c,i*l,-i*(-c*a+l*o)+o+t,0,0,1),this}scale(e,t){return this.premultiply(h_.makeScale(e,t)),this}rotate(e){return this.premultiply(h_.makeRotation(-e)),this}translate(e,t){return this.premultiply(h_.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,r,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<9;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const h_=new In;function yk(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}function Ux(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function WX(){const n=Ux("canvas");return n.style.display="block",n}const o3={};function g0(n){n in o3||(o3[n]=!0,console.warn(n))}function GX(n,e,t){return new Promise(function(r,i){function s(){switch(n.clientWaitSync(e,n.SYNC_FLUSH_COMMANDS_BIT,0)){case n.WAIT_FAILED:i();break;case n.TIMEOUT_EXPIRED:setTimeout(s,t);break;default:r()}}setTimeout(s,t)})}function qX(n){const e=n.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}function XX(n){const e=n.elements;e[11]===-1?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=-e[14]+1)}const l3=new In().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),c3=new In().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function $X(){const n={enabled:!0,workingColorSpace:P0,spaces:{},convert:function(i,s,a){return this.enabled===!1||s===a||!s||!a||(this.spaces[s].transfer===Ar&&(i.r=qc(i.r),i.g=qc(i.g),i.b=qc(i.b)),this.spaces[s].primaries!==this.spaces[a].primaries&&(i.applyMatrix3(this.spaces[s].toXYZ),i.applyMatrix3(this.spaces[a].fromXYZ)),this.spaces[a].transfer===Ar&&(i.r=x0(i.r),i.g=x0(i.g),i.b=x0(i.b))),i},workingToColorSpace:function(i,s){return this.convert(i,this.workingColorSpace,s)},colorSpaceToWorking:function(i,s){return this.convert(i,s,this.workingColorSpace)},getPrimaries:function(i){return this.spaces[i].primaries},getTransfer:function(i){return i===Yu?Ix:this.spaces[i].transfer},getLuminanceCoefficients:function(i,s=this.workingColorSpace){return i.fromArray(this.spaces[s].luminanceCoefficients)},define:function(i){Object.assign(this.spaces,i)},_getMatrix:function(i,s,a){return i.copy(this.spaces[s].toXYZ).multiply(this.spaces[a].fromXYZ)},_getDrawingBufferColorSpace:function(i){return this.spaces[i].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(i=this.workingColorSpace){return this.spaces[i].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(i,s){return g0("THREE.ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),n.workingToColorSpace(i,s)},toWorkingColorSpace:function(i,s){return g0("THREE.ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),n.colorSpaceToWorking(i,s)}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],r=[.3127,.329];return n.define({[P0]:{primaries:e,whitePoint:r,transfer:Ix,toXYZ:l3,fromXYZ:c3,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:bo},outputColorSpaceConfig:{drawingBufferColorSpace:bo}},[bo]:{primaries:e,whitePoint:r,transfer:Ar,toXYZ:l3,fromXYZ:c3,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:bo}}}),n}const ar=$X();function qc(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function x0(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let Nd;class YX{static getDataURL(e,t="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let r;if(e instanceof HTMLCanvasElement)r=e;else{Nd===void 0&&(Nd=Ux("canvas")),Nd.width=e.width,Nd.height=e.height;const i=Nd.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),r=Nd}return r.toDataURL(t)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=Ux("canvas");t.width=e.width,t.height=e.height;const r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let a=0;a<s.length;a++)s[a]=qc(s[a]/255)*255;return r.putImageData(i,0,0),t}else if(e.data){const t=e.data.slice(0);for(let r=0;r<t.length;r++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[r]=Math.floor(qc(t[r]/255)*255):t[r]=qc(t[r]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let KX=0;class Jb{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:KX++}),this.uuid=hf(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const t=this.data;return t instanceof HTMLVideoElement?e.set(t.videoWidth,t.videoHeight):t!==null?e.set(t.width,t.height,t.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let a=0,o=i.length;a<o;a++)i[a].isDataTexture?s.push(d_(i[a].image)):s.push(d_(i[a]))}else s=d_(i);r.url=s}return t||(e.images[this.uuid]=r),r}}function d_(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?YX.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let JX=0;const p_=new Ze;class ca extends Zh{constructor(e=ca.DEFAULT_IMAGE,t=ca.DEFAULT_MAPPING,r=Sh,i=Sh,s=Vl,a=Eh,o=al,l=$l,c=ca.DEFAULT_ANISOTROPY,f=Yu){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:JX++}),this.uuid=hf(),this.name="",this.source=new Jb(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=a,this.anisotropy=c,this.format=o,this.internalFormat=null,this.type=l,this.offset=new dn(0,0),this.repeat=new dn(1,1),this.center=new dn(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new In,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=f,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(p_).x}get height(){return this.source.getSize(p_).y}get depth(){return this.source.getSize(p_).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const t in e){const r=e[t];if(r===void 0){console.warn(`THREE.Texture.setValues(): parameter '${t}' has value of undefined.`);continue}const i=this[t];if(i===void 0){console.warn(`THREE.Texture.setValues(): property '${t}' does not exist.`);continue}i&&r&&i.isVector2&&r.isVector2||i&&r&&i.isVector3&&r.isVector3||i&&r&&i.isMatrix3&&r.isMatrix3?i.copy(r):this[t]=r}}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),t||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==ck)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case rw:e.x=e.x-Math.floor(e.x);break;case Sh:e.x=e.x<0?0:1;break;case iw:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case rw:e.y=e.y-Math.floor(e.y);break;case Sh:e.y=e.y<0?0:1;break;case iw:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}ca.DEFAULT_IMAGE=null;ca.DEFAULT_MAPPING=ck;ca.DEFAULT_ANISOTROPY=1;class ci{constructor(e=0,t=0,r=0,i=1){ci.prototype.isVector4=!0,this.x=e,this.y=t,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=this.w,a=e.elements;return this.x=a[0]*t+a[4]*r+a[8]*i+a[12]*s,this.y=a[1]*t+a[5]*r+a[9]*i+a[13]*s,this.z=a[2]*t+a[6]*r+a[10]*i+a[14]*s,this.w=a[3]*t+a[7]*r+a[11]*i+a[15]*s,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,i,s;const l=e.elements,c=l[0],f=l[4],d=l[8],p=l[1],m=l[5],_=l[9],x=l[2],g=l[6],y=l[10];if(Math.abs(f-p)<.01&&Math.abs(d-x)<.01&&Math.abs(_-g)<.01){if(Math.abs(f+p)<.1&&Math.abs(d+x)<.1&&Math.abs(_+g)<.1&&Math.abs(c+m+y-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const E=(c+1)/2,M=(m+1)/2,D=(y+1)/2,U=(f+p)/4,L=(d+x)/4,I=(_+g)/4;return E>M&&E>D?E<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(E),i=U/r,s=L/r):M>D?M<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(M),r=U/i,s=I/i):D<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(D),r=L/s,i=I/s),this.set(r,i,s,t),this}let A=Math.sqrt((g-_)*(g-_)+(d-x)*(d-x)+(p-f)*(p-f));return Math.abs(A)<.001&&(A=1),this.x=(g-_)/A,this.y=(d-x)/A,this.z=(p-f)/A,this.w=Math.acos((c+m+y-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Wn(this.x,e.x,t.x),this.y=Wn(this.y,e.y,t.y),this.z=Wn(this.z,e.z,t.z),this.w=Wn(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=Wn(this.x,e,t),this.y=Wn(this.y,e,t),this.z=Wn(this.z,e,t),this.w=Wn(this.w,e,t),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Wn(r,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class ZX extends Zh{constructor(e=1,t=1,r={}){super(),r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Vl,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},r),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=r.depth,this.scissor=new ci(0,0,e,t),this.scissorTest=!1,this.viewport=new ci(0,0,e,t);const i={width:e,height:t,depth:r.depth},s=new ca(i);this.textures=[];const a=r.count;for(let o=0;o<a;o++)this.textures[o]=s.clone(),this.textures[o].isRenderTargetTexture=!0,this.textures[o].renderTarget=this;this._setTextureOptions(r),this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=r.depthTexture,this.samples=r.samples,this.multiview=r.multiview}_setTextureOptions(e={}){const t={minFilter:Vl,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(t.mapping=e.mapping),e.wrapS!==void 0&&(t.wrapS=e.wrapS),e.wrapT!==void 0&&(t.wrapT=e.wrapT),e.wrapR!==void 0&&(t.wrapR=e.wrapR),e.magFilter!==void 0&&(t.magFilter=e.magFilter),e.minFilter!==void 0&&(t.minFilter=e.minFilter),e.format!==void 0&&(t.format=e.format),e.type!==void 0&&(t.type=e.type),e.anisotropy!==void 0&&(t.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(t.colorSpace=e.colorSpace),e.flipY!==void 0&&(t.flipY=e.flipY),e.generateMipmaps!==void 0&&(t.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(t.internalFormat=e.internalFormat);for(let r=0;r<this.textures.length;r++)this.textures[r].setValues(t)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t,r=1){if(this.width!==e||this.height!==t||this.depth!==r){this.width=e,this.height=t,this.depth=r;for(let i=0,s=this.textures.length;i<s;i++)this.textures[i].image.width=e,this.textures[i].image.height=t,this.textures[i].image.depth=r,this.textures[i].isArrayTexture=this.textures[i].image.depth>1;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let t=0,r=e.textures.length;t<r;t++){this.textures[t]=e.textures[t].clone(),this.textures[t].isRenderTargetTexture=!0,this.textures[t].renderTarget=this;const i=Object.assign({},e.textures[t].image);this.textures[t].source=new Jb(i)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Hh extends ZX{constructor(e=1,t=1,r={}){super(e,t,r),this.isWebGLRenderTarget=!0}}class wk extends ca{constructor(e=null,t=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=cl,this.minFilter=cl,this.wrapR=Sh,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class QX extends ca{constructor(e=null,t=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=cl,this.minFilter=cl,this.wrapR=Sh,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Um{constructor(e=new Ze(1/0,1/0,1/0),t=new Ze(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t+=3)this.expandByPoint(Jo.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,r=e.count;t<r;t++)this.expandByPoint(Jo.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=Jo.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const s=r.getAttribute("position");if(t===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let a=0,o=s.count;a<o;a++)e.isMesh===!0?e.getVertexPosition(a,Jo):Jo.fromBufferAttribute(s,a),Jo.applyMatrix4(e.matrixWorld),this.expandByPoint(Jo);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),Yg.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),Yg.copy(r.boundingBox)),Yg.applyMatrix4(e.matrixWorld),this.union(Yg)}const i=e.children;for(let s=0,a=i.length;s<a;s++)this.expandByObject(i[s],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Jo),Jo.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(pp),Kg.subVectors(this.max,pp),Fd.subVectors(e.a,pp),Dd.subVectors(e.b,pp),Id.subVectors(e.c,pp),zu.subVectors(Dd,Fd),Hu.subVectors(Id,Dd),ih.subVectors(Fd,Id);let t=[0,-zu.z,zu.y,0,-Hu.z,Hu.y,0,-ih.z,ih.y,zu.z,0,-zu.x,Hu.z,0,-Hu.x,ih.z,0,-ih.x,-zu.y,zu.x,0,-Hu.y,Hu.x,0,-ih.y,ih.x,0];return!m_(t,Fd,Dd,Id,Kg)||(t=[1,0,0,0,1,0,0,0,1],!m_(t,Fd,Dd,Id,Kg))?!1:(Jg.crossVectors(zu,Hu),t=[Jg.x,Jg.y,Jg.z],m_(t,Fd,Dd,Id,Kg))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Jo).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Jo).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Mc[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Mc[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Mc[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Mc[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Mc[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Mc[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Mc[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Mc[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Mc),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const Mc=[new Ze,new Ze,new Ze,new Ze,new Ze,new Ze,new Ze,new Ze],Jo=new Ze,Yg=new Um,Fd=new Ze,Dd=new Ze,Id=new Ze,zu=new Ze,Hu=new Ze,ih=new Ze,pp=new Ze,Kg=new Ze,Jg=new Ze,sh=new Ze;function m_(n,e,t,r,i){for(let s=0,a=n.length-3;s<=a;s+=3){sh.fromArray(n,s);const o=i.x*Math.abs(sh.x)+i.y*Math.abs(sh.y)+i.z*Math.abs(sh.z),l=e.dot(sh),c=t.dot(sh),f=r.dot(sh);if(Math.max(-Math.max(l,c,f),Math.min(l,c,f))>o)return!1}return!0}const e$=new Um,mp=new Ze,g_=new Ze;class mv{constructor(e=new Ze,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const r=this.center;t!==void 0?r.copy(t):e$.setFromPoints(e).getCenter(r);let i=0;for(let s=0,a=e.length;s<a;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;mp.subVectors(e,this.center);const t=mp.lengthSq();if(t>this.radius*this.radius){const r=Math.sqrt(t),i=(r-this.radius)*.5;this.center.addScaledVector(mp,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(g_.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(mp.copy(e.center).add(g_)),this.expandByPoint(mp.copy(e.center).sub(g_))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}const Cc=new Ze,x_=new Ze,Zg=new Ze,ju=new Ze,v_=new Ze,Qg=new Ze,__=new Ze;class gv{constructor(e=new Ze,t=new Ze(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Cc)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Cc.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Cc.copy(this.origin).addScaledVector(this.direction,t),Cc.distanceToSquared(e))}distanceSqToSegment(e,t,r,i){x_.copy(e).add(t).multiplyScalar(.5),Zg.copy(t).sub(e).normalize(),ju.copy(this.origin).sub(x_);const s=e.distanceTo(t)*.5,a=-this.direction.dot(Zg),o=ju.dot(this.direction),l=-ju.dot(Zg),c=ju.lengthSq(),f=Math.abs(1-a*a);let d,p,m,_;if(f>0)if(d=a*l-o,p=a*o-l,_=s*f,d>=0)if(p>=-_)if(p<=_){const x=1/f;d*=x,p*=x,m=d*(d+a*p+2*o)+p*(a*d+p+2*l)+c}else p=s,d=Math.max(0,-(a*p+o)),m=-d*d+p*(p+2*l)+c;else p=-s,d=Math.max(0,-(a*p+o)),m=-d*d+p*(p+2*l)+c;else p<=-_?(d=Math.max(0,-(-a*s+o)),p=d>0?-s:Math.min(Math.max(-s,-l),s),m=-d*d+p*(p+2*l)+c):p<=_?(d=0,p=Math.min(Math.max(-s,-l),s),m=p*(p+2*l)+c):(d=Math.max(0,-(a*s+o)),p=d>0?s:Math.min(Math.max(-s,-l),s),m=-d*d+p*(p+2*l)+c);else p=a>0?-s:s,d=Math.max(0,-(a*p+o)),m=-d*d+p*(p+2*l)+c;return r&&r.copy(this.origin).addScaledVector(this.direction,d),i&&i.copy(x_).addScaledVector(Zg,p),m}intersectSphere(e,t){Cc.subVectors(e.center,this.origin);const r=Cc.dot(this.direction),i=Cc.dot(Cc)-r*r,s=e.radius*e.radius;if(i>s)return null;const a=Math.sqrt(s-i),o=r-a,l=r+a;return l<0?null:o<0?this.at(l,t):this.at(o,t)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){const r=this.distanceToPlane(e);return r===null?null:this.at(r,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,i,s,a,o,l;const c=1/this.direction.x,f=1/this.direction.y,d=1/this.direction.z,p=this.origin;return c>=0?(r=(e.min.x-p.x)*c,i=(e.max.x-p.x)*c):(r=(e.max.x-p.x)*c,i=(e.min.x-p.x)*c),f>=0?(s=(e.min.y-p.y)*f,a=(e.max.y-p.y)*f):(s=(e.max.y-p.y)*f,a=(e.min.y-p.y)*f),r>a||s>i||((s>r||isNaN(r))&&(r=s),(a<i||isNaN(i))&&(i=a),d>=0?(o=(e.min.z-p.z)*d,l=(e.max.z-p.z)*d):(o=(e.max.z-p.z)*d,l=(e.min.z-p.z)*d),r>l||o>i)||((o>r||r!==r)&&(r=o),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,t)}intersectsBox(e){return this.intersectBox(e,Cc)!==null}intersectTriangle(e,t,r,i,s){v_.subVectors(t,e),Qg.subVectors(r,e),__.crossVectors(v_,Qg);let a=this.direction.dot(__),o;if(a>0){if(i)return null;o=1}else if(a<0)o=-1,a=-a;else return null;ju.subVectors(this.origin,e);const l=o*this.direction.dot(Qg.crossVectors(ju,Qg));if(l<0)return null;const c=o*this.direction.dot(v_.cross(ju));if(c<0||l+c>a)return null;const f=-o*ju.dot(__);return f<0?null:this.at(f/a,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class jr{constructor(e,t,r,i,s,a,o,l,c,f,d,p,m,_,x,g){jr.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,r,i,s,a,o,l,c,f,d,p,m,_,x,g)}set(e,t,r,i,s,a,o,l,c,f,d,p,m,_,x,g){const y=this.elements;return y[0]=e,y[4]=t,y[8]=r,y[12]=i,y[1]=s,y[5]=a,y[9]=o,y[13]=l,y[2]=c,y[6]=f,y[10]=d,y[14]=p,y[3]=m,y[7]=_,y[11]=x,y[15]=g,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new jr().fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,r=e.elements,i=1/Od.setFromMatrixColumn(e,0).length(),s=1/Od.setFromMatrixColumn(e,1).length(),a=1/Od.setFromMatrixColumn(e,2).length();return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=0,t[4]=r[4]*s,t[5]=r[5]*s,t[6]=r[6]*s,t[7]=0,t[8]=r[8]*a,t[9]=r[9]*a,t[10]=r[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,r=e.x,i=e.y,s=e.z,a=Math.cos(r),o=Math.sin(r),l=Math.cos(i),c=Math.sin(i),f=Math.cos(s),d=Math.sin(s);if(e.order==="XYZ"){const p=a*f,m=a*d,_=o*f,x=o*d;t[0]=l*f,t[4]=-l*d,t[8]=c,t[1]=m+_*c,t[5]=p-x*c,t[9]=-o*l,t[2]=x-p*c,t[6]=_+m*c,t[10]=a*l}else if(e.order==="YXZ"){const p=l*f,m=l*d,_=c*f,x=c*d;t[0]=p+x*o,t[4]=_*o-m,t[8]=a*c,t[1]=a*d,t[5]=a*f,t[9]=-o,t[2]=m*o-_,t[6]=x+p*o,t[10]=a*l}else if(e.order==="ZXY"){const p=l*f,m=l*d,_=c*f,x=c*d;t[0]=p-x*o,t[4]=-a*d,t[8]=_+m*o,t[1]=m+_*o,t[5]=a*f,t[9]=x-p*o,t[2]=-a*c,t[6]=o,t[10]=a*l}else if(e.order==="ZYX"){const p=a*f,m=a*d,_=o*f,x=o*d;t[0]=l*f,t[4]=_*c-m,t[8]=p*c+x,t[1]=l*d,t[5]=x*c+p,t[9]=m*c-_,t[2]=-c,t[6]=o*l,t[10]=a*l}else if(e.order==="YZX"){const p=a*l,m=a*c,_=o*l,x=o*c;t[0]=l*f,t[4]=x-p*d,t[8]=_*d+m,t[1]=d,t[5]=a*f,t[9]=-o*f,t[2]=-c*f,t[6]=m*d+_,t[10]=p-x*d}else if(e.order==="XZY"){const p=a*l,m=a*c,_=o*l,x=o*c;t[0]=l*f,t[4]=-d,t[8]=c*f,t[1]=p*d+x,t[5]=a*f,t[9]=m*d-_,t[2]=_*d-m,t[6]=o*f,t[10]=x*d+p}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(t$,e,n$)}lookAt(e,t,r){const i=this.elements;return Ga.subVectors(e,t),Ga.lengthSq()===0&&(Ga.z=1),Ga.normalize(),Vu.crossVectors(r,Ga),Vu.lengthSq()===0&&(Math.abs(r.z)===1?Ga.x+=1e-4:Ga.z+=1e-4,Ga.normalize(),Vu.crossVectors(r,Ga)),Vu.normalize(),e1.crossVectors(Ga,Vu),i[0]=Vu.x,i[4]=e1.x,i[8]=Ga.x,i[1]=Vu.y,i[5]=e1.y,i[9]=Ga.y,i[2]=Vu.z,i[6]=e1.z,i[10]=Ga.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,a=r[0],o=r[4],l=r[8],c=r[12],f=r[1],d=r[5],p=r[9],m=r[13],_=r[2],x=r[6],g=r[10],y=r[14],A=r[3],E=r[7],M=r[11],D=r[15],U=i[0],L=i[4],I=i[8],R=i[12],O=i[1],N=i[5],k=i[9],j=i[13],G=i[2],ae=i[6],ie=i[10],ue=i[14],J=i[3],X=i[7],pe=i[11],oe=i[15];return s[0]=a*U+o*O+l*G+c*J,s[4]=a*L+o*N+l*ae+c*X,s[8]=a*I+o*k+l*ie+c*pe,s[12]=a*R+o*j+l*ue+c*oe,s[1]=f*U+d*O+p*G+m*J,s[5]=f*L+d*N+p*ae+m*X,s[9]=f*I+d*k+p*ie+m*pe,s[13]=f*R+d*j+p*ue+m*oe,s[2]=_*U+x*O+g*G+y*J,s[6]=_*L+x*N+g*ae+y*X,s[10]=_*I+x*k+g*ie+y*pe,s[14]=_*R+x*j+g*ue+y*oe,s[3]=A*U+E*O+M*G+D*J,s[7]=A*L+E*N+M*ae+D*X,s[11]=A*I+E*k+M*ie+D*pe,s[15]=A*R+E*j+M*ue+D*oe,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],i=e[8],s=e[12],a=e[1],o=e[5],l=e[9],c=e[13],f=e[2],d=e[6],p=e[10],m=e[14],_=e[3],x=e[7],g=e[11],y=e[15];return _*(+s*l*d-i*c*d-s*o*p+r*c*p+i*o*m-r*l*m)+x*(+t*l*m-t*c*p+s*a*p-i*a*m+i*c*f-s*l*f)+g*(+t*c*d-t*o*m-s*a*d+r*a*m+s*o*f-r*c*f)+y*(-i*o*f-t*l*d+t*o*p+i*a*d-r*a*p+r*l*f)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],a=e[4],o=e[5],l=e[6],c=e[7],f=e[8],d=e[9],p=e[10],m=e[11],_=e[12],x=e[13],g=e[14],y=e[15],A=d*g*c-x*p*c+x*l*m-o*g*m-d*l*y+o*p*y,E=_*p*c-f*g*c-_*l*m+a*g*m+f*l*y-a*p*y,M=f*x*c-_*d*c+_*o*m-a*x*m-f*o*y+a*d*y,D=_*d*l-f*x*l-_*o*p+a*x*p+f*o*g-a*d*g,U=t*A+r*E+i*M+s*D;if(U===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const L=1/U;return e[0]=A*L,e[1]=(x*p*s-d*g*s-x*i*m+r*g*m+d*i*y-r*p*y)*L,e[2]=(o*g*s-x*l*s+x*i*c-r*g*c-o*i*y+r*l*y)*L,e[3]=(d*l*s-o*p*s-d*i*c+r*p*c+o*i*m-r*l*m)*L,e[4]=E*L,e[5]=(f*g*s-_*p*s+_*i*m-t*g*m-f*i*y+t*p*y)*L,e[6]=(_*l*s-a*g*s-_*i*c+t*g*c+a*i*y-t*l*y)*L,e[7]=(a*p*s-f*l*s+f*i*c-t*p*c-a*i*m+t*l*m)*L,e[8]=M*L,e[9]=(_*d*s-f*x*s-_*r*m+t*x*m+f*r*y-t*d*y)*L,e[10]=(a*x*s-_*o*s+_*r*c-t*x*c-a*r*y+t*o*y)*L,e[11]=(f*o*s-a*d*s-f*r*c+t*d*c+a*r*m-t*o*m)*L,e[12]=D*L,e[13]=(f*x*i-_*d*i+_*r*p-t*x*p-f*r*g+t*d*g)*L,e[14]=(_*o*i-a*x*i-_*r*l+t*x*l+a*r*g-t*o*g)*L,e[15]=(a*d*i-f*o*i+f*r*l-t*d*l-a*r*p+t*o*p)*L,this}scale(e){const t=this.elements,r=e.x,i=e.y,s=e.z;return t[0]*=r,t[4]*=i,t[8]*=s,t[1]*=r,t[5]*=i,t[9]*=s,t[2]*=r,t[6]*=i,t[10]*=s,t[3]*=r,t[7]*=i,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,i))}makeTranslation(e,t,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),i=Math.sin(t),s=1-r,a=e.x,o=e.y,l=e.z,c=s*a,f=s*o;return this.set(c*a+r,c*o-i*l,c*l+i*o,0,c*o+i*l,f*o+r,f*l-i*a,0,c*l-i*o,f*l+i*a,s*l*l+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,i,s,a){return this.set(1,r,s,0,e,1,a,0,t,i,1,0,0,0,0,1),this}compose(e,t,r){const i=this.elements,s=t._x,a=t._y,o=t._z,l=t._w,c=s+s,f=a+a,d=o+o,p=s*c,m=s*f,_=s*d,x=a*f,g=a*d,y=o*d,A=l*c,E=l*f,M=l*d,D=r.x,U=r.y,L=r.z;return i[0]=(1-(x+y))*D,i[1]=(m+M)*D,i[2]=(_-E)*D,i[3]=0,i[4]=(m-M)*U,i[5]=(1-(p+y))*U,i[6]=(g+A)*U,i[7]=0,i[8]=(_+E)*L,i[9]=(g-A)*L,i[10]=(1-(p+x))*L,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,r){const i=this.elements;let s=Od.set(i[0],i[1],i[2]).length();const a=Od.set(i[4],i[5],i[6]).length(),o=Od.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],Zo.copy(this);const c=1/s,f=1/a,d=1/o;return Zo.elements[0]*=c,Zo.elements[1]*=c,Zo.elements[2]*=c,Zo.elements[4]*=f,Zo.elements[5]*=f,Zo.elements[6]*=f,Zo.elements[8]*=d,Zo.elements[9]*=d,Zo.elements[10]*=d,t.setFromRotationMatrix(Zo),r.x=s,r.y=a,r.z=o,this}makePerspective(e,t,r,i,s,a,o=Vc){const l=this.elements,c=2*s/(t-e),f=2*s/(r-i),d=(t+e)/(t-e),p=(r+i)/(r-i);let m,_;if(o===Vc)m=-(a+s)/(a-s),_=-2*a*s/(a-s);else if(o===Ox)m=-a/(a-s),_=-a*s/(a-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+o);return l[0]=c,l[4]=0,l[8]=d,l[12]=0,l[1]=0,l[5]=f,l[9]=p,l[13]=0,l[2]=0,l[6]=0,l[10]=m,l[14]=_,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,t,r,i,s,a,o=Vc){const l=this.elements,c=1/(t-e),f=1/(r-i),d=1/(a-s),p=(t+e)*c,m=(r+i)*f;let _,x;if(o===Vc)_=(a+s)*d,x=-2*d;else if(o===Ox)_=s*d,x=-1*d;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+o);return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-p,l[1]=0,l[5]=2*f,l[9]=0,l[13]=-m,l[2]=0,l[6]=0,l[10]=x,l[14]=-_,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<16;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}const Od=new Ze,Zo=new jr,t$=new Ze(0,0,0),n$=new Ze(1,1,1),Vu=new Ze,e1=new Ze,Ga=new Ze,u3=new jr,f3=new zh;class Yl{constructor(e=0,t=0,r=0,i=Yl.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,r,i=this._order){return this._x=e,this._y=t,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,r=!0){const i=e.elements,s=i[0],a=i[4],o=i[8],l=i[1],c=i[5],f=i[9],d=i[2],p=i[6],m=i[10];switch(t){case"XYZ":this._y=Math.asin(Wn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-f,m),this._z=Math.atan2(-a,s)):(this._x=Math.atan2(p,c),this._z=0);break;case"YXZ":this._x=Math.asin(-Wn(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(o,m),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-d,s),this._z=0);break;case"ZXY":this._x=Math.asin(Wn(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-d,m),this._z=Math.atan2(-a,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-Wn(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(p,m),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-a,c));break;case"YZX":this._z=Math.asin(Wn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-f,c),this._y=Math.atan2(-d,s)):(this._x=0,this._y=Math.atan2(o,m));break;case"XZY":this._z=Math.asin(-Wn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(p,c),this._y=Math.atan2(o,s)):(this._x=Math.atan2(-f,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,r){return u3.makeRotationFromQuaternion(e),this.setFromRotationMatrix(u3,t,r)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return f3.setFromEuler(this),this.setFromQuaternion(f3,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Yl.DEFAULT_ORDER="XYZ";class Zb{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let r$=0;const h3=new Ze,Ud=new zh,Pc=new jr,t1=new Ze,gp=new Ze,i$=new Ze,s$=new zh,d3=new Ze(1,0,0),p3=new Ze(0,1,0),m3=new Ze(0,0,1),g3={type:"added"},a$={type:"removed"},Bd={type:"childadded",child:null},y_={type:"childremoved",child:null};class ts extends Zh{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:r$++}),this.uuid=hf(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=ts.DEFAULT_UP.clone();const e=new Ze,t=new Yl,r=new zh,i=new Ze(1,1,1);function s(){r.setFromEuler(t,!1)}function a(){t.setFromQuaternion(r,void 0,!1)}t._onChange(s),r._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new jr},normalMatrix:{value:new In}}),this.matrix=new jr,this.matrixWorld=new jr,this.matrixAutoUpdate=ts.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=ts.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Zb,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Ud.setFromAxisAngle(e,t),this.quaternion.multiply(Ud),this}rotateOnWorldAxis(e,t){return Ud.setFromAxisAngle(e,t),this.quaternion.premultiply(Ud),this}rotateX(e){return this.rotateOnAxis(d3,e)}rotateY(e){return this.rotateOnAxis(p3,e)}rotateZ(e){return this.rotateOnAxis(m3,e)}translateOnAxis(e,t){return h3.copy(e).applyQuaternion(this.quaternion),this.position.add(h3.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(d3,e)}translateY(e){return this.translateOnAxis(p3,e)}translateZ(e){return this.translateOnAxis(m3,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Pc.copy(this.matrixWorld).invert())}lookAt(e,t,r){e.isVector3?t1.copy(e):t1.set(e,t,r);const i=this.parent;this.updateWorldMatrix(!0,!1),gp.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Pc.lookAt(gp,t1,this.up):Pc.lookAt(t1,gp,this.up),this.quaternion.setFromRotationMatrix(Pc),i&&(Pc.extractRotation(i.matrixWorld),Ud.setFromRotationMatrix(Pc),this.quaternion.premultiply(Ud.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(g3),Bd.child=e,this.dispatchEvent(Bd),Bd.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(a$),y_.child=e,this.dispatchEvent(y_),y_.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Pc.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Pc.multiply(e.parent.matrixWorld)),e.applyMatrix4(Pc),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(g3),Bd.child=e,this.dispatchEvent(Bd),Bd.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let r=0,i=this.children.length;r<i;r++){const a=this.children[r].getObjectByProperty(e,t);if(a!==void 0)return a}}getObjectsByProperty(e,t,r=[]){this[e]===t&&r.push(this);const i=this.children;for(let s=0,a=i.length;s<a;s++)i[s].getObjectsByProperty(e,t,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(gp,e,i$),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(gp,s$,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].updateMatrixWorld(e)}updateWorldMatrix(e,t){const r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const i=this.children;for(let s=0,a=i.length;s<a;s++)i[s].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.geometryInfo=this._geometryInfo.map(o=>({...o,boundingBox:o.boundingBox?o.boundingBox.toJSON():void 0,boundingSphere:o.boundingSphere?o.boundingSphere.toJSON():void 0})),i.instanceInfo=this._instanceInfo.map(o=>({...o})),i.availableInstanceIds=this._availableInstanceIds.slice(),i.availableGeometryIds=this._availableGeometryIds.slice(),i.nextIndexStart=this._nextIndexStart,i.nextVertexStart=this._nextVertexStart,i.geometryCount=this._geometryCount,i.maxInstanceCount=this._maxInstanceCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.matricesTexture=this._matricesTexture.toJSON(e),i.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(i.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(i.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(i.boundingBox=this.boundingBox.toJSON()));function s(o,l){return o[l.uuid]===void 0&&(o[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const o=this.geometry.parameters;if(o!==void 0&&o.shapes!==void 0){const l=o.shapes;if(Array.isArray(l))for(let c=0,f=l.length;c<f;c++){const d=l[c];s(e.shapes,d)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const o=[];for(let l=0,c=this.material.length;l<c;l++)o.push(s(e.materials,this.material[l]));i.material=o}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let o=0;o<this.children.length;o++)i.children.push(this.children[o].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let o=0;o<this.animations.length;o++){const l=this.animations[o];i.animations.push(s(e.animations,l))}}if(t){const o=a(e.geometries),l=a(e.materials),c=a(e.textures),f=a(e.images),d=a(e.shapes),p=a(e.skeletons),m=a(e.animations),_=a(e.nodes);o.length>0&&(r.geometries=o),l.length>0&&(r.materials=l),c.length>0&&(r.textures=c),f.length>0&&(r.images=f),d.length>0&&(r.shapes=d),p.length>0&&(r.skeletons=p),m.length>0&&(r.animations=m),_.length>0&&(r.nodes=_)}return r.object=i,r;function a(o){const l=[];for(const c in o){const f=o[c];delete f.metadata,l.push(f)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}ts.DEFAULT_UP=new Ze(0,1,0);ts.DEFAULT_MATRIX_AUTO_UPDATE=!0;ts.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Qo=new Ze,kc=new Ze,w_=new Ze,Rc=new Ze,zd=new Ze,Hd=new Ze,x3=new Ze,b_=new Ze,S_=new Ze,E_=new Ze,A_=new ci,T_=new ci,M_=new ci;class So{constructor(e=new Ze,t=new Ze,r=new Ze){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,i){i.subVectors(r,t),Qo.subVectors(e,t),i.cross(Qo);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,t,r,i,s){Qo.subVectors(i,t),kc.subVectors(r,t),w_.subVectors(e,t);const a=Qo.dot(Qo),o=Qo.dot(kc),l=Qo.dot(w_),c=kc.dot(kc),f=kc.dot(w_),d=a*c-o*o;if(d===0)return s.set(0,0,0),null;const p=1/d,m=(c*l-o*f)*p,_=(a*f-o*l)*p;return s.set(1-m-_,_,m)}static containsPoint(e,t,r,i){return this.getBarycoord(e,t,r,i,Rc)===null?!1:Rc.x>=0&&Rc.y>=0&&Rc.x+Rc.y<=1}static getInterpolation(e,t,r,i,s,a,o,l){return this.getBarycoord(e,t,r,i,Rc)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(s,Rc.x),l.addScaledVector(a,Rc.y),l.addScaledVector(o,Rc.z),l)}static getInterpolatedAttribute(e,t,r,i,s,a){return A_.setScalar(0),T_.setScalar(0),M_.setScalar(0),A_.fromBufferAttribute(e,t),T_.fromBufferAttribute(e,r),M_.fromBufferAttribute(e,i),a.setScalar(0),a.addScaledVector(A_,s.x),a.addScaledVector(T_,s.y),a.addScaledVector(M_,s.z),a}static isFrontFacing(e,t,r,i){return Qo.subVectors(r,t),kc.subVectors(e,t),Qo.cross(kc).dot(i)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,i){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,r,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Qo.subVectors(this.c,this.b),kc.subVectors(this.a,this.b),Qo.cross(kc).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return So.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return So.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,r,i,s){return So.getInterpolation(e,this.a,this.b,this.c,t,r,i,s)}containsPoint(e){return So.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return So.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const r=this.a,i=this.b,s=this.c;let a,o;zd.subVectors(i,r),Hd.subVectors(s,r),b_.subVectors(e,r);const l=zd.dot(b_),c=Hd.dot(b_);if(l<=0&&c<=0)return t.copy(r);S_.subVectors(e,i);const f=zd.dot(S_),d=Hd.dot(S_);if(f>=0&&d<=f)return t.copy(i);const p=l*d-f*c;if(p<=0&&l>=0&&f<=0)return a=l/(l-f),t.copy(r).addScaledVector(zd,a);E_.subVectors(e,s);const m=zd.dot(E_),_=Hd.dot(E_);if(_>=0&&m<=_)return t.copy(s);const x=m*c-l*_;if(x<=0&&c>=0&&_<=0)return o=c/(c-_),t.copy(r).addScaledVector(Hd,o);const g=f*_-m*d;if(g<=0&&d-f>=0&&m-_>=0)return x3.subVectors(s,i),o=(d-f)/(d-f+(m-_)),t.copy(i).addScaledVector(x3,o);const y=1/(g+x+p);return a=x*y,o=p*y,t.copy(r).addScaledVector(zd,a).addScaledVector(Hd,o)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const bk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Wu={h:0,s:0,l:0},n1={h:0,s:0,l:0};function C_(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}class kn{constructor(e,t,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,r)}set(e,t,r){if(t===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,t,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=bo){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,ar.colorSpaceToWorking(this,t),this}setRGB(e,t,r,i=ar.workingColorSpace){return this.r=e,this.g=t,this.b=r,ar.colorSpaceToWorking(this,i),this}setHSL(e,t,r,i=ar.workingColorSpace){if(e=jX(e,1),t=Wn(t,0,1),r=Wn(r,0,1),t===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+t):r+t-r*t,a=2*r-s;this.r=C_(a,s,e+1/3),this.g=C_(a,s,e),this.b=C_(a,s,e-1/3)}return ar.colorSpaceToWorking(this,i),this}setStyle(e,t=bo){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const a=i[1],o=i[2];switch(a){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,t);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,t);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],a=s.length;if(a===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(a===6)return this.setHex(parseInt(s,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=bo){const r=bk[e.toLowerCase()];return r!==void 0?this.setHex(r,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=qc(e.r),this.g=qc(e.g),this.b=qc(e.b),this}copyLinearToSRGB(e){return this.r=x0(e.r),this.g=x0(e.g),this.b=x0(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=bo){return ar.workingToColorSpace(Ps.copy(this),e),Math.round(Wn(Ps.r*255,0,255))*65536+Math.round(Wn(Ps.g*255,0,255))*256+Math.round(Wn(Ps.b*255,0,255))}getHexString(e=bo){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=ar.workingColorSpace){ar.workingToColorSpace(Ps.copy(this),t);const r=Ps.r,i=Ps.g,s=Ps.b,a=Math.max(r,i,s),o=Math.min(r,i,s);let l,c;const f=(o+a)/2;if(o===a)l=0,c=0;else{const d=a-o;switch(c=f<=.5?d/(a+o):d/(2-a-o),a){case r:l=(i-s)/d+(i<s?6:0);break;case i:l=(s-r)/d+2;break;case s:l=(r-i)/d+4;break}l/=6}return e.h=l,e.s=c,e.l=f,e}getRGB(e,t=ar.workingColorSpace){return ar.workingToColorSpace(Ps.copy(this),t),e.r=Ps.r,e.g=Ps.g,e.b=Ps.b,e}getStyle(e=bo){ar.workingToColorSpace(Ps.copy(this),e);const t=Ps.r,r=Ps.g,i=Ps.b;return e!==bo?`color(${e} ${t.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,t,r){return this.getHSL(Wu),this.setHSL(Wu.h+e,Wu.s+t,Wu.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(Wu),e.getHSL(n1);const r=u_(Wu.h,n1.h,t),i=u_(Wu.s,n1.s,t),s=u_(Wu.l,n1.l,t);return this.setHSL(r,i,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,r=this.g,i=this.b,s=e.elements;return this.r=s[0]*t+s[3]*r+s[6]*i,this.g=s[1]*t+s[4]*r+s[7]*i,this.b=s[2]*t+s[5]*r+s[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Ps=new kn;kn.NAMES=bk;let o$=0;class Qh extends Zh{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:o$++}),this.uuid=hf(),this.name="",this.type="Material",this.blending=m0,this.side=wf,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=qy,this.blendDst=Xy,this.blendEquation=vh,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new kn(0,0,0),this.blendAlpha=0,this.depthFunc=T0,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=i3,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Ld,this.stencilZFail=Ld,this.stencilZPass=Ld,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const r=e[t];if(r===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const i=this[t];if(i===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[t]=r}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const r={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(r.dispersion=this.dispersion),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==m0&&(r.blending=this.blending),this.side!==wf&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==qy&&(r.blendSrc=this.blendSrc),this.blendDst!==Xy&&(r.blendDst=this.blendDst),this.blendEquation!==vh&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==T0&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==i3&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Ld&&(r.stencilFail=this.stencilFail),this.stencilZFail!==Ld&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==Ld&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(s){const a=[];for(const o in s){const l=s[o];delete l.metadata,a.push(l)}return a}if(t){const s=i(e.textures),a=i(e.images);s.length>0&&(r.textures=s),a.length>0&&(r.images=a)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let r=null;if(t!==null){const i=t.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=t[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Sk extends Qh{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new kn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Yl,this.combine=Wb,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Ci=new Ze,r1=new dn;let l$=0;class ul{constructor(e,t,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:l$++}),this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=r,this.usage=Rw,this.updateRanges=[],this.gpuType=jc,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=t.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,r=this.count;t<r;t++)r1.fromBufferAttribute(this,t),r1.applyMatrix3(e),this.setXY(t,r1.x,r1.y);else if(this.itemSize===3)for(let t=0,r=this.count;t<r;t++)Ci.fromBufferAttribute(this,t),Ci.applyMatrix3(e),this.setXYZ(t,Ci.x,Ci.y,Ci.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)Ci.fromBufferAttribute(this,t),Ci.applyMatrix4(e),this.setXYZ(t,Ci.x,Ci.y,Ci.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Ci.fromBufferAttribute(this,t),Ci.applyNormalMatrix(e),this.setXYZ(t,Ci.x,Ci.y,Ci.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Ci.fromBufferAttribute(this,t),Ci.transformDirection(e),this.setXYZ(t,Ci.x,Ci.y,Ci.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let r=this.array[e*this.itemSize+t];return this.normalized&&(r=Hl(r,this.array)),r}setComponent(e,t,r){return this.normalized&&(r=Tr(r,this.array)),this.array[e*this.itemSize+t]=r,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Hl(t,this.array)),t}setX(e,t){return this.normalized&&(t=Tr(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Hl(t,this.array)),t}setY(e,t){return this.normalized&&(t=Tr(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Hl(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Tr(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Hl(t,this.array)),t}setW(e,t){return this.normalized&&(t=Tr(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=Tr(t,this.array),r=Tr(r,this.array)),this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=Tr(t,this.array),r=Tr(r,this.array),i=Tr(i,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e*=this.itemSize,this.normalized&&(t=Tr(t,this.array),r=Tr(r,this.array),i=Tr(i,this.array),s=Tr(s,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Rw&&(e.usage=this.usage),e}}class Ek extends ul{constructor(e,t,r){super(new Uint16Array(e),t,r)}}class Ak extends ul{constructor(e,t,r){super(new Uint32Array(e),t,r)}}class La extends ul{constructor(e,t,r){super(new Float32Array(e),t,r)}}let c$=0;const vo=new jr,P_=new ts,jd=new Ze,qa=new Um,xp=new Um,Ki=new Ze;class Na extends Zh{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:c$++}),this.uuid=hf(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(yk(e)?Ak:Ek)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new In().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return vo.makeRotationFromQuaternion(e),this.applyMatrix4(vo),this}rotateX(e){return vo.makeRotationX(e),this.applyMatrix4(vo),this}rotateY(e){return vo.makeRotationY(e),this.applyMatrix4(vo),this}rotateZ(e){return vo.makeRotationZ(e),this.applyMatrix4(vo),this}translate(e,t,r){return vo.makeTranslation(e,t,r),this.applyMatrix4(vo),this}scale(e,t,r){return vo.makeScale(e,t,r),this.applyMatrix4(vo),this}lookAt(e){return P_.lookAt(e),P_.updateMatrix(),this.applyMatrix4(P_.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(jd).negate(),this.translate(jd.x,jd.y,jd.z),this}setFromPoints(e){const t=this.getAttribute("position");if(t===void 0){const r=[];for(let i=0,s=e.length;i<s;i++){const a=e[i];r.push(a.x,a.y,a.z||0)}this.setAttribute("position",new La(r,3))}else{const r=Math.min(e.length,t.count);for(let i=0;i<r;i++){const s=e[i];t.setXYZ(i,s.x,s.y,s.z||0)}e.length>t.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Um);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new Ze(-1/0,-1/0,-1/0),new Ze(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,i=t.length;r<i;r++){const s=t[r];qa.setFromBufferAttribute(s),this.morphTargetsRelative?(Ki.addVectors(this.boundingBox.min,qa.min),this.boundingBox.expandByPoint(Ki),Ki.addVectors(this.boundingBox.max,qa.max),this.boundingBox.expandByPoint(Ki)):(this.boundingBox.expandByPoint(qa.min),this.boundingBox.expandByPoint(qa.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new mv);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new Ze,1/0);return}if(e){const r=this.boundingSphere.center;if(qa.setFromBufferAttribute(e),t)for(let s=0,a=t.length;s<a;s++){const o=t[s];xp.setFromBufferAttribute(o),this.morphTargetsRelative?(Ki.addVectors(qa.min,xp.min),qa.expandByPoint(Ki),Ki.addVectors(qa.max,xp.max),qa.expandByPoint(Ki)):(qa.expandByPoint(xp.min),qa.expandByPoint(xp.max))}qa.getCenter(r);let i=0;for(let s=0,a=e.count;s<a;s++)Ki.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(Ki));if(t)for(let s=0,a=t.length;s<a;s++){const o=t[s],l=this.morphTargetsRelative;for(let c=0,f=o.count;c<f;c++)Ki.fromBufferAttribute(o,c),l&&(jd.fromBufferAttribute(e,c),Ki.add(jd)),i=Math.max(i,r.distanceToSquared(Ki))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=t.position,i=t.normal,s=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new ul(new Float32Array(4*r.count),4));const a=this.getAttribute("tangent"),o=[],l=[];for(let I=0;I<r.count;I++)o[I]=new Ze,l[I]=new Ze;const c=new Ze,f=new Ze,d=new Ze,p=new dn,m=new dn,_=new dn,x=new Ze,g=new Ze;function y(I,R,O){c.fromBufferAttribute(r,I),f.fromBufferAttribute(r,R),d.fromBufferAttribute(r,O),p.fromBufferAttribute(s,I),m.fromBufferAttribute(s,R),_.fromBufferAttribute(s,O),f.sub(c),d.sub(c),m.sub(p),_.sub(p);const N=1/(m.x*_.y-_.x*m.y);isFinite(N)&&(x.copy(f).multiplyScalar(_.y).addScaledVector(d,-m.y).multiplyScalar(N),g.copy(d).multiplyScalar(m.x).addScaledVector(f,-_.x).multiplyScalar(N),o[I].add(x),o[R].add(x),o[O].add(x),l[I].add(g),l[R].add(g),l[O].add(g))}let A=this.groups;A.length===0&&(A=[{start:0,count:e.count}]);for(let I=0,R=A.length;I<R;++I){const O=A[I],N=O.start,k=O.count;for(let j=N,G=N+k;j<G;j+=3)y(e.getX(j+0),e.getX(j+1),e.getX(j+2))}const E=new Ze,M=new Ze,D=new Ze,U=new Ze;function L(I){D.fromBufferAttribute(i,I),U.copy(D);const R=o[I];E.copy(R),E.sub(D.multiplyScalar(D.dot(R))).normalize(),M.crossVectors(U,R);const N=M.dot(l[I])<0?-1:1;a.setXYZW(I,E.x,E.y,E.z,N)}for(let I=0,R=A.length;I<R;++I){const O=A[I],N=O.start,k=O.count;for(let j=N,G=N+k;j<G;j+=3)L(e.getX(j+0)),L(e.getX(j+1)),L(e.getX(j+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new ul(new Float32Array(t.count*3),3),this.setAttribute("normal",r);else for(let p=0,m=r.count;p<m;p++)r.setXYZ(p,0,0,0);const i=new Ze,s=new Ze,a=new Ze,o=new Ze,l=new Ze,c=new Ze,f=new Ze,d=new Ze;if(e)for(let p=0,m=e.count;p<m;p+=3){const _=e.getX(p+0),x=e.getX(p+1),g=e.getX(p+2);i.fromBufferAttribute(t,_),s.fromBufferAttribute(t,x),a.fromBufferAttribute(t,g),f.subVectors(a,s),d.subVectors(i,s),f.cross(d),o.fromBufferAttribute(r,_),l.fromBufferAttribute(r,x),c.fromBufferAttribute(r,g),o.add(f),l.add(f),c.add(f),r.setXYZ(_,o.x,o.y,o.z),r.setXYZ(x,l.x,l.y,l.z),r.setXYZ(g,c.x,c.y,c.z)}else for(let p=0,m=t.count;p<m;p+=3)i.fromBufferAttribute(t,p+0),s.fromBufferAttribute(t,p+1),a.fromBufferAttribute(t,p+2),f.subVectors(a,s),d.subVectors(i,s),f.cross(d),r.setXYZ(p+0,f.x,f.y,f.z),r.setXYZ(p+1,f.x,f.y,f.z),r.setXYZ(p+2,f.x,f.y,f.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)Ki.fromBufferAttribute(e,t),Ki.normalize(),e.setXYZ(t,Ki.x,Ki.y,Ki.z)}toNonIndexed(){function e(o,l){const c=o.array,f=o.itemSize,d=o.normalized,p=new c.constructor(l.length*f);let m=0,_=0;for(let x=0,g=l.length;x<g;x++){o.isInterleavedBufferAttribute?m=l[x]*o.data.stride+o.offset:m=l[x]*f;for(let y=0;y<f;y++)p[_++]=c[m++]}return new ul(p,f,d)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Na,r=this.index.array,i=this.attributes;for(const o in i){const l=i[o],c=e(l,r);t.setAttribute(o,c)}const s=this.morphAttributes;for(const o in s){const l=[],c=s[o];for(let f=0,d=c.length;f<d;f++){const p=c[f],m=e(p,r);l.push(m)}t.morphAttributes[o]=l}t.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let o=0,l=a.length;o<l;o++){const c=a[o];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const r=this.attributes;for(const l in r){const c=r[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],f=[];for(let d=0,p=c.length;d<p;d++){const m=c[d];f.push(m.toJSON(e.data))}f.length>0&&(i[l]=f,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const o=this.boundingSphere;return o!==null&&(e.data.boundingSphere=o.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone());const i=e.attributes;for(const c in i){const f=i[c];this.setAttribute(c,f.clone(t))}const s=e.morphAttributes;for(const c in s){const f=[],d=s[c];for(let p=0,m=d.length;p<m;p++)f.push(d[p].clone(t));this.morphAttributes[c]=f}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let c=0,f=a.length;c<f;c++){const d=a[c];this.addGroup(d.start,d.count,d.materialIndex)}const o=e.boundingBox;o!==null&&(this.boundingBox=o.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const v3=new jr,ah=new gv,i1=new mv,_3=new Ze,s1=new Ze,a1=new Ze,o1=new Ze,k_=new Ze,l1=new Ze,y3=new Ze,c1=new Ze;class Ca extends ts{constructor(e=new Na,t=new Sk){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=i.length;s<a;s++){const o=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}getVertexPosition(e,t){const r=this.geometry,i=r.attributes.position,s=r.morphAttributes.position,a=r.morphTargetsRelative;t.fromBufferAttribute(i,e);const o=this.morphTargetInfluences;if(s&&o){l1.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const f=o[l],d=s[l];f!==0&&(k_.fromBufferAttribute(d,e),a?l1.addScaledVector(k_,f):l1.addScaledVector(k_.sub(t),f))}t.add(l1)}return t}raycast(e,t){const r=this.geometry,i=this.material,s=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),i1.copy(r.boundingSphere),i1.applyMatrix4(s),ah.copy(e.ray).recast(e.near),!(i1.containsPoint(ah.origin)===!1&&(ah.intersectSphere(i1,_3)===null||ah.origin.distanceToSquared(_3)>(e.far-e.near)**2))&&(v3.copy(s).invert(),ah.copy(e.ray).applyMatrix4(v3),!(r.boundingBox!==null&&ah.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,t,ah)))}_computeIntersections(e,t,r){let i;const s=this.geometry,a=this.material,o=s.index,l=s.attributes.position,c=s.attributes.uv,f=s.attributes.uv1,d=s.attributes.normal,p=s.groups,m=s.drawRange;if(o!==null)if(Array.isArray(a))for(let _=0,x=p.length;_<x;_++){const g=p[_],y=a[g.materialIndex],A=Math.max(g.start,m.start),E=Math.min(o.count,Math.min(g.start+g.count,m.start+m.count));for(let M=A,D=E;M<D;M+=3){const U=o.getX(M),L=o.getX(M+1),I=o.getX(M+2);i=u1(this,y,e,r,c,f,d,U,L,I),i&&(i.faceIndex=Math.floor(M/3),i.face.materialIndex=g.materialIndex,t.push(i))}}else{const _=Math.max(0,m.start),x=Math.min(o.count,m.start+m.count);for(let g=_,y=x;g<y;g+=3){const A=o.getX(g),E=o.getX(g+1),M=o.getX(g+2);i=u1(this,a,e,r,c,f,d,A,E,M),i&&(i.faceIndex=Math.floor(g/3),t.push(i))}}else if(l!==void 0)if(Array.isArray(a))for(let _=0,x=p.length;_<x;_++){const g=p[_],y=a[g.materialIndex],A=Math.max(g.start,m.start),E=Math.min(l.count,Math.min(g.start+g.count,m.start+m.count));for(let M=A,D=E;M<D;M+=3){const U=M,L=M+1,I=M+2;i=u1(this,y,e,r,c,f,d,U,L,I),i&&(i.faceIndex=Math.floor(M/3),i.face.materialIndex=g.materialIndex,t.push(i))}}else{const _=Math.max(0,m.start),x=Math.min(l.count,m.start+m.count);for(let g=_,y=x;g<y;g+=3){const A=g,E=g+1,M=g+2;i=u1(this,a,e,r,c,f,d,A,E,M),i&&(i.faceIndex=Math.floor(g/3),t.push(i))}}}}function u$(n,e,t,r,i,s,a,o){let l;if(e.side===Ra?l=r.intersectTriangle(a,s,i,!0,o):l=r.intersectTriangle(i,s,a,e.side===wf,o),l===null)return null;c1.copy(o),c1.applyMatrix4(n.matrixWorld);const c=t.ray.origin.distanceTo(c1);return c<t.near||c>t.far?null:{distance:c,point:c1.clone(),object:n}}function u1(n,e,t,r,i,s,a,o,l,c){n.getVertexPosition(o,s1),n.getVertexPosition(l,a1),n.getVertexPosition(c,o1);const f=u$(n,e,t,r,s1,a1,o1,y3);if(f){const d=new Ze;So.getBarycoord(y3,s1,a1,o1,d),i&&(f.uv=So.getInterpolatedAttribute(i,o,l,c,d,new dn)),s&&(f.uv1=So.getInterpolatedAttribute(s,o,l,c,d,new dn)),a&&(f.normal=So.getInterpolatedAttribute(a,o,l,c,d,new Ze),f.normal.dot(r.direction)>0&&f.normal.multiplyScalar(-1));const p={a:o,b:l,c,normal:new Ze,materialIndex:0};So.getNormal(s1,a1,o1,p.normal),f.face=p,f.barycoord=d}return f}class jh extends Na{constructor(e=1,t=1,r=1,i=1,s=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:i,heightSegments:s,depthSegments:a};const o=this;i=Math.floor(i),s=Math.floor(s),a=Math.floor(a);const l=[],c=[],f=[],d=[];let p=0,m=0;_("z","y","x",-1,-1,r,t,e,a,s,0),_("z","y","x",1,-1,r,t,-e,a,s,1),_("x","z","y",1,1,e,r,t,i,a,2),_("x","z","y",1,-1,e,r,-t,i,a,3),_("x","y","z",1,-1,e,t,r,i,s,4),_("x","y","z",-1,-1,e,t,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new La(c,3)),this.setAttribute("normal",new La(f,3)),this.setAttribute("uv",new La(d,2));function _(x,g,y,A,E,M,D,U,L,I,R){const O=M/L,N=D/I,k=M/2,j=D/2,G=U/2,ae=L+1,ie=I+1;let ue=0,J=0;const X=new Ze;for(let pe=0;pe<ie;pe++){const oe=pe*N-j;for(let C=0;C<ae;C++){const W=C*O-k;X[x]=W*A,X[g]=oe*E,X[y]=G,c.push(X.x,X.y,X.z),X[x]=0,X[g]=0,X[y]=U>0?1:-1,f.push(X.x,X.y,X.z),d.push(C/L),d.push(1-pe/I),ue+=1}}for(let pe=0;pe<I;pe++)for(let oe=0;oe<L;oe++){const C=p+oe+ae*pe,W=p+oe+ae*(pe+1),z=p+(oe+1)+ae*(pe+1),V=p+(oe+1)+ae*pe;l.push(C,W,V),l.push(W,z,V),J+=6}o.addGroup(m,J,R),m+=J,p+=ue}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new jh(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function k0(n){const e={};for(const t in n){e[t]={};for(const r in n[t]){const i=n[t][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][r]=null):e[t][r]=i.clone():Array.isArray(i)?e[t][r]=i.slice():e[t][r]=i}}return e}function ra(n){const e={};for(let t=0;t<n.length;t++){const r=k0(n[t]);for(const i in r)e[i]=r[i]}return e}function f$(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function Tk(n){const e=n.getRenderTarget();return e===null?n.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:ar.workingColorSpace}const h$={clone:k0,merge:ra};var d$=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,p$=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class bf extends Qh{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=d$,this.fragmentShader=p$,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=k0(e.uniforms),this.uniformsGroups=f$(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const a=this.uniforms[i].value;a&&a.isTexture?t.uniforms[i]={type:"t",value:a.toJSON(e).uuid}:a&&a.isColor?t.uniforms[i]={type:"c",value:a.getHex()}:a&&a.isVector2?t.uniforms[i]={type:"v2",value:a.toArray()}:a&&a.isVector3?t.uniforms[i]={type:"v3",value:a.toArray()}:a&&a.isVector4?t.uniforms[i]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?t.uniforms[i]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?t.uniforms[i]={type:"m4",value:a.toArray()}:t.uniforms[i]={value:a}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}}class Mk extends ts{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new jr,this.projectionMatrix=new jr,this.projectionMatrixInverse=new jr,this.coordinateSystem=Vc}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Gu=new Ze,w3=new dn,b3=new dn;class aa extends Mk{constructor(e=50,t=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Lw*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(rx*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Lw*2*Math.atan(Math.tan(rx*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,r){Gu.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(Gu.x,Gu.y).multiplyScalar(-e/Gu.z),Gu.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(Gu.x,Gu.y).multiplyScalar(-e/Gu.z)}getViewSize(e,t){return this.getViewBounds(e,w3,b3),t.subVectors(b3,w3)}setViewOffset(e,t,r,i,s,a){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(rx*.5*this.fov)/this.zoom,r=2*t,i=this.aspect*r,s=-.5*i;const a=this.view;if(this.view!==null&&this.view.enabled){const l=a.fullWidth,c=a.fullHeight;s+=a.offsetX*i/l,t-=a.offsetY*r/c,i*=a.width/l,r*=a.height/c}const o=this.filmOffset;o!==0&&(s+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,t,t-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const Vd=-90,Wd=1;class m$ extends ts{constructor(e,t,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new aa(Vd,Wd,e,t);i.layers=this.layers,this.add(i);const s=new aa(Vd,Wd,e,t);s.layers=this.layers,this.add(s);const a=new aa(Vd,Wd,e,t);a.layers=this.layers,this.add(a);const o=new aa(Vd,Wd,e,t);o.layers=this.layers,this.add(o);const l=new aa(Vd,Wd,e,t);l.layers=this.layers,this.add(l);const c=new aa(Vd,Wd,e,t);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[r,i,s,a,o,l]=t;for(const c of t)this.remove(c);if(e===Vc)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),a.up.set(0,0,1),a.lookAt(0,-1,0),o.up.set(0,1,0),o.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===Ox)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),a.up.set(0,0,-1),a.lookAt(0,-1,0),o.up.set(0,-1,0),o.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of t)this.add(c),c.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,a,o,l,c,f]=this.children,d=e.getRenderTarget(),p=e.getActiveCubeFace(),m=e.getActiveMipmapLevel(),_=e.xr.enabled;e.xr.enabled=!1;const x=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(t,s),e.setRenderTarget(r,1,i),e.render(t,a),e.setRenderTarget(r,2,i),e.render(t,o),e.setRenderTarget(r,3,i),e.render(t,l),e.setRenderTarget(r,4,i),e.render(t,c),r.texture.generateMipmaps=x,e.setRenderTarget(r,5,i),e.render(t,f),e.setRenderTarget(d,p,m),e.xr.enabled=_,r.texture.needsPMREMUpdate=!0}}class Ck extends ca{constructor(e=[],t=M0,r,i,s,a,o,l,c,f){super(e,t,r,i,s,a,o,l,c,f),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class g$ extends Hh{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new Ck(i),this._setTextureOptions(t),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new jh(5,5,5),s=new bf({name:"CubemapFromEquirect",uniforms:k0(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:Ra,blending:uf});s.uniforms.tEquirect.value=t;const a=new Ca(i,s),o=t.minFilter;return t.minFilter===Eh&&(t.minFilter=Vl),new m$(1,10,this).update(e,a),t.minFilter=o,a.geometry.dispose(),a.material.dispose(),this}clear(e,t=!0,r=!0,i=!0){const s=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(t,r,i);e.setRenderTarget(s)}}class f1 extends ts{constructor(){super(),this.isGroup=!0,this.type="Group"}}const x$={type:"move"};class R_{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new f1,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new f1,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Ze,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Ze),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new f1,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Ze,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Ze),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const r of e.hand.values())this._getHandJoint(t,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,r){let i=null,s=null,a=null;const o=this._targetRay,l=this._grip,c=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(c&&e.hand){a=!0;for(const x of e.hand.values()){const g=t.getJointPose(x,r),y=this._getHandJoint(c,x);g!==null&&(y.matrix.fromArray(g.transform.matrix),y.matrix.decompose(y.position,y.rotation,y.scale),y.matrixWorldNeedsUpdate=!0,y.jointRadius=g.radius),y.visible=g!==null}const f=c.joints["index-finger-tip"],d=c.joints["thumb-tip"],p=f.position.distanceTo(d.position),m=.02,_=.005;c.inputState.pinching&&p>m+_?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&p<=m-_&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));o!==null&&(i=t.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(o.matrix.fromArray(i.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,i.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(i.linearVelocity)):o.hasLinearVelocity=!1,i.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(i.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(x$)))}return o!==null&&(o.visible=i!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=a!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const r=new f1;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[t.jointName]=r,e.add(r)}return e.joints[t.jointName]}}class h1 extends ts{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Yl,this.environmentIntensity=1,this.environmentRotation=new Yl,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class v${constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=Rw,this.updateRanges=[],this.version=0,this.uuid=hf()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,r){e*=this.stride,r*=t.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=t.array[r+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=hf()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(t,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=hf()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const na=new Ze;class Bx{constructor(e,t,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,r=this.data.count;t<r;t++)na.fromBufferAttribute(this,t),na.applyMatrix4(e),this.setXYZ(t,na.x,na.y,na.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)na.fromBufferAttribute(this,t),na.applyNormalMatrix(e),this.setXYZ(t,na.x,na.y,na.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)na.fromBufferAttribute(this,t),na.transformDirection(e),this.setXYZ(t,na.x,na.y,na.z);return this}getComponent(e,t){let r=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(r=Hl(r,this.array)),r}setComponent(e,t,r){return this.normalized&&(r=Tr(r,this.array)),this.data.array[e*this.data.stride+this.offset+t]=r,this}setX(e,t){return this.normalized&&(t=Tr(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=Tr(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=Tr(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=Tr(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Hl(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Hl(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Hl(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Hl(t,this.array)),t}setXY(e,t,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=Tr(t,this.array),r=Tr(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this}setXYZ(e,t,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=Tr(t,this.array),r=Tr(r,this.array),i=Tr(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=Tr(t,this.array),r=Tr(r,this.array),i=Tr(i,this.array),s=Tr(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return new ul(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Bx(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class Pk extends Qh{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new kn(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Gd;const vp=new Ze,qd=new Ze,Xd=new Ze,$d=new dn,_p=new dn,kk=new jr,d1=new Ze,yp=new Ze,p1=new Ze,S3=new dn,L_=new dn,E3=new dn;class _$ extends ts{constructor(e=new Pk){if(super(),this.isSprite=!0,this.type="Sprite",Gd===void 0){Gd=new Na;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new v$(t,5);Gd.setIndex([0,1,2,0,2,3]),Gd.setAttribute("position",new Bx(r,3,0,!1)),Gd.setAttribute("uv",new Bx(r,2,3,!1))}this.geometry=Gd,this.material=e,this.center=new dn(.5,.5),this.count=1}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),qd.setFromMatrixScale(this.matrixWorld),kk.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Xd.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&qd.multiplyScalar(-Xd.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const a=this.center;m1(d1.set(-.5,-.5,0),Xd,a,qd,i,s),m1(yp.set(.5,-.5,0),Xd,a,qd,i,s),m1(p1.set(.5,.5,0),Xd,a,qd,i,s),S3.set(0,0),L_.set(1,0),E3.set(1,1);let o=e.ray.intersectTriangle(d1,yp,p1,!1,vp);if(o===null&&(m1(yp.set(-.5,.5,0),Xd,a,qd,i,s),L_.set(0,1),o=e.ray.intersectTriangle(d1,p1,yp,!1,vp),o===null))return;const l=e.ray.origin.distanceTo(vp);l<e.near||l>e.far||t.push({distance:l,point:vp.clone(),uv:So.getInterpolation(vp,d1,yp,p1,S3,L_,E3,new dn),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function m1(n,e,t,r,i,s){$d.subVectors(n,t).addScalar(.5).multiply(r),i!==void 0?(_p.x=s*$d.x-i*$d.y,_p.y=i*$d.x+s*$d.y):_p.copy($d),n.copy(e),n.x+=_p.x,n.y+=_p.y,n.applyMatrix4(kk)}const N_=new Ze,y$=new Ze,w$=new In;class qu{constructor(e=new Ze(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,i){return this.normal.set(e,t,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){const i=N_.subVectors(r,t).cross(y$.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const r=e.delta(N_),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:t.copy(e.start).addScaledVector(r,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const r=t||w$.getNormalMatrix(e),i=this.coplanarPoint(N_).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const oh=new mv,g1=new Ze;class Qb{constructor(e=new qu,t=new qu,r=new qu,i=new qu,s=new qu,a=new qu){this.planes=[e,t,r,i,s,a]}set(e,t,r,i,s,a){const o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(r),o[3].copy(i),o[4].copy(s),o[5].copy(a),this}copy(e){const t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,t=Vc){const r=this.planes,i=e.elements,s=i[0],a=i[1],o=i[2],l=i[3],c=i[4],f=i[5],d=i[6],p=i[7],m=i[8],_=i[9],x=i[10],g=i[11],y=i[12],A=i[13],E=i[14],M=i[15];if(r[0].setComponents(l-s,p-c,g-m,M-y).normalize(),r[1].setComponents(l+s,p+c,g+m,M+y).normalize(),r[2].setComponents(l+a,p+f,g+_,M+A).normalize(),r[3].setComponents(l-a,p-f,g-_,M-A).normalize(),r[4].setComponents(l-o,p-d,g-x,M-E).normalize(),t===Vc)r[5].setComponents(l+o,p+d,g+x,M+E).normalize();else if(t===Ox)r[5].setComponents(o,d,x,E).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),oh.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),oh.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(oh)}intersectsSprite(e){return oh.center.set(0,0,0),oh.radius=.7071067811865476,oh.applyMatrix4(e.matrixWorld),this.intersectsSphere(oh)}intersectsSphere(e){const t=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let r=0;r<6;r++){const i=t[r];if(g1.x=i.normal.x>0?e.max.x:e.min.x,g1.y=i.normal.y>0?e.max.y:e.min.y,g1.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(g1)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}class ix extends Qh{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new kn(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const zx=new Ze,Hx=new Ze,A3=new jr,wp=new gv,x1=new mv,F_=new Ze,T3=new Ze;class D_ extends ts{constructor(e=new Na,t=new ix){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[0];for(let i=1,s=t.count;i<s;i++)zx.fromBufferAttribute(t,i-1),Hx.fromBufferAttribute(t,i),r[i]=r[i-1],r[i]+=zx.distanceTo(Hx);e.setAttribute("lineDistance",new La(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,a=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),x1.copy(r.boundingSphere),x1.applyMatrix4(i),x1.radius+=s,e.ray.intersectsSphere(x1)===!1)return;A3.copy(i).invert(),wp.copy(e.ray).applyMatrix4(A3);const o=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=o*o,c=this.isLineSegments?2:1,f=r.index,p=r.attributes.position;if(f!==null){const m=Math.max(0,a.start),_=Math.min(f.count,a.start+a.count);for(let x=m,g=_-1;x<g;x+=c){const y=f.getX(x),A=f.getX(x+1),E=v1(this,e,wp,l,y,A,x);E&&t.push(E)}if(this.isLineLoop){const x=f.getX(_-1),g=f.getX(m),y=v1(this,e,wp,l,x,g,_-1);y&&t.push(y)}}else{const m=Math.max(0,a.start),_=Math.min(p.count,a.start+a.count);for(let x=m,g=_-1;x<g;x+=c){const y=v1(this,e,wp,l,x,x+1,x);y&&t.push(y)}if(this.isLineLoop){const x=v1(this,e,wp,l,_-1,m,_-1);x&&t.push(x)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=i.length;s<a;s++){const o=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}}function v1(n,e,t,r,i,s,a){const o=n.geometry.attributes.position;if(zx.fromBufferAttribute(o,i),Hx.fromBufferAttribute(o,s),t.distanceSqToSegment(zx,Hx,F_,T3)>r)return;F_.applyMatrix4(n.matrixWorld);const c=e.ray.origin.distanceTo(F_);if(!(c<e.near||c>e.far))return{distance:c,point:T3.clone().applyMatrix4(n.matrixWorld),index:a,face:null,faceIndex:null,barycoord:null,object:n}}class b$ extends ca{constructor(e,t,r,i,s,a,o,l,c){super(e,t,r,i,s,a,o,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Rk extends ca{constructor(e,t,r=Bh,i,s,a,o=cl,l=cl,c,f=Sm,d=1){if(f!==Sm&&f!==Em)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const p={width:e,height:t,depth:d};super(p,i,s,a,o,l,f,r,c),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new Jb(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class eS extends Na{constructor(e=1,t=1,r=1,i=32,s=1,a=!1,o=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:i,heightSegments:s,openEnded:a,thetaStart:o,thetaLength:l};const c=this;i=Math.floor(i),s=Math.floor(s);const f=[],d=[],p=[],m=[];let _=0;const x=[],g=r/2;let y=0;A(),a===!1&&(e>0&&E(!0),t>0&&E(!1)),this.setIndex(f),this.setAttribute("position",new La(d,3)),this.setAttribute("normal",new La(p,3)),this.setAttribute("uv",new La(m,2));function A(){const M=new Ze,D=new Ze;let U=0;const L=(t-e)/r;for(let I=0;I<=s;I++){const R=[],O=I/s,N=O*(t-e)+e;for(let k=0;k<=i;k++){const j=k/i,G=j*l+o,ae=Math.sin(G),ie=Math.cos(G);D.x=N*ae,D.y=-O*r+g,D.z=N*ie,d.push(D.x,D.y,D.z),M.set(ae,L,ie).normalize(),p.push(M.x,M.y,M.z),m.push(j,1-O),R.push(_++)}x.push(R)}for(let I=0;I<i;I++)for(let R=0;R<s;R++){const O=x[R][I],N=x[R+1][I],k=x[R+1][I+1],j=x[R][I+1];(e>0||R!==0)&&(f.push(O,N,j),U+=3),(t>0||R!==s-1)&&(f.push(N,k,j),U+=3)}c.addGroup(y,U,0),y+=U}function E(M){const D=_,U=new dn,L=new Ze;let I=0;const R=M===!0?e:t,O=M===!0?1:-1;for(let k=1;k<=i;k++)d.push(0,g*O,0),p.push(0,O,0),m.push(.5,.5),_++;const N=_;for(let k=0;k<=i;k++){const G=k/i*l+o,ae=Math.cos(G),ie=Math.sin(G);L.x=R*ie,L.y=g*O,L.z=R*ae,d.push(L.x,L.y,L.z),p.push(0,O,0),U.x=ae*.5+.5,U.y=ie*.5*O+.5,m.push(U.x,U.y),_++}for(let k=0;k<i;k++){const j=D+k,G=N+k;M===!0?f.push(G,G+1,j):f.push(G+1,G,j),I+=3}c.addGroup(y,I,M===!0?1:2),y+=I}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new eS(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Bm extends Na{constructor(e=1,t=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:i};const s=e/2,a=t/2,o=Math.floor(r),l=Math.floor(i),c=o+1,f=l+1,d=e/o,p=t/l,m=[],_=[],x=[],g=[];for(let y=0;y<f;y++){const A=y*p-a;for(let E=0;E<c;E++){const M=E*d-s;_.push(M,-A,0),x.push(0,0,1),g.push(E/o),g.push(1-y/l)}}for(let y=0;y<l;y++)for(let A=0;A<o;A++){const E=A+c*y,M=A+c*(y+1),D=A+1+c*(y+1),U=A+1+c*y;m.push(E,M,U),m.push(M,D,U)}this.setIndex(m),this.setAttribute("position",new La(_,3)),this.setAttribute("normal",new La(x,3)),this.setAttribute("uv",new La(g,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Bm(e.width,e.height,e.widthSegments,e.heightSegments)}}class tS extends Na{constructor(e=1,t=32,r=16,i=0,s=Math.PI*2,a=0,o=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:i,phiLength:s,thetaStart:a,thetaLength:o},t=Math.max(3,Math.floor(t)),r=Math.max(2,Math.floor(r));const l=Math.min(a+o,Math.PI);let c=0;const f=[],d=new Ze,p=new Ze,m=[],_=[],x=[],g=[];for(let y=0;y<=r;y++){const A=[],E=y/r;let M=0;y===0&&a===0?M=.5/t:y===r&&l===Math.PI&&(M=-.5/t);for(let D=0;D<=t;D++){const U=D/t;d.x=-e*Math.cos(i+U*s)*Math.sin(a+E*o),d.y=e*Math.cos(a+E*o),d.z=e*Math.sin(i+U*s)*Math.sin(a+E*o),_.push(d.x,d.y,d.z),p.copy(d).normalize(),x.push(p.x,p.y,p.z),g.push(U+M,1-E),A.push(c++)}f.push(A)}for(let y=0;y<r;y++)for(let A=0;A<t;A++){const E=f[y][A+1],M=f[y][A],D=f[y+1][A],U=f[y+1][A+1];(y!==0||a>0)&&m.push(E,M,U),(y!==r-1||l<Math.PI)&&m.push(M,D,U)}this.setIndex(m),this.setAttribute("position",new La(_,3)),this.setAttribute("normal",new La(x,3)),this.setAttribute("uv",new La(g,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new tS(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class bp extends Qh{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new kn(16777215),this.specular=new kn(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new kn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=vk,this.normalScale=new dn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Yl,this.combine=Wb,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class S$ extends Qh{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=LX,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class E$ extends Qh{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class Lk extends ts{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new kn(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(t.object.target=this.target.uuid),t}}const I_=new jr,M3=new Ze,C3=new Ze;class A${constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new dn(512,512),this.mapType=$l,this.map=null,this.mapPass=null,this.matrix=new jr,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Qb,this._frameExtents=new dn(1,1),this._viewportCount=1,this._viewports=[new ci(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,r=this.matrix;M3.setFromMatrixPosition(e.matrixWorld),t.position.copy(M3),C3.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(C3),t.updateMatrixWorld(),I_.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(I_),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(I_)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class Nk extends Mk{constructor(e=-1,t=1,r=1,i=-1,s=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=i,this.near=s,this.far=a,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,r,i,s,a){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,a=r+e,o=i+t,l=i-t;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,f=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,a=s+c*this.view.width,o-=f*this.view.offsetY,l=o-f*this.view.height}this.projectionMatrix.makeOrthographic(s,a,o,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}class T$ extends A${constructor(){super(new Nk(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class _1 extends Lk{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(ts.DEFAULT_UP),this.updateMatrix(),this.target=new ts,this.shadow=new T$}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class y1 extends Lk{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class M$ extends aa{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}const P3=new jr;class w1{constructor(e,t,r=0,i=1/0){this.ray=new gv(e,t),this.near=r,this.far=i,this.camera=null,this.layers=new Zb,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return P3.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(P3),this}intersectObject(e,t=!0,r=[]){return Nw(e,this,r,t),r.sort(k3),r}intersectObjects(e,t=!0,r=[]){for(let i=0,s=e.length;i<s;i++)Nw(e[i],this,r,t);return r.sort(k3),r}}function k3(n,e){return n.distance-e.distance}function Nw(n,e,t,r){let i=!0;if(n.layers.test(e.layers)&&n.raycast(e,t)===!1&&(i=!1),i===!0&&r===!0){const s=n.children;for(let a=0,o=s.length;a<o;a++)Nw(s[a],e,t,!0)}}class R3{constructor(e=1,t=0,r=0){this.radius=e,this.phi=t,this.theta=r}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Wn(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Wn(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class C$ extends Zh{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){console.warn("THREE.Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function L3(n,e,t,r){const i=P$(r);switch(t){case dk:return n*e;case mk:return n*e/i.components*i.byteLength;case $b:return n*e/i.components*i.byteLength;case gk:return n*e*2/i.components*i.byteLength;case Yb:return n*e*2/i.components*i.byteLength;case pk:return n*e*3/i.components*i.byteLength;case al:return n*e*4/i.components*i.byteLength;case Kb:return n*e*4/i.components*i.byteLength;case Z1:case Q1:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case ex:case tx:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case aw:case lw:return Math.max(n,16)*Math.max(e,8)/4;case sw:case ow:return Math.max(n,8)*Math.max(e,8)/2;case cw:case uw:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case fw:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case hw:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case dw:return Math.floor((n+4)/5)*Math.floor((e+3)/4)*16;case pw:return Math.floor((n+4)/5)*Math.floor((e+4)/5)*16;case mw:return Math.floor((n+5)/6)*Math.floor((e+4)/5)*16;case gw:return Math.floor((n+5)/6)*Math.floor((e+5)/6)*16;case xw:return Math.floor((n+7)/8)*Math.floor((e+4)/5)*16;case vw:return Math.floor((n+7)/8)*Math.floor((e+5)/6)*16;case _w:return Math.floor((n+7)/8)*Math.floor((e+7)/8)*16;case yw:return Math.floor((n+9)/10)*Math.floor((e+4)/5)*16;case ww:return Math.floor((n+9)/10)*Math.floor((e+5)/6)*16;case bw:return Math.floor((n+9)/10)*Math.floor((e+7)/8)*16;case Sw:return Math.floor((n+9)/10)*Math.floor((e+9)/10)*16;case Ew:return Math.floor((n+11)/12)*Math.floor((e+9)/10)*16;case Aw:return Math.floor((n+11)/12)*Math.floor((e+11)/12)*16;case nx:case Tw:case Mw:return Math.ceil(n/4)*Math.ceil(e/4)*16;case xk:case Cw:return Math.ceil(n/4)*Math.ceil(e/4)*8;case Pw:case kw:return Math.ceil(n/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function P$(n){switch(n){case $l:case uk:return{byteLength:1,components:1};case wm:case fk:case Om:return{byteLength:2,components:1};case qb:case Xb:return{byteLength:2,components:4};case Bh:case Gb:case jc:return{byteLength:4,components:1};case hk:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${n}.`)}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Vb}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Vb);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function Fk(){let n=null,e=!1,t=null,r=null;function i(s,a){t(s,a),r=n.requestAnimationFrame(i)}return{start:function(){e!==!0&&t!==null&&(r=n.requestAnimationFrame(i),e=!0)},stop:function(){n.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function k$(n){const e=new WeakMap;function t(o,l){const c=o.array,f=o.usage,d=c.byteLength,p=n.createBuffer();n.bindBuffer(l,p),n.bufferData(l,c,f),o.onUploadCallback();let m;if(c instanceof Float32Array)m=n.FLOAT;else if(c instanceof Uint16Array)o.isFloat16BufferAttribute?m=n.HALF_FLOAT:m=n.UNSIGNED_SHORT;else if(c instanceof Int16Array)m=n.SHORT;else if(c instanceof Uint32Array)m=n.UNSIGNED_INT;else if(c instanceof Int32Array)m=n.INT;else if(c instanceof Int8Array)m=n.BYTE;else if(c instanceof Uint8Array)m=n.UNSIGNED_BYTE;else if(c instanceof Uint8ClampedArray)m=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+c);return{buffer:p,type:m,bytesPerElement:c.BYTES_PER_ELEMENT,version:o.version,size:d}}function r(o,l,c){const f=l.array,d=l.updateRanges;if(n.bindBuffer(c,o),d.length===0)n.bufferSubData(c,0,f);else{d.sort((m,_)=>m.start-_.start);let p=0;for(let m=1;m<d.length;m++){const _=d[p],x=d[m];x.start<=_.start+_.count+1?_.count=Math.max(_.count,x.start+x.count-_.start):(++p,d[p]=x)}d.length=p+1;for(let m=0,_=d.length;m<_;m++){const x=d[m];n.bufferSubData(c,x.start*f.BYTES_PER_ELEMENT,f,x.start,x.count)}l.clearUpdateRanges()}l.onUploadCallback()}function i(o){return o.isInterleavedBufferAttribute&&(o=o.data),e.get(o)}function s(o){o.isInterleavedBufferAttribute&&(o=o.data);const l=e.get(o);l&&(n.deleteBuffer(l.buffer),e.delete(o))}function a(o,l){if(o.isInterleavedBufferAttribute&&(o=o.data),o.isGLBufferAttribute){const f=e.get(o);(!f||f.version<o.version)&&e.set(o,{buffer:o.buffer,type:o.type,bytesPerElement:o.elementSize,version:o.version});return}const c=e.get(o);if(c===void 0)e.set(o,t(o,l));else if(c.version<o.version){if(c.size!==o.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");r(c.buffer,o,l),c.version=o.version}}return{get:i,remove:s,update:a}}var R$=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,L$=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,N$=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,F$=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,D$=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,I$=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,O$=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,U$=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,B$=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,z$=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,H$=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,j$=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,V$=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,W$=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,G$=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,q$=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,X$=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,$$=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,Y$=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,K$=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,J$=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,Z$=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,Q$=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,eY=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,tY=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,nY=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,rY=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,iY=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,sY=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,aY=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,oY="gl_FragColor = linearToOutputTexel( gl_FragColor );",lY=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,cY=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,uY=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,fY=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,hY=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,dY=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,pY=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,mY=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,gY=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,xY=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,vY=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,_Y=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,yY=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,wY=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,bY=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,SY=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,EY=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,AY=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,TY=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,MY=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,CY=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,PY=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,kY=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,RY=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,LY=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,NY=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,FY=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,DY=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,IY=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,OY=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,UY=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,BY=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,zY=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,HY=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,jY=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,VY=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,WY=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,GY=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,qY=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,XY=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,$Y=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,YY=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,KY=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,JY=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,ZY=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,QY=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,eK=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,tK=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,nK=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,rK=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,iK=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,sK=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,aK=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,oK=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,lK=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,cK=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,uK=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,fK=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,hK=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,dK=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,pK=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,mK=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,gK=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,xK=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,vK=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,_K=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,yK=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,wK=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,bK=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,SK=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,EK=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,AK=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,TK=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,MK=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,CK=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,PK=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const kK=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,RK=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,LK=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,NK=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,FK=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,DK=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,IK=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,OK=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,UK=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,BK=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,zK=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,HK=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,jK=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,VK=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,WK=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,GK=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,qK=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,XK=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,$K=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,YK=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,KK=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,JK=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,ZK=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,QK=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,eJ=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,tJ=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,nJ=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,rJ=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,iJ=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,sJ=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,aJ=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,oJ=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,lJ=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,cJ=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Un={alphahash_fragment:R$,alphahash_pars_fragment:L$,alphamap_fragment:N$,alphamap_pars_fragment:F$,alphatest_fragment:D$,alphatest_pars_fragment:I$,aomap_fragment:O$,aomap_pars_fragment:U$,batching_pars_vertex:B$,batching_vertex:z$,begin_vertex:H$,beginnormal_vertex:j$,bsdfs:V$,iridescence_fragment:W$,bumpmap_pars_fragment:G$,clipping_planes_fragment:q$,clipping_planes_pars_fragment:X$,clipping_planes_pars_vertex:$$,clipping_planes_vertex:Y$,color_fragment:K$,color_pars_fragment:J$,color_pars_vertex:Z$,color_vertex:Q$,common:eY,cube_uv_reflection_fragment:tY,defaultnormal_vertex:nY,displacementmap_pars_vertex:rY,displacementmap_vertex:iY,emissivemap_fragment:sY,emissivemap_pars_fragment:aY,colorspace_fragment:oY,colorspace_pars_fragment:lY,envmap_fragment:cY,envmap_common_pars_fragment:uY,envmap_pars_fragment:fY,envmap_pars_vertex:hY,envmap_physical_pars_fragment:SY,envmap_vertex:dY,fog_vertex:pY,fog_pars_vertex:mY,fog_fragment:gY,fog_pars_fragment:xY,gradientmap_pars_fragment:vY,lightmap_pars_fragment:_Y,lights_lambert_fragment:yY,lights_lambert_pars_fragment:wY,lights_pars_begin:bY,lights_toon_fragment:EY,lights_toon_pars_fragment:AY,lights_phong_fragment:TY,lights_phong_pars_fragment:MY,lights_physical_fragment:CY,lights_physical_pars_fragment:PY,lights_fragment_begin:kY,lights_fragment_maps:RY,lights_fragment_end:LY,logdepthbuf_fragment:NY,logdepthbuf_pars_fragment:FY,logdepthbuf_pars_vertex:DY,logdepthbuf_vertex:IY,map_fragment:OY,map_pars_fragment:UY,map_particle_fragment:BY,map_particle_pars_fragment:zY,metalnessmap_fragment:HY,metalnessmap_pars_fragment:jY,morphinstance_vertex:VY,morphcolor_vertex:WY,morphnormal_vertex:GY,morphtarget_pars_vertex:qY,morphtarget_vertex:XY,normal_fragment_begin:$Y,normal_fragment_maps:YY,normal_pars_fragment:KY,normal_pars_vertex:JY,normal_vertex:ZY,normalmap_pars_fragment:QY,clearcoat_normal_fragment_begin:eK,clearcoat_normal_fragment_maps:tK,clearcoat_pars_fragment:nK,iridescence_pars_fragment:rK,opaque_fragment:iK,packing:sK,premultiplied_alpha_fragment:aK,project_vertex:oK,dithering_fragment:lK,dithering_pars_fragment:cK,roughnessmap_fragment:uK,roughnessmap_pars_fragment:fK,shadowmap_pars_fragment:hK,shadowmap_pars_vertex:dK,shadowmap_vertex:pK,shadowmask_pars_fragment:mK,skinbase_vertex:gK,skinning_pars_vertex:xK,skinning_vertex:vK,skinnormal_vertex:_K,specularmap_fragment:yK,specularmap_pars_fragment:wK,tonemapping_fragment:bK,tonemapping_pars_fragment:SK,transmission_fragment:EK,transmission_pars_fragment:AK,uv_pars_fragment:TK,uv_pars_vertex:MK,uv_vertex:CK,worldpos_vertex:PK,background_vert:kK,background_frag:RK,backgroundCube_vert:LK,backgroundCube_frag:NK,cube_vert:FK,cube_frag:DK,depth_vert:IK,depth_frag:OK,distanceRGBA_vert:UK,distanceRGBA_frag:BK,equirect_vert:zK,equirect_frag:HK,linedashed_vert:jK,linedashed_frag:VK,meshbasic_vert:WK,meshbasic_frag:GK,meshlambert_vert:qK,meshlambert_frag:XK,meshmatcap_vert:$K,meshmatcap_frag:YK,meshnormal_vert:KK,meshnormal_frag:JK,meshphong_vert:ZK,meshphong_frag:QK,meshphysical_vert:eJ,meshphysical_frag:tJ,meshtoon_vert:nJ,meshtoon_frag:rJ,points_vert:iJ,points_frag:sJ,shadow_vert:aJ,shadow_frag:oJ,sprite_vert:lJ,sprite_frag:cJ},Kt={common:{diffuse:{value:new kn(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new In},alphaMap:{value:null},alphaMapTransform:{value:new In},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new In}},envmap:{envMap:{value:null},envMapRotation:{value:new In},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new In}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new In}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new In},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new In},normalScale:{value:new dn(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new In},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new In}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new In}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new In}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new kn(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new kn(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new In},alphaTest:{value:0},uvTransform:{value:new In}},sprite:{diffuse:{value:new kn(16777215)},opacity:{value:1},center:{value:new dn(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new In},alphaMap:{value:null},alphaMapTransform:{value:new In},alphaTest:{value:0}}},Bl={basic:{uniforms:ra([Kt.common,Kt.specularmap,Kt.envmap,Kt.aomap,Kt.lightmap,Kt.fog]),vertexShader:Un.meshbasic_vert,fragmentShader:Un.meshbasic_frag},lambert:{uniforms:ra([Kt.common,Kt.specularmap,Kt.envmap,Kt.aomap,Kt.lightmap,Kt.emissivemap,Kt.bumpmap,Kt.normalmap,Kt.displacementmap,Kt.fog,Kt.lights,{emissive:{value:new kn(0)}}]),vertexShader:Un.meshlambert_vert,fragmentShader:Un.meshlambert_frag},phong:{uniforms:ra([Kt.common,Kt.specularmap,Kt.envmap,Kt.aomap,Kt.lightmap,Kt.emissivemap,Kt.bumpmap,Kt.normalmap,Kt.displacementmap,Kt.fog,Kt.lights,{emissive:{value:new kn(0)},specular:{value:new kn(1118481)},shininess:{value:30}}]),vertexShader:Un.meshphong_vert,fragmentShader:Un.meshphong_frag},standard:{uniforms:ra([Kt.common,Kt.envmap,Kt.aomap,Kt.lightmap,Kt.emissivemap,Kt.bumpmap,Kt.normalmap,Kt.displacementmap,Kt.roughnessmap,Kt.metalnessmap,Kt.fog,Kt.lights,{emissive:{value:new kn(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Un.meshphysical_vert,fragmentShader:Un.meshphysical_frag},toon:{uniforms:ra([Kt.common,Kt.aomap,Kt.lightmap,Kt.emissivemap,Kt.bumpmap,Kt.normalmap,Kt.displacementmap,Kt.gradientmap,Kt.fog,Kt.lights,{emissive:{value:new kn(0)}}]),vertexShader:Un.meshtoon_vert,fragmentShader:Un.meshtoon_frag},matcap:{uniforms:ra([Kt.common,Kt.bumpmap,Kt.normalmap,Kt.displacementmap,Kt.fog,{matcap:{value:null}}]),vertexShader:Un.meshmatcap_vert,fragmentShader:Un.meshmatcap_frag},points:{uniforms:ra([Kt.points,Kt.fog]),vertexShader:Un.points_vert,fragmentShader:Un.points_frag},dashed:{uniforms:ra([Kt.common,Kt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Un.linedashed_vert,fragmentShader:Un.linedashed_frag},depth:{uniforms:ra([Kt.common,Kt.displacementmap]),vertexShader:Un.depth_vert,fragmentShader:Un.depth_frag},normal:{uniforms:ra([Kt.common,Kt.bumpmap,Kt.normalmap,Kt.displacementmap,{opacity:{value:1}}]),vertexShader:Un.meshnormal_vert,fragmentShader:Un.meshnormal_frag},sprite:{uniforms:ra([Kt.sprite,Kt.fog]),vertexShader:Un.sprite_vert,fragmentShader:Un.sprite_frag},background:{uniforms:{uvTransform:{value:new In},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Un.background_vert,fragmentShader:Un.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new In}},vertexShader:Un.backgroundCube_vert,fragmentShader:Un.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Un.cube_vert,fragmentShader:Un.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Un.equirect_vert,fragmentShader:Un.equirect_frag},distanceRGBA:{uniforms:ra([Kt.common,Kt.displacementmap,{referencePosition:{value:new Ze},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Un.distanceRGBA_vert,fragmentShader:Un.distanceRGBA_frag},shadow:{uniforms:ra([Kt.lights,Kt.fog,{color:{value:new kn(0)},opacity:{value:1}}]),vertexShader:Un.shadow_vert,fragmentShader:Un.shadow_frag}};Bl.physical={uniforms:ra([Bl.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new In},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new In},clearcoatNormalScale:{value:new dn(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new In},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new In},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new In},sheen:{value:0},sheenColor:{value:new kn(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new In},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new In},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new In},transmissionSamplerSize:{value:new dn},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new In},attenuationDistance:{value:0},attenuationColor:{value:new kn(0)},specularColor:{value:new kn(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new In},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new In},anisotropyVector:{value:new dn},anisotropyMap:{value:null},anisotropyMapTransform:{value:new In}}]),vertexShader:Un.meshphysical_vert,fragmentShader:Un.meshphysical_frag};const b1={r:0,b:0,g:0},lh=new Yl,uJ=new jr;function fJ(n,e,t,r,i,s,a){const o=new kn(0);let l=s===!0?0:1,c,f,d=null,p=0,m=null;function _(E){let M=E.isScene===!0?E.background:null;return M&&M.isTexture&&(M=(E.backgroundBlurriness>0?t:e).get(M)),M}function x(E){let M=!1;const D=_(E);D===null?y(o,l):D&&D.isColor&&(y(D,1),M=!0);const U=n.xr.getEnvironmentBlendMode();U==="additive"?r.buffers.color.setClear(0,0,0,1,a):U==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,a),(n.autoClear||M)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil))}function g(E,M){const D=_(M);D&&(D.isCubeTexture||D.mapping===pv)?(f===void 0&&(f=new Ca(new jh(1,1,1),new bf({name:"BackgroundCubeMaterial",uniforms:k0(Bl.backgroundCube.uniforms),vertexShader:Bl.backgroundCube.vertexShader,fragmentShader:Bl.backgroundCube.fragmentShader,side:Ra,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),f.geometry.deleteAttribute("normal"),f.geometry.deleteAttribute("uv"),f.onBeforeRender=function(U,L,I){this.matrixWorld.copyPosition(I.matrixWorld)},Object.defineProperty(f.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(f)),lh.copy(M.backgroundRotation),lh.x*=-1,lh.y*=-1,lh.z*=-1,D.isCubeTexture&&D.isRenderTargetTexture===!1&&(lh.y*=-1,lh.z*=-1),f.material.uniforms.envMap.value=D,f.material.uniforms.flipEnvMap.value=D.isCubeTexture&&D.isRenderTargetTexture===!1?-1:1,f.material.uniforms.backgroundBlurriness.value=M.backgroundBlurriness,f.material.uniforms.backgroundIntensity.value=M.backgroundIntensity,f.material.uniforms.backgroundRotation.value.setFromMatrix4(uJ.makeRotationFromEuler(lh)),f.material.toneMapped=ar.getTransfer(D.colorSpace)!==Ar,(d!==D||p!==D.version||m!==n.toneMapping)&&(f.material.needsUpdate=!0,d=D,p=D.version,m=n.toneMapping),f.layers.enableAll(),E.unshift(f,f.geometry,f.material,0,0,null)):D&&D.isTexture&&(c===void 0&&(c=new Ca(new Bm(2,2),new bf({name:"BackgroundMaterial",uniforms:k0(Bl.background.uniforms),vertexShader:Bl.background.vertexShader,fragmentShader:Bl.background.fragmentShader,side:wf,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=D,c.material.uniforms.backgroundIntensity.value=M.backgroundIntensity,c.material.toneMapped=ar.getTransfer(D.colorSpace)!==Ar,D.matrixAutoUpdate===!0&&D.updateMatrix(),c.material.uniforms.uvTransform.value.copy(D.matrix),(d!==D||p!==D.version||m!==n.toneMapping)&&(c.material.needsUpdate=!0,d=D,p=D.version,m=n.toneMapping),c.layers.enableAll(),E.unshift(c,c.geometry,c.material,0,0,null))}function y(E,M){E.getRGB(b1,Tk(n)),r.buffers.color.setClear(b1.r,b1.g,b1.b,M,a)}function A(){f!==void 0&&(f.geometry.dispose(),f.material.dispose(),f=void 0),c!==void 0&&(c.geometry.dispose(),c.material.dispose(),c=void 0)}return{getClearColor:function(){return o},setClearColor:function(E,M=1){o.set(E),l=M,y(o,l)},getClearAlpha:function(){return l},setClearAlpha:function(E){l=E,y(o,l)},render:x,addToRenderList:g,dispose:A}}function hJ(n,e){const t=n.getParameter(n.MAX_VERTEX_ATTRIBS),r={},i=p(null);let s=i,a=!1;function o(O,N,k,j,G){let ae=!1;const ie=d(j,k,N);s!==ie&&(s=ie,c(s.object)),ae=m(O,j,k,G),ae&&_(O,j,k,G),G!==null&&e.update(G,n.ELEMENT_ARRAY_BUFFER),(ae||a)&&(a=!1,M(O,N,k,j),G!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.get(G).buffer))}function l(){return n.createVertexArray()}function c(O){return n.bindVertexArray(O)}function f(O){return n.deleteVertexArray(O)}function d(O,N,k){const j=k.wireframe===!0;let G=r[O.id];G===void 0&&(G={},r[O.id]=G);let ae=G[N.id];ae===void 0&&(ae={},G[N.id]=ae);let ie=ae[j];return ie===void 0&&(ie=p(l()),ae[j]=ie),ie}function p(O){const N=[],k=[],j=[];for(let G=0;G<t;G++)N[G]=0,k[G]=0,j[G]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:N,enabledAttributes:k,attributeDivisors:j,object:O,attributes:{},index:null}}function m(O,N,k,j){const G=s.attributes,ae=N.attributes;let ie=0;const ue=k.getAttributes();for(const J in ue)if(ue[J].location>=0){const pe=G[J];let oe=ae[J];if(oe===void 0&&(J==="instanceMatrix"&&O.instanceMatrix&&(oe=O.instanceMatrix),J==="instanceColor"&&O.instanceColor&&(oe=O.instanceColor)),pe===void 0||pe.attribute!==oe||oe&&pe.data!==oe.data)return!0;ie++}return s.attributesNum!==ie||s.index!==j}function _(O,N,k,j){const G={},ae=N.attributes;let ie=0;const ue=k.getAttributes();for(const J in ue)if(ue[J].location>=0){let pe=ae[J];pe===void 0&&(J==="instanceMatrix"&&O.instanceMatrix&&(pe=O.instanceMatrix),J==="instanceColor"&&O.instanceColor&&(pe=O.instanceColor));const oe={};oe.attribute=pe,pe&&pe.data&&(oe.data=pe.data),G[J]=oe,ie++}s.attributes=G,s.attributesNum=ie,s.index=j}function x(){const O=s.newAttributes;for(let N=0,k=O.length;N<k;N++)O[N]=0}function g(O){y(O,0)}function y(O,N){const k=s.newAttributes,j=s.enabledAttributes,G=s.attributeDivisors;k[O]=1,j[O]===0&&(n.enableVertexAttribArray(O),j[O]=1),G[O]!==N&&(n.vertexAttribDivisor(O,N),G[O]=N)}function A(){const O=s.newAttributes,N=s.enabledAttributes;for(let k=0,j=N.length;k<j;k++)N[k]!==O[k]&&(n.disableVertexAttribArray(k),N[k]=0)}function E(O,N,k,j,G,ae,ie){ie===!0?n.vertexAttribIPointer(O,N,k,G,ae):n.vertexAttribPointer(O,N,k,j,G,ae)}function M(O,N,k,j){x();const G=j.attributes,ae=k.getAttributes(),ie=N.defaultAttributeValues;for(const ue in ae){const J=ae[ue];if(J.location>=0){let X=G[ue];if(X===void 0&&(ue==="instanceMatrix"&&O.instanceMatrix&&(X=O.instanceMatrix),ue==="instanceColor"&&O.instanceColor&&(X=O.instanceColor)),X!==void 0){const pe=X.normalized,oe=X.itemSize,C=e.get(X);if(C===void 0)continue;const W=C.buffer,z=C.type,V=C.bytesPerElement,ee=z===n.INT||z===n.UNSIGNED_INT||X.gpuType===Gb;if(X.isInterleavedBufferAttribute){const de=X.data,ve=de.stride,we=X.offset;if(de.isInstancedInterleavedBuffer){for(let Ce=0;Ce<J.locationSize;Ce++)y(J.location+Ce,de.meshPerAttribute);O.isInstancedMesh!==!0&&j._maxInstanceCount===void 0&&(j._maxInstanceCount=de.meshPerAttribute*de.count)}else for(let Ce=0;Ce<J.locationSize;Ce++)g(J.location+Ce);n.bindBuffer(n.ARRAY_BUFFER,W);for(let Ce=0;Ce<J.locationSize;Ce++)E(J.location+Ce,oe/J.locationSize,z,pe,ve*V,(we+oe/J.locationSize*Ce)*V,ee)}else{if(X.isInstancedBufferAttribute){for(let de=0;de<J.locationSize;de++)y(J.location+de,X.meshPerAttribute);O.isInstancedMesh!==!0&&j._maxInstanceCount===void 0&&(j._maxInstanceCount=X.meshPerAttribute*X.count)}else for(let de=0;de<J.locationSize;de++)g(J.location+de);n.bindBuffer(n.ARRAY_BUFFER,W);for(let de=0;de<J.locationSize;de++)E(J.location+de,oe/J.locationSize,z,pe,oe*V,oe/J.locationSize*de*V,ee)}}else if(ie!==void 0){const pe=ie[ue];if(pe!==void 0)switch(pe.length){case 2:n.vertexAttrib2fv(J.location,pe);break;case 3:n.vertexAttrib3fv(J.location,pe);break;case 4:n.vertexAttrib4fv(J.location,pe);break;default:n.vertexAttrib1fv(J.location,pe)}}}}A()}function D(){I();for(const O in r){const N=r[O];for(const k in N){const j=N[k];for(const G in j)f(j[G].object),delete j[G];delete N[k]}delete r[O]}}function U(O){if(r[O.id]===void 0)return;const N=r[O.id];for(const k in N){const j=N[k];for(const G in j)f(j[G].object),delete j[G];delete N[k]}delete r[O.id]}function L(O){for(const N in r){const k=r[N];if(k[O.id]===void 0)continue;const j=k[O.id];for(const G in j)f(j[G].object),delete j[G];delete k[O.id]}}function I(){R(),a=!0,s!==i&&(s=i,c(s.object))}function R(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:o,reset:I,resetDefaultState:R,dispose:D,releaseStatesOfGeometry:U,releaseStatesOfProgram:L,initAttributes:x,enableAttribute:g,disableUnusedAttributes:A}}function dJ(n,e,t){let r;function i(c){r=c}function s(c,f){n.drawArrays(r,c,f),t.update(f,r,1)}function a(c,f,d){d!==0&&(n.drawArraysInstanced(r,c,f,d),t.update(f,r,d))}function o(c,f,d){if(d===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(r,c,0,f,0,d);let m=0;for(let _=0;_<d;_++)m+=f[_];t.update(m,r,1)}function l(c,f,d,p){if(d===0)return;const m=e.get("WEBGL_multi_draw");if(m===null)for(let _=0;_<c.length;_++)a(c[_],f[_],p[_]);else{m.multiDrawArraysInstancedWEBGL(r,c,0,f,0,p,0,d);let _=0;for(let x=0;x<d;x++)_+=f[x]*p[x];t.update(_,r,1)}}this.setMode=i,this.render=s,this.renderInstances=a,this.renderMultiDraw=o,this.renderMultiDrawInstances=l}function pJ(n,e,t,r){let i;function s(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const L=e.get("EXT_texture_filter_anisotropic");i=n.getParameter(L.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function a(L){return!(L!==al&&r.convert(L)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_FORMAT))}function o(L){const I=L===Om&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(L!==$l&&r.convert(L)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_TYPE)&&L!==jc&&!I)}function l(L){if(L==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";L="mediump"}return L==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let c=t.precision!==void 0?t.precision:"highp";const f=l(c);f!==c&&(console.warn("THREE.WebGLRenderer:",c,"not supported, using",f,"instead."),c=f);const d=t.logarithmicDepthBuffer===!0,p=t.reverseDepthBuffer===!0&&e.has("EXT_clip_control"),m=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),_=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),x=n.getParameter(n.MAX_TEXTURE_SIZE),g=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),y=n.getParameter(n.MAX_VERTEX_ATTRIBS),A=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),E=n.getParameter(n.MAX_VARYING_VECTORS),M=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),D=_>0,U=n.getParameter(n.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:s,getMaxPrecision:l,textureFormatReadable:a,textureTypeReadable:o,precision:c,logarithmicDepthBuffer:d,reverseDepthBuffer:p,maxTextures:m,maxVertexTextures:_,maxTextureSize:x,maxCubemapSize:g,maxAttributes:y,maxVertexUniforms:A,maxVaryings:E,maxFragmentUniforms:M,vertexTextures:D,maxSamples:U}}function mJ(n){const e=this;let t=null,r=0,i=!1,s=!1;const a=new qu,o=new In,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,p){const m=d.length!==0||p||r!==0||i;return i=p,r=d.length,m},this.beginShadows=function(){s=!0,f(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(d,p){t=f(d,p,0)},this.setState=function(d,p,m){const _=d.clippingPlanes,x=d.clipIntersection,g=d.clipShadows,y=n.get(d);if(!i||_===null||_.length===0||s&&!g)s?f(null):c();else{const A=s?0:r,E=A*4;let M=y.clippingState||null;l.value=M,M=f(_,p,E,m);for(let D=0;D!==E;++D)M[D]=t[D];y.clippingState=M,this.numIntersection=x?this.numPlanes:0,this.numPlanes+=A}};function c(){l.value!==t&&(l.value=t,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function f(d,p,m,_){const x=d!==null?d.length:0;let g=null;if(x!==0){if(g=l.value,_!==!0||g===null){const y=m+x*4,A=p.matrixWorldInverse;o.getNormalMatrix(A),(g===null||g.length<y)&&(g=new Float32Array(y));for(let E=0,M=m;E!==x;++E,M+=4)a.copy(d[E]).applyMatrix4(A,o),a.normal.toArray(g,M),g[M+3]=a.constant}l.value=g,l.needsUpdate=!0}return e.numPlanes=x,e.numIntersection=0,g}}function gJ(n){let e=new WeakMap;function t(a,o){return o===tw?a.mapping=M0:o===nw&&(a.mapping=C0),a}function r(a){if(a&&a.isTexture){const o=a.mapping;if(o===tw||o===nw)if(e.has(a)){const l=e.get(a).texture;return t(l,a.mapping)}else{const l=a.image;if(l&&l.height>0){const c=new g$(l.height);return c.fromEquirectangularTexture(n,a),e.set(a,c),a.addEventListener("dispose",i),t(c.texture,a.mapping)}else return null}}return a}function i(a){const o=a.target;o.removeEventListener("dispose",i);const l=e.get(o);l!==void 0&&(e.delete(o),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}const n0=4,N3=[.125,.215,.35,.446,.526,.582],_h=20,O_=new Nk,F3=new kn;let U_=null,B_=0,z_=0,H_=!1;const mh=(1+Math.sqrt(5))/2,Yd=1/mh,D3=[new Ze(-mh,Yd,0),new Ze(mh,Yd,0),new Ze(-Yd,0,mh),new Ze(Yd,0,mh),new Ze(0,mh,-Yd),new Ze(0,mh,Yd),new Ze(-1,1,-1),new Ze(1,1,-1),new Ze(-1,1,1),new Ze(1,1,1)],xJ=new Ze;class I3{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,r=.1,i=100,s={}){const{size:a=256,position:o=xJ}=s;U_=this._renderer.getRenderTarget(),B_=this._renderer.getActiveCubeFace(),z_=this._renderer.getActiveMipmapLevel(),H_=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(a);const l=this._allocateTargets();return l.depthBuffer=!0,this._sceneToCubeUV(e,r,i,l,o),t>0&&this._blur(l,0,0,t),this._applyPMREM(l),this._cleanup(l),l}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=B3(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=U3(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(U_,B_,z_),this._renderer.xr.enabled=H_,e.scissorTest=!1,S1(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===M0||e.mapping===C0?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),U_=this._renderer.getRenderTarget(),B_=this._renderer.getActiveCubeFace(),z_=this._renderer.getActiveMipmapLevel(),H_=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const r=t||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,r={magFilter:Vl,minFilter:Vl,generateMipmaps:!1,type:Om,format:al,colorSpace:P0,depthBuffer:!1},i=O3(e,t,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=O3(e,t,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=vJ(s)),this._blurMaterial=_J(s,e,t)}return i}_compileMaterial(e){const t=new Ca(this._lodPlanes[0],e);this._renderer.compile(t,O_)}_sceneToCubeUV(e,t,r,i,s){const l=new aa(90,1,t,r),c=[1,-1,1,1,1,1],f=[1,1,1,-1,-1,-1],d=this._renderer,p=d.autoClear,m=d.toneMapping;d.getClearColor(F3),d.toneMapping=ff,d.autoClear=!1;const _=new Sk({name:"PMREM.Background",side:Ra,depthWrite:!1,depthTest:!1}),x=new Ca(new jh,_);let g=!1;const y=e.background;y?y.isColor&&(_.color.copy(y),e.background=null,g=!0):(_.color.copy(F3),g=!0);for(let A=0;A<6;A++){const E=A%3;E===0?(l.up.set(0,c[A],0),l.position.set(s.x,s.y,s.z),l.lookAt(s.x+f[A],s.y,s.z)):E===1?(l.up.set(0,0,c[A]),l.position.set(s.x,s.y,s.z),l.lookAt(s.x,s.y+f[A],s.z)):(l.up.set(0,c[A],0),l.position.set(s.x,s.y,s.z),l.lookAt(s.x,s.y,s.z+f[A]));const M=this._cubeSize;S1(i,E*M,A>2?M:0,M,M),d.setRenderTarget(i),g&&d.render(x,l),d.render(e,l)}x.geometry.dispose(),x.material.dispose(),d.toneMapping=m,d.autoClear=p,e.background=y}_textureToCubeUV(e,t){const r=this._renderer,i=e.mapping===M0||e.mapping===C0;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=B3()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=U3());const s=i?this._cubemapMaterial:this._equirectMaterial,a=new Ca(this._lodPlanes[0],s),o=s.uniforms;o.envMap.value=e;const l=this._cubeSize;S1(t,0,0,3*l,2*l),r.setRenderTarget(t),r.render(a,O_)}_applyPMREM(e){const t=this._renderer,r=t.autoClear;t.autoClear=!1;const i=this._lodPlanes.length;for(let s=1;s<i;s++){const a=Math.sqrt(this._sigmas[s]*this._sigmas[s]-this._sigmas[s-1]*this._sigmas[s-1]),o=D3[(i-s-1)%D3.length];this._blur(e,s-1,s,a,o)}t.autoClear=r}_blur(e,t,r,i,s){const a=this._pingPongRenderTarget;this._halfBlur(e,a,t,r,i,"latitudinal",s),this._halfBlur(a,e,r,r,i,"longitudinal",s)}_halfBlur(e,t,r,i,s,a,o){const l=this._renderer,c=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const f=3,d=new Ca(this._lodPlanes[i],c),p=c.uniforms,m=this._sizeLods[r]-1,_=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*_h-1),x=s/_,g=isFinite(s)?1+Math.floor(f*x):_h;g>_h&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${g} samples when the maximum is set to ${_h}`);const y=[];let A=0;for(let L=0;L<_h;++L){const I=L/x,R=Math.exp(-I*I/2);y.push(R),L===0?A+=R:L<g&&(A+=2*R)}for(let L=0;L<y.length;L++)y[L]=y[L]/A;p.envMap.value=e.texture,p.samples.value=g,p.weights.value=y,p.latitudinal.value=a==="latitudinal",o&&(p.poleAxis.value=o);const{_lodMax:E}=this;p.dTheta.value=_,p.mipInt.value=E-r;const M=this._sizeLods[i],D=3*M*(i>E-n0?i-E+n0:0),U=4*(this._cubeSize-M);S1(t,D,U,3*M,2*M),l.setRenderTarget(t),l.render(d,O_)}}function vJ(n){const e=[],t=[],r=[];let i=n;const s=n-n0+1+N3.length;for(let a=0;a<s;a++){const o=Math.pow(2,i);t.push(o);let l=1/o;a>n-n0?l=N3[a-n+n0-1]:a===0&&(l=0),r.push(l);const c=1/(o-2),f=-c,d=1+c,p=[f,f,d,f,d,d,f,f,d,d,f,d],m=6,_=6,x=3,g=2,y=1,A=new Float32Array(x*_*m),E=new Float32Array(g*_*m),M=new Float32Array(y*_*m);for(let U=0;U<m;U++){const L=U%3*2/3-1,I=U>2?0:-1,R=[L,I,0,L+2/3,I,0,L+2/3,I+1,0,L,I,0,L+2/3,I+1,0,L,I+1,0];A.set(R,x*_*U),E.set(p,g*_*U);const O=[U,U,U,U,U,U];M.set(O,y*_*U)}const D=new Na;D.setAttribute("position",new ul(A,x)),D.setAttribute("uv",new ul(E,g)),D.setAttribute("faceIndex",new ul(M,y)),e.push(D),i>n0&&i--}return{lodPlanes:e,sizeLods:t,sigmas:r}}function O3(n,e,t){const r=new Hh(n,e,t);return r.texture.mapping=pv,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function S1(n,e,t,r,i){n.viewport.set(e,t,r,i),n.scissor.set(e,t,r,i)}function _J(n,e,t){const r=new Float32Array(_h),i=new Ze(0,1,0);return new bf({name:"SphericalGaussianBlur",defines:{n:_h,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:nS(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:uf,depthTest:!1,depthWrite:!1})}function U3(){return new bf({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:nS(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:uf,depthTest:!1,depthWrite:!1})}function B3(){return new bf({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:nS(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:uf,depthTest:!1,depthWrite:!1})}function nS(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function yJ(n){let e=new WeakMap,t=null;function r(o){if(o&&o.isTexture){const l=o.mapping,c=l===tw||l===nw,f=l===M0||l===C0;if(c||f){let d=e.get(o);const p=d!==void 0?d.texture.pmremVersion:0;if(o.isRenderTargetTexture&&o.pmremVersion!==p)return t===null&&(t=new I3(n)),d=c?t.fromEquirectangular(o,d):t.fromCubemap(o,d),d.texture.pmremVersion=o.pmremVersion,e.set(o,d),d.texture;if(d!==void 0)return d.texture;{const m=o.image;return c&&m&&m.height>0||f&&m&&i(m)?(t===null&&(t=new I3(n)),d=c?t.fromEquirectangular(o):t.fromCubemap(o),d.texture.pmremVersion=o.pmremVersion,e.set(o,d),o.addEventListener("dispose",s),d.texture):null}}}return o}function i(o){let l=0;const c=6;for(let f=0;f<c;f++)o[f]!==void 0&&l++;return l===c}function s(o){const l=o.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function a(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:r,dispose:a}}function wJ(n){const e={};function t(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=n.getExtension(r)}return e[r]=i,i}return{has:function(r){return t(r)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(r){const i=t(r);return i===null&&g0("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function bJ(n,e,t,r){const i={},s=new WeakMap;function a(d){const p=d.target;p.index!==null&&e.remove(p.index);for(const _ in p.attributes)e.remove(p.attributes[_]);p.removeEventListener("dispose",a),delete i[p.id];const m=s.get(p);m&&(e.remove(m),s.delete(p)),r.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,t.memory.geometries--}function o(d,p){return i[p.id]===!0||(p.addEventListener("dispose",a),i[p.id]=!0,t.memory.geometries++),p}function l(d){const p=d.attributes;for(const m in p)e.update(p[m],n.ARRAY_BUFFER)}function c(d){const p=[],m=d.index,_=d.attributes.position;let x=0;if(m!==null){const A=m.array;x=m.version;for(let E=0,M=A.length;E<M;E+=3){const D=A[E+0],U=A[E+1],L=A[E+2];p.push(D,U,U,L,L,D)}}else if(_!==void 0){const A=_.array;x=_.version;for(let E=0,M=A.length/3-1;E<M;E+=3){const D=E+0,U=E+1,L=E+2;p.push(D,U,U,L,L,D)}}else return;const g=new(yk(p)?Ak:Ek)(p,1);g.version=x;const y=s.get(d);y&&e.remove(y),s.set(d,g)}function f(d){const p=s.get(d);if(p){const m=d.index;m!==null&&p.version<m.version&&c(d)}else c(d);return s.get(d)}return{get:o,update:l,getWireframeAttribute:f}}function SJ(n,e,t){let r;function i(p){r=p}let s,a;function o(p){s=p.type,a=p.bytesPerElement}function l(p,m){n.drawElements(r,m,s,p*a),t.update(m,r,1)}function c(p,m,_){_!==0&&(n.drawElementsInstanced(r,m,s,p*a,_),t.update(m,r,_))}function f(p,m,_){if(_===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(r,m,0,s,p,0,_);let g=0;for(let y=0;y<_;y++)g+=m[y];t.update(g,r,1)}function d(p,m,_,x){if(_===0)return;const g=e.get("WEBGL_multi_draw");if(g===null)for(let y=0;y<p.length;y++)c(p[y]/a,m[y],x[y]);else{g.multiDrawElementsInstancedWEBGL(r,m,0,s,p,0,x,0,_);let y=0;for(let A=0;A<_;A++)y+=m[A]*x[A];t.update(y,r,1)}}this.setMode=i,this.setIndex=o,this.render=l,this.renderInstances=c,this.renderMultiDraw=f,this.renderMultiDrawInstances=d}function EJ(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,a,o){switch(t.calls++,a){case n.TRIANGLES:t.triangles+=o*(s/3);break;case n.LINES:t.lines+=o*(s/2);break;case n.LINE_STRIP:t.lines+=o*(s-1);break;case n.LINE_LOOP:t.lines+=o*s;break;case n.POINTS:t.points+=o*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",a);break}}function i(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:i,update:r}}function AJ(n,e,t){const r=new WeakMap,i=new ci;function s(a,o,l){const c=a.morphTargetInfluences,f=o.morphAttributes.position||o.morphAttributes.normal||o.morphAttributes.color,d=f!==void 0?f.length:0;let p=r.get(o);if(p===void 0||p.count!==d){let R=function(){L.dispose(),r.delete(o),o.removeEventListener("dispose",R)};p!==void 0&&p.texture.dispose();const m=o.morphAttributes.position!==void 0,_=o.morphAttributes.normal!==void 0,x=o.morphAttributes.color!==void 0,g=o.morphAttributes.position||[],y=o.morphAttributes.normal||[],A=o.morphAttributes.color||[];let E=0;m===!0&&(E=1),_===!0&&(E=2),x===!0&&(E=3);let M=o.attributes.position.count*E,D=1;M>e.maxTextureSize&&(D=Math.ceil(M/e.maxTextureSize),M=e.maxTextureSize);const U=new Float32Array(M*D*4*d),L=new wk(U,M,D,d);L.type=jc,L.needsUpdate=!0;const I=E*4;for(let O=0;O<d;O++){const N=g[O],k=y[O],j=A[O],G=M*D*4*O;for(let ae=0;ae<N.count;ae++){const ie=ae*I;m===!0&&(i.fromBufferAttribute(N,ae),U[G+ie+0]=i.x,U[G+ie+1]=i.y,U[G+ie+2]=i.z,U[G+ie+3]=0),_===!0&&(i.fromBufferAttribute(k,ae),U[G+ie+4]=i.x,U[G+ie+5]=i.y,U[G+ie+6]=i.z,U[G+ie+7]=0),x===!0&&(i.fromBufferAttribute(j,ae),U[G+ie+8]=i.x,U[G+ie+9]=i.y,U[G+ie+10]=i.z,U[G+ie+11]=j.itemSize===4?i.w:1)}}p={count:d,texture:L,size:new dn(M,D)},r.set(o,p),o.addEventListener("dispose",R)}if(a.isInstancedMesh===!0&&a.morphTexture!==null)l.getUniforms().setValue(n,"morphTexture",a.morphTexture,t);else{let m=0;for(let x=0;x<c.length;x++)m+=c[x];const _=o.morphTargetsRelative?1:1-m;l.getUniforms().setValue(n,"morphTargetBaseInfluence",_),l.getUniforms().setValue(n,"morphTargetInfluences",c)}l.getUniforms().setValue(n,"morphTargetsTexture",p.texture,t),l.getUniforms().setValue(n,"morphTargetsTextureSize",p.size)}return{update:s}}function TJ(n,e,t,r){let i=new WeakMap;function s(l){const c=r.render.frame,f=l.geometry,d=e.get(l,f);if(i.get(d)!==c&&(e.update(d),i.set(d,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",o)===!1&&l.addEventListener("dispose",o),i.get(l)!==c&&(t.update(l.instanceMatrix,n.ARRAY_BUFFER),l.instanceColor!==null&&t.update(l.instanceColor,n.ARRAY_BUFFER),i.set(l,c))),l.isSkinnedMesh){const p=l.skeleton;i.get(p)!==c&&(p.update(),i.set(p,c))}return d}function a(){i=new WeakMap}function o(l){const c=l.target;c.removeEventListener("dispose",o),t.remove(c.instanceMatrix),c.instanceColor!==null&&t.remove(c.instanceColor)}return{update:s,dispose:a}}const Dk=new ca,z3=new Rk(1,1),Ik=new wk,Ok=new QX,Uk=new Ck,H3=[],j3=[],V3=new Float32Array(16),W3=new Float32Array(9),G3=new Float32Array(4);function B0(n,e,t){const r=n[0];if(r<=0||r>0)return n;const i=e*t;let s=H3[i];if(s===void 0&&(s=new Float32Array(i),H3[i]=s),e!==0){r.toArray(s,0);for(let a=1,o=0;a!==e;++a)o+=t,n[a].toArray(s,o)}return s}function zi(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}function Hi(n,e){for(let t=0,r=e.length;t<r;t++)n[t]=e[t]}function xv(n,e){let t=j3[e];t===void 0&&(t=new Int32Array(e),j3[e]=t);for(let r=0;r!==e;++r)t[r]=n.allocateTextureUnit();return t}function MJ(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function CJ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(zi(t,e))return;n.uniform2fv(this.addr,e),Hi(t,e)}}function PJ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(zi(t,e))return;n.uniform3fv(this.addr,e),Hi(t,e)}}function kJ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(zi(t,e))return;n.uniform4fv(this.addr,e),Hi(t,e)}}function RJ(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(zi(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Hi(t,e)}else{if(zi(t,r))return;G3.set(r),n.uniformMatrix2fv(this.addr,!1,G3),Hi(t,r)}}function LJ(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(zi(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Hi(t,e)}else{if(zi(t,r))return;W3.set(r),n.uniformMatrix3fv(this.addr,!1,W3),Hi(t,r)}}function NJ(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(zi(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Hi(t,e)}else{if(zi(t,r))return;V3.set(r),n.uniformMatrix4fv(this.addr,!1,V3),Hi(t,r)}}function FJ(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function DJ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(zi(t,e))return;n.uniform2iv(this.addr,e),Hi(t,e)}}function IJ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(zi(t,e))return;n.uniform3iv(this.addr,e),Hi(t,e)}}function OJ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(zi(t,e))return;n.uniform4iv(this.addr,e),Hi(t,e)}}function UJ(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function BJ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(zi(t,e))return;n.uniform2uiv(this.addr,e),Hi(t,e)}}function zJ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(zi(t,e))return;n.uniform3uiv(this.addr,e),Hi(t,e)}}function HJ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(zi(t,e))return;n.uniform4uiv(this.addr,e),Hi(t,e)}}function jJ(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i);let s;this.type===n.SAMPLER_2D_SHADOW?(z3.compareFunction=_k,s=z3):s=Dk,t.setTexture2D(e||s,i)}function VJ(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture3D(e||Ok,i)}function WJ(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTextureCube(e||Uk,i)}function GJ(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2DArray(e||Ik,i)}function qJ(n){switch(n){case 5126:return MJ;case 35664:return CJ;case 35665:return PJ;case 35666:return kJ;case 35674:return RJ;case 35675:return LJ;case 35676:return NJ;case 5124:case 35670:return FJ;case 35667:case 35671:return DJ;case 35668:case 35672:return IJ;case 35669:case 35673:return OJ;case 5125:return UJ;case 36294:return BJ;case 36295:return zJ;case 36296:return HJ;case 35678:case 36198:case 36298:case 36306:case 35682:return jJ;case 35679:case 36299:case 36307:return VJ;case 35680:case 36300:case 36308:case 36293:return WJ;case 36289:case 36303:case 36311:case 36292:return GJ}}function XJ(n,e){n.uniform1fv(this.addr,e)}function $J(n,e){const t=B0(e,this.size,2);n.uniform2fv(this.addr,t)}function YJ(n,e){const t=B0(e,this.size,3);n.uniform3fv(this.addr,t)}function KJ(n,e){const t=B0(e,this.size,4);n.uniform4fv(this.addr,t)}function JJ(n,e){const t=B0(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function ZJ(n,e){const t=B0(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function QJ(n,e){const t=B0(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function eZ(n,e){n.uniform1iv(this.addr,e)}function tZ(n,e){n.uniform2iv(this.addr,e)}function nZ(n,e){n.uniform3iv(this.addr,e)}function rZ(n,e){n.uniform4iv(this.addr,e)}function iZ(n,e){n.uniform1uiv(this.addr,e)}function sZ(n,e){n.uniform2uiv(this.addr,e)}function aZ(n,e){n.uniform3uiv(this.addr,e)}function oZ(n,e){n.uniform4uiv(this.addr,e)}function lZ(n,e,t){const r=this.cache,i=e.length,s=xv(t,i);zi(r,s)||(n.uniform1iv(this.addr,s),Hi(r,s));for(let a=0;a!==i;++a)t.setTexture2D(e[a]||Dk,s[a])}function cZ(n,e,t){const r=this.cache,i=e.length,s=xv(t,i);zi(r,s)||(n.uniform1iv(this.addr,s),Hi(r,s));for(let a=0;a!==i;++a)t.setTexture3D(e[a]||Ok,s[a])}function uZ(n,e,t){const r=this.cache,i=e.length,s=xv(t,i);zi(r,s)||(n.uniform1iv(this.addr,s),Hi(r,s));for(let a=0;a!==i;++a)t.setTextureCube(e[a]||Uk,s[a])}function fZ(n,e,t){const r=this.cache,i=e.length,s=xv(t,i);zi(r,s)||(n.uniform1iv(this.addr,s),Hi(r,s));for(let a=0;a!==i;++a)t.setTexture2DArray(e[a]||Ik,s[a])}function hZ(n){switch(n){case 5126:return XJ;case 35664:return $J;case 35665:return YJ;case 35666:return KJ;case 35674:return JJ;case 35675:return ZJ;case 35676:return QJ;case 5124:case 35670:return eZ;case 35667:case 35671:return tZ;case 35668:case 35672:return nZ;case 35669:case 35673:return rZ;case 5125:return iZ;case 36294:return sZ;case 36295:return aZ;case 36296:return oZ;case 35678:case 36198:case 36298:case 36306:case 35682:return lZ;case 35679:case 36299:case 36307:return cZ;case 35680:case 36300:case 36308:case 36293:return uZ;case 36289:case 36303:case 36311:case 36292:return fZ}}class dZ{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.type=t.type,this.setValue=qJ(t.type)}}class pZ{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=hZ(t.type)}}class mZ{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,r){const i=this.seq;for(let s=0,a=i.length;s!==a;++s){const o=i[s];o.setValue(e,t[o.id],r)}}}const j_=/(\w+)(\])?(\[|\.)?/g;function q3(n,e){n.seq.push(e),n.map[e.id]=e}function gZ(n,e,t){const r=n.name,i=r.length;for(j_.lastIndex=0;;){const s=j_.exec(r),a=j_.lastIndex;let o=s[1];const l=s[2]==="]",c=s[3];if(l&&(o=o|0),c===void 0||c==="["&&a+2===i){q3(t,c===void 0?new dZ(o,n,e):new pZ(o,n,e));break}else{let d=t.map[o];d===void 0&&(d=new mZ(o),q3(t,d)),t=d}}}class sx{constructor(e,t){this.seq=[],this.map={};const r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const s=e.getActiveUniform(t,i),a=e.getUniformLocation(t,s.name);gZ(s,a,this)}}setValue(e,t,r,i){const s=this.map[t];s!==void 0&&s.setValue(e,r,i)}setOptional(e,t,r){const i=t[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,t,r,i){for(let s=0,a=t.length;s!==a;++s){const o=t[s],l=r[o.id];l.needsUpdate!==!1&&o.setValue(e,l.value,i)}}static seqWithValue(e,t){const r=[];for(let i=0,s=e.length;i!==s;++i){const a=e[i];a.id in t&&r.push(a)}return r}}function X3(n,e,t){const r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}const xZ=37297;let vZ=0;function _Z(n,e){const t=n.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let a=i;a<s;a++){const o=a+1;r.push(`${o===e?">":" "} ${o}: ${t[a]}`)}return r.join(`
`)}const $3=new In;function yZ(n){ar._getMatrix($3,ar.workingColorSpace,n);const e=`mat3( ${$3.elements.map(t=>t.toFixed(4))} )`;switch(ar.getTransfer(n)){case Ix:return[e,"LinearTransferOETF"];case Ar:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",n),[e,"LinearTransferOETF"]}}function Y3(n,e,t){const r=n.getShaderParameter(e,n.COMPILE_STATUS),i=n.getShaderInfoLog(e).trim();if(r&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const a=parseInt(s[1]);return t.toUpperCase()+`

`+i+`

`+_Z(n.getShaderSource(e),a)}else return i}function wZ(n,e){const t=yZ(e);return[`vec4 ${n}( vec4 value ) {`,`	return ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join(`
`)}function bZ(n,e){let t;switch(e){case EX:t="Linear";break;case AX:t="Reinhard";break;case TX:t="Cineon";break;case MX:t="ACESFilmic";break;case PX:t="AgX";break;case kX:t="Neutral";break;case CX:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const E1=new Ze;function SZ(){ar.getLuminanceCoefficients(E1);const n=E1.x.toFixed(4),e=E1.y.toFixed(4),t=E1.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${n}, ${e}, ${t} );`,"	return dot( weights, rgb );","}"].join(`
`)}function EZ(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Fp).join(`
`)}function AZ(n){const e=[];for(const t in n){const r=n[t];r!==!1&&e.push("#define "+t+" "+r)}return e.join(`
`)}function TZ(n,e){const t={},r=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const s=n.getActiveAttrib(e,i),a=s.name;let o=1;s.type===n.FLOAT_MAT2&&(o=2),s.type===n.FLOAT_MAT3&&(o=3),s.type===n.FLOAT_MAT4&&(o=4),t[a]={type:s.type,location:n.getAttribLocation(e,a),locationSize:o}}return t}function Fp(n){return n!==""}function K3(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function J3(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const MZ=/^[ \t]*#include +<([\w\d./]+)>/gm;function Fw(n){return n.replace(MZ,PZ)}const CZ=new Map;function PZ(n,e){let t=Un[e];if(t===void 0){const r=CZ.get(e);if(r!==void 0)t=Un[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return Fw(t)}const kZ=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Z3(n){return n.replace(kZ,RZ)}function RZ(n,e,t,r){let i="";for(let s=parseInt(e);s<parseInt(t);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function Q3(n){let e=`precision ${n.precision} float;
	precision ${n.precision} int;
	precision ${n.precision} sampler2D;
	precision ${n.precision} samplerCube;
	precision ${n.precision} sampler3D;
	precision ${n.precision} sampler2DArray;
	precision ${n.precision} sampler2DShadow;
	precision ${n.precision} samplerCubeShadow;
	precision ${n.precision} sampler2DArrayShadow;
	precision ${n.precision} isampler2D;
	precision ${n.precision} isampler3D;
	precision ${n.precision} isamplerCube;
	precision ${n.precision} isampler2DArray;
	precision ${n.precision} usampler2D;
	precision ${n.precision} usampler3D;
	precision ${n.precision} usamplerCube;
	precision ${n.precision} usampler2DArray;
	`;return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function LZ(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===lk?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===rX?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===Fc&&(e="SHADOWMAP_TYPE_VSM"),e}function NZ(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case M0:case C0:e="ENVMAP_TYPE_CUBE";break;case pv:e="ENVMAP_TYPE_CUBE_UV";break}return e}function FZ(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case C0:e="ENVMAP_MODE_REFRACTION";break}return e}function DZ(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case Wb:e="ENVMAP_BLENDING_MULTIPLY";break;case bX:e="ENVMAP_BLENDING_MIX";break;case SX:e="ENVMAP_BLENDING_ADD";break}return e}function IZ(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:r,maxMip:t}}function OZ(n,e,t,r){const i=n.getContext(),s=t.defines;let a=t.vertexShader,o=t.fragmentShader;const l=LZ(t),c=NZ(t),f=FZ(t),d=DZ(t),p=IZ(t),m=EZ(t),_=AZ(s),x=i.createProgram();let g,y,A=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(g=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,_].filter(Fp).join(`
`),g.length>0&&(g+=`
`),y=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,_].filter(Fp).join(`
`),y.length>0&&(y+=`
`)):(g=[Q3(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,_,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+f:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Fp).join(`
`),y=[Q3(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,_,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+f:"",t.envMap?"#define "+d:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==ff?"#define TONE_MAPPING":"",t.toneMapping!==ff?Un.tonemapping_pars_fragment:"",t.toneMapping!==ff?bZ("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Un.colorspace_pars_fragment,wZ("linearToOutputTexel",t.outputColorSpace),SZ(),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(Fp).join(`
`)),a=Fw(a),a=K3(a,t),a=J3(a,t),o=Fw(o),o=K3(o,t),o=J3(o,t),a=Z3(a),o=Z3(o),t.isRawShaderMaterial!==!0&&(A=`#version 300 es
`,g=[m,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+g,y=["#define varying in",t.glslVersion===s3?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===s3?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+y);const E=A+g+a,M=A+y+o,D=X3(i,i.VERTEX_SHADER,E),U=X3(i,i.FRAGMENT_SHADER,M);i.attachShader(x,D),i.attachShader(x,U),t.index0AttributeName!==void 0?i.bindAttribLocation(x,0,t.index0AttributeName):t.morphTargets===!0&&i.bindAttribLocation(x,0,"position"),i.linkProgram(x);function L(N){if(n.debug.checkShaderErrors){const k=i.getProgramInfoLog(x).trim(),j=i.getShaderInfoLog(D).trim(),G=i.getShaderInfoLog(U).trim();let ae=!0,ie=!0;if(i.getProgramParameter(x,i.LINK_STATUS)===!1)if(ae=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(i,x,D,U);else{const ue=Y3(i,D,"vertex"),J=Y3(i,U,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(x,i.VALIDATE_STATUS)+`

Material Name: `+N.name+`
Material Type: `+N.type+`

Program Info Log: `+k+`
`+ue+`
`+J)}else k!==""?console.warn("THREE.WebGLProgram: Program Info Log:",k):(j===""||G==="")&&(ie=!1);ie&&(N.diagnostics={runnable:ae,programLog:k,vertexShader:{log:j,prefix:g},fragmentShader:{log:G,prefix:y}})}i.deleteShader(D),i.deleteShader(U),I=new sx(i,x),R=TZ(i,x)}let I;this.getUniforms=function(){return I===void 0&&L(this),I};let R;this.getAttributes=function(){return R===void 0&&L(this),R};let O=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return O===!1&&(O=i.getProgramParameter(x,xZ)),O},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(x),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=vZ++,this.cacheKey=e,this.usedTimes=1,this.program=x,this.vertexShader=D,this.fragmentShader=U,this}let UZ=0;class BZ{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(t),s=this._getShaderStage(r),a=this._getShaderCacheForMaterial(e);return a.has(i)===!1&&(a.add(i),i.usedTimes++),a.has(s)===!1&&(a.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const r of t)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let r=t.get(e);return r===void 0&&(r=new Set,t.set(e,r)),r}_getShaderStage(e){const t=this.shaderCache;let r=t.get(e);return r===void 0&&(r=new zZ(e),t.set(e,r)),r}}class zZ{constructor(e){this.id=UZ++,this.code=e,this.usedTimes=0}}function HZ(n,e,t,r,i,s,a){const o=new Zb,l=new BZ,c=new Set,f=[],d=i.logarithmicDepthBuffer,p=i.vertexTextures;let m=i.precision;const _={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function x(R){return c.add(R),R===0?"uv":`uv${R}`}function g(R,O,N,k,j){const G=k.fog,ae=j.geometry,ie=R.isMeshStandardMaterial?k.environment:null,ue=(R.isMeshStandardMaterial?t:e).get(R.envMap||ie),J=ue&&ue.mapping===pv?ue.image.height:null,X=_[R.type];R.precision!==null&&(m=i.getMaxPrecision(R.precision),m!==R.precision&&console.warn("THREE.WebGLProgram.getParameters:",R.precision,"not supported, using",m,"instead."));const pe=ae.morphAttributes.position||ae.morphAttributes.normal||ae.morphAttributes.color,oe=pe!==void 0?pe.length:0;let C=0;ae.morphAttributes.position!==void 0&&(C=1),ae.morphAttributes.normal!==void 0&&(C=2),ae.morphAttributes.color!==void 0&&(C=3);let W,z,V,ee;if(X){const An=Bl[X];W=An.vertexShader,z=An.fragmentShader}else W=R.vertexShader,z=R.fragmentShader,l.update(R),V=l.getVertexShaderID(R),ee=l.getFragmentShaderID(R);const de=n.getRenderTarget(),ve=n.state.buffers.depth.getReversed(),we=j.isInstancedMesh===!0,Ce=j.isBatchedMesh===!0,lt=!!R.map,he=!!R.matcap,mt=!!ue,ye=!!R.aoMap,Je=!!R.lightMap,q=!!R.bumpMap,Re=!!R.normalMap,je=!!R.displacementMap,Ve=!!R.emissiveMap,Ie=!!R.metalnessMap,Ke=!!R.roughnessMap,Et=R.anisotropy>0,ce=R.clearcoat>0,Y=R.dispersion>0,Ne=R.iridescence>0,$e=R.sheen>0,Qe=R.transmission>0,He=Et&&!!R.anisotropyMap,ht=ce&&!!R.clearcoatMap,Ye=ce&&!!R.clearcoatNormalMap,Xe=ce&&!!R.clearcoatRoughnessMap,wt=Ne&&!!R.iridescenceMap,We=Ne&&!!R.iridescenceThicknessMap,Ct=$e&&!!R.sheenColorMap,Pt=$e&&!!R.sheenRoughnessMap,Ht=!!R.specularMap,It=!!R.specularColorMap,Bt=!!R.specularIntensityMap,Ue=Qe&&!!R.transmissionMap,Ft=Qe&&!!R.thicknessMap,Tt=!!R.gradientMap,Vt=!!R.alphaMap,At=R.alphaTest>0,ot=!!R.alphaHash,Ot=!!R.extensions;let un=ff;R.toneMapped&&(de===null||de.isXRRenderTarget===!0)&&(un=n.toneMapping);const _n={shaderID:X,shaderType:R.type,shaderName:R.name,vertexShader:W,fragmentShader:z,defines:R.defines,customVertexShaderID:V,customFragmentShaderID:ee,isRawShaderMaterial:R.isRawShaderMaterial===!0,glslVersion:R.glslVersion,precision:m,batching:Ce,batchingColor:Ce&&j._colorsTexture!==null,instancing:we,instancingColor:we&&j.instanceColor!==null,instancingMorph:we&&j.morphTexture!==null,supportsVertexTextures:p,outputColorSpace:de===null?n.outputColorSpace:de.isXRRenderTarget===!0?de.texture.colorSpace:P0,alphaToCoverage:!!R.alphaToCoverage,map:lt,matcap:he,envMap:mt,envMapMode:mt&&ue.mapping,envMapCubeUVHeight:J,aoMap:ye,lightMap:Je,bumpMap:q,normalMap:Re,displacementMap:p&&je,emissiveMap:Ve,normalMapObjectSpace:Re&&R.normalMapType===FX,normalMapTangentSpace:Re&&R.normalMapType===vk,metalnessMap:Ie,roughnessMap:Ke,anisotropy:Et,anisotropyMap:He,clearcoat:ce,clearcoatMap:ht,clearcoatNormalMap:Ye,clearcoatRoughnessMap:Xe,dispersion:Y,iridescence:Ne,iridescenceMap:wt,iridescenceThicknessMap:We,sheen:$e,sheenColorMap:Ct,sheenRoughnessMap:Pt,specularMap:Ht,specularColorMap:It,specularIntensityMap:Bt,transmission:Qe,transmissionMap:Ue,thicknessMap:Ft,gradientMap:Tt,opaque:R.transparent===!1&&R.blending===m0&&R.alphaToCoverage===!1,alphaMap:Vt,alphaTest:At,alphaHash:ot,combine:R.combine,mapUv:lt&&x(R.map.channel),aoMapUv:ye&&x(R.aoMap.channel),lightMapUv:Je&&x(R.lightMap.channel),bumpMapUv:q&&x(R.bumpMap.channel),normalMapUv:Re&&x(R.normalMap.channel),displacementMapUv:je&&x(R.displacementMap.channel),emissiveMapUv:Ve&&x(R.emissiveMap.channel),metalnessMapUv:Ie&&x(R.metalnessMap.channel),roughnessMapUv:Ke&&x(R.roughnessMap.channel),anisotropyMapUv:He&&x(R.anisotropyMap.channel),clearcoatMapUv:ht&&x(R.clearcoatMap.channel),clearcoatNormalMapUv:Ye&&x(R.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Xe&&x(R.clearcoatRoughnessMap.channel),iridescenceMapUv:wt&&x(R.iridescenceMap.channel),iridescenceThicknessMapUv:We&&x(R.iridescenceThicknessMap.channel),sheenColorMapUv:Ct&&x(R.sheenColorMap.channel),sheenRoughnessMapUv:Pt&&x(R.sheenRoughnessMap.channel),specularMapUv:Ht&&x(R.specularMap.channel),specularColorMapUv:It&&x(R.specularColorMap.channel),specularIntensityMapUv:Bt&&x(R.specularIntensityMap.channel),transmissionMapUv:Ue&&x(R.transmissionMap.channel),thicknessMapUv:Ft&&x(R.thicknessMap.channel),alphaMapUv:Vt&&x(R.alphaMap.channel),vertexTangents:!!ae.attributes.tangent&&(Re||Et),vertexColors:R.vertexColors,vertexAlphas:R.vertexColors===!0&&!!ae.attributes.color&&ae.attributes.color.itemSize===4,pointsUvs:j.isPoints===!0&&!!ae.attributes.uv&&(lt||Vt),fog:!!G,useFog:R.fog===!0,fogExp2:!!G&&G.isFogExp2,flatShading:R.flatShading===!0,sizeAttenuation:R.sizeAttenuation===!0,logarithmicDepthBuffer:d,reverseDepthBuffer:ve,skinning:j.isSkinnedMesh===!0,morphTargets:ae.morphAttributes.position!==void 0,morphNormals:ae.morphAttributes.normal!==void 0,morphColors:ae.morphAttributes.color!==void 0,morphTargetsCount:oe,morphTextureStride:C,numDirLights:O.directional.length,numPointLights:O.point.length,numSpotLights:O.spot.length,numSpotLightMaps:O.spotLightMap.length,numRectAreaLights:O.rectArea.length,numHemiLights:O.hemi.length,numDirLightShadows:O.directionalShadowMap.length,numPointLightShadows:O.pointShadowMap.length,numSpotLightShadows:O.spotShadowMap.length,numSpotLightShadowsWithMaps:O.numSpotLightShadowsWithMaps,numLightProbes:O.numLightProbes,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:R.dithering,shadowMapEnabled:n.shadowMap.enabled&&N.length>0,shadowMapType:n.shadowMap.type,toneMapping:un,decodeVideoTexture:lt&&R.map.isVideoTexture===!0&&ar.getTransfer(R.map.colorSpace)===Ar,decodeVideoTextureEmissive:Ve&&R.emissiveMap.isVideoTexture===!0&&ar.getTransfer(R.emissiveMap.colorSpace)===Ar,premultipliedAlpha:R.premultipliedAlpha,doubleSided:R.side===zl,flipSided:R.side===Ra,useDepthPacking:R.depthPacking>=0,depthPacking:R.depthPacking||0,index0AttributeName:R.index0AttributeName,extensionClipCullDistance:Ot&&R.extensions.clipCullDistance===!0&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Ot&&R.extensions.multiDraw===!0||Ce)&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:R.customProgramCacheKey()};return _n.vertexUv1s=c.has(1),_n.vertexUv2s=c.has(2),_n.vertexUv3s=c.has(3),c.clear(),_n}function y(R){const O=[];if(R.shaderID?O.push(R.shaderID):(O.push(R.customVertexShaderID),O.push(R.customFragmentShaderID)),R.defines!==void 0)for(const N in R.defines)O.push(N),O.push(R.defines[N]);return R.isRawShaderMaterial===!1&&(A(O,R),E(O,R),O.push(n.outputColorSpace)),O.push(R.customProgramCacheKey),O.join()}function A(R,O){R.push(O.precision),R.push(O.outputColorSpace),R.push(O.envMapMode),R.push(O.envMapCubeUVHeight),R.push(O.mapUv),R.push(O.alphaMapUv),R.push(O.lightMapUv),R.push(O.aoMapUv),R.push(O.bumpMapUv),R.push(O.normalMapUv),R.push(O.displacementMapUv),R.push(O.emissiveMapUv),R.push(O.metalnessMapUv),R.push(O.roughnessMapUv),R.push(O.anisotropyMapUv),R.push(O.clearcoatMapUv),R.push(O.clearcoatNormalMapUv),R.push(O.clearcoatRoughnessMapUv),R.push(O.iridescenceMapUv),R.push(O.iridescenceThicknessMapUv),R.push(O.sheenColorMapUv),R.push(O.sheenRoughnessMapUv),R.push(O.specularMapUv),R.push(O.specularColorMapUv),R.push(O.specularIntensityMapUv),R.push(O.transmissionMapUv),R.push(O.thicknessMapUv),R.push(O.combine),R.push(O.fogExp2),R.push(O.sizeAttenuation),R.push(O.morphTargetsCount),R.push(O.morphAttributeCount),R.push(O.numDirLights),R.push(O.numPointLights),R.push(O.numSpotLights),R.push(O.numSpotLightMaps),R.push(O.numHemiLights),R.push(O.numRectAreaLights),R.push(O.numDirLightShadows),R.push(O.numPointLightShadows),R.push(O.numSpotLightShadows),R.push(O.numSpotLightShadowsWithMaps),R.push(O.numLightProbes),R.push(O.shadowMapType),R.push(O.toneMapping),R.push(O.numClippingPlanes),R.push(O.numClipIntersection),R.push(O.depthPacking)}function E(R,O){o.disableAll(),O.supportsVertexTextures&&o.enable(0),O.instancing&&o.enable(1),O.instancingColor&&o.enable(2),O.instancingMorph&&o.enable(3),O.matcap&&o.enable(4),O.envMap&&o.enable(5),O.normalMapObjectSpace&&o.enable(6),O.normalMapTangentSpace&&o.enable(7),O.clearcoat&&o.enable(8),O.iridescence&&o.enable(9),O.alphaTest&&o.enable(10),O.vertexColors&&o.enable(11),O.vertexAlphas&&o.enable(12),O.vertexUv1s&&o.enable(13),O.vertexUv2s&&o.enable(14),O.vertexUv3s&&o.enable(15),O.vertexTangents&&o.enable(16),O.anisotropy&&o.enable(17),O.alphaHash&&o.enable(18),O.batching&&o.enable(19),O.dispersion&&o.enable(20),O.batchingColor&&o.enable(21),R.push(o.mask),o.disableAll(),O.fog&&o.enable(0),O.useFog&&o.enable(1),O.flatShading&&o.enable(2),O.logarithmicDepthBuffer&&o.enable(3),O.reverseDepthBuffer&&o.enable(4),O.skinning&&o.enable(5),O.morphTargets&&o.enable(6),O.morphNormals&&o.enable(7),O.morphColors&&o.enable(8),O.premultipliedAlpha&&o.enable(9),O.shadowMapEnabled&&o.enable(10),O.doubleSided&&o.enable(11),O.flipSided&&o.enable(12),O.useDepthPacking&&o.enable(13),O.dithering&&o.enable(14),O.transmission&&o.enable(15),O.sheen&&o.enable(16),O.opaque&&o.enable(17),O.pointsUvs&&o.enable(18),O.decodeVideoTexture&&o.enable(19),O.decodeVideoTextureEmissive&&o.enable(20),O.alphaToCoverage&&o.enable(21),R.push(o.mask)}function M(R){const O=_[R.type];let N;if(O){const k=Bl[O];N=h$.clone(k.uniforms)}else N=R.uniforms;return N}function D(R,O){let N;for(let k=0,j=f.length;k<j;k++){const G=f[k];if(G.cacheKey===O){N=G,++N.usedTimes;break}}return N===void 0&&(N=new OZ(n,O,R,s),f.push(N)),N}function U(R){if(--R.usedTimes===0){const O=f.indexOf(R);f[O]=f[f.length-1],f.pop(),R.destroy()}}function L(R){l.remove(R)}function I(){l.dispose()}return{getParameters:g,getProgramCacheKey:y,getUniforms:M,acquireProgram:D,releaseProgram:U,releaseShaderCache:L,programs:f,dispose:I}}function jZ(){let n=new WeakMap;function e(a){return n.has(a)}function t(a){let o=n.get(a);return o===void 0&&(o={},n.set(a,o)),o}function r(a){n.delete(a)}function i(a,o,l){n.get(a)[o]=l}function s(){n=new WeakMap}return{has:e,get:t,remove:r,update:i,dispose:s}}function VZ(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function eM(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function tM(){const n=[];let e=0;const t=[],r=[],i=[];function s(){e=0,t.length=0,r.length=0,i.length=0}function a(d,p,m,_,x,g){let y=n[e];return y===void 0?(y={id:d.id,object:d,geometry:p,material:m,groupOrder:_,renderOrder:d.renderOrder,z:x,group:g},n[e]=y):(y.id=d.id,y.object=d,y.geometry=p,y.material=m,y.groupOrder=_,y.renderOrder=d.renderOrder,y.z=x,y.group=g),e++,y}function o(d,p,m,_,x,g){const y=a(d,p,m,_,x,g);m.transmission>0?r.push(y):m.transparent===!0?i.push(y):t.push(y)}function l(d,p,m,_,x,g){const y=a(d,p,m,_,x,g);m.transmission>0?r.unshift(y):m.transparent===!0?i.unshift(y):t.unshift(y)}function c(d,p){t.length>1&&t.sort(d||VZ),r.length>1&&r.sort(p||eM),i.length>1&&i.sort(p||eM)}function f(){for(let d=e,p=n.length;d<p;d++){const m=n[d];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:t,transmissive:r,transparent:i,init:s,push:o,unshift:l,finish:f,sort:c}}function WZ(){let n=new WeakMap;function e(r,i){const s=n.get(r);let a;return s===void 0?(a=new tM,n.set(r,[a])):i>=s.length?(a=new tM,s.push(a)):a=s[i],a}function t(){n=new WeakMap}return{get:e,dispose:t}}function GZ(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new Ze,color:new kn};break;case"SpotLight":t={position:new Ze,direction:new Ze,color:new kn,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new Ze,color:new kn,distance:0,decay:0};break;case"HemisphereLight":t={direction:new Ze,skyColor:new kn,groundColor:new kn};break;case"RectAreaLight":t={color:new kn,position:new Ze,halfWidth:new Ze,halfHeight:new Ze};break}return n[e.id]=t,t}}}function qZ(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new dn};break;case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new dn};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new dn,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let XZ=0;function $Z(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function YZ(n){const e=new GZ,t=qZ(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)r.probe.push(new Ze);const i=new Ze,s=new jr,a=new jr;function o(c){let f=0,d=0,p=0;for(let R=0;R<9;R++)r.probe[R].set(0,0,0);let m=0,_=0,x=0,g=0,y=0,A=0,E=0,M=0,D=0,U=0,L=0;c.sort($Z);for(let R=0,O=c.length;R<O;R++){const N=c[R],k=N.color,j=N.intensity,G=N.distance,ae=N.shadow&&N.shadow.map?N.shadow.map.texture:null;if(N.isAmbientLight)f+=k.r*j,d+=k.g*j,p+=k.b*j;else if(N.isLightProbe){for(let ie=0;ie<9;ie++)r.probe[ie].addScaledVector(N.sh.coefficients[ie],j);L++}else if(N.isDirectionalLight){const ie=e.get(N);if(ie.color.copy(N.color).multiplyScalar(N.intensity),N.castShadow){const ue=N.shadow,J=t.get(N);J.shadowIntensity=ue.intensity,J.shadowBias=ue.bias,J.shadowNormalBias=ue.normalBias,J.shadowRadius=ue.radius,J.shadowMapSize=ue.mapSize,r.directionalShadow[m]=J,r.directionalShadowMap[m]=ae,r.directionalShadowMatrix[m]=N.shadow.matrix,A++}r.directional[m]=ie,m++}else if(N.isSpotLight){const ie=e.get(N);ie.position.setFromMatrixPosition(N.matrixWorld),ie.color.copy(k).multiplyScalar(j),ie.distance=G,ie.coneCos=Math.cos(N.angle),ie.penumbraCos=Math.cos(N.angle*(1-N.penumbra)),ie.decay=N.decay,r.spot[x]=ie;const ue=N.shadow;if(N.map&&(r.spotLightMap[D]=N.map,D++,ue.updateMatrices(N),N.castShadow&&U++),r.spotLightMatrix[x]=ue.matrix,N.castShadow){const J=t.get(N);J.shadowIntensity=ue.intensity,J.shadowBias=ue.bias,J.shadowNormalBias=ue.normalBias,J.shadowRadius=ue.radius,J.shadowMapSize=ue.mapSize,r.spotShadow[x]=J,r.spotShadowMap[x]=ae,M++}x++}else if(N.isRectAreaLight){const ie=e.get(N);ie.color.copy(k).multiplyScalar(j),ie.halfWidth.set(N.width*.5,0,0),ie.halfHeight.set(0,N.height*.5,0),r.rectArea[g]=ie,g++}else if(N.isPointLight){const ie=e.get(N);if(ie.color.copy(N.color).multiplyScalar(N.intensity),ie.distance=N.distance,ie.decay=N.decay,N.castShadow){const ue=N.shadow,J=t.get(N);J.shadowIntensity=ue.intensity,J.shadowBias=ue.bias,J.shadowNormalBias=ue.normalBias,J.shadowRadius=ue.radius,J.shadowMapSize=ue.mapSize,J.shadowCameraNear=ue.camera.near,J.shadowCameraFar=ue.camera.far,r.pointShadow[_]=J,r.pointShadowMap[_]=ae,r.pointShadowMatrix[_]=N.shadow.matrix,E++}r.point[_]=ie,_++}else if(N.isHemisphereLight){const ie=e.get(N);ie.skyColor.copy(N.color).multiplyScalar(j),ie.groundColor.copy(N.groundColor).multiplyScalar(j),r.hemi[y]=ie,y++}}g>0&&(n.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=Kt.LTC_FLOAT_1,r.rectAreaLTC2=Kt.LTC_FLOAT_2):(r.rectAreaLTC1=Kt.LTC_HALF_1,r.rectAreaLTC2=Kt.LTC_HALF_2)),r.ambient[0]=f,r.ambient[1]=d,r.ambient[2]=p;const I=r.hash;(I.directionalLength!==m||I.pointLength!==_||I.spotLength!==x||I.rectAreaLength!==g||I.hemiLength!==y||I.numDirectionalShadows!==A||I.numPointShadows!==E||I.numSpotShadows!==M||I.numSpotMaps!==D||I.numLightProbes!==L)&&(r.directional.length=m,r.spot.length=x,r.rectArea.length=g,r.point.length=_,r.hemi.length=y,r.directionalShadow.length=A,r.directionalShadowMap.length=A,r.pointShadow.length=E,r.pointShadowMap.length=E,r.spotShadow.length=M,r.spotShadowMap.length=M,r.directionalShadowMatrix.length=A,r.pointShadowMatrix.length=E,r.spotLightMatrix.length=M+D-U,r.spotLightMap.length=D,r.numSpotLightShadowsWithMaps=U,r.numLightProbes=L,I.directionalLength=m,I.pointLength=_,I.spotLength=x,I.rectAreaLength=g,I.hemiLength=y,I.numDirectionalShadows=A,I.numPointShadows=E,I.numSpotShadows=M,I.numSpotMaps=D,I.numLightProbes=L,r.version=XZ++)}function l(c,f){let d=0,p=0,m=0,_=0,x=0;const g=f.matrixWorldInverse;for(let y=0,A=c.length;y<A;y++){const E=c[y];if(E.isDirectionalLight){const M=r.directional[d];M.direction.setFromMatrixPosition(E.matrixWorld),i.setFromMatrixPosition(E.target.matrixWorld),M.direction.sub(i),M.direction.transformDirection(g),d++}else if(E.isSpotLight){const M=r.spot[m];M.position.setFromMatrixPosition(E.matrixWorld),M.position.applyMatrix4(g),M.direction.setFromMatrixPosition(E.matrixWorld),i.setFromMatrixPosition(E.target.matrixWorld),M.direction.sub(i),M.direction.transformDirection(g),m++}else if(E.isRectAreaLight){const M=r.rectArea[_];M.position.setFromMatrixPosition(E.matrixWorld),M.position.applyMatrix4(g),a.identity(),s.copy(E.matrixWorld),s.premultiply(g),a.extractRotation(s),M.halfWidth.set(E.width*.5,0,0),M.halfHeight.set(0,E.height*.5,0),M.halfWidth.applyMatrix4(a),M.halfHeight.applyMatrix4(a),_++}else if(E.isPointLight){const M=r.point[p];M.position.setFromMatrixPosition(E.matrixWorld),M.position.applyMatrix4(g),p++}else if(E.isHemisphereLight){const M=r.hemi[x];M.direction.setFromMatrixPosition(E.matrixWorld),M.direction.transformDirection(g),x++}}}return{setup:o,setupView:l,state:r}}function nM(n){const e=new YZ(n),t=[],r=[];function i(f){c.camera=f,t.length=0,r.length=0}function s(f){t.push(f)}function a(f){r.push(f)}function o(){e.setup(t)}function l(f){e.setupView(t,f)}const c={lightsArray:t,shadowsArray:r,camera:null,lights:e,transmissionRenderTarget:{}};return{init:i,state:c,setupLights:o,setupLightsView:l,pushLight:s,pushShadow:a}}function KZ(n){let e=new WeakMap;function t(i,s=0){const a=e.get(i);let o;return a===void 0?(o=new nM(n),e.set(i,[o])):s>=a.length?(o=new nM(n),a.push(o)):o=a[s],o}function r(){e=new WeakMap}return{get:t,dispose:r}}const JZ=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,ZZ=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function QZ(n,e,t){let r=new Qb;const i=new dn,s=new dn,a=new ci,o=new S$({depthPacking:NX}),l=new E$,c={},f=t.maxTextureSize,d={[wf]:Ra,[Ra]:wf,[zl]:zl},p=new bf({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new dn},radius:{value:4}},vertexShader:JZ,fragmentShader:ZZ}),m=p.clone();m.defines.HORIZONTAL_PASS=1;const _=new Na;_.setAttribute("position",new ul(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const x=new Ca(_,p),g=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=lk;let y=this.type;this.render=function(U,L,I){if(g.enabled===!1||g.autoUpdate===!1&&g.needsUpdate===!1||U.length===0)return;const R=n.getRenderTarget(),O=n.getActiveCubeFace(),N=n.getActiveMipmapLevel(),k=n.state;k.setBlending(uf),k.buffers.color.setClear(1,1,1,1),k.buffers.depth.setTest(!0),k.setScissorTest(!1);const j=y!==Fc&&this.type===Fc,G=y===Fc&&this.type!==Fc;for(let ae=0,ie=U.length;ae<ie;ae++){const ue=U[ae],J=ue.shadow;if(J===void 0){console.warn("THREE.WebGLShadowMap:",ue,"has no shadow.");continue}if(J.autoUpdate===!1&&J.needsUpdate===!1)continue;i.copy(J.mapSize);const X=J.getFrameExtents();if(i.multiply(X),s.copy(J.mapSize),(i.x>f||i.y>f)&&(i.x>f&&(s.x=Math.floor(f/X.x),i.x=s.x*X.x,J.mapSize.x=s.x),i.y>f&&(s.y=Math.floor(f/X.y),i.y=s.y*X.y,J.mapSize.y=s.y)),J.map===null||j===!0||G===!0){const oe=this.type!==Fc?{minFilter:cl,magFilter:cl}:{};J.map!==null&&J.map.dispose(),J.map=new Hh(i.x,i.y,oe),J.map.texture.name=ue.name+".shadowMap",J.camera.updateProjectionMatrix()}n.setRenderTarget(J.map),n.clear();const pe=J.getViewportCount();for(let oe=0;oe<pe;oe++){const C=J.getViewport(oe);a.set(s.x*C.x,s.y*C.y,s.x*C.z,s.y*C.w),k.viewport(a),J.updateMatrices(ue,oe),r=J.getFrustum(),M(L,I,J.camera,ue,this.type)}J.isPointLightShadow!==!0&&this.type===Fc&&A(J,I),J.needsUpdate=!1}y=this.type,g.needsUpdate=!1,n.setRenderTarget(R,O,N)};function A(U,L){const I=e.update(x);p.defines.VSM_SAMPLES!==U.blurSamples&&(p.defines.VSM_SAMPLES=U.blurSamples,m.defines.VSM_SAMPLES=U.blurSamples,p.needsUpdate=!0,m.needsUpdate=!0),U.mapPass===null&&(U.mapPass=new Hh(i.x,i.y)),p.uniforms.shadow_pass.value=U.map.texture,p.uniforms.resolution.value=U.mapSize,p.uniforms.radius.value=U.radius,n.setRenderTarget(U.mapPass),n.clear(),n.renderBufferDirect(L,null,I,p,x,null),m.uniforms.shadow_pass.value=U.mapPass.texture,m.uniforms.resolution.value=U.mapSize,m.uniforms.radius.value=U.radius,n.setRenderTarget(U.map),n.clear(),n.renderBufferDirect(L,null,I,m,x,null)}function E(U,L,I,R){let O=null;const N=I.isPointLight===!0?U.customDistanceMaterial:U.customDepthMaterial;if(N!==void 0)O=N;else if(O=I.isPointLight===!0?l:o,n.localClippingEnabled&&L.clipShadows===!0&&Array.isArray(L.clippingPlanes)&&L.clippingPlanes.length!==0||L.displacementMap&&L.displacementScale!==0||L.alphaMap&&L.alphaTest>0||L.map&&L.alphaTest>0||L.alphaToCoverage===!0){const k=O.uuid,j=L.uuid;let G=c[k];G===void 0&&(G={},c[k]=G);let ae=G[j];ae===void 0&&(ae=O.clone(),G[j]=ae,L.addEventListener("dispose",D)),O=ae}if(O.visible=L.visible,O.wireframe=L.wireframe,R===Fc?O.side=L.shadowSide!==null?L.shadowSide:L.side:O.side=L.shadowSide!==null?L.shadowSide:d[L.side],O.alphaMap=L.alphaMap,O.alphaTest=L.alphaToCoverage===!0?.5:L.alphaTest,O.map=L.map,O.clipShadows=L.clipShadows,O.clippingPlanes=L.clippingPlanes,O.clipIntersection=L.clipIntersection,O.displacementMap=L.displacementMap,O.displacementScale=L.displacementScale,O.displacementBias=L.displacementBias,O.wireframeLinewidth=L.wireframeLinewidth,O.linewidth=L.linewidth,I.isPointLight===!0&&O.isMeshDistanceMaterial===!0){const k=n.properties.get(O);k.light=I}return O}function M(U,L,I,R,O){if(U.visible===!1)return;if(U.layers.test(L.layers)&&(U.isMesh||U.isLine||U.isPoints)&&(U.castShadow||U.receiveShadow&&O===Fc)&&(!U.frustumCulled||r.intersectsObject(U))){U.modelViewMatrix.multiplyMatrices(I.matrixWorldInverse,U.matrixWorld);const j=e.update(U),G=U.material;if(Array.isArray(G)){const ae=j.groups;for(let ie=0,ue=ae.length;ie<ue;ie++){const J=ae[ie],X=G[J.materialIndex];if(X&&X.visible){const pe=E(U,X,R,O);U.onBeforeShadow(n,U,L,I,j,pe,J),n.renderBufferDirect(I,null,j,pe,U,J),U.onAfterShadow(n,U,L,I,j,pe,J)}}}else if(G.visible){const ae=E(U,G,R,O);U.onBeforeShadow(n,U,L,I,j,ae,null),n.renderBufferDirect(I,null,j,ae,U,null),U.onAfterShadow(n,U,L,I,j,ae,null)}}const k=U.children;for(let j=0,G=k.length;j<G;j++)M(k[j],L,I,R,O)}function D(U){U.target.removeEventListener("dispose",D);for(const I in c){const R=c[I],O=U.target.uuid;O in R&&(R[O].dispose(),delete R[O])}}}const eQ={[$y]:Yy,[Ky]:Qy,[Jy]:ew,[T0]:Zy,[Yy]:$y,[Qy]:Ky,[ew]:Jy,[Zy]:T0};function tQ(n,e){function t(){let Ue=!1;const Ft=new ci;let Tt=null;const Vt=new ci(0,0,0,0);return{setMask:function(At){Tt!==At&&!Ue&&(n.colorMask(At,At,At,At),Tt=At)},setLocked:function(At){Ue=At},setClear:function(At,ot,Ot,un,_n){_n===!0&&(At*=un,ot*=un,Ot*=un),Ft.set(At,ot,Ot,un),Vt.equals(Ft)===!1&&(n.clearColor(At,ot,Ot,un),Vt.copy(Ft))},reset:function(){Ue=!1,Tt=null,Vt.set(-1,0,0,0)}}}function r(){let Ue=!1,Ft=!1,Tt=null,Vt=null,At=null;return{setReversed:function(ot){if(Ft!==ot){const Ot=e.get("EXT_clip_control");ot?Ot.clipControlEXT(Ot.LOWER_LEFT_EXT,Ot.ZERO_TO_ONE_EXT):Ot.clipControlEXT(Ot.LOWER_LEFT_EXT,Ot.NEGATIVE_ONE_TO_ONE_EXT),Ft=ot;const un=At;At=null,this.setClear(un)}},getReversed:function(){return Ft},setTest:function(ot){ot?de(n.DEPTH_TEST):ve(n.DEPTH_TEST)},setMask:function(ot){Tt!==ot&&!Ue&&(n.depthMask(ot),Tt=ot)},setFunc:function(ot){if(Ft&&(ot=eQ[ot]),Vt!==ot){switch(ot){case $y:n.depthFunc(n.NEVER);break;case Yy:n.depthFunc(n.ALWAYS);break;case Ky:n.depthFunc(n.LESS);break;case T0:n.depthFunc(n.LEQUAL);break;case Jy:n.depthFunc(n.EQUAL);break;case Zy:n.depthFunc(n.GEQUAL);break;case Qy:n.depthFunc(n.GREATER);break;case ew:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}Vt=ot}},setLocked:function(ot){Ue=ot},setClear:function(ot){At!==ot&&(Ft&&(ot=1-ot),n.clearDepth(ot),At=ot)},reset:function(){Ue=!1,Tt=null,Vt=null,At=null,Ft=!1}}}function i(){let Ue=!1,Ft=null,Tt=null,Vt=null,At=null,ot=null,Ot=null,un=null,_n=null;return{setTest:function(An){Ue||(An?de(n.STENCIL_TEST):ve(n.STENCIL_TEST))},setMask:function(An){Ft!==An&&!Ue&&(n.stencilMask(An),Ft=An)},setFunc:function(An,Cr,Qt){(Tt!==An||Vt!==Cr||At!==Qt)&&(n.stencilFunc(An,Cr,Qt),Tt=An,Vt=Cr,At=Qt)},setOp:function(An,Cr,Qt){(ot!==An||Ot!==Cr||un!==Qt)&&(n.stencilOp(An,Cr,Qt),ot=An,Ot=Cr,un=Qt)},setLocked:function(An){Ue=An},setClear:function(An){_n!==An&&(n.clearStencil(An),_n=An)},reset:function(){Ue=!1,Ft=null,Tt=null,Vt=null,At=null,ot=null,Ot=null,un=null,_n=null}}}const s=new t,a=new r,o=new i,l=new WeakMap,c=new WeakMap;let f={},d={},p=new WeakMap,m=[],_=null,x=!1,g=null,y=null,A=null,E=null,M=null,D=null,U=null,L=new kn(0,0,0),I=0,R=!1,O=null,N=null,k=null,j=null,G=null;const ae=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let ie=!1,ue=0;const J=n.getParameter(n.VERSION);J.indexOf("WebGL")!==-1?(ue=parseFloat(/^WebGL (\d)/.exec(J)[1]),ie=ue>=1):J.indexOf("OpenGL ES")!==-1&&(ue=parseFloat(/^OpenGL ES (\d)/.exec(J)[1]),ie=ue>=2);let X=null,pe={};const oe=n.getParameter(n.SCISSOR_BOX),C=n.getParameter(n.VIEWPORT),W=new ci().fromArray(oe),z=new ci().fromArray(C);function V(Ue,Ft,Tt,Vt){const At=new Uint8Array(4),ot=n.createTexture();n.bindTexture(Ue,ot),n.texParameteri(Ue,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(Ue,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let Ot=0;Ot<Tt;Ot++)Ue===n.TEXTURE_3D||Ue===n.TEXTURE_2D_ARRAY?n.texImage3D(Ft,0,n.RGBA,1,1,Vt,0,n.RGBA,n.UNSIGNED_BYTE,At):n.texImage2D(Ft+Ot,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,At);return ot}const ee={};ee[n.TEXTURE_2D]=V(n.TEXTURE_2D,n.TEXTURE_2D,1),ee[n.TEXTURE_CUBE_MAP]=V(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),ee[n.TEXTURE_2D_ARRAY]=V(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),ee[n.TEXTURE_3D]=V(n.TEXTURE_3D,n.TEXTURE_3D,1,1),s.setClear(0,0,0,1),a.setClear(1),o.setClear(0),de(n.DEPTH_TEST),a.setFunc(T0),q(!1),Re(e3),de(n.CULL_FACE),ye(uf);function de(Ue){f[Ue]!==!0&&(n.enable(Ue),f[Ue]=!0)}function ve(Ue){f[Ue]!==!1&&(n.disable(Ue),f[Ue]=!1)}function we(Ue,Ft){return d[Ue]!==Ft?(n.bindFramebuffer(Ue,Ft),d[Ue]=Ft,Ue===n.DRAW_FRAMEBUFFER&&(d[n.FRAMEBUFFER]=Ft),Ue===n.FRAMEBUFFER&&(d[n.DRAW_FRAMEBUFFER]=Ft),!0):!1}function Ce(Ue,Ft){let Tt=m,Vt=!1;if(Ue){Tt=p.get(Ft),Tt===void 0&&(Tt=[],p.set(Ft,Tt));const At=Ue.textures;if(Tt.length!==At.length||Tt[0]!==n.COLOR_ATTACHMENT0){for(let ot=0,Ot=At.length;ot<Ot;ot++)Tt[ot]=n.COLOR_ATTACHMENT0+ot;Tt.length=At.length,Vt=!0}}else Tt[0]!==n.BACK&&(Tt[0]=n.BACK,Vt=!0);Vt&&n.drawBuffers(Tt)}function lt(Ue){return _!==Ue?(n.useProgram(Ue),_=Ue,!0):!1}const he={[vh]:n.FUNC_ADD,[sX]:n.FUNC_SUBTRACT,[aX]:n.FUNC_REVERSE_SUBTRACT};he[oX]=n.MIN,he[lX]=n.MAX;const mt={[cX]:n.ZERO,[uX]:n.ONE,[fX]:n.SRC_COLOR,[qy]:n.SRC_ALPHA,[xX]:n.SRC_ALPHA_SATURATE,[mX]:n.DST_COLOR,[dX]:n.DST_ALPHA,[hX]:n.ONE_MINUS_SRC_COLOR,[Xy]:n.ONE_MINUS_SRC_ALPHA,[gX]:n.ONE_MINUS_DST_COLOR,[pX]:n.ONE_MINUS_DST_ALPHA,[vX]:n.CONSTANT_COLOR,[_X]:n.ONE_MINUS_CONSTANT_COLOR,[yX]:n.CONSTANT_ALPHA,[wX]:n.ONE_MINUS_CONSTANT_ALPHA};function ye(Ue,Ft,Tt,Vt,At,ot,Ot,un,_n,An){if(Ue===uf){x===!0&&(ve(n.BLEND),x=!1);return}if(x===!1&&(de(n.BLEND),x=!0),Ue!==iX){if(Ue!==g||An!==R){if((y!==vh||M!==vh)&&(n.blendEquation(n.FUNC_ADD),y=vh,M=vh),An)switch(Ue){case m0:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case t3:n.blendFunc(n.ONE,n.ONE);break;case n3:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case r3:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",Ue);break}else switch(Ue){case m0:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case t3:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case n3:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case r3:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",Ue);break}A=null,E=null,D=null,U=null,L.set(0,0,0),I=0,g=Ue,R=An}return}At=At||Ft,ot=ot||Tt,Ot=Ot||Vt,(Ft!==y||At!==M)&&(n.blendEquationSeparate(he[Ft],he[At]),y=Ft,M=At),(Tt!==A||Vt!==E||ot!==D||Ot!==U)&&(n.blendFuncSeparate(mt[Tt],mt[Vt],mt[ot],mt[Ot]),A=Tt,E=Vt,D=ot,U=Ot),(un.equals(L)===!1||_n!==I)&&(n.blendColor(un.r,un.g,un.b,_n),L.copy(un),I=_n),g=Ue,R=!1}function Je(Ue,Ft){Ue.side===zl?ve(n.CULL_FACE):de(n.CULL_FACE);let Tt=Ue.side===Ra;Ft&&(Tt=!Tt),q(Tt),Ue.blending===m0&&Ue.transparent===!1?ye(uf):ye(Ue.blending,Ue.blendEquation,Ue.blendSrc,Ue.blendDst,Ue.blendEquationAlpha,Ue.blendSrcAlpha,Ue.blendDstAlpha,Ue.blendColor,Ue.blendAlpha,Ue.premultipliedAlpha),a.setFunc(Ue.depthFunc),a.setTest(Ue.depthTest),a.setMask(Ue.depthWrite),s.setMask(Ue.colorWrite);const Vt=Ue.stencilWrite;o.setTest(Vt),Vt&&(o.setMask(Ue.stencilWriteMask),o.setFunc(Ue.stencilFunc,Ue.stencilRef,Ue.stencilFuncMask),o.setOp(Ue.stencilFail,Ue.stencilZFail,Ue.stencilZPass)),Ve(Ue.polygonOffset,Ue.polygonOffsetFactor,Ue.polygonOffsetUnits),Ue.alphaToCoverage===!0?de(n.SAMPLE_ALPHA_TO_COVERAGE):ve(n.SAMPLE_ALPHA_TO_COVERAGE)}function q(Ue){O!==Ue&&(Ue?n.frontFace(n.CW):n.frontFace(n.CCW),O=Ue)}function Re(Ue){Ue!==tX?(de(n.CULL_FACE),Ue!==N&&(Ue===e3?n.cullFace(n.BACK):Ue===nX?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):ve(n.CULL_FACE),N=Ue}function je(Ue){Ue!==k&&(ie&&n.lineWidth(Ue),k=Ue)}function Ve(Ue,Ft,Tt){Ue?(de(n.POLYGON_OFFSET_FILL),(j!==Ft||G!==Tt)&&(n.polygonOffset(Ft,Tt),j=Ft,G=Tt)):ve(n.POLYGON_OFFSET_FILL)}function Ie(Ue){Ue?de(n.SCISSOR_TEST):ve(n.SCISSOR_TEST)}function Ke(Ue){Ue===void 0&&(Ue=n.TEXTURE0+ae-1),X!==Ue&&(n.activeTexture(Ue),X=Ue)}function Et(Ue,Ft,Tt){Tt===void 0&&(X===null?Tt=n.TEXTURE0+ae-1:Tt=X);let Vt=pe[Tt];Vt===void 0&&(Vt={type:void 0,texture:void 0},pe[Tt]=Vt),(Vt.type!==Ue||Vt.texture!==Ft)&&(X!==Tt&&(n.activeTexture(Tt),X=Tt),n.bindTexture(Ue,Ft||ee[Ue]),Vt.type=Ue,Vt.texture=Ft)}function ce(){const Ue=pe[X];Ue!==void 0&&Ue.type!==void 0&&(n.bindTexture(Ue.type,null),Ue.type=void 0,Ue.texture=void 0)}function Y(){try{n.compressedTexImage2D(...arguments)}catch(Ue){console.error("THREE.WebGLState:",Ue)}}function Ne(){try{n.compressedTexImage3D(...arguments)}catch(Ue){console.error("THREE.WebGLState:",Ue)}}function $e(){try{n.texSubImage2D(...arguments)}catch(Ue){console.error("THREE.WebGLState:",Ue)}}function Qe(){try{n.texSubImage3D(...arguments)}catch(Ue){console.error("THREE.WebGLState:",Ue)}}function He(){try{n.compressedTexSubImage2D(...arguments)}catch(Ue){console.error("THREE.WebGLState:",Ue)}}function ht(){try{n.compressedTexSubImage3D(...arguments)}catch(Ue){console.error("THREE.WebGLState:",Ue)}}function Ye(){try{n.texStorage2D(...arguments)}catch(Ue){console.error("THREE.WebGLState:",Ue)}}function Xe(){try{n.texStorage3D(...arguments)}catch(Ue){console.error("THREE.WebGLState:",Ue)}}function wt(){try{n.texImage2D(...arguments)}catch(Ue){console.error("THREE.WebGLState:",Ue)}}function We(){try{n.texImage3D(...arguments)}catch(Ue){console.error("THREE.WebGLState:",Ue)}}function Ct(Ue){W.equals(Ue)===!1&&(n.scissor(Ue.x,Ue.y,Ue.z,Ue.w),W.copy(Ue))}function Pt(Ue){z.equals(Ue)===!1&&(n.viewport(Ue.x,Ue.y,Ue.z,Ue.w),z.copy(Ue))}function Ht(Ue,Ft){let Tt=c.get(Ft);Tt===void 0&&(Tt=new WeakMap,c.set(Ft,Tt));let Vt=Tt.get(Ue);Vt===void 0&&(Vt=n.getUniformBlockIndex(Ft,Ue.name),Tt.set(Ue,Vt))}function It(Ue,Ft){const Vt=c.get(Ft).get(Ue);l.get(Ft)!==Vt&&(n.uniformBlockBinding(Ft,Vt,Ue.__bindingPointIndex),l.set(Ft,Vt))}function Bt(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),a.setReversed(!1),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),f={},X=null,pe={},d={},p=new WeakMap,m=[],_=null,x=!1,g=null,y=null,A=null,E=null,M=null,D=null,U=null,L=new kn(0,0,0),I=0,R=!1,O=null,N=null,k=null,j=null,G=null,W.set(0,0,n.canvas.width,n.canvas.height),z.set(0,0,n.canvas.width,n.canvas.height),s.reset(),a.reset(),o.reset()}return{buffers:{color:s,depth:a,stencil:o},enable:de,disable:ve,bindFramebuffer:we,drawBuffers:Ce,useProgram:lt,setBlending:ye,setMaterial:Je,setFlipSided:q,setCullFace:Re,setLineWidth:je,setPolygonOffset:Ve,setScissorTest:Ie,activeTexture:Ke,bindTexture:Et,unbindTexture:ce,compressedTexImage2D:Y,compressedTexImage3D:Ne,texImage2D:wt,texImage3D:We,updateUBOMapping:Ht,uniformBlockBinding:It,texStorage2D:Ye,texStorage3D:Xe,texSubImage2D:$e,texSubImage3D:Qe,compressedTexSubImage2D:He,compressedTexSubImage3D:ht,scissor:Ct,viewport:Pt,reset:Bt}}function nQ(n,e,t,r,i,s,a){const o=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),c=new dn,f=new WeakMap;let d;const p=new WeakMap;let m=!1;try{m=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function _(ce,Y){return m?new OffscreenCanvas(ce,Y):Ux("canvas")}function x(ce,Y,Ne){let $e=1;const Qe=Et(ce);if((Qe.width>Ne||Qe.height>Ne)&&($e=Ne/Math.max(Qe.width,Qe.height)),$e<1)if(typeof HTMLImageElement<"u"&&ce instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&ce instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&ce instanceof ImageBitmap||typeof VideoFrame<"u"&&ce instanceof VideoFrame){const He=Math.floor($e*Qe.width),ht=Math.floor($e*Qe.height);d===void 0&&(d=_(He,ht));const Ye=Y?_(He,ht):d;return Ye.width=He,Ye.height=ht,Ye.getContext("2d").drawImage(ce,0,0,He,ht),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Qe.width+"x"+Qe.height+") to ("+He+"x"+ht+")."),Ye}else return"data"in ce&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Qe.width+"x"+Qe.height+")."),ce;return ce}function g(ce){return ce.generateMipmaps}function y(ce){n.generateMipmap(ce)}function A(ce){return ce.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:ce.isWebGL3DRenderTarget?n.TEXTURE_3D:ce.isWebGLArrayRenderTarget||ce.isCompressedArrayTexture?n.TEXTURE_2D_ARRAY:n.TEXTURE_2D}function E(ce,Y,Ne,$e,Qe=!1){if(ce!==null){if(n[ce]!==void 0)return n[ce];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+ce+"'")}let He=Y;if(Y===n.RED&&(Ne===n.FLOAT&&(He=n.R32F),Ne===n.HALF_FLOAT&&(He=n.R16F),Ne===n.UNSIGNED_BYTE&&(He=n.R8)),Y===n.RED_INTEGER&&(Ne===n.UNSIGNED_BYTE&&(He=n.R8UI),Ne===n.UNSIGNED_SHORT&&(He=n.R16UI),Ne===n.UNSIGNED_INT&&(He=n.R32UI),Ne===n.BYTE&&(He=n.R8I),Ne===n.SHORT&&(He=n.R16I),Ne===n.INT&&(He=n.R32I)),Y===n.RG&&(Ne===n.FLOAT&&(He=n.RG32F),Ne===n.HALF_FLOAT&&(He=n.RG16F),Ne===n.UNSIGNED_BYTE&&(He=n.RG8)),Y===n.RG_INTEGER&&(Ne===n.UNSIGNED_BYTE&&(He=n.RG8UI),Ne===n.UNSIGNED_SHORT&&(He=n.RG16UI),Ne===n.UNSIGNED_INT&&(He=n.RG32UI),Ne===n.BYTE&&(He=n.RG8I),Ne===n.SHORT&&(He=n.RG16I),Ne===n.INT&&(He=n.RG32I)),Y===n.RGB_INTEGER&&(Ne===n.UNSIGNED_BYTE&&(He=n.RGB8UI),Ne===n.UNSIGNED_SHORT&&(He=n.RGB16UI),Ne===n.UNSIGNED_INT&&(He=n.RGB32UI),Ne===n.BYTE&&(He=n.RGB8I),Ne===n.SHORT&&(He=n.RGB16I),Ne===n.INT&&(He=n.RGB32I)),Y===n.RGBA_INTEGER&&(Ne===n.UNSIGNED_BYTE&&(He=n.RGBA8UI),Ne===n.UNSIGNED_SHORT&&(He=n.RGBA16UI),Ne===n.UNSIGNED_INT&&(He=n.RGBA32UI),Ne===n.BYTE&&(He=n.RGBA8I),Ne===n.SHORT&&(He=n.RGBA16I),Ne===n.INT&&(He=n.RGBA32I)),Y===n.RGB&&Ne===n.UNSIGNED_INT_5_9_9_9_REV&&(He=n.RGB9_E5),Y===n.RGBA){const ht=Qe?Ix:ar.getTransfer($e);Ne===n.FLOAT&&(He=n.RGBA32F),Ne===n.HALF_FLOAT&&(He=n.RGBA16F),Ne===n.UNSIGNED_BYTE&&(He=ht===Ar?n.SRGB8_ALPHA8:n.RGBA8),Ne===n.UNSIGNED_SHORT_4_4_4_4&&(He=n.RGBA4),Ne===n.UNSIGNED_SHORT_5_5_5_1&&(He=n.RGB5_A1)}return(He===n.R16F||He===n.R32F||He===n.RG16F||He===n.RG32F||He===n.RGBA16F||He===n.RGBA32F)&&e.get("EXT_color_buffer_float"),He}function M(ce,Y){let Ne;return ce?Y===null||Y===Bh||Y===bm?Ne=n.DEPTH24_STENCIL8:Y===jc?Ne=n.DEPTH32F_STENCIL8:Y===wm&&(Ne=n.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):Y===null||Y===Bh||Y===bm?Ne=n.DEPTH_COMPONENT24:Y===jc?Ne=n.DEPTH_COMPONENT32F:Y===wm&&(Ne=n.DEPTH_COMPONENT16),Ne}function D(ce,Y){return g(ce)===!0||ce.isFramebufferTexture&&ce.minFilter!==cl&&ce.minFilter!==Vl?Math.log2(Math.max(Y.width,Y.height))+1:ce.mipmaps!==void 0&&ce.mipmaps.length>0?ce.mipmaps.length:ce.isCompressedTexture&&Array.isArray(ce.image)?Y.mipmaps.length:1}function U(ce){const Y=ce.target;Y.removeEventListener("dispose",U),I(Y),Y.isVideoTexture&&f.delete(Y)}function L(ce){const Y=ce.target;Y.removeEventListener("dispose",L),O(Y)}function I(ce){const Y=r.get(ce);if(Y.__webglInit===void 0)return;const Ne=ce.source,$e=p.get(Ne);if($e){const Qe=$e[Y.__cacheKey];Qe.usedTimes--,Qe.usedTimes===0&&R(ce),Object.keys($e).length===0&&p.delete(Ne)}r.remove(ce)}function R(ce){const Y=r.get(ce);n.deleteTexture(Y.__webglTexture);const Ne=ce.source,$e=p.get(Ne);delete $e[Y.__cacheKey],a.memory.textures--}function O(ce){const Y=r.get(ce);if(ce.depthTexture&&(ce.depthTexture.dispose(),r.remove(ce.depthTexture)),ce.isWebGLCubeRenderTarget)for(let $e=0;$e<6;$e++){if(Array.isArray(Y.__webglFramebuffer[$e]))for(let Qe=0;Qe<Y.__webglFramebuffer[$e].length;Qe++)n.deleteFramebuffer(Y.__webglFramebuffer[$e][Qe]);else n.deleteFramebuffer(Y.__webglFramebuffer[$e]);Y.__webglDepthbuffer&&n.deleteRenderbuffer(Y.__webglDepthbuffer[$e])}else{if(Array.isArray(Y.__webglFramebuffer))for(let $e=0;$e<Y.__webglFramebuffer.length;$e++)n.deleteFramebuffer(Y.__webglFramebuffer[$e]);else n.deleteFramebuffer(Y.__webglFramebuffer);if(Y.__webglDepthbuffer&&n.deleteRenderbuffer(Y.__webglDepthbuffer),Y.__webglMultisampledFramebuffer&&n.deleteFramebuffer(Y.__webglMultisampledFramebuffer),Y.__webglColorRenderbuffer)for(let $e=0;$e<Y.__webglColorRenderbuffer.length;$e++)Y.__webglColorRenderbuffer[$e]&&n.deleteRenderbuffer(Y.__webglColorRenderbuffer[$e]);Y.__webglDepthRenderbuffer&&n.deleteRenderbuffer(Y.__webglDepthRenderbuffer)}const Ne=ce.textures;for(let $e=0,Qe=Ne.length;$e<Qe;$e++){const He=r.get(Ne[$e]);He.__webglTexture&&(n.deleteTexture(He.__webglTexture),a.memory.textures--),r.remove(Ne[$e])}r.remove(ce)}let N=0;function k(){N=0}function j(){const ce=N;return ce>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+ce+" texture units while this GPU supports only "+i.maxTextures),N+=1,ce}function G(ce){const Y=[];return Y.push(ce.wrapS),Y.push(ce.wrapT),Y.push(ce.wrapR||0),Y.push(ce.magFilter),Y.push(ce.minFilter),Y.push(ce.anisotropy),Y.push(ce.internalFormat),Y.push(ce.format),Y.push(ce.type),Y.push(ce.generateMipmaps),Y.push(ce.premultiplyAlpha),Y.push(ce.flipY),Y.push(ce.unpackAlignment),Y.push(ce.colorSpace),Y.join()}function ae(ce,Y){const Ne=r.get(ce);if(ce.isVideoTexture&&Ie(ce),ce.isRenderTargetTexture===!1&&ce.version>0&&Ne.__version!==ce.version){const $e=ce.image;if($e===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if($e.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ee(Ne,ce,Y);return}}t.bindTexture(n.TEXTURE_2D,Ne.__webglTexture,n.TEXTURE0+Y)}function ie(ce,Y){const Ne=r.get(ce);if(ce.version>0&&Ne.__version!==ce.version){ee(Ne,ce,Y);return}t.bindTexture(n.TEXTURE_2D_ARRAY,Ne.__webglTexture,n.TEXTURE0+Y)}function ue(ce,Y){const Ne=r.get(ce);if(ce.version>0&&Ne.__version!==ce.version){ee(Ne,ce,Y);return}t.bindTexture(n.TEXTURE_3D,Ne.__webglTexture,n.TEXTURE0+Y)}function J(ce,Y){const Ne=r.get(ce);if(ce.version>0&&Ne.__version!==ce.version){de(Ne,ce,Y);return}t.bindTexture(n.TEXTURE_CUBE_MAP,Ne.__webglTexture,n.TEXTURE0+Y)}const X={[rw]:n.REPEAT,[Sh]:n.CLAMP_TO_EDGE,[iw]:n.MIRRORED_REPEAT},pe={[cl]:n.NEAREST,[RX]:n.NEAREST_MIPMAP_NEAREST,[$g]:n.NEAREST_MIPMAP_LINEAR,[Vl]:n.LINEAR,[c_]:n.LINEAR_MIPMAP_NEAREST,[Eh]:n.LINEAR_MIPMAP_LINEAR},oe={[DX]:n.NEVER,[HX]:n.ALWAYS,[IX]:n.LESS,[_k]:n.LEQUAL,[OX]:n.EQUAL,[zX]:n.GEQUAL,[UX]:n.GREATER,[BX]:n.NOTEQUAL};function C(ce,Y){if(Y.type===jc&&e.has("OES_texture_float_linear")===!1&&(Y.magFilter===Vl||Y.magFilter===c_||Y.magFilter===$g||Y.magFilter===Eh||Y.minFilter===Vl||Y.minFilter===c_||Y.minFilter===$g||Y.minFilter===Eh)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),n.texParameteri(ce,n.TEXTURE_WRAP_S,X[Y.wrapS]),n.texParameteri(ce,n.TEXTURE_WRAP_T,X[Y.wrapT]),(ce===n.TEXTURE_3D||ce===n.TEXTURE_2D_ARRAY)&&n.texParameteri(ce,n.TEXTURE_WRAP_R,X[Y.wrapR]),n.texParameteri(ce,n.TEXTURE_MAG_FILTER,pe[Y.magFilter]),n.texParameteri(ce,n.TEXTURE_MIN_FILTER,pe[Y.minFilter]),Y.compareFunction&&(n.texParameteri(ce,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(ce,n.TEXTURE_COMPARE_FUNC,oe[Y.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(Y.magFilter===cl||Y.minFilter!==$g&&Y.minFilter!==Eh||Y.type===jc&&e.has("OES_texture_float_linear")===!1)return;if(Y.anisotropy>1||r.get(Y).__currentAnisotropy){const Ne=e.get("EXT_texture_filter_anisotropic");n.texParameterf(ce,Ne.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(Y.anisotropy,i.getMaxAnisotropy())),r.get(Y).__currentAnisotropy=Y.anisotropy}}}function W(ce,Y){let Ne=!1;ce.__webglInit===void 0&&(ce.__webglInit=!0,Y.addEventListener("dispose",U));const $e=Y.source;let Qe=p.get($e);Qe===void 0&&(Qe={},p.set($e,Qe));const He=G(Y);if(He!==ce.__cacheKey){Qe[He]===void 0&&(Qe[He]={texture:n.createTexture(),usedTimes:0},a.memory.textures++,Ne=!0),Qe[He].usedTimes++;const ht=Qe[ce.__cacheKey];ht!==void 0&&(Qe[ce.__cacheKey].usedTimes--,ht.usedTimes===0&&R(Y)),ce.__cacheKey=He,ce.__webglTexture=Qe[He].texture}return Ne}function z(ce,Y,Ne){return Math.floor(Math.floor(ce/Ne)/Y)}function V(ce,Y,Ne,$e){const He=ce.updateRanges;if(He.length===0)t.texSubImage2D(n.TEXTURE_2D,0,0,0,Y.width,Y.height,Ne,$e,Y.data);else{He.sort((We,Ct)=>We.start-Ct.start);let ht=0;for(let We=1;We<He.length;We++){const Ct=He[ht],Pt=He[We],Ht=Ct.start+Ct.count,It=z(Pt.start,Y.width,4),Bt=z(Ct.start,Y.width,4);Pt.start<=Ht+1&&It===Bt&&z(Pt.start+Pt.count-1,Y.width,4)===It?Ct.count=Math.max(Ct.count,Pt.start+Pt.count-Ct.start):(++ht,He[ht]=Pt)}He.length=ht+1;const Ye=n.getParameter(n.UNPACK_ROW_LENGTH),Xe=n.getParameter(n.UNPACK_SKIP_PIXELS),wt=n.getParameter(n.UNPACK_SKIP_ROWS);n.pixelStorei(n.UNPACK_ROW_LENGTH,Y.width);for(let We=0,Ct=He.length;We<Ct;We++){const Pt=He[We],Ht=Math.floor(Pt.start/4),It=Math.ceil(Pt.count/4),Bt=Ht%Y.width,Ue=Math.floor(Ht/Y.width),Ft=It,Tt=1;n.pixelStorei(n.UNPACK_SKIP_PIXELS,Bt),n.pixelStorei(n.UNPACK_SKIP_ROWS,Ue),t.texSubImage2D(n.TEXTURE_2D,0,Bt,Ue,Ft,Tt,Ne,$e,Y.data)}ce.clearUpdateRanges(),n.pixelStorei(n.UNPACK_ROW_LENGTH,Ye),n.pixelStorei(n.UNPACK_SKIP_PIXELS,Xe),n.pixelStorei(n.UNPACK_SKIP_ROWS,wt)}}function ee(ce,Y,Ne){let $e=n.TEXTURE_2D;(Y.isDataArrayTexture||Y.isCompressedArrayTexture)&&($e=n.TEXTURE_2D_ARRAY),Y.isData3DTexture&&($e=n.TEXTURE_3D);const Qe=W(ce,Y),He=Y.source;t.bindTexture($e,ce.__webglTexture,n.TEXTURE0+Ne);const ht=r.get(He);if(He.version!==ht.__version||Qe===!0){t.activeTexture(n.TEXTURE0+Ne);const Ye=ar.getPrimaries(ar.workingColorSpace),Xe=Y.colorSpace===Yu?null:ar.getPrimaries(Y.colorSpace),wt=Y.colorSpace===Yu||Ye===Xe?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,Y.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Y.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,Y.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,wt);let We=x(Y.image,!1,i.maxTextureSize);We=Ke(Y,We);const Ct=s.convert(Y.format,Y.colorSpace),Pt=s.convert(Y.type);let Ht=E(Y.internalFormat,Ct,Pt,Y.colorSpace,Y.isVideoTexture);C($e,Y);let It;const Bt=Y.mipmaps,Ue=Y.isVideoTexture!==!0,Ft=ht.__version===void 0||Qe===!0,Tt=He.dataReady,Vt=D(Y,We);if(Y.isDepthTexture)Ht=M(Y.format===Em,Y.type),Ft&&(Ue?t.texStorage2D(n.TEXTURE_2D,1,Ht,We.width,We.height):t.texImage2D(n.TEXTURE_2D,0,Ht,We.width,We.height,0,Ct,Pt,null));else if(Y.isDataTexture)if(Bt.length>0){Ue&&Ft&&t.texStorage2D(n.TEXTURE_2D,Vt,Ht,Bt[0].width,Bt[0].height);for(let At=0,ot=Bt.length;At<ot;At++)It=Bt[At],Ue?Tt&&t.texSubImage2D(n.TEXTURE_2D,At,0,0,It.width,It.height,Ct,Pt,It.data):t.texImage2D(n.TEXTURE_2D,At,Ht,It.width,It.height,0,Ct,Pt,It.data);Y.generateMipmaps=!1}else Ue?(Ft&&t.texStorage2D(n.TEXTURE_2D,Vt,Ht,We.width,We.height),Tt&&V(Y,We,Ct,Pt)):t.texImage2D(n.TEXTURE_2D,0,Ht,We.width,We.height,0,Ct,Pt,We.data);else if(Y.isCompressedTexture)if(Y.isCompressedArrayTexture){Ue&&Ft&&t.texStorage3D(n.TEXTURE_2D_ARRAY,Vt,Ht,Bt[0].width,Bt[0].height,We.depth);for(let At=0,ot=Bt.length;At<ot;At++)if(It=Bt[At],Y.format!==al)if(Ct!==null)if(Ue){if(Tt)if(Y.layerUpdates.size>0){const Ot=L3(It.width,It.height,Y.format,Y.type);for(const un of Y.layerUpdates){const _n=It.data.subarray(un*Ot/It.data.BYTES_PER_ELEMENT,(un+1)*Ot/It.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,At,0,0,un,It.width,It.height,1,Ct,_n)}Y.clearLayerUpdates()}else t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,At,0,0,0,It.width,It.height,We.depth,Ct,It.data)}else t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,At,Ht,It.width,It.height,We.depth,0,It.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else Ue?Tt&&t.texSubImage3D(n.TEXTURE_2D_ARRAY,At,0,0,0,It.width,It.height,We.depth,Ct,Pt,It.data):t.texImage3D(n.TEXTURE_2D_ARRAY,At,Ht,It.width,It.height,We.depth,0,Ct,Pt,It.data)}else{Ue&&Ft&&t.texStorage2D(n.TEXTURE_2D,Vt,Ht,Bt[0].width,Bt[0].height);for(let At=0,ot=Bt.length;At<ot;At++)It=Bt[At],Y.format!==al?Ct!==null?Ue?Tt&&t.compressedTexSubImage2D(n.TEXTURE_2D,At,0,0,It.width,It.height,Ct,It.data):t.compressedTexImage2D(n.TEXTURE_2D,At,Ht,It.width,It.height,0,It.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ue?Tt&&t.texSubImage2D(n.TEXTURE_2D,At,0,0,It.width,It.height,Ct,Pt,It.data):t.texImage2D(n.TEXTURE_2D,At,Ht,It.width,It.height,0,Ct,Pt,It.data)}else if(Y.isDataArrayTexture)if(Ue){if(Ft&&t.texStorage3D(n.TEXTURE_2D_ARRAY,Vt,Ht,We.width,We.height,We.depth),Tt)if(Y.layerUpdates.size>0){const At=L3(We.width,We.height,Y.format,Y.type);for(const ot of Y.layerUpdates){const Ot=We.data.subarray(ot*At/We.data.BYTES_PER_ELEMENT,(ot+1)*At/We.data.BYTES_PER_ELEMENT);t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,ot,We.width,We.height,1,Ct,Pt,Ot)}Y.clearLayerUpdates()}else t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,We.width,We.height,We.depth,Ct,Pt,We.data)}else t.texImage3D(n.TEXTURE_2D_ARRAY,0,Ht,We.width,We.height,We.depth,0,Ct,Pt,We.data);else if(Y.isData3DTexture)Ue?(Ft&&t.texStorage3D(n.TEXTURE_3D,Vt,Ht,We.width,We.height,We.depth),Tt&&t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,We.width,We.height,We.depth,Ct,Pt,We.data)):t.texImage3D(n.TEXTURE_3D,0,Ht,We.width,We.height,We.depth,0,Ct,Pt,We.data);else if(Y.isFramebufferTexture){if(Ft)if(Ue)t.texStorage2D(n.TEXTURE_2D,Vt,Ht,We.width,We.height);else{let At=We.width,ot=We.height;for(let Ot=0;Ot<Vt;Ot++)t.texImage2D(n.TEXTURE_2D,Ot,Ht,At,ot,0,Ct,Pt,null),At>>=1,ot>>=1}}else if(Bt.length>0){if(Ue&&Ft){const At=Et(Bt[0]);t.texStorage2D(n.TEXTURE_2D,Vt,Ht,At.width,At.height)}for(let At=0,ot=Bt.length;At<ot;At++)It=Bt[At],Ue?Tt&&t.texSubImage2D(n.TEXTURE_2D,At,0,0,Ct,Pt,It):t.texImage2D(n.TEXTURE_2D,At,Ht,Ct,Pt,It);Y.generateMipmaps=!1}else if(Ue){if(Ft){const At=Et(We);t.texStorage2D(n.TEXTURE_2D,Vt,Ht,At.width,At.height)}Tt&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,Ct,Pt,We)}else t.texImage2D(n.TEXTURE_2D,0,Ht,Ct,Pt,We);g(Y)&&y($e),ht.__version=He.version,Y.onUpdate&&Y.onUpdate(Y)}ce.__version=Y.version}function de(ce,Y,Ne){if(Y.image.length!==6)return;const $e=W(ce,Y),Qe=Y.source;t.bindTexture(n.TEXTURE_CUBE_MAP,ce.__webglTexture,n.TEXTURE0+Ne);const He=r.get(Qe);if(Qe.version!==He.__version||$e===!0){t.activeTexture(n.TEXTURE0+Ne);const ht=ar.getPrimaries(ar.workingColorSpace),Ye=Y.colorSpace===Yu?null:ar.getPrimaries(Y.colorSpace),Xe=Y.colorSpace===Yu||ht===Ye?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,Y.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Y.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,Y.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Xe);const wt=Y.isCompressedTexture||Y.image[0].isCompressedTexture,We=Y.image[0]&&Y.image[0].isDataTexture,Ct=[];for(let ot=0;ot<6;ot++)!wt&&!We?Ct[ot]=x(Y.image[ot],!0,i.maxCubemapSize):Ct[ot]=We?Y.image[ot].image:Y.image[ot],Ct[ot]=Ke(Y,Ct[ot]);const Pt=Ct[0],Ht=s.convert(Y.format,Y.colorSpace),It=s.convert(Y.type),Bt=E(Y.internalFormat,Ht,It,Y.colorSpace),Ue=Y.isVideoTexture!==!0,Ft=He.__version===void 0||$e===!0,Tt=Qe.dataReady;let Vt=D(Y,Pt);C(n.TEXTURE_CUBE_MAP,Y);let At;if(wt){Ue&&Ft&&t.texStorage2D(n.TEXTURE_CUBE_MAP,Vt,Bt,Pt.width,Pt.height);for(let ot=0;ot<6;ot++){At=Ct[ot].mipmaps;for(let Ot=0;Ot<At.length;Ot++){const un=At[Ot];Y.format!==al?Ht!==null?Ue?Tt&&t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ot,Ot,0,0,un.width,un.height,Ht,un.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ot,Ot,Bt,un.width,un.height,0,un.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Ue?Tt&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ot,Ot,0,0,un.width,un.height,Ht,It,un.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ot,Ot,Bt,un.width,un.height,0,Ht,It,un.data)}}}else{if(At=Y.mipmaps,Ue&&Ft){At.length>0&&Vt++;const ot=Et(Ct[0]);t.texStorage2D(n.TEXTURE_CUBE_MAP,Vt,Bt,ot.width,ot.height)}for(let ot=0;ot<6;ot++)if(We){Ue?Tt&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ot,0,0,0,Ct[ot].width,Ct[ot].height,Ht,It,Ct[ot].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ot,0,Bt,Ct[ot].width,Ct[ot].height,0,Ht,It,Ct[ot].data);for(let Ot=0;Ot<At.length;Ot++){const _n=At[Ot].image[ot].image;Ue?Tt&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ot,Ot+1,0,0,_n.width,_n.height,Ht,It,_n.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ot,Ot+1,Bt,_n.width,_n.height,0,Ht,It,_n.data)}}else{Ue?Tt&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ot,0,0,0,Ht,It,Ct[ot]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ot,0,Bt,Ht,It,Ct[ot]);for(let Ot=0;Ot<At.length;Ot++){const un=At[Ot];Ue?Tt&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ot,Ot+1,0,0,Ht,It,un.image[ot]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ot,Ot+1,Bt,Ht,It,un.image[ot])}}}g(Y)&&y(n.TEXTURE_CUBE_MAP),He.__version=Qe.version,Y.onUpdate&&Y.onUpdate(Y)}ce.__version=Y.version}function ve(ce,Y,Ne,$e,Qe,He){const ht=s.convert(Ne.format,Ne.colorSpace),Ye=s.convert(Ne.type),Xe=E(Ne.internalFormat,ht,Ye,Ne.colorSpace),wt=r.get(Y),We=r.get(Ne);if(We.__renderTarget=Y,!wt.__hasExternalTextures){const Ct=Math.max(1,Y.width>>He),Pt=Math.max(1,Y.height>>He);Qe===n.TEXTURE_3D||Qe===n.TEXTURE_2D_ARRAY?t.texImage3D(Qe,He,Xe,Ct,Pt,Y.depth,0,ht,Ye,null):t.texImage2D(Qe,He,Xe,Ct,Pt,0,ht,Ye,null)}t.bindFramebuffer(n.FRAMEBUFFER,ce),Ve(Y)?o.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,$e,Qe,We.__webglTexture,0,je(Y)):(Qe===n.TEXTURE_2D||Qe>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&Qe<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,$e,Qe,We.__webglTexture,He),t.bindFramebuffer(n.FRAMEBUFFER,null)}function we(ce,Y,Ne){if(n.bindRenderbuffer(n.RENDERBUFFER,ce),Y.depthBuffer){const $e=Y.depthTexture,Qe=$e&&$e.isDepthTexture?$e.type:null,He=M(Y.stencilBuffer,Qe),ht=Y.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Ye=je(Y);Ve(Y)?o.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Ye,He,Y.width,Y.height):Ne?n.renderbufferStorageMultisample(n.RENDERBUFFER,Ye,He,Y.width,Y.height):n.renderbufferStorage(n.RENDERBUFFER,He,Y.width,Y.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,ht,n.RENDERBUFFER,ce)}else{const $e=Y.textures;for(let Qe=0;Qe<$e.length;Qe++){const He=$e[Qe],ht=s.convert(He.format,He.colorSpace),Ye=s.convert(He.type),Xe=E(He.internalFormat,ht,Ye,He.colorSpace),wt=je(Y);Ne&&Ve(Y)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,wt,Xe,Y.width,Y.height):Ve(Y)?o.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,wt,Xe,Y.width,Y.height):n.renderbufferStorage(n.RENDERBUFFER,Xe,Y.width,Y.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function Ce(ce,Y){if(Y&&Y.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,ce),!(Y.depthTexture&&Y.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const $e=r.get(Y.depthTexture);$e.__renderTarget=Y,(!$e.__webglTexture||Y.depthTexture.image.width!==Y.width||Y.depthTexture.image.height!==Y.height)&&(Y.depthTexture.image.width=Y.width,Y.depthTexture.image.height=Y.height,Y.depthTexture.needsUpdate=!0),ae(Y.depthTexture,0);const Qe=$e.__webglTexture,He=je(Y);if(Y.depthTexture.format===Sm)Ve(Y)?o.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Qe,0,He):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Qe,0);else if(Y.depthTexture.format===Em)Ve(Y)?o.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Qe,0,He):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Qe,0);else throw new Error("Unknown depthTexture format")}function lt(ce){const Y=r.get(ce),Ne=ce.isWebGLCubeRenderTarget===!0;if(Y.__boundDepthTexture!==ce.depthTexture){const $e=ce.depthTexture;if(Y.__depthDisposeCallback&&Y.__depthDisposeCallback(),$e){const Qe=()=>{delete Y.__boundDepthTexture,delete Y.__depthDisposeCallback,$e.removeEventListener("dispose",Qe)};$e.addEventListener("dispose",Qe),Y.__depthDisposeCallback=Qe}Y.__boundDepthTexture=$e}if(ce.depthTexture&&!Y.__autoAllocateDepthBuffer){if(Ne)throw new Error("target.depthTexture not supported in Cube render targets");const $e=ce.texture.mipmaps;$e&&$e.length>0?Ce(Y.__webglFramebuffer[0],ce):Ce(Y.__webglFramebuffer,ce)}else if(Ne){Y.__webglDepthbuffer=[];for(let $e=0;$e<6;$e++)if(t.bindFramebuffer(n.FRAMEBUFFER,Y.__webglFramebuffer[$e]),Y.__webglDepthbuffer[$e]===void 0)Y.__webglDepthbuffer[$e]=n.createRenderbuffer(),we(Y.__webglDepthbuffer[$e],ce,!1);else{const Qe=ce.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,He=Y.__webglDepthbuffer[$e];n.bindRenderbuffer(n.RENDERBUFFER,He),n.framebufferRenderbuffer(n.FRAMEBUFFER,Qe,n.RENDERBUFFER,He)}}else{const $e=ce.texture.mipmaps;if($e&&$e.length>0?t.bindFramebuffer(n.FRAMEBUFFER,Y.__webglFramebuffer[0]):t.bindFramebuffer(n.FRAMEBUFFER,Y.__webglFramebuffer),Y.__webglDepthbuffer===void 0)Y.__webglDepthbuffer=n.createRenderbuffer(),we(Y.__webglDepthbuffer,ce,!1);else{const Qe=ce.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,He=Y.__webglDepthbuffer;n.bindRenderbuffer(n.RENDERBUFFER,He),n.framebufferRenderbuffer(n.FRAMEBUFFER,Qe,n.RENDERBUFFER,He)}}t.bindFramebuffer(n.FRAMEBUFFER,null)}function he(ce,Y,Ne){const $e=r.get(ce);Y!==void 0&&ve($e.__webglFramebuffer,ce,ce.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),Ne!==void 0&&lt(ce)}function mt(ce){const Y=ce.texture,Ne=r.get(ce),$e=r.get(Y);ce.addEventListener("dispose",L);const Qe=ce.textures,He=ce.isWebGLCubeRenderTarget===!0,ht=Qe.length>1;if(ht||($e.__webglTexture===void 0&&($e.__webglTexture=n.createTexture()),$e.__version=Y.version,a.memory.textures++),He){Ne.__webglFramebuffer=[];for(let Ye=0;Ye<6;Ye++)if(Y.mipmaps&&Y.mipmaps.length>0){Ne.__webglFramebuffer[Ye]=[];for(let Xe=0;Xe<Y.mipmaps.length;Xe++)Ne.__webglFramebuffer[Ye][Xe]=n.createFramebuffer()}else Ne.__webglFramebuffer[Ye]=n.createFramebuffer()}else{if(Y.mipmaps&&Y.mipmaps.length>0){Ne.__webglFramebuffer=[];for(let Ye=0;Ye<Y.mipmaps.length;Ye++)Ne.__webglFramebuffer[Ye]=n.createFramebuffer()}else Ne.__webglFramebuffer=n.createFramebuffer();if(ht)for(let Ye=0,Xe=Qe.length;Ye<Xe;Ye++){const wt=r.get(Qe[Ye]);wt.__webglTexture===void 0&&(wt.__webglTexture=n.createTexture(),a.memory.textures++)}if(ce.samples>0&&Ve(ce)===!1){Ne.__webglMultisampledFramebuffer=n.createFramebuffer(),Ne.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,Ne.__webglMultisampledFramebuffer);for(let Ye=0;Ye<Qe.length;Ye++){const Xe=Qe[Ye];Ne.__webglColorRenderbuffer[Ye]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,Ne.__webglColorRenderbuffer[Ye]);const wt=s.convert(Xe.format,Xe.colorSpace),We=s.convert(Xe.type),Ct=E(Xe.internalFormat,wt,We,Xe.colorSpace,ce.isXRRenderTarget===!0),Pt=je(ce);n.renderbufferStorageMultisample(n.RENDERBUFFER,Pt,Ct,ce.width,ce.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ye,n.RENDERBUFFER,Ne.__webglColorRenderbuffer[Ye])}n.bindRenderbuffer(n.RENDERBUFFER,null),ce.depthBuffer&&(Ne.__webglDepthRenderbuffer=n.createRenderbuffer(),we(Ne.__webglDepthRenderbuffer,ce,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(He){t.bindTexture(n.TEXTURE_CUBE_MAP,$e.__webglTexture),C(n.TEXTURE_CUBE_MAP,Y);for(let Ye=0;Ye<6;Ye++)if(Y.mipmaps&&Y.mipmaps.length>0)for(let Xe=0;Xe<Y.mipmaps.length;Xe++)ve(Ne.__webglFramebuffer[Ye][Xe],ce,Y,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Ye,Xe);else ve(Ne.__webglFramebuffer[Ye],ce,Y,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Ye,0);g(Y)&&y(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(ht){for(let Ye=0,Xe=Qe.length;Ye<Xe;Ye++){const wt=Qe[Ye],We=r.get(wt);t.bindTexture(n.TEXTURE_2D,We.__webglTexture),C(n.TEXTURE_2D,wt),ve(Ne.__webglFramebuffer,ce,wt,n.COLOR_ATTACHMENT0+Ye,n.TEXTURE_2D,0),g(wt)&&y(n.TEXTURE_2D)}t.unbindTexture()}else{let Ye=n.TEXTURE_2D;if((ce.isWebGL3DRenderTarget||ce.isWebGLArrayRenderTarget)&&(Ye=ce.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(Ye,$e.__webglTexture),C(Ye,Y),Y.mipmaps&&Y.mipmaps.length>0)for(let Xe=0;Xe<Y.mipmaps.length;Xe++)ve(Ne.__webglFramebuffer[Xe],ce,Y,n.COLOR_ATTACHMENT0,Ye,Xe);else ve(Ne.__webglFramebuffer,ce,Y,n.COLOR_ATTACHMENT0,Ye,0);g(Y)&&y(Ye),t.unbindTexture()}ce.depthBuffer&&lt(ce)}function ye(ce){const Y=ce.textures;for(let Ne=0,$e=Y.length;Ne<$e;Ne++){const Qe=Y[Ne];if(g(Qe)){const He=A(ce),ht=r.get(Qe).__webglTexture;t.bindTexture(He,ht),y(He),t.unbindTexture()}}}const Je=[],q=[];function Re(ce){if(ce.samples>0){if(Ve(ce)===!1){const Y=ce.textures,Ne=ce.width,$e=ce.height;let Qe=n.COLOR_BUFFER_BIT;const He=ce.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,ht=r.get(ce),Ye=Y.length>1;if(Ye)for(let wt=0;wt<Y.length;wt++)t.bindFramebuffer(n.FRAMEBUFFER,ht.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+wt,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,ht.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+wt,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,ht.__webglMultisampledFramebuffer);const Xe=ce.texture.mipmaps;Xe&&Xe.length>0?t.bindFramebuffer(n.DRAW_FRAMEBUFFER,ht.__webglFramebuffer[0]):t.bindFramebuffer(n.DRAW_FRAMEBUFFER,ht.__webglFramebuffer);for(let wt=0;wt<Y.length;wt++){if(ce.resolveDepthBuffer&&(ce.depthBuffer&&(Qe|=n.DEPTH_BUFFER_BIT),ce.stencilBuffer&&ce.resolveStencilBuffer&&(Qe|=n.STENCIL_BUFFER_BIT)),Ye){n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,ht.__webglColorRenderbuffer[wt]);const We=r.get(Y[wt]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,We,0)}n.blitFramebuffer(0,0,Ne,$e,0,0,Ne,$e,Qe,n.NEAREST),l===!0&&(Je.length=0,q.length=0,Je.push(n.COLOR_ATTACHMENT0+wt),ce.depthBuffer&&ce.resolveDepthBuffer===!1&&(Je.push(He),q.push(He),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,q)),n.invalidateFramebuffer(n.READ_FRAMEBUFFER,Je))}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),Ye)for(let wt=0;wt<Y.length;wt++){t.bindFramebuffer(n.FRAMEBUFFER,ht.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+wt,n.RENDERBUFFER,ht.__webglColorRenderbuffer[wt]);const We=r.get(Y[wt]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,ht.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+wt,n.TEXTURE_2D,We,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,ht.__webglMultisampledFramebuffer)}else if(ce.depthBuffer&&ce.resolveDepthBuffer===!1&&l){const Y=ce.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[Y])}}}function je(ce){return Math.min(i.maxSamples,ce.samples)}function Ve(ce){const Y=r.get(ce);return ce.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&Y.__useRenderToTexture!==!1}function Ie(ce){const Y=a.render.frame;f.get(ce)!==Y&&(f.set(ce,Y),ce.update())}function Ke(ce,Y){const Ne=ce.colorSpace,$e=ce.format,Qe=ce.type;return ce.isCompressedTexture===!0||ce.isVideoTexture===!0||Ne!==P0&&Ne!==Yu&&(ar.getTransfer(Ne)===Ar?($e!==al||Qe!==$l)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",Ne)),Y}function Et(ce){return typeof HTMLImageElement<"u"&&ce instanceof HTMLImageElement?(c.width=ce.naturalWidth||ce.width,c.height=ce.naturalHeight||ce.height):typeof VideoFrame<"u"&&ce instanceof VideoFrame?(c.width=ce.displayWidth,c.height=ce.displayHeight):(c.width=ce.width,c.height=ce.height),c}this.allocateTextureUnit=j,this.resetTextureUnits=k,this.setTexture2D=ae,this.setTexture2DArray=ie,this.setTexture3D=ue,this.setTextureCube=J,this.rebindTextures=he,this.setupRenderTarget=mt,this.updateRenderTargetMipmap=ye,this.updateMultisampleRenderTarget=Re,this.setupDepthRenderbuffer=lt,this.setupFrameBufferTexture=ve,this.useMultisampledRTT=Ve}function rQ(n,e){function t(r,i=Yu){let s;const a=ar.getTransfer(i);if(r===$l)return n.UNSIGNED_BYTE;if(r===qb)return n.UNSIGNED_SHORT_4_4_4_4;if(r===Xb)return n.UNSIGNED_SHORT_5_5_5_1;if(r===hk)return n.UNSIGNED_INT_5_9_9_9_REV;if(r===uk)return n.BYTE;if(r===fk)return n.SHORT;if(r===wm)return n.UNSIGNED_SHORT;if(r===Gb)return n.INT;if(r===Bh)return n.UNSIGNED_INT;if(r===jc)return n.FLOAT;if(r===Om)return n.HALF_FLOAT;if(r===dk)return n.ALPHA;if(r===pk)return n.RGB;if(r===al)return n.RGBA;if(r===Sm)return n.DEPTH_COMPONENT;if(r===Em)return n.DEPTH_STENCIL;if(r===mk)return n.RED;if(r===$b)return n.RED_INTEGER;if(r===gk)return n.RG;if(r===Yb)return n.RG_INTEGER;if(r===Kb)return n.RGBA_INTEGER;if(r===Z1||r===Q1||r===ex||r===tx)if(a===Ar)if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(r===Z1)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===Q1)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===ex)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===tx)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(r===Z1)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===Q1)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===ex)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===tx)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===sw||r===aw||r===ow||r===lw)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(r===sw)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===aw)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===ow)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===lw)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===cw||r===uw||r===fw)if(s=e.get("WEBGL_compressed_texture_etc"),s!==null){if(r===cw||r===uw)return a===Ar?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(r===fw)return a===Ar?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(r===hw||r===dw||r===pw||r===mw||r===gw||r===xw||r===vw||r===_w||r===yw||r===ww||r===bw||r===Sw||r===Ew||r===Aw)if(s=e.get("WEBGL_compressed_texture_astc"),s!==null){if(r===hw)return a===Ar?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===dw)return a===Ar?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===pw)return a===Ar?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===mw)return a===Ar?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===gw)return a===Ar?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===xw)return a===Ar?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===vw)return a===Ar?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===_w)return a===Ar?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===yw)return a===Ar?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===ww)return a===Ar?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===bw)return a===Ar?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===Sw)return a===Ar?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===Ew)return a===Ar?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===Aw)return a===Ar?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(r===nx||r===Tw||r===Mw)if(s=e.get("EXT_texture_compression_bptc"),s!==null){if(r===nx)return a===Ar?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(r===Tw)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(r===Mw)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(r===xk||r===Cw||r===Pw||r===kw)if(s=e.get("EXT_texture_compression_rgtc"),s!==null){if(r===nx)return s.COMPRESSED_RED_RGTC1_EXT;if(r===Cw)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===Pw)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===kw)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return r===bm?n.UNSIGNED_INT_24_8:n[r]!==void 0?n[r]:null}return{convert:t}}const iQ=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,sQ=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class aQ{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t,r){if(this.texture===null){const i=new ca,s=e.properties.get(i);s.__webglTexture=t.texture,(t.depthNear!==r.depthNear||t.depthFar!==r.depthFar)&&(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=i}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,r=new bf({vertexShader:iQ,fragmentShader:sQ,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new Ca(new Bm(20,20),r)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class oQ extends Zh{constructor(e,t){super();const r=this;let i=null,s=1,a=null,o="local-floor",l=1,c=null,f=null,d=null,p=null,m=null,_=null;const x=new aQ,g=t.getContextAttributes();let y=null,A=null;const E=[],M=[],D=new dn;let U=null;const L=new aa;L.viewport=new ci;const I=new aa;I.viewport=new ci;const R=[L,I],O=new M$;let N=null,k=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(z){let V=E[z];return V===void 0&&(V=new R_,E[z]=V),V.getTargetRaySpace()},this.getControllerGrip=function(z){let V=E[z];return V===void 0&&(V=new R_,E[z]=V),V.getGripSpace()},this.getHand=function(z){let V=E[z];return V===void 0&&(V=new R_,E[z]=V),V.getHandSpace()};function j(z){const V=M.indexOf(z.inputSource);if(V===-1)return;const ee=E[V];ee!==void 0&&(ee.update(z.inputSource,z.frame,c||a),ee.dispatchEvent({type:z.type,data:z.inputSource}))}function G(){i.removeEventListener("select",j),i.removeEventListener("selectstart",j),i.removeEventListener("selectend",j),i.removeEventListener("squeeze",j),i.removeEventListener("squeezestart",j),i.removeEventListener("squeezeend",j),i.removeEventListener("end",G),i.removeEventListener("inputsourceschange",ae);for(let z=0;z<E.length;z++){const V=M[z];V!==null&&(M[z]=null,E[z].disconnect(V))}N=null,k=null,x.reset(),e.setRenderTarget(y),m=null,p=null,d=null,i=null,A=null,W.stop(),r.isPresenting=!1,e.setPixelRatio(U),e.setSize(D.width,D.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(z){s=z,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(z){o=z,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||a},this.setReferenceSpace=function(z){c=z},this.getBaseLayer=function(){return p!==null?p:m},this.getBinding=function(){return d},this.getFrame=function(){return _},this.getSession=function(){return i},this.setSession=async function(z){if(i=z,i!==null){if(y=e.getRenderTarget(),i.addEventListener("select",j),i.addEventListener("selectstart",j),i.addEventListener("selectend",j),i.addEventListener("squeeze",j),i.addEventListener("squeezestart",j),i.addEventListener("squeezeend",j),i.addEventListener("end",G),i.addEventListener("inputsourceschange",ae),g.xrCompatible!==!0&&await t.makeXRCompatible(),U=e.getPixelRatio(),e.getSize(D),typeof XRWebGLBinding<"u"&&"createProjectionLayer"in XRWebGLBinding.prototype){let ee=null,de=null,ve=null;g.depth&&(ve=g.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,ee=g.stencil?Em:Sm,de=g.stencil?bm:Bh);const we={colorFormat:t.RGBA8,depthFormat:ve,scaleFactor:s};d=new XRWebGLBinding(i,t),p=d.createProjectionLayer(we),i.updateRenderState({layers:[p]}),e.setPixelRatio(1),e.setSize(p.textureWidth,p.textureHeight,!1),A=new Hh(p.textureWidth,p.textureHeight,{format:al,type:$l,depthTexture:new Rk(p.textureWidth,p.textureHeight,de,void 0,void 0,void 0,void 0,void 0,void 0,ee),stencilBuffer:g.stencil,colorSpace:e.outputColorSpace,samples:g.antialias?4:0,resolveDepthBuffer:p.ignoreDepthValues===!1,resolveStencilBuffer:p.ignoreDepthValues===!1})}else{const ee={antialias:g.antialias,alpha:!0,depth:g.depth,stencil:g.stencil,framebufferScaleFactor:s};m=new XRWebGLLayer(i,t,ee),i.updateRenderState({baseLayer:m}),e.setPixelRatio(1),e.setSize(m.framebufferWidth,m.framebufferHeight,!1),A=new Hh(m.framebufferWidth,m.framebufferHeight,{format:al,type:$l,colorSpace:e.outputColorSpace,stencilBuffer:g.stencil,resolveDepthBuffer:m.ignoreDepthValues===!1,resolveStencilBuffer:m.ignoreDepthValues===!1})}A.isXRRenderTarget=!0,this.setFoveation(l),c=null,a=await i.requestReferenceSpace(o),W.setContext(i),W.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode},this.getDepthTexture=function(){return x.getDepthTexture()};function ae(z){for(let V=0;V<z.removed.length;V++){const ee=z.removed[V],de=M.indexOf(ee);de>=0&&(M[de]=null,E[de].disconnect(ee))}for(let V=0;V<z.added.length;V++){const ee=z.added[V];let de=M.indexOf(ee);if(de===-1){for(let we=0;we<E.length;we++)if(we>=M.length){M.push(ee),de=we;break}else if(M[we]===null){M[we]=ee,de=we;break}if(de===-1)break}const ve=E[de];ve&&ve.connect(ee)}}const ie=new Ze,ue=new Ze;function J(z,V,ee){ie.setFromMatrixPosition(V.matrixWorld),ue.setFromMatrixPosition(ee.matrixWorld);const de=ie.distanceTo(ue),ve=V.projectionMatrix.elements,we=ee.projectionMatrix.elements,Ce=ve[14]/(ve[10]-1),lt=ve[14]/(ve[10]+1),he=(ve[9]+1)/ve[5],mt=(ve[9]-1)/ve[5],ye=(ve[8]-1)/ve[0],Je=(we[8]+1)/we[0],q=Ce*ye,Re=Ce*Je,je=de/(-ye+Je),Ve=je*-ye;if(V.matrixWorld.decompose(z.position,z.quaternion,z.scale),z.translateX(Ve),z.translateZ(je),z.matrixWorld.compose(z.position,z.quaternion,z.scale),z.matrixWorldInverse.copy(z.matrixWorld).invert(),ve[10]===-1)z.projectionMatrix.copy(V.projectionMatrix),z.projectionMatrixInverse.copy(V.projectionMatrixInverse);else{const Ie=Ce+je,Ke=lt+je,Et=q-Ve,ce=Re+(de-Ve),Y=he*lt/Ke*Ie,Ne=mt*lt/Ke*Ie;z.projectionMatrix.makePerspective(Et,ce,Y,Ne,Ie,Ke),z.projectionMatrixInverse.copy(z.projectionMatrix).invert()}}function X(z,V){V===null?z.matrixWorld.copy(z.matrix):z.matrixWorld.multiplyMatrices(V.matrixWorld,z.matrix),z.matrixWorldInverse.copy(z.matrixWorld).invert()}this.updateCamera=function(z){if(i===null)return;let V=z.near,ee=z.far;x.texture!==null&&(x.depthNear>0&&(V=x.depthNear),x.depthFar>0&&(ee=x.depthFar)),O.near=I.near=L.near=V,O.far=I.far=L.far=ee,(N!==O.near||k!==O.far)&&(i.updateRenderState({depthNear:O.near,depthFar:O.far}),N=O.near,k=O.far),L.layers.mask=z.layers.mask|2,I.layers.mask=z.layers.mask|4,O.layers.mask=L.layers.mask|I.layers.mask;const de=z.parent,ve=O.cameras;X(O,de);for(let we=0;we<ve.length;we++)X(ve[we],de);ve.length===2?J(O,L,I):O.projectionMatrix.copy(L.projectionMatrix),pe(z,O,de)};function pe(z,V,ee){ee===null?z.matrix.copy(V.matrixWorld):(z.matrix.copy(ee.matrixWorld),z.matrix.invert(),z.matrix.multiply(V.matrixWorld)),z.matrix.decompose(z.position,z.quaternion,z.scale),z.updateMatrixWorld(!0),z.projectionMatrix.copy(V.projectionMatrix),z.projectionMatrixInverse.copy(V.projectionMatrixInverse),z.isPerspectiveCamera&&(z.fov=Lw*2*Math.atan(1/z.projectionMatrix.elements[5]),z.zoom=1)}this.getCamera=function(){return O},this.getFoveation=function(){if(!(p===null&&m===null))return l},this.setFoveation=function(z){l=z,p!==null&&(p.fixedFoveation=z),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=z)},this.hasDepthSensing=function(){return x.texture!==null},this.getDepthSensingMesh=function(){return x.getMesh(O)};let oe=null;function C(z,V){if(f=V.getViewerPose(c||a),_=V,f!==null){const ee=f.views;m!==null&&(e.setRenderTargetFramebuffer(A,m.framebuffer),e.setRenderTarget(A));let de=!1;ee.length!==O.cameras.length&&(O.cameras.length=0,de=!0);for(let Ce=0;Ce<ee.length;Ce++){const lt=ee[Ce];let he=null;if(m!==null)he=m.getViewport(lt);else{const ye=d.getViewSubImage(p,lt);he=ye.viewport,Ce===0&&(e.setRenderTargetTextures(A,ye.colorTexture,ye.depthStencilTexture),e.setRenderTarget(A))}let mt=R[Ce];mt===void 0&&(mt=new aa,mt.layers.enable(Ce),mt.viewport=new ci,R[Ce]=mt),mt.matrix.fromArray(lt.transform.matrix),mt.matrix.decompose(mt.position,mt.quaternion,mt.scale),mt.projectionMatrix.fromArray(lt.projectionMatrix),mt.projectionMatrixInverse.copy(mt.projectionMatrix).invert(),mt.viewport.set(he.x,he.y,he.width,he.height),Ce===0&&(O.matrix.copy(mt.matrix),O.matrix.decompose(O.position,O.quaternion,O.scale)),de===!0&&O.cameras.push(mt)}const ve=i.enabledFeatures;if(ve&&ve.includes("depth-sensing")&&i.depthUsage=="gpu-optimized"&&d){const Ce=d.getDepthInformation(ee[0]);Ce&&Ce.isValid&&Ce.texture&&x.init(e,Ce,i.renderState)}}for(let ee=0;ee<E.length;ee++){const de=M[ee],ve=E[ee];de!==null&&ve!==void 0&&ve.update(de,V,c||a)}oe&&oe(z,V),V.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:V}),_=null}const W=new Fk;W.setAnimationLoop(C),this.setAnimationLoop=function(z){oe=z},this.dispose=function(){}}}const ch=new Yl,lQ=new jr;function cQ(n,e){function t(g,y){g.matrixAutoUpdate===!0&&g.updateMatrix(),y.value.copy(g.matrix)}function r(g,y){y.color.getRGB(g.fogColor.value,Tk(n)),y.isFog?(g.fogNear.value=y.near,g.fogFar.value=y.far):y.isFogExp2&&(g.fogDensity.value=y.density)}function i(g,y,A,E,M){y.isMeshBasicMaterial||y.isMeshLambertMaterial?s(g,y):y.isMeshToonMaterial?(s(g,y),d(g,y)):y.isMeshPhongMaterial?(s(g,y),f(g,y)):y.isMeshStandardMaterial?(s(g,y),p(g,y),y.isMeshPhysicalMaterial&&m(g,y,M)):y.isMeshMatcapMaterial?(s(g,y),_(g,y)):y.isMeshDepthMaterial?s(g,y):y.isMeshDistanceMaterial?(s(g,y),x(g,y)):y.isMeshNormalMaterial?s(g,y):y.isLineBasicMaterial?(a(g,y),y.isLineDashedMaterial&&o(g,y)):y.isPointsMaterial?l(g,y,A,E):y.isSpriteMaterial?c(g,y):y.isShadowMaterial?(g.color.value.copy(y.color),g.opacity.value=y.opacity):y.isShaderMaterial&&(y.uniformsNeedUpdate=!1)}function s(g,y){g.opacity.value=y.opacity,y.color&&g.diffuse.value.copy(y.color),y.emissive&&g.emissive.value.copy(y.emissive).multiplyScalar(y.emissiveIntensity),y.map&&(g.map.value=y.map,t(y.map,g.mapTransform)),y.alphaMap&&(g.alphaMap.value=y.alphaMap,t(y.alphaMap,g.alphaMapTransform)),y.bumpMap&&(g.bumpMap.value=y.bumpMap,t(y.bumpMap,g.bumpMapTransform),g.bumpScale.value=y.bumpScale,y.side===Ra&&(g.bumpScale.value*=-1)),y.normalMap&&(g.normalMap.value=y.normalMap,t(y.normalMap,g.normalMapTransform),g.normalScale.value.copy(y.normalScale),y.side===Ra&&g.normalScale.value.negate()),y.displacementMap&&(g.displacementMap.value=y.displacementMap,t(y.displacementMap,g.displacementMapTransform),g.displacementScale.value=y.displacementScale,g.displacementBias.value=y.displacementBias),y.emissiveMap&&(g.emissiveMap.value=y.emissiveMap,t(y.emissiveMap,g.emissiveMapTransform)),y.specularMap&&(g.specularMap.value=y.specularMap,t(y.specularMap,g.specularMapTransform)),y.alphaTest>0&&(g.alphaTest.value=y.alphaTest);const A=e.get(y),E=A.envMap,M=A.envMapRotation;E&&(g.envMap.value=E,ch.copy(M),ch.x*=-1,ch.y*=-1,ch.z*=-1,E.isCubeTexture&&E.isRenderTargetTexture===!1&&(ch.y*=-1,ch.z*=-1),g.envMapRotation.value.setFromMatrix4(lQ.makeRotationFromEuler(ch)),g.flipEnvMap.value=E.isCubeTexture&&E.isRenderTargetTexture===!1?-1:1,g.reflectivity.value=y.reflectivity,g.ior.value=y.ior,g.refractionRatio.value=y.refractionRatio),y.lightMap&&(g.lightMap.value=y.lightMap,g.lightMapIntensity.value=y.lightMapIntensity,t(y.lightMap,g.lightMapTransform)),y.aoMap&&(g.aoMap.value=y.aoMap,g.aoMapIntensity.value=y.aoMapIntensity,t(y.aoMap,g.aoMapTransform))}function a(g,y){g.diffuse.value.copy(y.color),g.opacity.value=y.opacity,y.map&&(g.map.value=y.map,t(y.map,g.mapTransform))}function o(g,y){g.dashSize.value=y.dashSize,g.totalSize.value=y.dashSize+y.gapSize,g.scale.value=y.scale}function l(g,y,A,E){g.diffuse.value.copy(y.color),g.opacity.value=y.opacity,g.size.value=y.size*A,g.scale.value=E*.5,y.map&&(g.map.value=y.map,t(y.map,g.uvTransform)),y.alphaMap&&(g.alphaMap.value=y.alphaMap,t(y.alphaMap,g.alphaMapTransform)),y.alphaTest>0&&(g.alphaTest.value=y.alphaTest)}function c(g,y){g.diffuse.value.copy(y.color),g.opacity.value=y.opacity,g.rotation.value=y.rotation,y.map&&(g.map.value=y.map,t(y.map,g.mapTransform)),y.alphaMap&&(g.alphaMap.value=y.alphaMap,t(y.alphaMap,g.alphaMapTransform)),y.alphaTest>0&&(g.alphaTest.value=y.alphaTest)}function f(g,y){g.specular.value.copy(y.specular),g.shininess.value=Math.max(y.shininess,1e-4)}function d(g,y){y.gradientMap&&(g.gradientMap.value=y.gradientMap)}function p(g,y){g.metalness.value=y.metalness,y.metalnessMap&&(g.metalnessMap.value=y.metalnessMap,t(y.metalnessMap,g.metalnessMapTransform)),g.roughness.value=y.roughness,y.roughnessMap&&(g.roughnessMap.value=y.roughnessMap,t(y.roughnessMap,g.roughnessMapTransform)),y.envMap&&(g.envMapIntensity.value=y.envMapIntensity)}function m(g,y,A){g.ior.value=y.ior,y.sheen>0&&(g.sheenColor.value.copy(y.sheenColor).multiplyScalar(y.sheen),g.sheenRoughness.value=y.sheenRoughness,y.sheenColorMap&&(g.sheenColorMap.value=y.sheenColorMap,t(y.sheenColorMap,g.sheenColorMapTransform)),y.sheenRoughnessMap&&(g.sheenRoughnessMap.value=y.sheenRoughnessMap,t(y.sheenRoughnessMap,g.sheenRoughnessMapTransform))),y.clearcoat>0&&(g.clearcoat.value=y.clearcoat,g.clearcoatRoughness.value=y.clearcoatRoughness,y.clearcoatMap&&(g.clearcoatMap.value=y.clearcoatMap,t(y.clearcoatMap,g.clearcoatMapTransform)),y.clearcoatRoughnessMap&&(g.clearcoatRoughnessMap.value=y.clearcoatRoughnessMap,t(y.clearcoatRoughnessMap,g.clearcoatRoughnessMapTransform)),y.clearcoatNormalMap&&(g.clearcoatNormalMap.value=y.clearcoatNormalMap,t(y.clearcoatNormalMap,g.clearcoatNormalMapTransform),g.clearcoatNormalScale.value.copy(y.clearcoatNormalScale),y.side===Ra&&g.clearcoatNormalScale.value.negate())),y.dispersion>0&&(g.dispersion.value=y.dispersion),y.iridescence>0&&(g.iridescence.value=y.iridescence,g.iridescenceIOR.value=y.iridescenceIOR,g.iridescenceThicknessMinimum.value=y.iridescenceThicknessRange[0],g.iridescenceThicknessMaximum.value=y.iridescenceThicknessRange[1],y.iridescenceMap&&(g.iridescenceMap.value=y.iridescenceMap,t(y.iridescenceMap,g.iridescenceMapTransform)),y.iridescenceThicknessMap&&(g.iridescenceThicknessMap.value=y.iridescenceThicknessMap,t(y.iridescenceThicknessMap,g.iridescenceThicknessMapTransform))),y.transmission>0&&(g.transmission.value=y.transmission,g.transmissionSamplerMap.value=A.texture,g.transmissionSamplerSize.value.set(A.width,A.height),y.transmissionMap&&(g.transmissionMap.value=y.transmissionMap,t(y.transmissionMap,g.transmissionMapTransform)),g.thickness.value=y.thickness,y.thicknessMap&&(g.thicknessMap.value=y.thicknessMap,t(y.thicknessMap,g.thicknessMapTransform)),g.attenuationDistance.value=y.attenuationDistance,g.attenuationColor.value.copy(y.attenuationColor)),y.anisotropy>0&&(g.anisotropyVector.value.set(y.anisotropy*Math.cos(y.anisotropyRotation),y.anisotropy*Math.sin(y.anisotropyRotation)),y.anisotropyMap&&(g.anisotropyMap.value=y.anisotropyMap,t(y.anisotropyMap,g.anisotropyMapTransform))),g.specularIntensity.value=y.specularIntensity,g.specularColor.value.copy(y.specularColor),y.specularColorMap&&(g.specularColorMap.value=y.specularColorMap,t(y.specularColorMap,g.specularColorMapTransform)),y.specularIntensityMap&&(g.specularIntensityMap.value=y.specularIntensityMap,t(y.specularIntensityMap,g.specularIntensityMapTransform))}function _(g,y){y.matcap&&(g.matcap.value=y.matcap)}function x(g,y){const A=e.get(y).light;g.referencePosition.value.setFromMatrixPosition(A.matrixWorld),g.nearDistance.value=A.shadow.camera.near,g.farDistance.value=A.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function uQ(n,e,t,r){let i={},s={},a=[];const o=n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS);function l(A,E){const M=E.program;r.uniformBlockBinding(A,M)}function c(A,E){let M=i[A.id];M===void 0&&(_(A),M=f(A),i[A.id]=M,A.addEventListener("dispose",g));const D=E.program;r.updateUBOMapping(A,D);const U=e.render.frame;s[A.id]!==U&&(p(A),s[A.id]=U)}function f(A){const E=d();A.__bindingPointIndex=E;const M=n.createBuffer(),D=A.__size,U=A.usage;return n.bindBuffer(n.UNIFORM_BUFFER,M),n.bufferData(n.UNIFORM_BUFFER,D,U),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,E,M),M}function d(){for(let A=0;A<o;A++)if(a.indexOf(A)===-1)return a.push(A),A;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function p(A){const E=i[A.id],M=A.uniforms,D=A.__cache;n.bindBuffer(n.UNIFORM_BUFFER,E);for(let U=0,L=M.length;U<L;U++){const I=Array.isArray(M[U])?M[U]:[M[U]];for(let R=0,O=I.length;R<O;R++){const N=I[R];if(m(N,U,R,D)===!0){const k=N.__offset,j=Array.isArray(N.value)?N.value:[N.value];let G=0;for(let ae=0;ae<j.length;ae++){const ie=j[ae],ue=x(ie);typeof ie=="number"||typeof ie=="boolean"?(N.__data[0]=ie,n.bufferSubData(n.UNIFORM_BUFFER,k+G,N.__data)):ie.isMatrix3?(N.__data[0]=ie.elements[0],N.__data[1]=ie.elements[1],N.__data[2]=ie.elements[2],N.__data[3]=0,N.__data[4]=ie.elements[3],N.__data[5]=ie.elements[4],N.__data[6]=ie.elements[5],N.__data[7]=0,N.__data[8]=ie.elements[6],N.__data[9]=ie.elements[7],N.__data[10]=ie.elements[8],N.__data[11]=0):(ie.toArray(N.__data,G),G+=ue.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,k,N.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function m(A,E,M,D){const U=A.value,L=E+"_"+M;if(D[L]===void 0)return typeof U=="number"||typeof U=="boolean"?D[L]=U:D[L]=U.clone(),!0;{const I=D[L];if(typeof U=="number"||typeof U=="boolean"){if(I!==U)return D[L]=U,!0}else if(I.equals(U)===!1)return I.copy(U),!0}return!1}function _(A){const E=A.uniforms;let M=0;const D=16;for(let L=0,I=E.length;L<I;L++){const R=Array.isArray(E[L])?E[L]:[E[L]];for(let O=0,N=R.length;O<N;O++){const k=R[O],j=Array.isArray(k.value)?k.value:[k.value];for(let G=0,ae=j.length;G<ae;G++){const ie=j[G],ue=x(ie),J=M%D,X=J%ue.boundary,pe=J+X;M+=X,pe!==0&&D-pe<ue.storage&&(M+=D-pe),k.__data=new Float32Array(ue.storage/Float32Array.BYTES_PER_ELEMENT),k.__offset=M,M+=ue.storage}}}const U=M%D;return U>0&&(M+=D-U),A.__size=M,A.__cache={},this}function x(A){const E={boundary:0,storage:0};return typeof A=="number"||typeof A=="boolean"?(E.boundary=4,E.storage=4):A.isVector2?(E.boundary=8,E.storage=8):A.isVector3||A.isColor?(E.boundary=16,E.storage=12):A.isVector4?(E.boundary=16,E.storage=16):A.isMatrix3?(E.boundary=48,E.storage=48):A.isMatrix4?(E.boundary=64,E.storage=64):A.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",A),E}function g(A){const E=A.target;E.removeEventListener("dispose",g);const M=a.indexOf(E.__bindingPointIndex);a.splice(M,1),n.deleteBuffer(i[E.id]),delete i[E.id],delete s[E.id]}function y(){for(const A in i)n.deleteBuffer(i[A]);a=[],i={},s={}}return{bind:l,update:c,dispose:y}}class A1{constructor(e={}){const{canvas:t=WX(),context:r=null,depth:i=!0,stencil:s=!1,alpha:a=!1,antialias:o=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:f="default",failIfMajorPerformanceCaveat:d=!1,reverseDepthBuffer:p=!1}=e;this.isWebGLRenderer=!0;let m;if(r!==null){if(typeof WebGLRenderingContext<"u"&&r instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");m=r.getContextAttributes().alpha}else m=a;const _=new Uint32Array(4),x=new Int32Array(4);let g=null,y=null;const A=[],E=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=ff,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const M=this;let D=!1;this._outputColorSpace=bo;let U=0,L=0,I=null,R=-1,O=null;const N=new ci,k=new ci;let j=null;const G=new kn(0);let ae=0,ie=t.width,ue=t.height,J=1,X=null,pe=null;const oe=new ci(0,0,ie,ue),C=new ci(0,0,ie,ue);let W=!1;const z=new Qb;let V=!1,ee=!1;const de=new jr,ve=new jr,we=new Ze,Ce=new ci,lt={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let he=!1;function mt(){return I===null?J:1}let ye=r;function Je(Q,Te){return t.getContext(Q,Te)}try{const Q={alpha:!0,depth:i,stencil:s,antialias:o,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:f,failIfMajorPerformanceCaveat:d};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${Vb}`),t.addEventListener("webglcontextlost",Vt,!1),t.addEventListener("webglcontextrestored",At,!1),t.addEventListener("webglcontextcreationerror",ot,!1),ye===null){const Te="webgl2";if(ye=Je(Te,Q),ye===null)throw Je(Te)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(Q){throw console.error("THREE.WebGLRenderer: "+Q.message),Q}let q,Re,je,Ve,Ie,Ke,Et,ce,Y,Ne,$e,Qe,He,ht,Ye,Xe,wt,We,Ct,Pt,Ht,It,Bt,Ue;function Ft(){q=new wJ(ye),q.init(),It=new rQ(ye,q),Re=new pJ(ye,q,e,It),je=new tQ(ye,q),Re.reverseDepthBuffer&&p&&je.buffers.depth.setReversed(!0),Ve=new EJ(ye),Ie=new jZ,Ke=new nQ(ye,q,je,Ie,Re,It,Ve),Et=new gJ(M),ce=new yJ(M),Y=new k$(ye),Bt=new hJ(ye,Y),Ne=new bJ(ye,Y,Ve,Bt),$e=new TJ(ye,Ne,Y,Ve),Ct=new AJ(ye,Re,Ke),Xe=new mJ(Ie),Qe=new HZ(M,Et,ce,q,Re,Bt,Xe),He=new cQ(M,Ie),ht=new WZ,Ye=new KZ(q),We=new fJ(M,Et,ce,je,$e,m,l),wt=new QZ(M,$e,Re),Ue=new uQ(ye,Ve,Re,je),Pt=new dJ(ye,q,Ve),Ht=new SJ(ye,q,Ve),Ve.programs=Qe.programs,M.capabilities=Re,M.extensions=q,M.properties=Ie,M.renderLists=ht,M.shadowMap=wt,M.state=je,M.info=Ve}Ft();const Tt=new oQ(M,ye);this.xr=Tt,this.getContext=function(){return ye},this.getContextAttributes=function(){return ye.getContextAttributes()},this.forceContextLoss=function(){const Q=q.get("WEBGL_lose_context");Q&&Q.loseContext()},this.forceContextRestore=function(){const Q=q.get("WEBGL_lose_context");Q&&Q.restoreContext()},this.getPixelRatio=function(){return J},this.setPixelRatio=function(Q){Q!==void 0&&(J=Q,this.setSize(ie,ue,!1))},this.getSize=function(Q){return Q.set(ie,ue)},this.setSize=function(Q,Te,ke=!0){if(Tt.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}ie=Q,ue=Te,t.width=Math.floor(Q*J),t.height=Math.floor(Te*J),ke===!0&&(t.style.width=Q+"px",t.style.height=Te+"px"),this.setViewport(0,0,Q,Te)},this.getDrawingBufferSize=function(Q){return Q.set(ie*J,ue*J).floor()},this.setDrawingBufferSize=function(Q,Te,ke){ie=Q,ue=Te,J=ke,t.width=Math.floor(Q*ke),t.height=Math.floor(Te*ke),this.setViewport(0,0,Q,Te)},this.getCurrentViewport=function(Q){return Q.copy(N)},this.getViewport=function(Q){return Q.copy(oe)},this.setViewport=function(Q,Te,ke,Pe){Q.isVector4?oe.set(Q.x,Q.y,Q.z,Q.w):oe.set(Q,Te,ke,Pe),je.viewport(N.copy(oe).multiplyScalar(J).round())},this.getScissor=function(Q){return Q.copy(C)},this.setScissor=function(Q,Te,ke,Pe){Q.isVector4?C.set(Q.x,Q.y,Q.z,Q.w):C.set(Q,Te,ke,Pe),je.scissor(k.copy(C).multiplyScalar(J).round())},this.getScissorTest=function(){return W},this.setScissorTest=function(Q){je.setScissorTest(W=Q)},this.setOpaqueSort=function(Q){X=Q},this.setTransparentSort=function(Q){pe=Q},this.getClearColor=function(Q){return Q.copy(We.getClearColor())},this.setClearColor=function(){We.setClearColor(...arguments)},this.getClearAlpha=function(){return We.getClearAlpha()},this.setClearAlpha=function(){We.setClearAlpha(...arguments)},this.clear=function(Q=!0,Te=!0,ke=!0){let Pe=0;if(Q){let Le=!1;if(I!==null){const St=I.texture.format;Le=St===Kb||St===Yb||St===$b}if(Le){const St=I.texture.type,Rt=St===$l||St===Bh||St===wm||St===bm||St===qb||St===Xb,jt=We.getClearColor(),Xt=We.getClearAlpha(),on=jt.r,rn=jt.g,$t=jt.b;Rt?(_[0]=on,_[1]=rn,_[2]=$t,_[3]=Xt,ye.clearBufferuiv(ye.COLOR,0,_)):(x[0]=on,x[1]=rn,x[2]=$t,x[3]=Xt,ye.clearBufferiv(ye.COLOR,0,x))}else Pe|=ye.COLOR_BUFFER_BIT}Te&&(Pe|=ye.DEPTH_BUFFER_BIT),ke&&(Pe|=ye.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),ye.clear(Pe)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Vt,!1),t.removeEventListener("webglcontextrestored",At,!1),t.removeEventListener("webglcontextcreationerror",ot,!1),We.dispose(),ht.dispose(),Ye.dispose(),Ie.dispose(),Et.dispose(),ce.dispose(),$e.dispose(),Bt.dispose(),Ue.dispose(),Qe.dispose(),Tt.dispose(),Tt.removeEventListener("sessionstart",Si),Tt.removeEventListener("sessionend",Kr),Rr.stop()};function Vt(Q){Q.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),D=!0}function At(){console.log("THREE.WebGLRenderer: Context Restored."),D=!1;const Q=Ve.autoReset,Te=wt.enabled,ke=wt.autoUpdate,Pe=wt.needsUpdate,Le=wt.type;Ft(),Ve.autoReset=Q,wt.enabled=Te,wt.autoUpdate=ke,wt.needsUpdate=Pe,wt.type=Le}function ot(Q){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",Q.statusMessage)}function Ot(Q){const Te=Q.target;Te.removeEventListener("dispose",Ot),un(Te)}function un(Q){_n(Q),Ie.remove(Q)}function _n(Q){const Te=Ie.get(Q).programs;Te!==void 0&&(Te.forEach(function(ke){Qe.releaseProgram(ke)}),Q.isShaderMaterial&&Qe.releaseShaderCache(Q))}this.renderBufferDirect=function(Q,Te,ke,Pe,Le,St){Te===null&&(Te=lt);const Rt=Le.isMesh&&Le.matrixWorld.determinant()<0,jt=it(Q,Te,ke,Pe,Le);je.setMaterial(Pe,Rt);let Xt=ke.index,on=1;if(Pe.wireframe===!0){if(Xt=Ne.getWireframeAttribute(ke),Xt===void 0)return;on=2}const rn=ke.drawRange,$t=ke.attributes.position;let yn=rn.start*on,hn=(rn.start+rn.count)*on;St!==null&&(yn=Math.max(yn,St.start*on),hn=Math.min(hn,(St.start+St.count)*on)),Xt!==null?(yn=Math.max(yn,0),hn=Math.min(hn,Xt.count)):$t!=null&&(yn=Math.max(yn,0),hn=Math.min(hn,$t.count));const Sn=hn-yn;if(Sn<0||Sn===1/0)return;Bt.setup(Le,Pe,jt,ke,Xt);let _r,Bn=Pt;if(Xt!==null&&(_r=Y.get(Xt),Bn=Ht,Bn.setIndex(_r)),Le.isMesh)Pe.wireframe===!0?(je.setLineWidth(Pe.wireframeLinewidth*mt()),Bn.setMode(ye.LINES)):Bn.setMode(ye.TRIANGLES);else if(Le.isLine){let an=Pe.linewidth;an===void 0&&(an=1),je.setLineWidth(an*mt()),Le.isLineSegments?Bn.setMode(ye.LINES):Le.isLineLoop?Bn.setMode(ye.LINE_LOOP):Bn.setMode(ye.LINE_STRIP)}else Le.isPoints?Bn.setMode(ye.POINTS):Le.isSprite&&Bn.setMode(ye.TRIANGLES);if(Le.isBatchedMesh)if(Le._multiDrawInstances!==null)g0("THREE.WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),Bn.renderMultiDrawInstances(Le._multiDrawStarts,Le._multiDrawCounts,Le._multiDrawCount,Le._multiDrawInstances);else if(q.get("WEBGL_multi_draw"))Bn.renderMultiDraw(Le._multiDrawStarts,Le._multiDrawCounts,Le._multiDrawCount);else{const an=Le._multiDrawStarts,Sr=Le._multiDrawCounts,On=Le._multiDrawCount,Er=Xt?Y.get(Xt).bytesPerElement:1,Ws=Ie.get(Pe).currentProgram.getUniforms();for(let pr=0;pr<On;pr++)Ws.setValue(ye,"_gl_DrawID",pr),Bn.render(an[pr]/Er,Sr[pr])}else if(Le.isInstancedMesh)Bn.renderInstances(yn,Sn,Le.count);else if(ke.isInstancedBufferGeometry){const an=ke._maxInstanceCount!==void 0?ke._maxInstanceCount:1/0,Sr=Math.min(ke.instanceCount,an);Bn.renderInstances(yn,Sn,Sr)}else Bn.render(yn,Sn)};function An(Q,Te,ke){Q.transparent===!0&&Q.side===zl&&Q.forceSinglePass===!1?(Q.side=Ra,Q.needsUpdate=!0,xe(Q,Te,ke),Q.side=wf,Q.needsUpdate=!0,xe(Q,Te,ke),Q.side=zl):xe(Q,Te,ke)}this.compile=function(Q,Te,ke=null){ke===null&&(ke=Q),y=Ye.get(ke),y.init(Te),E.push(y),ke.traverseVisible(function(Le){Le.isLight&&Le.layers.test(Te.layers)&&(y.pushLight(Le),Le.castShadow&&y.pushShadow(Le))}),Q!==ke&&Q.traverseVisible(function(Le){Le.isLight&&Le.layers.test(Te.layers)&&(y.pushLight(Le),Le.castShadow&&y.pushShadow(Le))}),y.setupLights();const Pe=new Set;return Q.traverse(function(Le){if(!(Le.isMesh||Le.isPoints||Le.isLine||Le.isSprite))return;const St=Le.material;if(St)if(Array.isArray(St))for(let Rt=0;Rt<St.length;Rt++){const jt=St[Rt];An(jt,ke,Le),Pe.add(jt)}else An(St,ke,Le),Pe.add(St)}),y=E.pop(),Pe},this.compileAsync=function(Q,Te,ke=null){const Pe=this.compile(Q,Te,ke);return new Promise(Le=>{function St(){if(Pe.forEach(function(Rt){Ie.get(Rt).currentProgram.isReady()&&Pe.delete(Rt)}),Pe.size===0){Le(Q);return}setTimeout(St,10)}q.get("KHR_parallel_shader_compile")!==null?St():setTimeout(St,10)})};let Cr=null;function Qt(Q){Cr&&Cr(Q)}function Si(){Rr.stop()}function Kr(){Rr.start()}const Rr=new Fk;Rr.setAnimationLoop(Qt),typeof self<"u"&&Rr.setContext(self),this.setAnimationLoop=function(Q){Cr=Q,Tt.setAnimationLoop(Q),Q===null?Rr.stop():Rr.start()},Tt.addEventListener("sessionstart",Si),Tt.addEventListener("sessionend",Kr),this.render=function(Q,Te){if(Te!==void 0&&Te.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(D===!0)return;if(Q.matrixWorldAutoUpdate===!0&&Q.updateMatrixWorld(),Te.parent===null&&Te.matrixWorldAutoUpdate===!0&&Te.updateMatrixWorld(),Tt.enabled===!0&&Tt.isPresenting===!0&&(Tt.cameraAutoUpdate===!0&&Tt.updateCamera(Te),Te=Tt.getCamera()),Q.isScene===!0&&Q.onBeforeRender(M,Q,Te,I),y=Ye.get(Q,E.length),y.init(Te),E.push(y),ve.multiplyMatrices(Te.projectionMatrix,Te.matrixWorldInverse),z.setFromProjectionMatrix(ve),ee=this.localClippingEnabled,V=Xe.init(this.clippingPlanes,ee),g=ht.get(Q,A.length),g.init(),A.push(g),Tt.enabled===!0&&Tt.isPresenting===!0){const St=M.xr.getDepthSensingMesh();St!==null&&cr(St,Te,-1/0,M.sortObjects)}cr(Q,Te,0,M.sortObjects),g.finish(),M.sortObjects===!0&&g.sort(X,pe),he=Tt.enabled===!1||Tt.isPresenting===!1||Tt.hasDepthSensing()===!1,he&&We.addToRenderList(g,Q),this.info.render.frame++,V===!0&&Xe.beginShadows();const ke=y.state.shadowsArray;wt.render(ke,Q,Te),V===!0&&Xe.endShadows(),this.info.autoReset===!0&&this.info.reset();const Pe=g.opaque,Le=g.transmissive;if(y.setupLights(),Te.isArrayCamera){const St=Te.cameras;if(Le.length>0)for(let Rt=0,jt=St.length;Rt<jt;Rt++){const Xt=St[Rt];re(Pe,Le,Q,Xt)}he&&We.render(Q);for(let Rt=0,jt=St.length;Rt<jt;Rt++){const Xt=St[Rt];dr(g,Q,Xt,Xt.viewport)}}else Le.length>0&&re(Pe,Le,Q,Te),he&&We.render(Q),dr(g,Q,Te);I!==null&&L===0&&(Ke.updateMultisampleRenderTarget(I),Ke.updateRenderTargetMipmap(I)),Q.isScene===!0&&Q.onAfterRender(M,Q,Te),Bt.resetDefaultState(),R=-1,O=null,E.pop(),E.length>0?(y=E[E.length-1],V===!0&&Xe.setGlobalState(M.clippingPlanes,y.state.camera)):y=null,A.pop(),A.length>0?g=A[A.length-1]:g=null};function cr(Q,Te,ke,Pe){if(Q.visible===!1)return;if(Q.layers.test(Te.layers)){if(Q.isGroup)ke=Q.renderOrder;else if(Q.isLOD)Q.autoUpdate===!0&&Q.update(Te);else if(Q.isLight)y.pushLight(Q),Q.castShadow&&y.pushShadow(Q);else if(Q.isSprite){if(!Q.frustumCulled||z.intersectsSprite(Q)){Pe&&Ce.setFromMatrixPosition(Q.matrixWorld).applyMatrix4(ve);const Rt=$e.update(Q),jt=Q.material;jt.visible&&g.push(Q,Rt,jt,ke,Ce.z,null)}}else if((Q.isMesh||Q.isLine||Q.isPoints)&&(!Q.frustumCulled||z.intersectsObject(Q))){const Rt=$e.update(Q),jt=Q.material;if(Pe&&(Q.boundingSphere!==void 0?(Q.boundingSphere===null&&Q.computeBoundingSphere(),Ce.copy(Q.boundingSphere.center)):(Rt.boundingSphere===null&&Rt.computeBoundingSphere(),Ce.copy(Rt.boundingSphere.center)),Ce.applyMatrix4(Q.matrixWorld).applyMatrix4(ve)),Array.isArray(jt)){const Xt=Rt.groups;for(let on=0,rn=Xt.length;on<rn;on++){const $t=Xt[on],yn=jt[$t.materialIndex];yn&&yn.visible&&g.push(Q,Rt,yn,ke,Ce.z,$t)}}else jt.visible&&g.push(Q,Rt,jt,ke,Ce.z,null)}}const St=Q.children;for(let Rt=0,jt=St.length;Rt<jt;Rt++)cr(St[Rt],Te,ke,Pe)}function dr(Q,Te,ke,Pe){const Le=Q.opaque,St=Q.transmissive,Rt=Q.transparent;y.setupLightsView(ke),V===!0&&Xe.setGlobalState(M.clippingPlanes,ke),Pe&&je.viewport(N.copy(Pe)),Le.length>0&&be(Le,Te,ke),St.length>0&&be(St,Te,ke),Rt.length>0&&be(Rt,Te,ke),je.buffers.depth.setTest(!0),je.buffers.depth.setMask(!0),je.buffers.color.setMask(!0),je.setPolygonOffset(!1)}function re(Q,Te,ke,Pe){if((ke.isScene===!0?ke.overrideMaterial:null)!==null)return;y.state.transmissionRenderTarget[Pe.id]===void 0&&(y.state.transmissionRenderTarget[Pe.id]=new Hh(1,1,{generateMipmaps:!0,type:q.has("EXT_color_buffer_half_float")||q.has("EXT_color_buffer_float")?Om:$l,minFilter:Eh,samples:4,stencilBuffer:s,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:ar.workingColorSpace}));const St=y.state.transmissionRenderTarget[Pe.id],Rt=Pe.viewport||N;St.setSize(Rt.z*M.transmissionResolutionScale,Rt.w*M.transmissionResolutionScale);const jt=M.getRenderTarget();M.setRenderTarget(St),M.getClearColor(G),ae=M.getClearAlpha(),ae<1&&M.setClearColor(16777215,.5),M.clear(),he&&We.render(ke);const Xt=M.toneMapping;M.toneMapping=ff;const on=Pe.viewport;if(Pe.viewport!==void 0&&(Pe.viewport=void 0),y.setupLightsView(Pe),V===!0&&Xe.setGlobalState(M.clippingPlanes,Pe),be(Q,ke,Pe),Ke.updateMultisampleRenderTarget(St),Ke.updateRenderTargetMipmap(St),q.has("WEBGL_multisampled_render_to_texture")===!1){let rn=!1;for(let $t=0,yn=Te.length;$t<yn;$t++){const hn=Te[$t],Sn=hn.object,_r=hn.geometry,Bn=hn.material,an=hn.group;if(Bn.side===zl&&Sn.layers.test(Pe.layers)){const Sr=Bn.side;Bn.side=Ra,Bn.needsUpdate=!0,ge(Sn,ke,Pe,_r,Bn,an),Bn.side=Sr,Bn.needsUpdate=!0,rn=!0}}rn===!0&&(Ke.updateMultisampleRenderTarget(St),Ke.updateRenderTargetMipmap(St))}M.setRenderTarget(jt),M.setClearColor(G,ae),on!==void 0&&(Pe.viewport=on),M.toneMapping=Xt}function be(Q,Te,ke){const Pe=Te.isScene===!0?Te.overrideMaterial:null;for(let Le=0,St=Q.length;Le<St;Le++){const Rt=Q[Le],jt=Rt.object,Xt=Rt.geometry,on=Rt.group;let rn=Rt.material;rn.allowOverride===!0&&Pe!==null&&(rn=Pe),jt.layers.test(ke.layers)&&ge(jt,Te,ke,Xt,rn,on)}}function ge(Q,Te,ke,Pe,Le,St){Q.onBeforeRender(M,Te,ke,Pe,Le,St),Q.modelViewMatrix.multiplyMatrices(ke.matrixWorldInverse,Q.matrixWorld),Q.normalMatrix.getNormalMatrix(Q.modelViewMatrix),Le.onBeforeRender(M,Te,ke,Pe,Q,St),Le.transparent===!0&&Le.side===zl&&Le.forceSinglePass===!1?(Le.side=Ra,Le.needsUpdate=!0,M.renderBufferDirect(ke,Te,Pe,Le,Q,St),Le.side=wf,Le.needsUpdate=!0,M.renderBufferDirect(ke,Te,Pe,Le,Q,St),Le.side=zl):M.renderBufferDirect(ke,Te,Pe,Le,Q,St),Q.onAfterRender(M,Te,ke,Pe,Le,St)}function xe(Q,Te,ke){Te.isScene!==!0&&(Te=lt);const Pe=Ie.get(Q),Le=y.state.lights,St=y.state.shadowsArray,Rt=Le.state.version,jt=Qe.getParameters(Q,Le.state,St,Te,ke),Xt=Qe.getProgramCacheKey(jt);let on=Pe.programs;Pe.environment=Q.isMeshStandardMaterial?Te.environment:null,Pe.fog=Te.fog,Pe.envMap=(Q.isMeshStandardMaterial?ce:Et).get(Q.envMap||Pe.environment),Pe.envMapRotation=Pe.environment!==null&&Q.envMap===null?Te.environmentRotation:Q.envMapRotation,on===void 0&&(Q.addEventListener("dispose",Ot),on=new Map,Pe.programs=on);let rn=on.get(Xt);if(rn!==void 0){if(Pe.currentProgram===rn&&Pe.lightsStateVersion===Rt)return Ee(Q,jt),rn}else jt.uniforms=Qe.getUniforms(Q),Q.onBeforeCompile(jt,M),rn=Qe.acquireProgram(jt,Xt),on.set(Xt,rn),Pe.uniforms=jt.uniforms;const $t=Pe.uniforms;return(!Q.isShaderMaterial&&!Q.isRawShaderMaterial||Q.clipping===!0)&&($t.clippingPlanes=Xe.uniform),Ee(Q,jt),Pe.needsLights=rt(Q),Pe.lightsStateVersion=Rt,Pe.needsLights&&($t.ambientLightColor.value=Le.state.ambient,$t.lightProbe.value=Le.state.probe,$t.directionalLights.value=Le.state.directional,$t.directionalLightShadows.value=Le.state.directionalShadow,$t.spotLights.value=Le.state.spot,$t.spotLightShadows.value=Le.state.spotShadow,$t.rectAreaLights.value=Le.state.rectArea,$t.ltc_1.value=Le.state.rectAreaLTC1,$t.ltc_2.value=Le.state.rectAreaLTC2,$t.pointLights.value=Le.state.point,$t.pointLightShadows.value=Le.state.pointShadow,$t.hemisphereLights.value=Le.state.hemi,$t.directionalShadowMap.value=Le.state.directionalShadowMap,$t.directionalShadowMatrix.value=Le.state.directionalShadowMatrix,$t.spotShadowMap.value=Le.state.spotShadowMap,$t.spotLightMatrix.value=Le.state.spotLightMatrix,$t.spotLightMap.value=Le.state.spotLightMap,$t.pointShadowMap.value=Le.state.pointShadowMap,$t.pointShadowMatrix.value=Le.state.pointShadowMatrix),Pe.currentProgram=rn,Pe.uniformsList=null,rn}function Se(Q){if(Q.uniformsList===null){const Te=Q.currentProgram.getUniforms();Q.uniformsList=sx.seqWithValue(Te.seq,Q.uniforms)}return Q.uniformsList}function Ee(Q,Te){const ke=Ie.get(Q);ke.outputColorSpace=Te.outputColorSpace,ke.batching=Te.batching,ke.batchingColor=Te.batchingColor,ke.instancing=Te.instancing,ke.instancingColor=Te.instancingColor,ke.instancingMorph=Te.instancingMorph,ke.skinning=Te.skinning,ke.morphTargets=Te.morphTargets,ke.morphNormals=Te.morphNormals,ke.morphColors=Te.morphColors,ke.morphTargetsCount=Te.morphTargetsCount,ke.numClippingPlanes=Te.numClippingPlanes,ke.numIntersection=Te.numClipIntersection,ke.vertexAlphas=Te.vertexAlphas,ke.vertexTangents=Te.vertexTangents,ke.toneMapping=Te.toneMapping}function it(Q,Te,ke,Pe,Le){Te.isScene!==!0&&(Te=lt),Ke.resetTextureUnits();const St=Te.fog,Rt=Pe.isMeshStandardMaterial?Te.environment:null,jt=I===null?M.outputColorSpace:I.isXRRenderTarget===!0?I.texture.colorSpace:P0,Xt=(Pe.isMeshStandardMaterial?ce:Et).get(Pe.envMap||Rt),on=Pe.vertexColors===!0&&!!ke.attributes.color&&ke.attributes.color.itemSize===4,rn=!!ke.attributes.tangent&&(!!Pe.normalMap||Pe.anisotropy>0),$t=!!ke.morphAttributes.position,yn=!!ke.morphAttributes.normal,hn=!!ke.morphAttributes.color;let Sn=ff;Pe.toneMapped&&(I===null||I.isXRRenderTarget===!0)&&(Sn=M.toneMapping);const _r=ke.morphAttributes.position||ke.morphAttributes.normal||ke.morphAttributes.color,Bn=_r!==void 0?_r.length:0,an=Ie.get(Pe),Sr=y.state.lights;if(V===!0&&(ee===!0||Q!==O)){const hi=Q===O&&Pe.id===R;Xe.setState(Pe,Q,hi)}let On=!1;Pe.version===an.__version?(an.needsLights&&an.lightsStateVersion!==Sr.state.version||an.outputColorSpace!==jt||Le.isBatchedMesh&&an.batching===!1||!Le.isBatchedMesh&&an.batching===!0||Le.isBatchedMesh&&an.batchingColor===!0&&Le.colorTexture===null||Le.isBatchedMesh&&an.batchingColor===!1&&Le.colorTexture!==null||Le.isInstancedMesh&&an.instancing===!1||!Le.isInstancedMesh&&an.instancing===!0||Le.isSkinnedMesh&&an.skinning===!1||!Le.isSkinnedMesh&&an.skinning===!0||Le.isInstancedMesh&&an.instancingColor===!0&&Le.instanceColor===null||Le.isInstancedMesh&&an.instancingColor===!1&&Le.instanceColor!==null||Le.isInstancedMesh&&an.instancingMorph===!0&&Le.morphTexture===null||Le.isInstancedMesh&&an.instancingMorph===!1&&Le.morphTexture!==null||an.envMap!==Xt||Pe.fog===!0&&an.fog!==St||an.numClippingPlanes!==void 0&&(an.numClippingPlanes!==Xe.numPlanes||an.numIntersection!==Xe.numIntersection)||an.vertexAlphas!==on||an.vertexTangents!==rn||an.morphTargets!==$t||an.morphNormals!==yn||an.morphColors!==hn||an.toneMapping!==Sn||an.morphTargetsCount!==Bn)&&(On=!0):(On=!0,an.__version=Pe.version);let Er=an.currentProgram;On===!0&&(Er=xe(Pe,Te,Le));let Ws=!1,pr=!1,Gs=!1;const nr=Er.getUniforms(),Ei=an.uniforms;if(je.useProgram(Er.program)&&(Ws=!0,pr=!0,Gs=!0),Pe.id!==R&&(R=Pe.id,pr=!0),Ws||O!==Q){je.buffers.depth.getReversed()?(de.copy(Q.projectionMatrix),qX(de),XX(de),nr.setValue(ye,"projectionMatrix",de)):nr.setValue(ye,"projectionMatrix",Q.projectionMatrix),nr.setValue(ye,"viewMatrix",Q.matrixWorldInverse);const Zr=nr.map.cameraPosition;Zr!==void 0&&Zr.setValue(ye,we.setFromMatrixPosition(Q.matrixWorld)),Re.logarithmicDepthBuffer&&nr.setValue(ye,"logDepthBufFC",2/(Math.log(Q.far+1)/Math.LN2)),(Pe.isMeshPhongMaterial||Pe.isMeshToonMaterial||Pe.isMeshLambertMaterial||Pe.isMeshBasicMaterial||Pe.isMeshStandardMaterial||Pe.isShaderMaterial)&&nr.setValue(ye,"isOrthographic",Q.isOrthographicCamera===!0),O!==Q&&(O=Q,pr=!0,Gs=!0)}if(Le.isSkinnedMesh){nr.setOptional(ye,Le,"bindMatrix"),nr.setOptional(ye,Le,"bindMatrixInverse");const hi=Le.skeleton;hi&&(hi.boneTexture===null&&hi.computeBoneTexture(),nr.setValue(ye,"boneTexture",hi.boneTexture,Ke))}Le.isBatchedMesh&&(nr.setOptional(ye,Le,"batchingTexture"),nr.setValue(ye,"batchingTexture",Le._matricesTexture,Ke),nr.setOptional(ye,Le,"batchingIdTexture"),nr.setValue(ye,"batchingIdTexture",Le._indirectTexture,Ke),nr.setOptional(ye,Le,"batchingColorTexture"),Le._colorsTexture!==null&&nr.setValue(ye,"batchingColorTexture",Le._colorsTexture,Ke));const Jr=ke.morphAttributes;if((Jr.position!==void 0||Jr.normal!==void 0||Jr.color!==void 0)&&Ct.update(Le,ke,Er),(pr||an.receiveShadow!==Le.receiveShadow)&&(an.receiveShadow=Le.receiveShadow,nr.setValue(ye,"receiveShadow",Le.receiveShadow)),Pe.isMeshGouraudMaterial&&Pe.envMap!==null&&(Ei.envMap.value=Xt,Ei.flipEnvMap.value=Xt.isCubeTexture&&Xt.isRenderTargetTexture===!1?-1:1),Pe.isMeshStandardMaterial&&Pe.envMap===null&&Te.environment!==null&&(Ei.envMapIntensity.value=Te.environmentIntensity),pr&&(nr.setValue(ye,"toneMappingExposure",M.toneMappingExposure),an.needsLights&&dt(Ei,Gs),St&&Pe.fog===!0&&He.refreshFogUniforms(Ei,St),He.refreshMaterialUniforms(Ei,Pe,J,ue,y.state.transmissionRenderTarget[Q.id]),sx.upload(ye,Se(an),Ei,Ke)),Pe.isShaderMaterial&&Pe.uniformsNeedUpdate===!0&&(sx.upload(ye,Se(an),Ei,Ke),Pe.uniformsNeedUpdate=!1),Pe.isSpriteMaterial&&nr.setValue(ye,"center",Le.center),nr.setValue(ye,"modelViewMatrix",Le.modelViewMatrix),nr.setValue(ye,"normalMatrix",Le.normalMatrix),nr.setValue(ye,"modelMatrix",Le.matrixWorld),Pe.isShaderMaterial||Pe.isRawShaderMaterial){const hi=Pe.uniformsGroups;for(let Zr=0,jn=hi.length;Zr<jn;Zr++){const ds=hi[Zr];Ue.update(ds,Er),Ue.bind(ds,Er)}}return Er}function dt(Q,Te){Q.ambientLightColor.needsUpdate=Te,Q.lightProbe.needsUpdate=Te,Q.directionalLights.needsUpdate=Te,Q.directionalLightShadows.needsUpdate=Te,Q.pointLights.needsUpdate=Te,Q.pointLightShadows.needsUpdate=Te,Q.spotLights.needsUpdate=Te,Q.spotLightShadows.needsUpdate=Te,Q.rectAreaLights.needsUpdate=Te,Q.hemisphereLights.needsUpdate=Te}function rt(Q){return Q.isMeshLambertMaterial||Q.isMeshToonMaterial||Q.isMeshPhongMaterial||Q.isMeshStandardMaterial||Q.isShadowMaterial||Q.isShaderMaterial&&Q.lights===!0}this.getActiveCubeFace=function(){return U},this.getActiveMipmapLevel=function(){return L},this.getRenderTarget=function(){return I},this.setRenderTargetTextures=function(Q,Te,ke){const Pe=Ie.get(Q);Pe.__autoAllocateDepthBuffer=Q.resolveDepthBuffer===!1,Pe.__autoAllocateDepthBuffer===!1&&(Pe.__useRenderToTexture=!1),Ie.get(Q.texture).__webglTexture=Te,Ie.get(Q.depthTexture).__webglTexture=Pe.__autoAllocateDepthBuffer?void 0:ke,Pe.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(Q,Te){const ke=Ie.get(Q);ke.__webglFramebuffer=Te,ke.__useDefaultFramebuffer=Te===void 0};const at=ye.createFramebuffer();this.setRenderTarget=function(Q,Te=0,ke=0){I=Q,U=Te,L=ke;let Pe=!0,Le=null,St=!1,Rt=!1;if(Q){const Xt=Ie.get(Q);if(Xt.__useDefaultFramebuffer!==void 0)je.bindFramebuffer(ye.FRAMEBUFFER,null),Pe=!1;else if(Xt.__webglFramebuffer===void 0)Ke.setupRenderTarget(Q);else if(Xt.__hasExternalTextures)Ke.rebindTextures(Q,Ie.get(Q.texture).__webglTexture,Ie.get(Q.depthTexture).__webglTexture);else if(Q.depthBuffer){const $t=Q.depthTexture;if(Xt.__boundDepthTexture!==$t){if($t!==null&&Ie.has($t)&&(Q.width!==$t.image.width||Q.height!==$t.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");Ke.setupDepthRenderbuffer(Q)}}const on=Q.texture;(on.isData3DTexture||on.isDataArrayTexture||on.isCompressedArrayTexture)&&(Rt=!0);const rn=Ie.get(Q).__webglFramebuffer;Q.isWebGLCubeRenderTarget?(Array.isArray(rn[Te])?Le=rn[Te][ke]:Le=rn[Te],St=!0):Q.samples>0&&Ke.useMultisampledRTT(Q)===!1?Le=Ie.get(Q).__webglMultisampledFramebuffer:Array.isArray(rn)?Le=rn[ke]:Le=rn,N.copy(Q.viewport),k.copy(Q.scissor),j=Q.scissorTest}else N.copy(oe).multiplyScalar(J).floor(),k.copy(C).multiplyScalar(J).floor(),j=W;if(ke!==0&&(Le=at),je.bindFramebuffer(ye.FRAMEBUFFER,Le)&&Pe&&je.drawBuffers(Q,Le),je.viewport(N),je.scissor(k),je.setScissorTest(j),St){const Xt=Ie.get(Q.texture);ye.framebufferTexture2D(ye.FRAMEBUFFER,ye.COLOR_ATTACHMENT0,ye.TEXTURE_CUBE_MAP_POSITIVE_X+Te,Xt.__webglTexture,ke)}else if(Rt){const Xt=Ie.get(Q.texture),on=Te;ye.framebufferTextureLayer(ye.FRAMEBUFFER,ye.COLOR_ATTACHMENT0,Xt.__webglTexture,ke,on)}else if(Q!==null&&ke!==0){const Xt=Ie.get(Q.texture);ye.framebufferTexture2D(ye.FRAMEBUFFER,ye.COLOR_ATTACHMENT0,ye.TEXTURE_2D,Xt.__webglTexture,ke)}R=-1},this.readRenderTargetPixels=function(Q,Te,ke,Pe,Le,St,Rt,jt=0){if(!(Q&&Q.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Xt=Ie.get(Q).__webglFramebuffer;if(Q.isWebGLCubeRenderTarget&&Rt!==void 0&&(Xt=Xt[Rt]),Xt){je.bindFramebuffer(ye.FRAMEBUFFER,Xt);try{const on=Q.textures[jt],rn=on.format,$t=on.type;if(!Re.textureFormatReadable(rn)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Re.textureTypeReadable($t)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Te>=0&&Te<=Q.width-Pe&&ke>=0&&ke<=Q.height-Le&&(Q.textures.length>1&&ye.readBuffer(ye.COLOR_ATTACHMENT0+jt),ye.readPixels(Te,ke,Pe,Le,It.convert(rn),It.convert($t),St))}finally{const on=I!==null?Ie.get(I).__webglFramebuffer:null;je.bindFramebuffer(ye.FRAMEBUFFER,on)}}},this.readRenderTargetPixelsAsync=async function(Q,Te,ke,Pe,Le,St,Rt,jt=0){if(!(Q&&Q.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Xt=Ie.get(Q).__webglFramebuffer;if(Q.isWebGLCubeRenderTarget&&Rt!==void 0&&(Xt=Xt[Rt]),Xt)if(Te>=0&&Te<=Q.width-Pe&&ke>=0&&ke<=Q.height-Le){je.bindFramebuffer(ye.FRAMEBUFFER,Xt);const on=Q.textures[jt],rn=on.format,$t=on.type;if(!Re.textureFormatReadable(rn))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Re.textureTypeReadable($t))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const yn=ye.createBuffer();ye.bindBuffer(ye.PIXEL_PACK_BUFFER,yn),ye.bufferData(ye.PIXEL_PACK_BUFFER,St.byteLength,ye.STREAM_READ),Q.textures.length>1&&ye.readBuffer(ye.COLOR_ATTACHMENT0+jt),ye.readPixels(Te,ke,Pe,Le,It.convert(rn),It.convert($t),0);const hn=I!==null?Ie.get(I).__webglFramebuffer:null;je.bindFramebuffer(ye.FRAMEBUFFER,hn);const Sn=ye.fenceSync(ye.SYNC_GPU_COMMANDS_COMPLETE,0);return ye.flush(),await GX(ye,Sn,4),ye.bindBuffer(ye.PIXEL_PACK_BUFFER,yn),ye.getBufferSubData(ye.PIXEL_PACK_BUFFER,0,St),ye.deleteBuffer(yn),ye.deleteSync(Sn),St}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(Q,Te=null,ke=0){const Pe=Math.pow(2,-ke),Le=Math.floor(Q.image.width*Pe),St=Math.floor(Q.image.height*Pe),Rt=Te!==null?Te.x:0,jt=Te!==null?Te.y:0;Ke.setTexture2D(Q,0),ye.copyTexSubImage2D(ye.TEXTURE_2D,ke,0,0,Rt,jt,Le,St),je.unbindTexture()};const ct=ye.createFramebuffer(),kt=ye.createFramebuffer();this.copyTextureToTexture=function(Q,Te,ke=null,Pe=null,Le=0,St=null){St===null&&(Le!==0?(g0("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),St=Le,Le=0):St=0);let Rt,jt,Xt,on,rn,$t,yn,hn,Sn;const _r=Q.isCompressedTexture?Q.mipmaps[St]:Q.image;if(ke!==null)Rt=ke.max.x-ke.min.x,jt=ke.max.y-ke.min.y,Xt=ke.isBox3?ke.max.z-ke.min.z:1,on=ke.min.x,rn=ke.min.y,$t=ke.isBox3?ke.min.z:0;else{const Jr=Math.pow(2,-Le);Rt=Math.floor(_r.width*Jr),jt=Math.floor(_r.height*Jr),Q.isDataArrayTexture?Xt=_r.depth:Q.isData3DTexture?Xt=Math.floor(_r.depth*Jr):Xt=1,on=0,rn=0,$t=0}Pe!==null?(yn=Pe.x,hn=Pe.y,Sn=Pe.z):(yn=0,hn=0,Sn=0);const Bn=It.convert(Te.format),an=It.convert(Te.type);let Sr;Te.isData3DTexture?(Ke.setTexture3D(Te,0),Sr=ye.TEXTURE_3D):Te.isDataArrayTexture||Te.isCompressedArrayTexture?(Ke.setTexture2DArray(Te,0),Sr=ye.TEXTURE_2D_ARRAY):(Ke.setTexture2D(Te,0),Sr=ye.TEXTURE_2D),ye.pixelStorei(ye.UNPACK_FLIP_Y_WEBGL,Te.flipY),ye.pixelStorei(ye.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Te.premultiplyAlpha),ye.pixelStorei(ye.UNPACK_ALIGNMENT,Te.unpackAlignment);const On=ye.getParameter(ye.UNPACK_ROW_LENGTH),Er=ye.getParameter(ye.UNPACK_IMAGE_HEIGHT),Ws=ye.getParameter(ye.UNPACK_SKIP_PIXELS),pr=ye.getParameter(ye.UNPACK_SKIP_ROWS),Gs=ye.getParameter(ye.UNPACK_SKIP_IMAGES);ye.pixelStorei(ye.UNPACK_ROW_LENGTH,_r.width),ye.pixelStorei(ye.UNPACK_IMAGE_HEIGHT,_r.height),ye.pixelStorei(ye.UNPACK_SKIP_PIXELS,on),ye.pixelStorei(ye.UNPACK_SKIP_ROWS,rn),ye.pixelStorei(ye.UNPACK_SKIP_IMAGES,$t);const nr=Q.isDataArrayTexture||Q.isData3DTexture,Ei=Te.isDataArrayTexture||Te.isData3DTexture;if(Q.isDepthTexture){const Jr=Ie.get(Q),hi=Ie.get(Te),Zr=Ie.get(Jr.__renderTarget),jn=Ie.get(hi.__renderTarget);je.bindFramebuffer(ye.READ_FRAMEBUFFER,Zr.__webglFramebuffer),je.bindFramebuffer(ye.DRAW_FRAMEBUFFER,jn.__webglFramebuffer);for(let ds=0;ds<Xt;ds++)nr&&(ye.framebufferTextureLayer(ye.READ_FRAMEBUFFER,ye.COLOR_ATTACHMENT0,Ie.get(Q).__webglTexture,Le,$t+ds),ye.framebufferTextureLayer(ye.DRAW_FRAMEBUFFER,ye.COLOR_ATTACHMENT0,Ie.get(Te).__webglTexture,St,Sn+ds)),ye.blitFramebuffer(on,rn,Rt,jt,yn,hn,Rt,jt,ye.DEPTH_BUFFER_BIT,ye.NEAREST);je.bindFramebuffer(ye.READ_FRAMEBUFFER,null),je.bindFramebuffer(ye.DRAW_FRAMEBUFFER,null)}else if(Le!==0||Q.isRenderTargetTexture||Ie.has(Q)){const Jr=Ie.get(Q),hi=Ie.get(Te);je.bindFramebuffer(ye.READ_FRAMEBUFFER,ct),je.bindFramebuffer(ye.DRAW_FRAMEBUFFER,kt);for(let Zr=0;Zr<Xt;Zr++)nr?ye.framebufferTextureLayer(ye.READ_FRAMEBUFFER,ye.COLOR_ATTACHMENT0,Jr.__webglTexture,Le,$t+Zr):ye.framebufferTexture2D(ye.READ_FRAMEBUFFER,ye.COLOR_ATTACHMENT0,ye.TEXTURE_2D,Jr.__webglTexture,Le),Ei?ye.framebufferTextureLayer(ye.DRAW_FRAMEBUFFER,ye.COLOR_ATTACHMENT0,hi.__webglTexture,St,Sn+Zr):ye.framebufferTexture2D(ye.DRAW_FRAMEBUFFER,ye.COLOR_ATTACHMENT0,ye.TEXTURE_2D,hi.__webglTexture,St),Le!==0?ye.blitFramebuffer(on,rn,Rt,jt,yn,hn,Rt,jt,ye.COLOR_BUFFER_BIT,ye.NEAREST):Ei?ye.copyTexSubImage3D(Sr,St,yn,hn,Sn+Zr,on,rn,Rt,jt):ye.copyTexSubImage2D(Sr,St,yn,hn,on,rn,Rt,jt);je.bindFramebuffer(ye.READ_FRAMEBUFFER,null),je.bindFramebuffer(ye.DRAW_FRAMEBUFFER,null)}else Ei?Q.isDataTexture||Q.isData3DTexture?ye.texSubImage3D(Sr,St,yn,hn,Sn,Rt,jt,Xt,Bn,an,_r.data):Te.isCompressedArrayTexture?ye.compressedTexSubImage3D(Sr,St,yn,hn,Sn,Rt,jt,Xt,Bn,_r.data):ye.texSubImage3D(Sr,St,yn,hn,Sn,Rt,jt,Xt,Bn,an,_r):Q.isDataTexture?ye.texSubImage2D(ye.TEXTURE_2D,St,yn,hn,Rt,jt,Bn,an,_r.data):Q.isCompressedTexture?ye.compressedTexSubImage2D(ye.TEXTURE_2D,St,yn,hn,_r.width,_r.height,Bn,_r.data):ye.texSubImage2D(ye.TEXTURE_2D,St,yn,hn,Rt,jt,Bn,an,_r);ye.pixelStorei(ye.UNPACK_ROW_LENGTH,On),ye.pixelStorei(ye.UNPACK_IMAGE_HEIGHT,Er),ye.pixelStorei(ye.UNPACK_SKIP_PIXELS,Ws),ye.pixelStorei(ye.UNPACK_SKIP_ROWS,pr),ye.pixelStorei(ye.UNPACK_SKIP_IMAGES,Gs),St===0&&Te.generateMipmaps&&ye.generateMipmap(Sr),je.unbindTexture()},this.copyTextureToTexture3D=function(Q,Te,ke=null,Pe=null,Le=0){return g0('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(Q,Te,ke,Pe,Le)},this.initRenderTarget=function(Q){Ie.get(Q).__webglFramebuffer===void 0&&Ke.setupRenderTarget(Q)},this.initTexture=function(Q){Q.isCubeTexture?Ke.setTextureCube(Q,0):Q.isData3DTexture?Ke.setTexture3D(Q,0):Q.isDataArrayTexture||Q.isCompressedArrayTexture?Ke.setTexture2DArray(Q,0):Ke.setTexture2D(Q,0),je.unbindTexture()},this.resetState=function(){U=0,L=0,I=null,je.reset(),Bt.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Vc}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=ar._getDrawingBufferColorSpace(e),t.unpackColorSpace=ar._getUnpackColorSpace()}}const rM={type:"change"},rS={type:"start"},Bk={type:"end"},T1=new gv,iM=new qu,fQ=Math.cos(70*VX.DEG2RAD),Di=new Ze,Aa=2*Math.PI,Mr={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},V_=1e-6;class M1 extends C${constructor(e,t=null){super(e,t),this.state=Mr.NONE,this.target=new Ze,this.cursor=new Ze,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minTargetRadius=0,this.maxTargetRadius=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.keyRotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.zoomToCursor=!1,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:p0.ROTATE,MIDDLE:p0.DOLLY,RIGHT:p0.PAN},this.touches={ONE:t0.ROTATE,TWO:t0.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this._lastPosition=new Ze,this._lastQuaternion=new zh,this._lastTargetPosition=new Ze,this._quat=new zh().setFromUnitVectors(e.up,new Ze(0,1,0)),this._quatInverse=this._quat.clone().invert(),this._spherical=new R3,this._sphericalDelta=new R3,this._scale=1,this._panOffset=new Ze,this._rotateStart=new dn,this._rotateEnd=new dn,this._rotateDelta=new dn,this._panStart=new dn,this._panEnd=new dn,this._panDelta=new dn,this._dollyStart=new dn,this._dollyEnd=new dn,this._dollyDelta=new dn,this._dollyDirection=new Ze,this._mouse=new dn,this._performCursorZoom=!1,this._pointers=[],this._pointerPositions={},this._controlActive=!1,this._onPointerMove=dQ.bind(this),this._onPointerDown=hQ.bind(this),this._onPointerUp=pQ.bind(this),this._onContextMenu=wQ.bind(this),this._onMouseWheel=xQ.bind(this),this._onKeyDown=vQ.bind(this),this._onTouchStart=_Q.bind(this),this._onTouchMove=yQ.bind(this),this._onMouseDown=mQ.bind(this),this._onMouseMove=gQ.bind(this),this._interceptControlDown=bQ.bind(this),this._interceptControlUp=SQ.bind(this),this.domElement!==null&&this.connect(this.domElement),this.update()}connect(e){super.connect(e),this.domElement.addEventListener("pointerdown",this._onPointerDown),this.domElement.addEventListener("pointercancel",this._onPointerUp),this.domElement.addEventListener("contextmenu",this._onContextMenu),this.domElement.addEventListener("wheel",this._onMouseWheel,{passive:!1}),this.domElement.getRootNode().addEventListener("keydown",this._interceptControlDown,{passive:!0,capture:!0}),this.domElement.style.touchAction="none"}disconnect(){this.domElement.removeEventListener("pointerdown",this._onPointerDown),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.domElement.removeEventListener("pointercancel",this._onPointerUp),this.domElement.removeEventListener("wheel",this._onMouseWheel),this.domElement.removeEventListener("contextmenu",this._onContextMenu),this.stopListenToKeyEvents(),this.domElement.getRootNode().removeEventListener("keydown",this._interceptControlDown,{capture:!0}),this.domElement.style.touchAction="auto"}dispose(){this.disconnect()}getPolarAngle(){return this._spherical.phi}getAzimuthalAngle(){return this._spherical.theta}getDistance(){return this.object.position.distanceTo(this.target)}listenToKeyEvents(e){e.addEventListener("keydown",this._onKeyDown),this._domElementKeyEvents=e}stopListenToKeyEvents(){this._domElementKeyEvents!==null&&(this._domElementKeyEvents.removeEventListener("keydown",this._onKeyDown),this._domElementKeyEvents=null)}saveState(){this.target0.copy(this.target),this.position0.copy(this.object.position),this.zoom0=this.object.zoom}reset(){this.target.copy(this.target0),this.object.position.copy(this.position0),this.object.zoom=this.zoom0,this.object.updateProjectionMatrix(),this.dispatchEvent(rM),this.update(),this.state=Mr.NONE}update(e=null){const t=this.object.position;Di.copy(t).sub(this.target),Di.applyQuaternion(this._quat),this._spherical.setFromVector3(Di),this.autoRotate&&this.state===Mr.NONE&&this._rotateLeft(this._getAutoRotationAngle(e)),this.enableDamping?(this._spherical.theta+=this._sphericalDelta.theta*this.dampingFactor,this._spherical.phi+=this._sphericalDelta.phi*this.dampingFactor):(this._spherical.theta+=this._sphericalDelta.theta,this._spherical.phi+=this._sphericalDelta.phi);let r=this.minAzimuthAngle,i=this.maxAzimuthAngle;isFinite(r)&&isFinite(i)&&(r<-Math.PI?r+=Aa:r>Math.PI&&(r-=Aa),i<-Math.PI?i+=Aa:i>Math.PI&&(i-=Aa),r<=i?this._spherical.theta=Math.max(r,Math.min(i,this._spherical.theta)):this._spherical.theta=this._spherical.theta>(r+i)/2?Math.max(r,this._spherical.theta):Math.min(i,this._spherical.theta)),this._spherical.phi=Math.max(this.minPolarAngle,Math.min(this.maxPolarAngle,this._spherical.phi)),this._spherical.makeSafe(),this.enableDamping===!0?this.target.addScaledVector(this._panOffset,this.dampingFactor):this.target.add(this._panOffset),this.target.sub(this.cursor),this.target.clampLength(this.minTargetRadius,this.maxTargetRadius),this.target.add(this.cursor);let s=!1;if(this.zoomToCursor&&this._performCursorZoom||this.object.isOrthographicCamera)this._spherical.radius=this._clampDistance(this._spherical.radius);else{const a=this._spherical.radius;this._spherical.radius=this._clampDistance(this._spherical.radius*this._scale),s=a!=this._spherical.radius}if(Di.setFromSpherical(this._spherical),Di.applyQuaternion(this._quatInverse),t.copy(this.target).add(Di),this.object.lookAt(this.target),this.enableDamping===!0?(this._sphericalDelta.theta*=1-this.dampingFactor,this._sphericalDelta.phi*=1-this.dampingFactor,this._panOffset.multiplyScalar(1-this.dampingFactor)):(this._sphericalDelta.set(0,0,0),this._panOffset.set(0,0,0)),this.zoomToCursor&&this._performCursorZoom){let a=null;if(this.object.isPerspectiveCamera){const o=Di.length();a=this._clampDistance(o*this._scale);const l=o-a;this.object.position.addScaledVector(this._dollyDirection,l),this.object.updateMatrixWorld(),s=!!l}else if(this.object.isOrthographicCamera){const o=new Ze(this._mouse.x,this._mouse.y,0);o.unproject(this.object);const l=this.object.zoom;this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/this._scale)),this.object.updateProjectionMatrix(),s=l!==this.object.zoom;const c=new Ze(this._mouse.x,this._mouse.y,0);c.unproject(this.object),this.object.position.sub(c).add(o),this.object.updateMatrixWorld(),a=Di.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),this.zoomToCursor=!1;a!==null&&(this.screenSpacePanning?this.target.set(0,0,-1).transformDirection(this.object.matrix).multiplyScalar(a).add(this.object.position):(T1.origin.copy(this.object.position),T1.direction.set(0,0,-1).transformDirection(this.object.matrix),Math.abs(this.object.up.dot(T1.direction))<fQ?this.object.lookAt(this.target):(iM.setFromNormalAndCoplanarPoint(this.object.up,this.target),T1.intersectPlane(iM,this.target))))}else if(this.object.isOrthographicCamera){const a=this.object.zoom;this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/this._scale)),a!==this.object.zoom&&(this.object.updateProjectionMatrix(),s=!0)}return this._scale=1,this._performCursorZoom=!1,s||this._lastPosition.distanceToSquared(this.object.position)>V_||8*(1-this._lastQuaternion.dot(this.object.quaternion))>V_||this._lastTargetPosition.distanceToSquared(this.target)>V_?(this.dispatchEvent(rM),this._lastPosition.copy(this.object.position),this._lastQuaternion.copy(this.object.quaternion),this._lastTargetPosition.copy(this.target),!0):!1}_getAutoRotationAngle(e){return e!==null?Aa/60*this.autoRotateSpeed*e:Aa/60/60*this.autoRotateSpeed}_getZoomScale(e){const t=Math.abs(e*.01);return Math.pow(.95,this.zoomSpeed*t)}_rotateLeft(e){this._sphericalDelta.theta-=e}_rotateUp(e){this._sphericalDelta.phi-=e}_panLeft(e,t){Di.setFromMatrixColumn(t,0),Di.multiplyScalar(-e),this._panOffset.add(Di)}_panUp(e,t){this.screenSpacePanning===!0?Di.setFromMatrixColumn(t,1):(Di.setFromMatrixColumn(t,0),Di.crossVectors(this.object.up,Di)),Di.multiplyScalar(e),this._panOffset.add(Di)}_pan(e,t){const r=this.domElement;if(this.object.isPerspectiveCamera){const i=this.object.position;Di.copy(i).sub(this.target);let s=Di.length();s*=Math.tan(this.object.fov/2*Math.PI/180),this._panLeft(2*e*s/r.clientHeight,this.object.matrix),this._panUp(2*t*s/r.clientHeight,this.object.matrix)}else this.object.isOrthographicCamera?(this._panLeft(e*(this.object.right-this.object.left)/this.object.zoom/r.clientWidth,this.object.matrix),this._panUp(t*(this.object.top-this.object.bottom)/this.object.zoom/r.clientHeight,this.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),this.enablePan=!1)}_dollyOut(e){this.object.isPerspectiveCamera||this.object.isOrthographicCamera?this._scale/=e:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)}_dollyIn(e){this.object.isPerspectiveCamera||this.object.isOrthographicCamera?this._scale*=e:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)}_updateZoomParameters(e,t){if(!this.zoomToCursor)return;this._performCursorZoom=!0;const r=this.domElement.getBoundingClientRect(),i=e-r.left,s=t-r.top,a=r.width,o=r.height;this._mouse.x=i/a*2-1,this._mouse.y=-(s/o)*2+1,this._dollyDirection.set(this._mouse.x,this._mouse.y,1).unproject(this.object).sub(this.object.position).normalize()}_clampDistance(e){return Math.max(this.minDistance,Math.min(this.maxDistance,e))}_handleMouseDownRotate(e){this._rotateStart.set(e.clientX,e.clientY)}_handleMouseDownDolly(e){this._updateZoomParameters(e.clientX,e.clientX),this._dollyStart.set(e.clientX,e.clientY)}_handleMouseDownPan(e){this._panStart.set(e.clientX,e.clientY)}_handleMouseMoveRotate(e){this._rotateEnd.set(e.clientX,e.clientY),this._rotateDelta.subVectors(this._rotateEnd,this._rotateStart).multiplyScalar(this.rotateSpeed);const t=this.domElement;this._rotateLeft(Aa*this._rotateDelta.x/t.clientHeight),this._rotateUp(Aa*this._rotateDelta.y/t.clientHeight),this._rotateStart.copy(this._rotateEnd),this.update()}_handleMouseMoveDolly(e){this._dollyEnd.set(e.clientX,e.clientY),this._dollyDelta.subVectors(this._dollyEnd,this._dollyStart),this._dollyDelta.y>0?this._dollyOut(this._getZoomScale(this._dollyDelta.y)):this._dollyDelta.y<0&&this._dollyIn(this._getZoomScale(this._dollyDelta.y)),this._dollyStart.copy(this._dollyEnd),this.update()}_handleMouseMovePan(e){this._panEnd.set(e.clientX,e.clientY),this._panDelta.subVectors(this._panEnd,this._panStart).multiplyScalar(this.panSpeed),this._pan(this._panDelta.x,this._panDelta.y),this._panStart.copy(this._panEnd),this.update()}_handleMouseWheel(e){this._updateZoomParameters(e.clientX,e.clientY),e.deltaY<0?this._dollyIn(this._getZoomScale(e.deltaY)):e.deltaY>0&&this._dollyOut(this._getZoomScale(e.deltaY)),this.update()}_handleKeyDown(e){let t=!1;switch(e.code){case this.keys.UP:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateUp(Aa*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(0,this.keyPanSpeed),t=!0;break;case this.keys.BOTTOM:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateUp(-Aa*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(0,-this.keyPanSpeed),t=!0;break;case this.keys.LEFT:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateLeft(Aa*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(this.keyPanSpeed,0),t=!0;break;case this.keys.RIGHT:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateLeft(-Aa*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(-this.keyPanSpeed,0),t=!0;break}t&&(e.preventDefault(),this.update())}_handleTouchStartRotate(e){if(this._pointers.length===1)this._rotateStart.set(e.pageX,e.pageY);else{const t=this._getSecondPointerPosition(e),r=.5*(e.pageX+t.x),i=.5*(e.pageY+t.y);this._rotateStart.set(r,i)}}_handleTouchStartPan(e){if(this._pointers.length===1)this._panStart.set(e.pageX,e.pageY);else{const t=this._getSecondPointerPosition(e),r=.5*(e.pageX+t.x),i=.5*(e.pageY+t.y);this._panStart.set(r,i)}}_handleTouchStartDolly(e){const t=this._getSecondPointerPosition(e),r=e.pageX-t.x,i=e.pageY-t.y,s=Math.sqrt(r*r+i*i);this._dollyStart.set(0,s)}_handleTouchStartDollyPan(e){this.enableZoom&&this._handleTouchStartDolly(e),this.enablePan&&this._handleTouchStartPan(e)}_handleTouchStartDollyRotate(e){this.enableZoom&&this._handleTouchStartDolly(e),this.enableRotate&&this._handleTouchStartRotate(e)}_handleTouchMoveRotate(e){if(this._pointers.length==1)this._rotateEnd.set(e.pageX,e.pageY);else{const r=this._getSecondPointerPosition(e),i=.5*(e.pageX+r.x),s=.5*(e.pageY+r.y);this._rotateEnd.set(i,s)}this._rotateDelta.subVectors(this._rotateEnd,this._rotateStart).multiplyScalar(this.rotateSpeed);const t=this.domElement;this._rotateLeft(Aa*this._rotateDelta.x/t.clientHeight),this._rotateUp(Aa*this._rotateDelta.y/t.clientHeight),this._rotateStart.copy(this._rotateEnd)}_handleTouchMovePan(e){if(this._pointers.length===1)this._panEnd.set(e.pageX,e.pageY);else{const t=this._getSecondPointerPosition(e),r=.5*(e.pageX+t.x),i=.5*(e.pageY+t.y);this._panEnd.set(r,i)}this._panDelta.subVectors(this._panEnd,this._panStart).multiplyScalar(this.panSpeed),this._pan(this._panDelta.x,this._panDelta.y),this._panStart.copy(this._panEnd)}_handleTouchMoveDolly(e){const t=this._getSecondPointerPosition(e),r=e.pageX-t.x,i=e.pageY-t.y,s=Math.sqrt(r*r+i*i);this._dollyEnd.set(0,s),this._dollyDelta.set(0,Math.pow(this._dollyEnd.y/this._dollyStart.y,this.zoomSpeed)),this._dollyOut(this._dollyDelta.y),this._dollyStart.copy(this._dollyEnd);const a=(e.pageX+t.x)*.5,o=(e.pageY+t.y)*.5;this._updateZoomParameters(a,o)}_handleTouchMoveDollyPan(e){this.enableZoom&&this._handleTouchMoveDolly(e),this.enablePan&&this._handleTouchMovePan(e)}_handleTouchMoveDollyRotate(e){this.enableZoom&&this._handleTouchMoveDolly(e),this.enableRotate&&this._handleTouchMoveRotate(e)}_addPointer(e){this._pointers.push(e.pointerId)}_removePointer(e){delete this._pointerPositions[e.pointerId];for(let t=0;t<this._pointers.length;t++)if(this._pointers[t]==e.pointerId){this._pointers.splice(t,1);return}}_isTrackingPointer(e){for(let t=0;t<this._pointers.length;t++)if(this._pointers[t]==e.pointerId)return!0;return!1}_trackPointer(e){let t=this._pointerPositions[e.pointerId];t===void 0&&(t=new dn,this._pointerPositions[e.pointerId]=t),t.set(e.pageX,e.pageY)}_getSecondPointerPosition(e){const t=e.pointerId===this._pointers[0]?this._pointers[1]:this._pointers[0];return this._pointerPositions[t]}_customWheelEvent(e){const t=e.deltaMode,r={clientX:e.clientX,clientY:e.clientY,deltaY:e.deltaY};switch(t){case 1:r.deltaY*=16;break;case 2:r.deltaY*=100;break}return e.ctrlKey&&!this._controlActive&&(r.deltaY*=10),r}}function hQ(n){this.enabled!==!1&&(this._pointers.length===0&&(this.domElement.setPointerCapture(n.pointerId),this.domElement.addEventListener("pointermove",this._onPointerMove),this.domElement.addEventListener("pointerup",this._onPointerUp)),!this._isTrackingPointer(n)&&(this._addPointer(n),n.pointerType==="touch"?this._onTouchStart(n):this._onMouseDown(n)))}function dQ(n){this.enabled!==!1&&(n.pointerType==="touch"?this._onTouchMove(n):this._onMouseMove(n))}function pQ(n){switch(this._removePointer(n),this._pointers.length){case 0:this.domElement.releasePointerCapture(n.pointerId),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.dispatchEvent(Bk),this.state=Mr.NONE;break;case 1:const e=this._pointers[0],t=this._pointerPositions[e];this._onTouchStart({pointerId:e,pageX:t.x,pageY:t.y});break}}function mQ(n){let e;switch(n.button){case 0:e=this.mouseButtons.LEFT;break;case 1:e=this.mouseButtons.MIDDLE;break;case 2:e=this.mouseButtons.RIGHT;break;default:e=-1}switch(e){case p0.DOLLY:if(this.enableZoom===!1)return;this._handleMouseDownDolly(n),this.state=Mr.DOLLY;break;case p0.ROTATE:if(n.ctrlKey||n.metaKey||n.shiftKey){if(this.enablePan===!1)return;this._handleMouseDownPan(n),this.state=Mr.PAN}else{if(this.enableRotate===!1)return;this._handleMouseDownRotate(n),this.state=Mr.ROTATE}break;case p0.PAN:if(n.ctrlKey||n.metaKey||n.shiftKey){if(this.enableRotate===!1)return;this._handleMouseDownRotate(n),this.state=Mr.ROTATE}else{if(this.enablePan===!1)return;this._handleMouseDownPan(n),this.state=Mr.PAN}break;default:this.state=Mr.NONE}this.state!==Mr.NONE&&this.dispatchEvent(rS)}function gQ(n){switch(this.state){case Mr.ROTATE:if(this.enableRotate===!1)return;this._handleMouseMoveRotate(n);break;case Mr.DOLLY:if(this.enableZoom===!1)return;this._handleMouseMoveDolly(n);break;case Mr.PAN:if(this.enablePan===!1)return;this._handleMouseMovePan(n);break}}function xQ(n){this.enabled===!1||this.enableZoom===!1||this.state!==Mr.NONE||(n.preventDefault(),this.dispatchEvent(rS),this._handleMouseWheel(this._customWheelEvent(n)),this.dispatchEvent(Bk))}function vQ(n){this.enabled!==!1&&this._handleKeyDown(n)}function _Q(n){switch(this._trackPointer(n),this._pointers.length){case 1:switch(this.touches.ONE){case t0.ROTATE:if(this.enableRotate===!1)return;this._handleTouchStartRotate(n),this.state=Mr.TOUCH_ROTATE;break;case t0.PAN:if(this.enablePan===!1)return;this._handleTouchStartPan(n),this.state=Mr.TOUCH_PAN;break;default:this.state=Mr.NONE}break;case 2:switch(this.touches.TWO){case t0.DOLLY_PAN:if(this.enableZoom===!1&&this.enablePan===!1)return;this._handleTouchStartDollyPan(n),this.state=Mr.TOUCH_DOLLY_PAN;break;case t0.DOLLY_ROTATE:if(this.enableZoom===!1&&this.enableRotate===!1)return;this._handleTouchStartDollyRotate(n),this.state=Mr.TOUCH_DOLLY_ROTATE;break;default:this.state=Mr.NONE}break;default:this.state=Mr.NONE}this.state!==Mr.NONE&&this.dispatchEvent(rS)}function yQ(n){switch(this._trackPointer(n),this.state){case Mr.TOUCH_ROTATE:if(this.enableRotate===!1)return;this._handleTouchMoveRotate(n),this.update();break;case Mr.TOUCH_PAN:if(this.enablePan===!1)return;this._handleTouchMovePan(n),this.update();break;case Mr.TOUCH_DOLLY_PAN:if(this.enableZoom===!1&&this.enablePan===!1)return;this._handleTouchMoveDollyPan(n),this.update();break;case Mr.TOUCH_DOLLY_ROTATE:if(this.enableZoom===!1&&this.enableRotate===!1)return;this._handleTouchMoveDollyRotate(n),this.update();break;default:this.state=Mr.NONE}}function wQ(n){this.enabled!==!1&&n.preventDefault()}function bQ(n){n.key==="Control"&&(this._controlActive=!0,this.domElement.getRootNode().addEventListener("keyup",this._interceptControlUp,{passive:!0,capture:!0}))}function SQ(n){n.key==="Control"&&(this._controlActive=!1,this.domElement.getRootNode().removeEventListener("keyup",this._interceptControlUp,{passive:!0,capture:!0}))}const EQ=[{label:"2D Charts",options:[{label:"Bar Chart",value:"bar"},{label:"Line Chart",value:"line"},{label:"Pie Chart",value:"pie"},{label:"Scatter Plot",value:"scatter"}]},{label:"3D Charts",options:[{label:"3D Column Chart",value:"3d-column"},{label:"3D Bar Chart",value:"3d-bar"},{label:"3D Pie Chart",value:"3d-pie"},{label:"3D Scatter Plot",value:"3d-scatter"}]}],AQ=()=>{var Je;const n=Yc(),e=Ef(),t=Fn(q=>q.upload.uploads||[]),r=Fn(q=>q.localHistory?q.localHistory.savedCharts:[]),i=Fn(q=>q.auth.user),s=Fn(q=>q.adminSettings.settings.themeMode),a=Fn(q=>{var Re,je;return(je=(Re=q.userSettings)==null?void 0:Re.settings)==null?void 0:je.themeMode}),o=i&&i.role==="admin"?s:a||"white",[l,c]=xt.useState(0),[f,d]=xt.useState(""),[p,m]=xt.useState("bar"),[_,x]=xt.useState(""),[g,y]=xt.useState(""),[A,E]=xt.useState(null),[M,D]=xt.useState([]),U=q=>{D(Re=>Re.includes(q)?Re.filter(je=>je!==q):[...Re,q])};xt.useEffect(()=>{n(Th())},[n]),xt.useEffect(()=>{e.state&&typeof e.state.selectedUploadIndex=="number"&&c(e.state.selectedUploadIndex)},[e.state]);const L=t.length>0?((Je=t[l])==null?void 0:Je.data)||[]:[],I=L.length>0?Object.keys(L[0]):[],R=["rgba(255, 99, 132, 0.6)","rgba(54, 162, 235, 0.6)","rgba(255, 206, 86, 0.6)","rgba(75, 192, 192, 0.6)","rgba(153, 102, 255, 0.6)","rgba(255, 159, 64, 0.6)","rgba(199, 199, 199, 0.6)","rgba(83, 102, 255, 0.6)","rgba(255, 99, 255, 0.6)","rgba(99, 255, 132, 0.6)"],O=["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)","rgba(199, 199, 199, 1)","rgba(83, 102, 255, 1)","rgba(255, 99, 255, 1)","rgba(99, 255, 132, 1)"],N=uh.useRef(null),k=uh.useRef(null),j=uh.useRef(null),G=uh.useRef(null),ae=uh.useRef(null),ie=()=>{ae.current&&cancelAnimationFrame(ae.current),k.current&&(k.current.dispose(),k.current.domElement&&k.current.domElement.parentNode&&k.current.domElement.parentNode.removeChild(k.current.domElement),k.current=null),j.current&&(j.current.traverse(q=>{q.geometry&&q.geometry.dispose(),q.material&&(Array.isArray(q.material)?q.material.forEach(Re=>Re.dispose()):q.material.dispose())}),j.current=null),G.current=null,ue.current&&(document.body.removeChild(ue.current),ue.current=null)},ue=uh.useRef(null),J=(q,Re,je)=>{if(!ue.current){const Ve=document.createElement("div");Ve.style.position="fixed",Ve.style.pointerEvents="none",Ve.style.background="rgba(0,0,0,0.8)",Ve.style.color="white",Ve.style.padding="6px 12px",Ve.style.borderRadius="6px",Ve.style.fontSize="14px",Ve.style.zIndex=1e4,document.body.appendChild(Ve),ue.current=Ve}ue.current.style.left=`${q+10}px`,ue.current.style.top=`${Re+10}px`,ue.current.innerText=je,ue.current.style.display="block"},X=()=>{ue.current&&(ue.current.style.display="none")},pe=()=>{k.current&&j.current&&G.current&&(k.current.render(j.current,G.current),ae.current=requestAnimationFrame(pe))},oe=(q,Re=20)=>{const je=new ix({color:16720418,linewidth:4}),Ve=new ix({color:2276130,linewidth:4}),Ie=new ix({color:2237183,linewidth:4}),Ke=[new Ze(0,0,0),new Ze(Re,0,0)],Et=[new Ze(0,0,0),new Ze(0,Re,0)],ce=[new Ze(0,0,0),new Ze(0,0,Re)],Y=new D_(new Na().setFromPoints(Ke),je),Ne=new D_(new Na().setFromPoints(Et),Ve),$e=new D_(new Na().setFromPoints(ce),Ie);q.add(Y),q.add(Ne),q.add($e);const Qe=(Xe,wt)=>{const We=document.createElement("canvas");We.width=256,We.height=64;const Ct=We.getContext("2d");Ct.font="bold 36px Arial",Ct.fillStyle=wt,Ct.textBaseline="middle",Ct.textAlign="center",Ct.fillText(Xe,We.width/2,We.height/2);const Pt=new b$(We),Ht=new Pk({map:Pt}),It=new _$(Ht);return It.scale.set(6,1.5,1),It},He=Qe("X","#b80000");He.position.set(Re+1,0,0),q.add(He);const ht=Qe("Y","#008800");ht.position.set(0,Re+1,0),q.add(ht);const Ye=Qe("Z","#0000b8");Ye.position.set(0,0,Re+1),q.add(Ye)},C=(q,Re=40)=>{const je=new Bm(Re,Re),Ve=new bp({color:15790320,side:zl}),Ie=new Ca(je,Ve);Ie.rotation.x=-Math.PI/2,Ie.position.y=-.01,q.add(Ie)},W=()=>{ie();const q=N.current.clientWidth,Re=N.current.clientHeight,je=new h1;j.current=je;const Ve=new aa(45,q/Re,.1,1e3);Ve.position.set(0,20,40),G.current=Ve;const Ie=new A1({antialias:!0,alpha:!0});Ie.setSize(q,Re),N.current.appendChild(Ie.domElement),k.current=Ie;const Ke=new M1(Ve,Ie.domElement);Ke.enableDamping=!0,Ke.dampingFactor=.1,Ke.enablePan=!0,Ke.enableZoom=!0,Ke.minDistance=10,Ke.maxDistance=100;const Et=new y1(16777215,.7);je.add(Et);const ce=new _1(16777215,1);ce.position.set(10,20,10),je.add(ce),oe(je,18),C(je,40);const Y=L.length,Ne=Math.max(...L.map(wt=>Number(wt[g]))),$e=1,Qe=.5,He=[];L.forEach((wt,We)=>{const Ct=Number(wt[g])/Ne*15,Pt=new jh($e,.01,$e),Ht=new kn(R[We%R.length]),It=new bp({color:Ht}),Bt=new Ca(Pt,It);Bt.position.set(We*($e+Qe)-Y*($e+Qe)/2,.01/2,0),Bt.userData={label:wt[_],value:wt[g]},je.add(Bt),He.push({mesh:Bt,targetHeight:Ct})});const ht=()=>{let wt=!0;He.forEach(({mesh:We,targetHeight:Ct})=>{We.scale.y*Ct||We.geometry.parameters.height,We.scale.y<1&&(We.scale.y+=.08,We.scale.y>1&&(We.scale.y=1),We.position.y=We.scale.y*Ct/2,wt=!1)}),Ie.render(je,Ve),Ke.update(),wt?pe():requestAnimationFrame(ht)};He.forEach(({mesh:wt})=>{wt.scale.y=.01}),ht();const Ye=new w1,Xe=new dn;Ie.domElement.addEventListener("mousemove",wt=>{const We=Ie.domElement.getBoundingClientRect();Xe.x=(wt.clientX-We.left)/We.width*2-1,Xe.y=-((wt.clientY-We.top)/We.height)*2+1,Ye.setFromCamera(Xe,Ve);const Ct=Ye.intersectObjects(He.map(Pt=>Pt.mesh));if(Ct.length>0){const Pt=Ct[0].object;J(wt.clientX,wt.clientY,`${Pt.userData.label}: ${Pt.userData.value}`),Pt.material.emissive.setHex(3355443)}else X(),He.forEach(({mesh:Pt})=>Pt.material.emissive.setHex(0))}),Ie.domElement.addEventListener("mouseleave",X)},z=()=>{ie();const q=N.current.clientWidth,Re=N.current.clientHeight,je=new h1;j.current=je;const Ve=new aa(45,q/Re,.1,1e3);Ve.position.set(40,20,0),Ve.lookAt(0,0,0),G.current=Ve;const Ie=new A1({antialias:!0,alpha:!0});Ie.setSize(q,Re),N.current.appendChild(Ie.domElement),k.current=Ie;const Ke=new M1(Ve,Ie.domElement);Ke.enableDamping=!0,Ke.dampingFactor=.1,Ke.enablePan=!0,Ke.enableZoom=!0,Ke.minDistance=10,Ke.maxDistance=100;const Et=new y1(16777215,.7);je.add(Et);const ce=new _1(16777215,1);ce.position.set(10,20,10),je.add(ce),oe(je,18),C(je,40);const Y=L.length,Ne=Math.max(...L.map(wt=>Number(wt[g]))),$e=1,Qe=.5,He=[];L.forEach((wt,We)=>{const Ct=Number(wt[g])/Ne*15,Pt=new jh(.01,$e,$e),Ht=new kn(R[We%R.length]),It=new bp({color:Ht}),Bt=new Ca(Pt,It);Bt.position.set(.01/2-Ne*15/2,We*($e+Qe)-Y*($e+Qe)/2,0),Bt.userData={label:wt[_],value:wt[g]},je.add(Bt),He.push({mesh:Bt,targetLength:Ct})});const ht=()=>{let wt=!0;He.forEach(({mesh:We,targetLength:Ct})=>{We.scale.x<1&&(We.scale.x+=.08,We.scale.x>1&&(We.scale.x=1),We.position.x=We.scale.x*Ct/2-Ne*15/2,wt=!1)}),Ie.render(je,Ve),Ke.update(),wt?pe():requestAnimationFrame(ht)};He.forEach(({mesh:wt})=>{wt.scale.x=.01}),ht();const Ye=new w1,Xe=new dn;Ie.domElement.addEventListener("mousemove",wt=>{const We=Ie.domElement.getBoundingClientRect();Xe.x=(wt.clientX-We.left)/We.width*2-1,Xe.y=-((wt.clientY-We.top)/We.height)*2+1,Ye.setFromCamera(Xe,Ve);const Ct=Ye.intersectObjects(He.map(Pt=>Pt.mesh));if(Ct.length>0){const Pt=Ct[0].object;J(wt.clientX,wt.clientY,`${Pt.userData.label}: ${Pt.userData.value}`),Pt.material.emissive.setHex(3355443)}else X(),He.forEach(({mesh:Pt})=>Pt.material.emissive.setHex(0))}),Ie.domElement.addEventListener("mouseleave",X)},V=()=>{ie();const q=N.current.clientWidth,Re=N.current.clientHeight,je=new h1;j.current=je;const Ve=new aa(45,q/Re,.1,1e3);Ve.position.set(0,20,40),G.current=Ve;const Ie=new A1({antialias:!0,alpha:!0});Ie.setSize(q,Re),N.current.appendChild(Ie.domElement),k.current=Ie;const Ke=new M1(Ve,Ie.domElement);Ke.enableDamping=!0,Ke.dampingFactor=.1,Ke.enablePan=!0,Ke.enableZoom=!0,Ke.minDistance=10,Ke.maxDistance=100;const Et=new y1(16777215,.7);je.add(Et);const ce=new _1(16777215,1);ce.position.set(10,20,10),je.add(ce),oe(je,18),C(je,40);const Y=L.reduce((He,ht)=>He+Number(ht[g]),0);let Ne=0;L.forEach((He,ht)=>{const Xe=Number(He[g])/Y*Math.PI*2,wt=new eS(0,10,2,32,1,!1,Ne,Xe),We=new kn(R[ht%R.length]),Ct=new bp({color:We}),Pt=new Ca(wt,Ct);Pt.rotation.x=Math.PI/2,Pt.userData={label:He[_],value:He[g]},je.add(Pt),Ne+=Xe});const $e=new w1,Qe=new dn;Ie.domElement.addEventListener("mousemove",He=>{const ht=Ie.domElement.getBoundingClientRect();Qe.x=(He.clientX-ht.left)/ht.width*2-1,Qe.y=-((He.clientY-ht.top)/ht.height)*2+1,$e.setFromCamera(Qe,Ve);const Ye=$e.intersectObjects(je.children.filter(Xe=>Xe.type==="Mesh"));if(Ye.length>0){const Xe=Ye[0].object;J(He.clientX,He.clientY,`${Xe.userData.label}: ${Xe.userData.value}`),Xe.material.emissive.setHex(3355443)}else X(),je.children.forEach(Xe=>{Xe.material&&Xe.material.emissive&&Xe.material.emissive.setHex(0)})}),Ie.domElement.addEventListener("mouseleave",X),pe()},ee=()=>{ie();const q=N.current.clientWidth,Re=N.current.clientHeight,je=new h1;j.current=je;const Ve=new aa(45,q/Re,.1,1e3);Ve.position.set(0,20,40),G.current=Ve;const Ie=new A1({antialias:!0,alpha:!0});Ie.setSize(q,Re),N.current.appendChild(Ie.domElement),k.current=Ie;const Ke=new M1(Ve,Ie.domElement);Ke.enableDamping=!0,Ke.dampingFactor=.1,Ke.enablePan=!0,Ke.enableZoom=!0,Ke.minDistance=10,Ke.maxDistance=100;const Et=new y1(16777215,.7);je.add(Et);const ce=new _1(16777215,1);ce.position.set(10,20,10),je.add(ce),oe(je,18),C(je,40);const Y=I.find(Qe=>Qe!==_&&Qe!==g)||I[0];L.forEach((Qe,He)=>{const ht=Number(Qe[_]),Ye=Number(Qe[g]),Xe=Number(Qe[Y]),wt=new tS(.6,16,16),We=new kn(R[He%R.length]),Ct=new bp({color:We}),Pt=new Ca(wt,Ct);Pt.position.set(ht,Ye,Xe),Pt.userData={label:`${_}: ${ht}, ${g}: ${Ye}, ${Y}: ${Xe}`},je.add(Pt)});const Ne=new w1,$e=new dn;Ie.domElement.addEventListener("mousemove",Qe=>{const He=Ie.domElement.getBoundingClientRect();$e.x=(Qe.clientX-He.left)/He.width*2-1,$e.y=-((Qe.clientY-He.top)/He.height)*2+1,Ne.setFromCamera($e,Ve);const ht=Ne.intersectObjects(je.children.filter(Ye=>Ye.type==="Mesh"));if(ht.length>0){const Ye=ht[0].object;J(Qe.clientX,Qe.clientY,Ye.userData.label),Ye.material.emissive.setHex(3355443)}else X(),je.children.forEach(Ye=>{Ye.material&&Ye.material.emissive&&Ye.material.emissive.setHex(0)})}),Ie.domElement.addEventListener("mouseleave",X),pe()},[de,ve]=xt.useState(!1),[we,Ce]=xt.useState(null),lt=async()=>{var Ve,Ie;if(!f||!p||!_||!g){alert("Please fill all fields before saving");return}const q=L,Re=f||"saved";let je=null;if(p==="3d-column"||p==="3d-bar"||p==="3d-pie"||p==="3d-scatter")k.current&&(await new Promise(Ke=>requestAnimationFrame(Ke)),je=k.current.domElement.toDataURL("image/png"));else{const Ke=document.getElementById("chartCanvas");je=Ke?Ke.toDataURL("image/png"):null}ve(!0),Ce(null);try{await n(N1({fileName:((Ve=t[l])==null?void 0:Ve.filename)||"",title:Re,chartType:p,xAxis:_,yAxis:g,data:q,chartImage:je})).unwrap(),n(tq({fileName:((Ie=t[l])==null?void 0:Ie.filename)||"",title:Re,chartType:p,xAxis:_,yAxis:g,data:q,chartImage:je})),alert("Chart saved successfully"),await n(Th())}catch(Ke){Ce(Ke||"Failed to save chart")}finally{ve(!1)}},he=()=>{if(p.startsWith("3d-")){if(!k.current||!j.current||!G.current){alert("Please generate a chart first");return}const q=k.current;let Re;try{Re=q.getClearColor()?q.getClearColor().clone():new kn("#fff")}catch{Re=new kn("#fff")}const je=q.getClearAlpha?q.getClearAlpha():1,Ve=j.current.background;q.setClearColor("#fff",1),j.current.background=new kn("#fff"),q.clear(),q.render(j.current,G.current);const Ie=document.createElement("a");Ie.download=`${f||"chart"}.png`,Ie.href=q.domElement.toDataURL("image/png"),Ie.click(),q.setClearColor(Re,je),j.current.background=Ve,q.render(j.current,G.current)}else{if(!A){alert("Please generate a chart first");return}const q=document.getElementById("chartCanvas");if(!q)return;const Re=q.getContext("2d"),je=Re.getImageData(0,0,q.width,q.height);Re.save(),Re.globalCompositeOperation="destination-over",Re.fillStyle="#fff",Re.fillRect(0,0,q.width,q.height),Re.restore();const Ve=document.createElement("a");Ve.download=`${f||"chart"}.png`,Ve.href=q.toDataURL("image/png"),Ve.click(),Re.clearRect(0,0,q.width,q.height),Re.putImageData(je,0,0)}},mt=()=>{if(p.startsWith("3d-")){if(!k.current||!j.current||!G.current){alert("Please generate a chart first");return}const q=k.current;let Re;try{Re=q.getClearColor()?q.getClearColor().clone():new kn("#fff")}catch{Re=new kn("#fff")}const je=q.getClearAlpha?q.getClearAlpha():1,Ve=j.current.background;q.setClearColor("#fff",1),j.current.background=new kn("#fff"),q.clear(),q.render(j.current,G.current);const Ie=q.domElement.toDataURL("image/png"),Ke=new gn,Et=Ke.getImageProperties(Ie),ce=Ke.internal.pageSize.getWidth(),Y=Et.height*ce/Et.width;Ke.addImage(Ie,"PNG",0,0,ce,Y),Ke.save(`${f||"chart"}.pdf`),q.setClearColor(Re,je),j.current.background=Ve,q.render(j.current,G.current)}else{if(!A){alert("Please generate a chart first");return}const q=document.getElementById("chartCanvas");if(!q)return;const Re=q.getContext("2d"),je=Re.getImageData(0,0,q.width,q.height);Re.save(),Re.globalCompositeOperation="destination-over",Re.fillStyle="#fff",Re.fillRect(0,0,q.width,q.height),Re.restore();const Ve=q.toDataURL("image/png"),Ie=new gn,Ke=Ie.getImageProperties(Ve),Et=Ie.internal.pageSize.getWidth(),ce=Ke.height*Et/Ke.width;Ie.addImage(Ve,"PNG",0,0,Et,ce),Ie.save(`${f||"chart"}.pdf`),Re.clearRect(0,0,q.width,q.height),Re.putImageData(je,0,0)}},ye=()=>{if(!f||!p||!_||!g){alert("Please fill all fields");return}if(p==="3d-column"){N.current&&(N.current.style.display="block");const q=document.getElementById("chartCanvas");q&&(q.style.display="none"),W(),E(null);return}else if(p==="3d-bar"){N.current&&(N.current.style.display="block");const q=document.getElementById("chartCanvas");q&&(q.style.display="none"),z(),E(null);return}else if(p==="3d-pie"){N.current&&(N.current.style.display="block");const q=document.getElementById("chartCanvas");q&&(q.style.display="none"),V(),E(null);return}else if(p==="3d-scatter"){N.current&&(N.current.style.display="block");const q=document.getElementById("chartCanvas");q&&(q.style.display="none"),ee(),E(null);return}else{N.current&&(N.current.style.display="none");const q=document.getElementById("chartCanvas");q&&(q.style.display="block");const Re=q.getContext("2d");A&&A.destroy();const je=L.length,Ve=[],Ie=[];if(p==="line"||p==="scatter")Ve.push(R[0]),Ie.push(O[0]);else for(let ce=0;ce<je;ce++)Ve.push(R[ce%R.length]),Ie.push(O[ce%O.length]);const Ke={labels:L.map(ce=>ce[_]),datasets:[{label:g,data:L.map(ce=>ce[g]),backgroundColor:p==="pie"||p==="doughnut"||p==="bar"?Ve:p==="line"||p==="scatter"?Ve[0]:"rgba(54, 162, 235, 0.6)",borderColor:p==="pie"||p==="doughnut"||p==="bar"?Ie:p==="line"||p==="scatter"?Ie[0]:"rgba(54, 162, 235, 1)",borderWidth:1,fill:p!=="line",pointBackgroundColor:p==="scatter"?Ve[0]:void 0,pointBorderColor:p==="scatter"?Ie[0]:void 0}]},Et=new Oc(Re,{type:p,data:Ke,options:{responsive:!0,maintainAspectRatio:!1,aspectRatio:2.5,animation:{duration:0},layout:{padding:{top:0,bottom:0,left:0,right:0}},plugins:{legend:{display:!0},title:{display:!0,text:f}},scales:{x:{ticks:{color:o==="dark"?"white":"black"},grid:{color:o==="dark"?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)"}},y:{ticks:{color:o==="dark"?"white":"black"},grid:{color:o==="dark"?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)"}}}},onResize:ce=>{ce.canvas.style.height="900px",ce.canvas.style.width="100%",ce.resize()}});E(Et)}};return me.jsxs("div",{className:`flex flex-col md:flex-row space-y-6 md:space-y-0 md:space-x-6 p-6 min-h-screen ${o==="dark"?"bg-gray-900 text-white":o==="creative"?"bg-gradient-to-r from-purple-500 to-pink-500 text-white":"bg-white text-black"}`,style:{height:"100vh"},children:[me.jsx(zP,{}),me.jsxs("div",{className:"flex-1 flex flex-col md:flex-row space-y-6 md:space-y-0 md:space-x-6",style:{height:"100%"},children:[me.jsxs("div",{className:`md:w-1/3 rounded-lg shadow-lg flex flex-col ${o==="dark"?"bg-gray-800":o==="creative"?"bg-purple-700 bg-opacity-80":"bg-white"}`,style:{padding:"1.5rem"},children:[me.jsx("h2",{className:"text-2xl font-extrabold mb-6 text-gray-800",children:"Create a New Chart"}),me.jsx("select",{className:"w-full border border-gray-300 rounded-md p-3 mb-5 focus:outline-none focus:ring-2 focus:ring-blue-500",value:l,onChange:q=>c(Number(q.target.value)),children:t.map((q,Re)=>me.jsx("option",{value:Re,children:q.filename},q._id))}),me.jsx("input",{type:"text",placeholder:"Enter chart title",className:"w-full border border-gray-300 rounded-md p-3 mb-5 focus:outline-none focus:ring-2 focus:ring-blue-500",value:f,onChange:q=>d(q.target.value)}),me.jsx("select",{className:"w-full border border-gray-300 rounded-md p-3 mb-5 focus:outline-none focus:ring-2 focus:ring-blue-500",value:p,onChange:q=>m(q.target.value),children:EQ.map(q=>q.options?me.jsx("optgroup",{label:q.label,children:q.options.map(Re=>me.jsx("option",{value:Re.value,children:Re.label},Re.value))},q.label):me.jsx("option",{value:q.value,children:q.label},q.value))}),me.jsxs("select",{className:"w-full border border-gray-300 rounded-md p-3 mb-5 focus:outline-none focus:ring-2 focus:ring-blue-500",value:_,onChange:q=>x(q.target.value),children:[me.jsx("option",{value:"",children:"Select X-Axis Column"}),I.map(q=>me.jsx("option",{value:q,children:q},q))]}),me.jsxs("select",{className:"w-full border border-gray-300 rounded-md p-3 mb-5 focus:outline-none focus:ring-2 focus:ring-blue-500",value:g,onChange:q=>y(q.target.value),children:[me.jsx("option",{value:"",children:"Select Y-Axis Column"}),I.map(q=>me.jsx("option",{value:q,children:q},q))]}),me.jsx("button",{className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-3 rounded-md mb-5 transition duration-300",onClick:ye,children:"Generate Chart"}),me.jsx("button",{className:"w-full bg-green-600 hover:bg-green-700 text-white py-3 rounded-md mb-5 transition duration-300",onClick:lt,disabled:de,children:de?"Saving...":"Save Analysis"}),me.jsx("button",{className:"w-full bg-purple-600 hover:bg-purple-700 text-white py-3 rounded-md mb-5 transition duration-300",onClick:he,children:"Download as PNG"}),me.jsx("button",{className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white py-3 rounded-md transition duration-300",onClick:mt,children:"Download as PDF"}),we&&me.jsx("p",{className:"text-red-600 mt-3",children:typeof we=="string"?we:we.message})]}),me.jsxs("div",{className:`md:w-2/3 rounded-lg shadow-lg overflow-hidden flex flex-col ${o==="dark"?"bg-gray-800":o==="creative"?"bg-purple-700 bg-opacity-80":"bg-white"}`,style:{height:"auto",maxHeight:"calc(100vh - 3rem)",minHeight:"calc(100vh - 3rem)"},children:[me.jsxs("div",{className:"flex-1 w-full flex justify-center items-start",style:{minHeight:0,height:"100%"},children:[me.jsx("canvas",{id:"chartCanvas",className:"w-full h-full",style:{display:p==="3d-column"||p==="3d-bar"?"none":"block",height:"100%",width:"100%",maxHeight:"100%",maxWidth:"100%"}}),me.jsx("div",{ref:N,style:{width:"100%",height:"100%",display:p==="3d-column"||p==="3d-bar"?"block":"none"}})]}),r.length===0?me.jsx(me.Fragment,{}):me.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map((q,Re)=>me.jsxs("div",{className:`border rounded-lg p-4 shadow hover:shadow-lg transition duration-300 ${M.includes(q._id)?"ring-4 ring-red-400":""}`,children:[me.jsxs("label",{className:"flex items-center mb-2 cursor-pointer select-none",children:[me.jsx("input",{type:"checkbox",checked:M.includes(q._id),onChange:()=>U(q._id),className:"mr-2"}),me.jsx("strong",{className:"block text-lg font-bold mb-2",children:q.title})]}),me.jsx("p",{className:"mb-2 text-gray-700",children:q.chartType}),q.chartImage&&me.jsx("img",{src:q.chartImage,alt:q.title,className:"w-full h-48 object-contain rounded"})]},Re))})]})]})]})},TQ=()=>{const n=Yc(),e=Fn(k=>{var j;return((j=k.upload)==null?void 0:j.uploads)||[]}),t=Fn(k=>{var j;return(j=k.upload)==null?void 0:j.loading}),r=Fn(k=>{var j;return(j=k.upload)==null?void 0:j.error}),i=Fn(k=>k.chart.loading),s=Fn(k=>k.chart.error),a=Fn(k=>{var j;return((j=k.chart)==null?void 0:j.charts)||[]}),o=Fn(k=>k.auth.user),l=Fn(k=>{var j,G;return(G=(j=k.adminSettings)==null?void 0:j.settings)==null?void 0:G.themeMode}),c=Fn(k=>{var j,G;return(G=(j=k.userSettings)==null?void 0:j.settings)==null?void 0:G.themeMode}),f=o&&o.role==="admin"?l:c||"white",[d,p]=xt.useState([]),[m,_]=xt.useState([]),[x,g]=xt.useState(null);xt.useEffect(()=>{n(Ip()),n(Th())},[n]);const y=k=>k.replace(/\s+/g,"_").replace(/[^\w-]/g,""),A=k=>{if(!k.chartImage){alert("No chart image available to download.");return}const j=y(k.title||"chart"),G=y(k.chartType||"type"),ae=y(k.xAxis||"xaxis"),ie=y(k.yAxis||"yaxis"),ue=`${j}_${G}_${ae}_${ie}.png`,J=document.createElement("canvas"),X=J.getContext("2d"),pe=new Image;pe.crossOrigin="anonymous",pe.src=k.chartImage,pe.onload=()=>{J.width=pe.width,J.height=pe.height+80,X.fillStyle="#FFFFFF",X.fillRect(0,0,J.width,J.height),X.drawImage(pe,0,80),X.fillStyle="#FF0000",X.font="16px Arial",X.textBaseline="top",X.fillText(`Title: ${k.title||""}`,10,10),X.fillText(`Chart Type: ${k.chartType||""}`,10,30),X.fillText(`X-Axis: ${k.xAxis||""}`,10,50),X.fillText(`Y-Axis: ${k.yAxis||""}`,10,70);const C=document.createElement("a");C.download=ue,C.href=J.toDataURL("image/png"),C.click()}},E=k=>{if(!k.chartImage){alert("No chart image available to download.");return}const j=y(k.title||"chart"),G=y(k.chartType||"type"),ae=y(k.xAxis||"xaxis"),ie=y(k.yAxis||"yaxis"),ue=`${j}_${G}_${ae}_${ie}.pdf`,J=new gn;J.setFontSize(12),J.setTextColor(255,0,0),J.text(`Title: ${k.title||""}`,10,10),J.text(`Chart Type: ${k.chartType||""}`,10,20),J.text(`X-Axis: ${k.xAxis||""}`,10,30),J.text(`Y-Axis: ${k.yAxis||""}`,10,40),J.addImage(k.chartImage,"PNG",10,50,180,100),J.save(ue)},M=k=>{x!==null&&g(null),p(j=>j.includes(k)?j.filter(G=>G!==k):[...j,k])},D=()=>{if(d.length===0){alert("Please select at least one chart to delete.");return}x!==null&&g(null),d.forEach(k=>{n(F1(k))}),p([])},U=k=>{_(j=>j.includes(k)?j.filter(G=>G!==k):[...j,k])},L=()=>{if(m.length===0){alert("Please select at least one upload to delete.");return}m.forEach(k=>{n(Op(k))}),_([])},I=k=>{g(k)},R=()=>{g(null)},O=k=>{k.stopPropagation(),g(j=>j===0?a.length-1:j-1)},N=k=>{k.stopPropagation(),g(j=>j===a.length-1?0:j+1)};return me.jsxs("div",{className:`p-6 ${f==="dark"?"bg-gray-900 text-white":"bg-white text-black"}`,children:[me.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Upload History"}),r&&me.jsx("p",{className:"text-red-600",children:r}),s&&me.jsx("p",{className:"text-red-600",children:s}),t?me.jsx("p",{children:"Loading..."}):me.jsxs(me.Fragment,{children:[me.jsx(iC,{uploads:e,selectedUploads:m,toggleSelectUpload:U,handleDeleteSelectedUploads:L}),me.jsxs("h2",{className:"text-2xl font-semibold mt-8 mb-4 flex items-center justify-between",children:["Saved Charts History",me.jsx("button",{onClick:D,disabled:d.length===0,className:`ml-4 py-1 px-2 rounded text-white ${d.length===0?"bg-gray-400 cursor-not-allowed":"bg-red-600 hover:bg-red-700"}`,children:"Delete Selected"})]}),i?me.jsx("p",{children:"Loading saved charts..."}):a.length===0?me.jsx("p",{children:"No saved charts available."}):me.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map((k,j)=>me.jsxs("div",{className:`border rounded-lg p-4 shadow hover:shadow-lg transition duration-300 cursor-pointer ${d.includes(k._id)?"ring-4 ring-red-400":""}`,onClick:()=>I(j),children:[me.jsxs("label",{className:"flex items-center mb-2 cursor-pointer select-none",children:[me.jsx("input",{type:"checkbox",checked:d.includes(k._id),onChange:G=>{G.stopPropagation(),M(k._id)},className:"mr-2"}),me.jsx("strong",{className:"mt-2 max-h-48 overflow-auto text-xs bg-gray-100 p-2 rounded",children:k.title})]}),me.jsxs("p",{className:"mb-2",children:["File Name: ",k.fileName]}),me.jsxs("p",{className:"mb-2",children:["Chart Type: ",k.chartType]}),me.jsxs("p",{className:"mb-2",children:["X-Axis: ",k.xAxis]}),me.jsxs("p",{className:"mb-2",children:["Y-Axis: ",k.yAxis]}),k.chartImage&&me.jsx("img",{src:k.chartImage,alt:k.title,className:"w-full h-48 object-contain rounded"}),k.data&&me.jsx("pre",{className:"mt-2 max-h-48 overflow-auto text-xs bg-gray-100 p-2 rounded",children:JSON.stringify(k.data,null,2)}),me.jsxs("div",{className:"mt-4 flex space-x-2",children:[me.jsx("button",{onClick:G=>{G.stopPropagation(),A(k)},className:"bg-purple-600 hover:bg-purple-700 text-white py-2 px-4 rounded",children:"Download as PNG"}),me.jsx("button",{onClick:G=>{G.stopPropagation(),E(k)},className:"bg-indigo-600 hover:bg-indigo-700 text-white py-2 px-4 rounded",children:"Download as PDF"})]})]},k._id))}),x!==null&&me.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50",onClick:R,children:me.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-lg p-6 max-w-4xl w-full max-h-full overflow-auto relative",onClick:k=>k.stopPropagation(),children:[me.jsx("h2",{className:"text-2xl font-bold mb-4",children:a[x].title}),me.jsxs("p",{children:["File Name: ",a[x].fileName]}),me.jsxs("p",{children:["Chart Type: ",a[x].chartType]}),me.jsxs("p",{children:["X-Axis: ",a[x].xAxis]}),me.jsxs("p",{children:["Y-Axis: ",a[x].yAxis]}),a[x].chartImage&&me.jsx("img",{src:a[x].chartImage,alt:a[x].title,className:"w-full h-64 object-contain rounded"}),a[x].data&&me.jsx("pre",{className:"mt-2 max-h-48 overflow-auto text-xs bg-gray-100 p-2 rounded",children:JSON.stringify(a[x].data,null,2)}),me.jsxs("div",{className:"flex justify-between mt-6",children:[me.jsx("button",{onClick:O,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Previous"}),me.jsx("button",{onClick:N,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Next"}),me.jsx("button",{onClick:R,className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700",children:"Close"})]})]})})]})]})},MQ=()=>{const n=Yc(),e=Fn(f=>f.adminSettings||{}),t=(e==null?void 0:e.loading)||!1,r=(e==null?void 0:e.error)||null,i=(e==null?void 0:e.updateSuccess)||!1,[s,a]=xt.useState({}),o=xt.useMemo(()=>(e==null?void 0:e.settings)||{},[e==null?void 0:e.settings]);xt.useEffect(()=>{n(D1())},[n]),xt.useEffect(()=>{a(o)},[o]),xt.useEffect(()=>{i&&(alert("Settings saved successfully"),n(CF()))},[i,n]);const l=f=>{f.preventDefault(),n(I1(s))};if(t)return me.jsx("p",{children:"Loading settings..."});if(r)return me.jsx("p",{className:"text-red-500",children:r});const c=s.themeMode||"white";return me.jsxs("div",{className:"p-6 max-w-4xl mx-auto admin-theme",style:c==="dark"?{color:"white",WebkitTextFillColor:"white",backgroundColor:"#1f2937"}:{},children:[me.jsx("h1",{className:"text-3xl font-bold mb-6",style:c==="dark"?{color:"white"}:{},children:"Admin Settings"}),me.jsxs("form",{onSubmit:l,className:"space-y-4",style:c==="dark"?{color:"white"}:{},children:[me.jsxs("div",{children:[me.jsx("label",{className:"font-medium block mb-2",children:"Theme Mode"}),me.jsxs("div",{className:"space-y-2",children:[me.jsxs("div",{className:"flex items-center space-x-3",children:[me.jsx("label",{htmlFor:"white-black",className:"ml-2",children:"White and Black Mode"}),me.jsxs("label",{className:"switch",children:[me.jsx("input",{type:"radio",id:"white-black",name:"themeMode",checked:(s.themeMode||"white-black")==="white-black",onChange:()=>{a(f=>({...f,themeMode:"white-black"}))}}),me.jsx("span",{className:"slider round"})]})]}),me.jsxs("div",{className:"flex items-center space-x-3",children:[me.jsx("label",{htmlFor:"dark",className:"ml-2",children:"Dark Mode"}),me.jsxs("label",{className:"switch",children:[me.jsx("input",{type:"radio",id:"dark",name:"themeMode",checked:s.themeMode==="dark",onChange:()=>{a(f=>({...f,themeMode:"dark"}))}}),me.jsx("span",{className:"slider round"})]})]})]})]}),me.jsx("button",{type:"submit",disabled:t,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50",children:t?"Saving...":"Save Settings"})]}),me.jsx("style",{jsx:!0,children:`
        .switch {
          position: relative;
          display: inline-block;
          width: 50px;
          height: 24px;
        }

        .switch input {
          opacity: 0;
          width: 0;
          height: 0;
        }

        .slider {
          position: absolute;
          cursor: pointer;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background-color: #ccc;
          transition: 0.4s;
          border-radius: 24px;
        }

        .slider:before {
          position: absolute;
          content: "";
          height: 18px;
          width: 18px;
          left: 3px;
          bottom: 3px;
          background-color: white;
          transition: 0.4s;
          border-radius: 50%;
        }

        input:checked + .slider {
          background-color: #4ade80; /* green */
        }

        input:checked + .slider:before {
          transform: translateX(26px);
        }
      `})]})},CQ=()=>{const n=Yc(),{settings:e,loading:t,error:r,updateSuccess:i}=Fn(c=>c.userSettings),[s,a]=xt.useState({}),o=s.themeMode||"white";xt.useEffect(()=>{n(O1())},[n]),xt.useEffect(()=>{a(e)},[e]),xt.useEffect(()=>{i&&(alert("Settings saved successfully"),n(RF()))},[i,n]);const l=c=>{c.preventDefault(),n(U1(s))};return t?me.jsx("p",{children:"Loading settings..."}):r?me.jsx("p",{className:"text-red-500",children:r.message||r.toString()}):me.jsxs("div",{className:`p-6 max-w-4xl mx-auto ${o==="dark"?"dark-theme":""}`,style:o==="dark"?{color:"white",WebkitTextFillColor:"white"}:{},children:[me.jsx("h1",{className:"text-3xl font-bold mb-6",style:o==="dark"?{color:"white"}:{},children:"User Settings"}),me.jsxs("form",{onSubmit:l,className:"space-y-4",children:[me.jsxs("div",{children:[me.jsx("label",{className:"font-medium block mb-2",children:"Theme Mode"}),me.jsxs("div",{className:"space-y-2",children:[me.jsxs("div",{className:"flex items-center space-x-3",children:[me.jsx("label",{htmlFor:"white-black",className:"ml-2",children:"White and Black Mode"}),me.jsxs("label",{className:"switch",children:[me.jsx("input",{type:"radio",id:"white-black",name:"themeMode",checked:(s.themeMode||"white-black")==="white-black",onChange:()=>{a(c=>({...c,themeMode:"white-black"}))}}),me.jsx("span",{className:"slider round"})]})]}),me.jsxs("div",{className:"flex items-center space-x-3",children:[me.jsx("label",{htmlFor:"dark",className:"ml-2",children:"Dark Mode"}),me.jsxs("label",{className:"switch",children:[me.jsx("input",{type:"radio",id:"dark",name:"themeMode",checked:s.themeMode==="dark",onChange:()=>{a(c=>({...c,themeMode:"dark"}))}}),me.jsx("span",{className:"slider round"})]})]})]})]}),me.jsx("button",{type:"submit",disabled:t,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50",children:t?"Saving...":"Save Settings"})]}),me.jsx("style",{jsx:!0,children:`
        .switch {
          position: relative;
          display: inline-block;
          width: 50px;
          height: 24px;
        }

        .switch input {
          opacity: 0;
          width: 0;
          height: 0;
        }

        .slider {
          position: absolute;
          cursor: pointer;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background-color: #ccc;
          transition: 0.4s;
          border-radius: 24px;
        }

        .slider:before {
          position: absolute;
          content: "";
          height: 18px;
          width: 18px;
          left: 3px;
          bottom: 3px;
          background-color: white;
          transition: 0.4s;
          border-radius: 50%;
        }

        input:checked + .slider {
          background-color: #4ade80; /* green */
        }

        input:checked + .slider:before {
          transform: translateX(26px);
        }
      `})]})},PQ=()=>{const n=Fn(l=>l.auth.user),e=Yc(),t=Cm(),[r,i]=xt.useState(!1),s=xt.useRef(null),a=()=>{e(yF()),t("/login")},o=()=>{i(l=>!l)};return xt.useEffect(()=>{const l=c=>{s.current&&!s.current.contains(c.target)&&i(!1)};return document.addEventListener("mousedown",l),()=>{document.removeEventListener("mousedown",l)}},[]),n?me.jsxs("div",{className:"relative self-start mb-4 mr-4",ref:s,children:[me.jsxs("button",{onClick:o,className:"flex items-center space-x-2 p-2 rounded hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-400 bg-blue-600 text-white",children:[me.jsx("img",{src:`https://ui-avatars.com/api/?name=${encodeURIComponent(n.username)}&background=2b6cb0&color=fff&size=32`,alt:"Profile",className:"rounded-full w-8 h-8"}),me.jsx("span",{className:"hidden sm:inline text-white",children:n.username}),me.jsx("svg",{className:`w-4 h-4 transition-transform duration-200 ${r?"transform rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:me.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),r&&me.jsx("div",{className:"absolute right-0 mt-2 w-40 bg-blue-600 rounded shadow-lg z-30",children:me.jsx("button",{onClick:a,className:"block w-full text-left px-4 py-2 text-white hover:bg-blue-700",children:"Logout"})})]}):null},kQ=({data:n,summary:e})=>!n||n.length===0?null:me.jsxs("div",{children:[me.jsx(sC,{data:n}),e&&me.jsxs("div",{className:"mt-4 p-4 bg-gray-100 rounded shadow",children:[me.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Summary"}),me.jsx("p",{children:e})]})]}),RQ=()=>{const[n,e]=xt.useState(null),[t,r]=xt.useState(""),[i,s]=xt.useState(!1),[a,o]=xt.useState(""),l=async c=>{const f=c.target.files[0];if(!f)return;s(!0),o(""),e(null),r("");const d=new FormData;d.append("file",f);try{const p=await fetch("/api/upload",{method:"POST",body:d,credentials:"include"});if(!p.ok)throw new Error("Failed to upload file");const m=await p.json();m.upload?(e(m.upload.data),r(m.upload.summary)):o("No upload data received")}catch(p){o(p.message||"Error uploading file")}finally{s(!1)}};return me.jsxs("div",{children:[me.jsx("input",{type:"file",accept:".xlsx,.xls",onChange:l}),i&&me.jsx("p",{children:"Loading..."}),a&&me.jsx("p",{className:"text-red-500",children:a}),n&&me.jsx(kQ,{data:n,summary:t})]})},LQ=({children:n})=>{const e=Ef(),t=Fn(m=>m.auth.user),r=Fn(m=>{var _,x;return(x=(_=m.adminSettings)==null?void 0:_.settings)==null?void 0:x.themeMode}),i=Fn(m=>{var _,x;return(x=(_=m.userSettings)==null?void 0:_.settings)==null?void 0:x.themeMode}),[s,a]=xt.useState(!1),l=t&&!["/","/login","/register"].includes(e.pathname),f=["/","/login","/register"].includes(e.pathname);let d="";t&&t.role==="admin"?r==="dark"?d="dark-theme":r==="creative"?d="creative-theme":d="":i==="dark"?d="dark-theme":i==="creative"?d="creative-theme":d="";const p=()=>{a(!s)};return me.jsxs("div",{className:`flex min-h-screen flex-col ${d}`,children:[me.jsx("div",{className:"fixed top-0 right-0 z-50 m-4",children:me.jsx(PQ,{})}),me.jsxs("div",{className:"flex flex-grow min-h-screen",children:[l&&me.jsxs(me.Fragment,{children:[me.jsx("button",{className:"md:hidden fixed top-4 left-4 z-60 p-2 rounded bg-gray-700 text-white focus:outline-none",onClick:p,"aria-label":"Toggle navigation menu",children:me.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:me.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),me.jsx("div",{className:`${s?"block":"hidden"} md:block`,children:me.jsx(zP,{})})]}),me.jsx("main",{className:l?`flex-grow p-6 ${s?"ml-64":"ml-0"} md:ml-64`:f?"flex-grow m-0 p-0 pt-0":"flex-grow p-0 pt-0",children:n})]})]})};function NQ(){const n=Fn(t=>t.auth.user),e=({children:t})=>n?n.role!=="admin"?me.jsx(Dc,{to:"/dashboard",replace:!0}):t:me.jsx(Dc,{to:"/login",replace:!0});return me.jsx(kD,{children:me.jsx(LQ,{children:me.jsxs(bD,{children:[me.jsx(_o,{path:"/",element:me.jsx(zD,{})}),me.jsx(_o,{path:"/login",element:me.jsx(ID,{})}),me.jsx(_o,{path:"/register",element:me.jsx(UD,{})}),me.jsx(_o,{path:"/dashboard",element:n?me.jsx(ZG,{}):me.jsx(Dc,{to:"/login",replace:!0})}),me.jsx(_o,{path:"/charts",element:n?me.jsx(AQ,{}):me.jsx(Dc,{to:"/login",replace:!0})}),me.jsx(_o,{path:"/history",element:n?me.jsx(TQ,{}):me.jsx(Dc,{to:"/login",replace:!0})}),me.jsx(_o,{path:"/admin",element:me.jsx(e,{children:me.jsx(HD,{})})}),me.jsx(_o,{path:"/user-list",element:me.jsx(e,{children:me.jsx(s4,{})})}),me.jsx(_o,{path:"/settings",element:me.jsx(e,{children:me.jsx(MQ,{})})}),me.jsx(_o,{path:"/user-settings",element:n?me.jsx(CQ,{}):me.jsx(Dc,{to:"/login",replace:!0})}),me.jsx(_o,{path:"/excel-upload",element:me.jsx(RQ,{})})]})})})}kR.createRoot(document.getElementById("root")).render(me.jsx(xt.StrictMode,{children:me.jsx(QR,{store:NF,children:me.jsx(NQ,{})})}));export{pL as _,DQ as c,wR as g};
